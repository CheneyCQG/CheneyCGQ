<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Javaé¢è¯•å®å…¸'>
<title>Javaé¢è¯•å®å…¸</title>

<link rel='canonical' href='https://cheneycqg.github.io/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/'>

<link rel="stylesheet" href="/scss/style.min.83fdf04f357d6c514ee15e600463b045549e8b40c428f14454adecaa742b352f.css"><meta property='og:title' content='Javaé¢è¯•å®å…¸'>
<meta property='og:description' content='Javaé¢è¯•å®å…¸'>
<meta property='og:url' content='https://cheneycqg.github.io/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/'>
<meta property='og:site_name' content='Cheney Site'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='java' /><meta property='article:tag' content='é¢è¯•é¢˜' /><meta property='article:published_time' content='2023-08-22T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2023-08-22T00:00:00&#43;00:00'/><meta property='og:image' content='https://cheneycqg.github.io/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/1.jpg' />
<meta name="twitter:title" content="Javaé¢è¯•å®å…¸">
<meta name="twitter:description" content="Javaé¢è¯•å®å…¸"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://cheneycqg.github.io/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/1.jpg' />
    <link rel="shortcut icon" href="/img/avatar.jpg" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu8558358a36cd5b5f5be6e79535866837_28999_300x0_resize_q75_box.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Cheney Site</a></h1>
            <h2 class="site-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://cheneycqg.github.io/zh-cn/" >ä¸­æ–‡</option>
                        
                            <option value="https://cheneycqg.github.io/ar/" >Ø¹Ø±Ø¨ÙŠ</option>
                        
                            <option value="https://cheneycqg.github.io/" selected></option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#ä¸€javaåŸºç¡€">ä¸€ï¼JavaåŸºç¡€</a>
      <ul>
        <li><a href="#11-é‡è½½å’Œé‡å†™çš„åŒºåˆ«äº†è§£">1.1 é‡è½½å’Œé‡å†™çš„åŒºåˆ«ï¼ˆäº†è§£ï¼‰</a></li>
        <li><a href="#12-stringå’Œstringbufferstringbuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆstring"><strong>1.2 Stringå’ŒStringBuffer,StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸString</strong></a></li>
        <li><a href="#13-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±äº†è§£">1.3 è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±(äº†è§£)</a></li>
        <li><a href="#14-ä¸equalså¿…ä¼š">1.4 ==ä¸equals(å¿…ä¼š)</a></li>
        <li><a href="#15-å…³äºfinalå…³é”®å­—çš„ä¸€äº›æ€»ç»“å¿…ä¼š">1.5 å…³äºfinalå…³é”®å­—çš„ä¸€äº›æ€»ç»“(å¿…ä¼š)</a></li>
        <li><a href="#16-javaä¸­çš„å¼‚å¸¸å¤„ç†äº†è§£">1.6 Javaä¸­çš„å¼‚å¸¸å¤„ç†(äº†è§£)</a></li>
        <li><a href="#17-errorå’Œexceptionçš„åŒºåˆ«äº†è§£">1.7 errorå’Œexceptionçš„åŒºåˆ«?(äº†è§£)</a></li>
        <li><a href="#18-æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå¿…ä¼š">1.8 æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ(å¿…ä¼š)</a></li>
        <li><a href="#19-ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼æœ‰å‡ ç§å¿…ä¼š">1.9 ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿæœ‰å‡ ç§ï¼Ÿ(å¿…ä¼š)</a></li>
        <li><a href="#110-æ‰‹å†™å†’æ³¡æ’åºå¿…ä¼š">1.10 æ‰‹å†™å†’æ³¡æ’åºï¼Ÿ(å¿…ä¼š)</a></li>
        <li><a href="#111-bionioaio-æœ‰ä»€ä¹ˆåŒºåˆ«äº†è§£">1.11 BIOã€NIOã€AIO æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ(äº†è§£)</a></li>
        <li><a href="#1-12-å¸¸è§çš„æ•°æ®ç»“æ„æœ‰å“ªäº›äº†è§£">1 12 å¸¸è§çš„æ•°æ®ç»“æ„æœ‰å“ªäº›ï¼Ÿ(äº†è§£)</a></li>
        <li><a href="#113-javaé›†åˆä½“ç³»æœ‰ä»€ä¹ˆå¿…ä¼š">1.13 Javaé›†åˆä½“ç³»æœ‰ä»€ä¹ˆ?(å¿…ä¼š)</a></li>
        <li><a href="#114-listçš„ä¸‰ä¸ªå­ç±»çš„ç‰¹ç‚¹å¿…ä¼š">1.14 Listçš„ä¸‰ä¸ªå­ç±»çš„ç‰¹ç‚¹(å¿…ä¼š)</a></li>
        <li><a href="#115-listå’Œmapsetçš„åŒºåˆ«å¿…ä¼š">1.15 Listå’ŒMapã€Setçš„åŒºåˆ«(å¿…ä¼š)</a></li>
        <li><a href="#116-hashmapåº•å±‚å®ç°åŸç†å¿…ä¼š">1.16 HashMapåº•å±‚å®ç°åŸç†(å¿…ä¼š)</a></li>
        <li><a href="#117-è°ˆä¸€ä¸‹-hashmap-ä¸­ä»€ä¹ˆæ—¶å€™éœ€è¦è¿›è¡Œæ‰©å®¹æ‰©å®¹-resizeåˆæ˜¯å¦‚ä½•å®ç°çš„é«˜è–ªå¸¸é—®"><strong>1.17 è°ˆä¸€ä¸‹ hashMap ä¸­ä»€ä¹ˆæ—¶å€™éœ€è¦è¿›è¡Œæ‰©å®¹ï¼Œæ‰©å®¹ resize()åˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ(é«˜è–ªå¸¸é—®)</strong></a></li>
        <li><a href="#118-concurrenthashmapç‰¹ç‚¹é«˜è–ªå¸¸é—®">1.18 ConcurrentHashMapç‰¹ç‚¹(é«˜è–ªå¸¸é—®)</a></li>
        <li><a href="#119-hashtableäº†è§£">1.19 HashTable(äº†è§£)</a></li>
        <li><a href="#120-hashmap-å’Œhashtableæœ‰ä»€ä¹ˆåŒºåˆ«å¿…ä¼š">1.20 HashMap å’ŒHashTableæœ‰ä»€ä¹ˆåŒºåˆ«?(å¿…ä¼š)</a></li>
        <li><a href="#1-21-hashmaphashtableconcurrenthashmapä¹‹é—´çš„åŒºåˆ«åŠæ€§èƒ½å¯¹æ¯”å¿…ä¼š"><strong>1. 21 HashMapï¼ŒHashTableï¼ŒConcurrentHashMapä¹‹é—´çš„åŒºåˆ«ï¼ŒåŠæ€§èƒ½å¯¹æ¯”(å¿…ä¼š)</strong></a></li>
        <li><a href="#1-23-åˆ›å»ºçº¿ç¨‹æœ‰å‡ ç§æ–¹å¼å¿…ä¼š">1 23 åˆ›å»ºçº¿ç¨‹æœ‰å‡ ç§æ–¹å¼(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#1-24-çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•æœ‰ä»€ä¹ˆå¿…ä¼š">1 24 çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•æœ‰ä»€ä¹ˆ?(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#1-25-åœ¨java-ä¸­waitå’Œsleep-æ–¹æ³•çš„ä¸åŒå¿…ä¼š">1 25 åœ¨java ä¸­waitå’Œsleep æ–¹æ³•çš„ä¸åŒï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#1-26-çº¿ç¨‹æ± åŸç†é«˜è–ªå¸¸é—®">1 26 çº¿ç¨‹æ± åŸç†(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#1-27-çº¿ç¨‹æ‰§è¡Œçš„é¡ºåºé«˜è–ªå¸¸é—®">1 27 çº¿ç¨‹æ‰§è¡Œçš„é¡ºåº(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#1-28-çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›é«˜è–ªå¸¸é—®">1 28 çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#1-29-æ­»é”äº§ç”Ÿçš„æ¡ä»¶ä»¥åŠå¦‚ä½•é¿å…é«˜è–ªå¸¸é—®">1 29 æ­»é”äº§ç”Ÿçš„æ¡ä»¶ä»¥åŠå¦‚ä½•é¿å…ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#1-30-jvmæ˜¯ä»€ä¹ˆjvmçš„åŸºæœ¬ç»“æ„é«˜è–ªå¸¸é—®">1 30 JVMæ˜¯ä»€ä¹ˆï¼ŸJVMçš„åŸºæœ¬ç»“æ„(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#1-31-jvmå†…å­˜ç»“æ„é«˜è–ªå¸¸é—®">1 31 JVMå†…å­˜ç»“æ„(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#1-32-ç±»çš„åŠ è½½ç±»åŠ è½½å™¨çš„ç§ç±»-ç±»åŠ è½½æœºåˆ¶é«˜è–ªå¸¸é—®">1 32 ç±»çš„åŠ è½½,ç±»åŠ è½½å™¨çš„ç§ç±», ç±»åŠ è½½æœºåˆ¶(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#1-33-ä»€ä¹ˆæ˜¯gcé«˜è–ªå¸¸é—®">1 33 ä»€ä¹ˆæ˜¯GC(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#1-34-jvmè°ƒä¼˜çš„å·¥å…·æœ‰å“ªäº›é«˜è–ªå¸¸é—®">1 34 JVMè°ƒä¼˜çš„å·¥å…·æœ‰å“ªäº›ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#1-35-å¸¸ç”¨çš„jvmè°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›é«˜è–ªå¸¸é—®">1 35 å¸¸ç”¨çš„JVMè°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
      </ul>
    </li>
    <li><a href="#äºŒjavaweb">äºŒï¼JavaWeb&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#2-1-jdbcæŠ€æœ¯">2 1 JDBCæŠ€æœ¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-1-ç½‘è·¯é€šè®¯éƒ¨åˆ†">3 1 ç½‘è·¯é€šè®¯éƒ¨åˆ†&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#4-1-cookieå’Œsessionå¿…ä¼š">4 1 Cookieå’ŒSession(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-1-jspå’Œservlet">5 1 Jspå’ŒServlet&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#6-1-ajax">6 1 Ajax&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
      </ul>
    </li>
    <li><a href="#ä¸‰æ•°æ®åº“">ä¸‰ï¼æ•°æ®åº“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a>
      <ul>
        <li><a href="#3-1-sql-ä¹‹è¿æ¥æŸ¥è¯¢å¿…ä¼š">3 1 SQL ä¹‹è¿æ¥æŸ¥è¯¢(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#3-2-sql-ä¹‹èšåˆå‡½æ•°å¿…ä¼š">3 2 SQL ä¹‹èšåˆå‡½æ•°(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#3-3-sqlä¹‹sql-æ³¨å…¥å¿…ä¼š">3 3 SQLä¹‹SQL æ³¨å…¥(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#3-4-sqlselectè¯­å¥å®Œæ•´çš„æ‰§è¡Œé¡ºåºå¿…ä¼š">3 4 SQLSelectè¯­å¥å®Œæ•´çš„æ‰§è¡Œé¡ºåº:(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#3-5-å­˜å‚¨å¼•æ“é«˜è–ªå¸¸é—®">3 5 å­˜å‚¨å¼•æ“ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#3-6-ç´¢å¼•é«˜è–ªå¸¸é—®">3 6 ç´¢å¼•ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-7-ç´¢å¼•åŸç†äº†è§£">3 7 ç´¢å¼•åŸç†ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#3-8-æ•°æ®åº“ä¸‰èŒƒå¼å¿…ä¼š">3 8 æ•°æ®åº“ä¸‰èŒƒå¼(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-9-æ•°æ®åº“äº‹åŠ¡å¿…ä¼š">3 9 æ•°æ®åº“äº‹åŠ¡(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#3-10-å­˜å‚¨è¿‡ç¨‹é«˜è–ªå¸¸é—®">3 10 å­˜å‚¨è¿‡ç¨‹ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#3-11-æ•°æ®åº“å¹¶å‘ç­–ç•¥é«˜è–ªå¸¸é—®">3 11 æ•°æ®åº“å¹¶å‘ç­–ç•¥ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#3-12-è§¦å‘å™¨é«˜è–ªå¸¸é—®">3 12 è§¦å‘å™¨ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-13-æ•°æ®åº“é”é«˜è–ªå¸¸é—®">3 13 æ•°æ®åº“é”ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#3-14-åŸºäº-redisåˆ†å¸ƒå¼é”é«˜è–ªå¸¸é—®">3 14 åŸºäº Redisåˆ†å¸ƒå¼é”ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-15-åˆ†åŒºåˆ†è¡¨é«˜è–ªå¸¸é—®">3 15 åˆ†åŒºåˆ†è¡¨ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#3-17-mysql-è¯»å†™åˆ†ç¦»é«˜è–ªå¸¸é—®">3 17 MySQL è¯»å†™åˆ†ç¦»ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-18-mysql-å¸¸ç”¨-15-ç§sqlæŸ¥è¯¢è¯­å¥ä¼˜åŒ–æ–¹æ³•å¿…ä¼š">3 18 MySQL å¸¸ç”¨ 15 ç§SQLæŸ¥è¯¢è¯­å¥ä¼˜åŒ–æ–¹æ³•(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-19-æ•°æ®åº“ä¼˜åŒ–æ–¹æ¡ˆæ•´ç†é«˜è–ªå¸¸é—®">3 19 æ•°æ®åº“ä¼˜åŒ–æ–¹æ¡ˆæ•´ç†ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#3-20-oracleå’Œmysqlçš„åˆ†é¡µè¯­å¥å¿…ä¼š">3 20 oracleå’Œmysqlçš„åˆ†é¡µè¯­å¥ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
      </ul>
    </li>
    <li><a href="#å››mybatisæ¡†æ¶">å››.Mybatisæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a>
      <ul>
        <li><a href="#4-1-ä»€ä¹ˆæ˜¯mybatiså¿…ä¼š">4 1 ä»€ä¹ˆæ˜¯Mybatisï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#4-2-mybaitsçš„ä¼˜ç‚¹äº†è§£">4 2 Mybaitsçš„ä¼˜ç‚¹ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#4-3-mybatisä¸hibernateæœ‰å“ªäº›ä¸åŒå¿…ä¼š">4 3 MyBatisä¸Hibernateæœ‰å“ªäº›ä¸åŒï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#4-4-å’Œçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå¿…ä¼š">4 4 #{}å’Œ${}çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#4-5-mybatisæ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„åˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆå¿…ä¼š">4 5 Mybatisæ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#4-6-mybatisåŠ¨æ€sqlæœ‰ä»€ä¹ˆç”¨æ‰§è¡ŒåŸç†æœ‰å“ªäº›åŠ¨æ€sqlæ ‡ç­¾å¿…ä¼š">4 6 MybatisåŠ¨æ€SQLæœ‰ä»€ä¹ˆç”¨ï¼Ÿæ‰§è¡ŒåŸç†ï¼Ÿæœ‰å“ªäº›åŠ¨æ€sqlæ ‡ç­¾ï¼Ÿ(å¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#4-8-mybatiså®ç°ä¸€å¯¹ä¸€æœ‰å‡ ç§æ–¹å¼å…·ä½“æ€ä¹ˆæ“ä½œçš„å¿…ä¼š">4 8 MyBatiså®ç°ä¸€å¯¹ä¸€æœ‰å‡ ç§æ–¹å¼?å…·ä½“æ€ä¹ˆæ“ä½œçš„ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#4-9-mybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½å¦‚æœæ”¯æŒå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆå¿…ä¼š">4 9 Mybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#4-10-mybatisçš„ä¸€çº§äºŒçº§ç¼“å­˜å¿…ä¼š">4 10 Mybatisçš„ä¸€çº§.äºŒçº§ç¼“å­˜ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
      </ul>
    </li>
    <li><a href="#äº”springæ¡†æ¶">äº”ï¼Springæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#5-1-springæ˜¯ä»€ä¹ˆäº†è§£">5 1 Springæ˜¯ä»€ä¹ˆ?(äº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-2-springçš„aopç†è§£å¿…ä¼š">5 2 Springçš„AOPç†è§£ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#5-3-springçš„iocç†è§£å¿…ä¼š">5 3 Springçš„IOCç†è§£ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#5-4-beanfactoryå’Œapplicationcontextæœ‰ä»€ä¹ˆåŒºåˆ«äº†è§£">5 4 BeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#5-5-è¯·è§£é‡Šspringbeançš„ç”Ÿå‘½å‘¨æœŸå¿…ä¼š">5 5 è¯·è§£é‡ŠSpringBeançš„ç”Ÿå‘½å‘¨æœŸï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#5-6-è§£é‡Šspringæ”¯æŒçš„å‡ ç§beançš„ä½œç”¨åŸŸå¿…ä¼š">5 6 è§£é‡ŠSpringæ”¯æŒçš„å‡ ç§beançš„ä½œç”¨åŸŸã€‚ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-7-springå¸¸è§çš„æ³¨è§£å¿…ä¼š">5 7 springå¸¸è§çš„æ³¨è§£ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-8-springæ¡†æ¶ä¸­çš„å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹ˆäº†è§£">5 8 Springæ¡†æ¶ä¸­çš„å•ä¾‹Beansæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹ˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#5-9-springå¦‚ä½•å¤„ç†çº¿ç¨‹å¹¶å‘é—®é¢˜å¿…ä¼š">5 9 Springå¦‚ä½•å¤„ç†çº¿ç¨‹å¹¶å‘é—®é¢˜ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-10-springåŸºäºxmlæ³¨å…¥beançš„å‡ ç§æ–¹å¼å¿…ä¼š">5 10 SpringåŸºäºxmlæ³¨å…¥beançš„å‡ ç§æ–¹å¼ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-11-springæ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼é«˜è–ªå¿…é—®">5 11 Springæ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿï¼ˆé«˜è–ªå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-12-springäº‹åŠ¡çš„å®ç°æ–¹å¼å’Œå®ç°åŸç†é«˜è–ªå¿…é—®">5 12 Springäº‹åŠ¡çš„å®ç°æ–¹å¼å’Œå®ç°åŸç†ï¼ˆé«˜è–ªå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#5-13-è§£é‡Šä¸€ä¸‹springaopé‡Œé¢çš„å‡ ä¸ªåè¯äº†è§£">5 13 è§£é‡Šä¸€ä¸‹SpringAOPé‡Œé¢çš„å‡ ä¸ªåè¯ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#5-14-springé€šçŸ¥æœ‰å“ªäº›ç±»å‹äº†è§£">5 14 Springé€šçŸ¥æœ‰å“ªäº›ç±»å‹ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
      </ul>
    </li>
    <li><a href="#å…­springmvcæ¡†æ¶">å…­ï¼SpringMVCæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#6-1-ä»€ä¹ˆæ˜¯springmvcç®€å•ä»‹ç»ä¸‹ä½ å¯¹springmvcçš„ç†è§£äº†è§£">6 1 ä»€ä¹ˆæ˜¯SpringMVCï¼Ÿç®€å•ä»‹ç»ä¸‹ä½ å¯¹SpringMVCçš„ç†è§£?ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#6-2-springmvcçš„æµç¨‹å¿…ä¼š">6 2 SpringMVCçš„æµç¨‹ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#6-3-springmvcçš„ä¸»è¦ç»„ä»¶å¿…ä¼š">6 3 SpringMVCçš„ä¸»è¦ç»„ä»¶ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#6-4-springmvcå’Œstruts-2-çš„åŒºåˆ«æœ‰å“ªäº›å¿…é—®">6 4 SpringMVCå’ŒStruts 2 çš„åŒºåˆ«æœ‰å“ªäº›?ï¼ˆå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#6-5-springmvcæ€ä¹ˆå’Œajaxç›¸äº’è°ƒç”¨çš„å¿…ä¼š">6 5 SpringMVCæ€ä¹ˆå’ŒAjaxç›¸äº’è°ƒç”¨çš„ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#6-6-å¦‚ä½•è§£å†³postè¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜getçš„åˆå¦‚ä½•å¤„ç†å‘¢äº†è§£">6 6 å¦‚ä½•è§£å†³Postè¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜ï¼ŒGetçš„åˆå¦‚ä½•å¤„ç†å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#6-7-springmvcå¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›å¿…é—®">6 7 SpringMVCå¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿï¼ˆå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#6-8-springmvcé‡Œé¢æ‹¦æˆªå™¨æ˜¯æ€ä¹ˆå†™çš„äº†è§£">6 8 SpringMVCé‡Œé¢æ‹¦æˆªå™¨æ˜¯æ€ä¹ˆå†™çš„ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
      </ul>
    </li>
    <li><a href="#ä¸ƒsaasé¡¹ç›®">ä¸ƒï¼Saasé¡¹ç›®&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a>
      <ul>
        <li><a href="#7-1-ä»‹ç»è¯æœ¯">7 1 ä»‹ç»è¯æœ¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-2-åè¯ä¸æ¦‚å¿µ">7 2 åè¯ä¸æ¦‚å¿µ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-3-è´§è¿ç®¡ç†ä¸šåŠ¡è®²è§£">7 3 è´§è¿ç®¡ç†ä¸šåŠ¡è®²è§£ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-4-å¼€å‘ç¯å¢ƒä¸æŠ€æœ¯">7 4 å¼€å‘ç¯å¢ƒä¸æŠ€æœ¯ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-5-é¡¹ç›®äº®ç‚¹è®¾è®¡">7 5 é¡¹ç›®äº®ç‚¹è®¾è®¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-6-é¡¹ç›®æŠ€æœ¯ä¸ä¸šåŠ¡">7 6 é¡¹ç›®æŠ€æœ¯ä¸ä¸šåŠ¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-7-dubbo">7 7 Dubbo&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-8-zookeeper">7 8 Zookeeper&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-9-poi">7 9 POI&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-9-3-excelæŠ¥è¡¨å¯¼å‡ºæµç¨‹">7 9 3 ExcelæŠ¥è¡¨å¯¼å‡ºæµç¨‹ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-9-4-ç™¾ä¸‡çº§æ•°æ®å¯¼å‡º">7 9 4 ç™¾ä¸‡çº§æ•°æ®å¯¼å‡º&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
      </ul>
    </li>
    <li><a href="#7-10-webserviceæŠ€æœ¯ä½¿ç”¨">7 10 WebServiceæŠ€æœ¯ä½¿ç”¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#7-10-1-æŠ€æœ¯æè¿°">7 10 1 æŠ€æœ¯æè¿°&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-10-2-é¢è¯•é—®é¢˜æ±‡æ€»">7 10 2 é¢è¯•é—®é¢˜æ±‡æ€»ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-10-3-webserviceçš„ä¸‰å¤§è§„èŒƒæ˜¯ä»€ä¹ˆ">7 10 3 webServiceçš„ä¸‰å¤§è§„èŒƒæ˜¯ä»€ä¹ˆï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-10-4-é™¤äº†webserviceè¿˜æœ‰ä»€ä¹ˆæŠ€æœ¯å¯ä»¥å®ç°å†…éƒ¨ç¨‹åºè°ƒç”¨å…¶ä»–ç½‘ç«™æœåŠ¡">7 10 4 é™¤äº†webServiceï¼Œè¿˜æœ‰ä»€ä¹ˆæŠ€æœ¯å¯ä»¥å®ç°å†…éƒ¨ç¨‹åºè°ƒç”¨å…¶ä»–ç½‘ç«™æœåŠ¡ï¼Ÿ&hellip;</a></li>
        <li><a href="#7-10-5-å¦‚ä½•ä»¥javaçš„å½¢å¼å¯åŠ¨å½“å‰webåº”ç”¨">7 10 5 å¦‚ä½•ä»¥JAVAçš„å½¢å¼å¯åŠ¨å½“å‰webåº”ç”¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-10-6-è¿œç¨‹é€šä¿¡çš„å‡ ç§é€‰æ‹©rpcwebservicermijmsçš„åŒºåˆ«">7 10 6 è¿œç¨‹é€šä¿¡çš„å‡ ç§é€‰æ‹©ï¼ˆRPCï¼ŒWebserviceï¼ŒRMIï¼ŒJMSçš„åŒºåˆ«ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-10-7-åœ¨é¡¹ç›®ä¸­å¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›">7 10 7 åœ¨é¡¹ç›®ä¸­å¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-10-8-webserviceçš„ä¸‰è¦ç´ æ˜¯ä»€ä¹ˆ">7 10 8 webServiceçš„ä¸‰è¦ç´ æ˜¯ä»€ä¹ˆï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-10-9-é¡¹ç›®ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨cxfè¿›è¡Œå¤–éƒ¨æ¥å£è°ƒç”¨çš„">7 10 9 é¡¹ç›®ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨CXFè¿›è¡Œå¤–éƒ¨æ¥å£è°ƒç”¨çš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
      </ul>
    </li>
    <li><a href="#7-11-echartsåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨">7 11 echartsåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
    <li><a href="#7-12-quartzçš„åº”ç”¨">7 12 Quartzçš„åº”ç”¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
    <li><a href="#7-13-pdfå¯¼å‡º">7 13 PDFå¯¼å‡º&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
    <li><a href="#7-14-rabbitmq">7 14 RabbitMQ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a>
      <ul>
        <li><a href="#7-14-1-ä»€ä¹ˆæ˜¯rabbitmq">7 14 1 ä»€ä¹ˆæ˜¯RabbitMQï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-14-2-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨rabbitmqrabbitæœ‰ä»€ä¹ˆä¼˜ç‚¹">7 14 2 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨RabbitMQï¼ŸRabbitæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-14-3-rabbitmqæœ‰ä»€ä¹ˆç¼ºç‚¹">7 14 3 RabbitMQæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-14-4-rabbitmqçš„å·¥ä½œæ¨¡å¼">7 14 4 RabbitMQçš„å·¥ä½œæ¨¡å¼ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-14-5-å¦‚ä½•ä¿è¯rabbitmqé«˜å¯ç”¨">7 14 5 å¦‚ä½•ä¿è¯RabbitMQé«˜å¯ç”¨ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-14-6-å¦‚ä½•ä¿è¯rabbitmqæ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹">7 14 6 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-14-7-å¦‚ä½•ä¿è¯rabbitmqæ¶ˆæ¯å¯é ä¼ è¾“">7 14 7 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯å¯é ä¼ è¾“ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-14-8-å¦‚ä½•ä¿è¯rabbitmqæ¶ˆæ¯çš„é¡ºåºæ€§">7 14 8 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯çš„é¡ºåºæ€§ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-14-10-rabbitmqæ¶ˆæ¯å †ç§¯å¤„ç†">7 14 10 RabbitMQæ¶ˆæ¯å †ç§¯å¤„ç†&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-14-11-rabbitmqæ¶ˆæ¯ä¸¢å¤±è§£å†³æ–¹æ¡ˆ">7 14 11 RabbitMQæ¶ˆæ¯ä¸¢å¤±è§£å†³æ–¹æ¡ˆ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-14-12-rabbitmqå®•æœºäº†æ€ä¹ˆå¤„ç†">7 14 12 RabbitMQå®•æœºäº†æ€ä¹ˆå¤„ç†&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-14-13-rabbitmqçš„é›†ç¾¤">7 14 13 RabbitMQçš„é›†ç¾¤&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-14-14-å¦‚ä½•è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜">7 14 14 å¦‚ä½•è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#7-14-15-å¸¸è§çš„æ¶ˆæ¯ä¸­é—´">7 14 15 å¸¸è§çš„æ¶ˆæ¯ä¸­é—´&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
      </ul>
    </li>
    <li><a href="#7-15-é¢è¯•é—®é¢˜æ±‡æ€»">7 15 é¢è¯•é—®é¢˜æ±‡æ€»ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a>
      <ul>
        <li><a href="#7-15-1-è¿™ä¸ªç³»ç»Ÿuiä½¿ç”¨ä»€ä¹ˆæ¡†æ¶éƒ½ç”¨åˆ°jqueryeasyuiçš„å“ªäº›ç»„ä»¶">7 15 1 è¿™ä¸ªç³»ç»ŸUIä½¿ç”¨ä»€ä¹ˆæ¡†æ¶ï¼Ÿéƒ½ç”¨åˆ°jqueryeasyuiçš„å“ªäº›ç»„ä»¶ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#7-15-3-ç³»ç»Ÿå“ªäº›åœ°æ–¹ä½¿ç”¨åˆ°äº†json">7 15 3 ç³»ç»Ÿå“ªäº›åœ°æ–¹ä½¿ç”¨åˆ°äº†jsonï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-15-4-ä½ æ˜¯å¦‚ä½•å°†å¯¹è±¡è½¬æˆjsonæˆ–æ˜¯å°†jsonè½¬æˆå¯¹è±¡">7 15 4 ä½ æ˜¯å¦‚ä½•å°†å¯¹è±¡è½¬æˆJSONæˆ–æ˜¯å°†JSONè½¬æˆå¯¹è±¡ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-15-5-è¿™ä¸ªç³»ç»Ÿå¼‚å¸¸å¤„ç†æ˜¯æ€ä¹ˆåšçš„">7 15 5 è¿™ä¸ªç³»ç»Ÿå¼‚å¸¸å¤„ç†æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#7-15-6-ä½ å¦‚ä½•ç†è§£å‰ç«¯éªŒè¯å’Œåç«¯éªŒè¯æ˜¯å¦‚ä½•å®ç°çš„">7 15 6 ä½ å¦‚ä½•ç†è§£å‰ç«¯éªŒè¯å’Œåç«¯éªŒè¯ï¼Œæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
      </ul>
    </li>
    <li><a href="#å…«springbootæ¡†æ¶">å…«.SpringBootæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a>
      <ul>
        <li><a href="#8-1-springbootæ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©ä½¿springbootå¼€å‘å¿…ä¼š">8 1 SpringBootæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©ä½¿SpringBootå¼€å‘ï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-2-springbootå¸¸ç”¨çš„starteræœ‰å“ªäº›å¿…ä¼š">8 2 SpringBootå¸¸ç”¨çš„starteræœ‰å“ªäº›ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#8-3-springbootè‡ªåŠ¨é…ç½®çš„åŸç†é«˜è–ªå¸¸é—®">8 3 SpringBootè‡ªåŠ¨é…ç½®çš„åŸç†ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#8-4-springbootå¦‚ä½•æ·»åŠ ä¿®æ”¹ä»£ç è‡ªåŠ¨é‡å¯åŠŸèƒ½äº†è§£">8 4 SpringBootå¦‚ä½•æ·»åŠ ã€ä¿®æ”¹ä»£ç ã€‘è‡ªåŠ¨é‡å¯åŠŸèƒ½ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-5-ä»€ä¹ˆæ˜¯springdataå¿…ä¼š">8 5 ä»€ä¹ˆæ˜¯SpringDataï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#8-6-springbootçš„æ ¸å¿ƒé…ç½®æ–‡æœ‰å“ªå‡ ä¸ªå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆäº†è§£">8 6 SpringBootçš„æ ¸å¿ƒé…ç½®æ–‡æœ‰å“ªå‡ ä¸ªï¼Ÿå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#8-7-springbootçš„é…ç½®æ–‡ä»¶æœ‰å“ªå‡ ç§æ ¼å¼å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å¿…ä¼š">8 7 SpringBootçš„é…ç½®æ–‡ä»¶æœ‰å“ªå‡ ç§æ ¼å¼?å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-8-è¿è¡Œspringbootæœ‰å“ªå‡ ç§æ–¹å¼å¿…ä¼š">8 8 è¿è¡ŒSpringBootæœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#8-9-å¦‚ä½•åœ¨springbootå¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç äº†è§£">8 9 å¦‚ä½•åœ¨SpringBootå¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-10-springbootæœ‰å“ªå‡ ç§è¯»å–é…ç½®çš„æ–¹å¼äº†è§£">8 10 SpringBootæœ‰å“ªå‡ ç§è¯»å–é…ç½®çš„æ–¹å¼ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-11-springbootæ”¯æŒå“ªäº›æ—¥å¿—æ¡†æ¶æ¨èå’Œé»˜è®¤çš„æ—¥å¿—æ¡†æ¶æ˜¯å“ªä¸ªå¿…ä¼š">8 11 SpringBootæ”¯æŒå“ªäº›æ—¥å¿—æ¡†æ¶ï¼Ÿæ¨èå’Œé»˜è®¤çš„æ—¥å¿—æ¡†æ¶æ˜¯å“ªä¸ªï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#8-12-springbootå®ç°çƒ­éƒ¨ç½²æœ‰å“ªå‡ ç§æ–¹å¼å¿…ä¼š">8 12 SpringBootå®ç°çƒ­éƒ¨ç½²æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-13-ä½ å¦‚ä½•ç†è§£springbooté…ç½®åŠ è½½é¡ºåºäº†è§£">8 13 ä½ å¦‚ä½•ç†è§£SpringBooté…ç½®åŠ è½½é¡ºåºï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#8-14-springbootå¦‚ä½•å®šä¹‰å¤šå¥—ä¸åŒç¯å¢ƒé…ç½®é«˜è–ªå¸¸é—®">8 14 SpringBootå¦‚ä½•å®šä¹‰å¤šå¥—ä¸åŒç¯å¢ƒé…ç½®ï¼Ÿï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-15-springbootå¯ä»¥å…¼å®¹è€springé¡¹ç›®å—å¦‚ä½•åšäº†è§£">8 15 SpringBootå¯ä»¥å…¼å®¹è€Springé¡¹ç›®å—ï¼Œå¦‚ä½•åšï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#8-16-ä¿æŠ¤springbootåº”ç”¨æœ‰å“ªäº›æ–¹æ³•äº†è§£">8 16 ä¿æŠ¤SpringBootåº”ç”¨æœ‰å“ªäº›æ–¹æ³•ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#8-17-springboot-2-x-æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ä¸-1-xæœ‰ä»€ä¹ˆåŒºåˆ«äº†è§£">8 17 SpringBoot 2 .X æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ï¼Ÿä¸ 1 .Xæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
      </ul>
    </li>
    <li><a href="#ä¹springcloudæ¡†æ¶">ä¹.SpringCloudæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a>
      <ul>
        <li><a href="#9-1-ä»€ä¹ˆæ˜¯springcloudæ¡†æ¶å¿…ä¼š">9 1 ä»€ä¹ˆæ˜¯SpringCloudæ¡†æ¶ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#9-2-æ ¸å¿ƒç»„ä»¶è®²è§£é«˜è–ªå¸¸é—®">9 2 æ ¸å¿ƒç»„ä»¶è®²è§£ï¼šï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#9-3-springcloudå’Œdubboçš„åŒºåˆ«å¿…ä¼š">9 3 SpringCloudå’ŒDubboçš„åŒºåˆ«ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#9-4-ä½¿ç”¨springcloudçš„ä¼˜ç¼ºç‚¹å¿…ä¼š">9 4 ä½¿ç”¨SpringCloudçš„ä¼˜ç¼ºç‚¹ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#9-5-æœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€springcloudå¦‚ä½•å®ç°å¿…ä¼š">9 5 æœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸSpringCloudå¦‚ä½•å®ç°ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#9-6-è´Ÿè½½å¹³è¡¡çš„æ„ä¹‰ä»€ä¹ˆå¿…ä¼š">9 6 è´Ÿè½½å¹³è¡¡çš„æ„ä¹‰ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#9-7-ä»€ä¹ˆæ˜¯hystrixå®ƒå¦‚ä½•å®ç°å®¹é”™å¿…ä¼š">9 7 ä»€ä¹ˆæ˜¯Hystrixï¼Ÿå®ƒå¦‚ä½•å®ç°å®¹é”™ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#9-8-ä»€ä¹ˆæ˜¯hystrixæ–­è·¯å™¨æˆ‘ä»¬éœ€è¦å®ƒå—äº†è§£">9 8 ä»€ä¹ˆæ˜¯Hystrixæ–­è·¯å™¨ï¼Ÿæˆ‘ä»¬éœ€è¦å®ƒå—ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#9-9-ä»€ä¹ˆæ˜¯netflixfeignå®ƒçš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆäº†è§£">9 9 ä»€ä¹ˆæ˜¯NetflixFeignï¼Ÿå®ƒçš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#9-10-ä»€ä¹ˆæ˜¯springcloudbusæˆ‘ä»¬éœ€è¦å®ƒå—äº†è§£">9 10 ä»€ä¹ˆæ˜¯SpringCloudBusï¼Ÿæˆ‘ä»¬éœ€è¦å®ƒå—ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#9-11-eurekaå’Œzookeeperæ³¨å†Œä¸­å¿ƒçš„åŒºåˆ«é«˜æ–°å¸¸é—®">9 11 Eurekaå’ŒZookeeperæ³¨å†Œä¸­å¿ƒçš„åŒºåˆ«ï¼ˆé«˜æ–°å¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
      </ul>
    </li>
    <li><a href="#åä¹ä¼˜å•†åŸ">å.ä¹ä¼˜å•†åŸ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a>
      <ul>
        <li><a href="#10-1-é¡¹ç›®ä»‹ç»">10 1 é¡¹ç›®ä»‹ç»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-2-é¡¹ç›®æ¶æ„">10 2 é¡¹ç›®æ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-3-é¡¹ç›®åŠŸèƒ½">10 3 é¡¹ç›®åŠŸèƒ½&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-4-æ¨¡å—ä¸šåŠ¡">10 4 æ¨¡å—ä¸šåŠ¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-5-å•†å“ç®¡ç†corsmqossnginx">10 5 å•†å“ç®¡ç†(CORS,MQ,OSS,Nginx)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#10-5-3-ä¸ºä»€ä¹ˆä¸è®¾ç½®å¤–é”®çº¦æŸ">10 5 3 ä¸ºä»€ä¹ˆä¸è®¾ç½®å¤–é”®çº¦æŸ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-5-4-ä¸šåŠ¡æ€è·¯">10 5 4 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-5-5-ä»€ä¹ˆæ˜¯è·¨åŸŸ">10 5 5 ä»€ä¹ˆæ˜¯è·¨åŸŸ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#10-5-6-ä¸ºä»€ä¹ˆæœ‰è·¨åŸŸé—®é¢˜">10 5 6 ä¸ºä»€ä¹ˆæœ‰è·¨åŸŸé—®é¢˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#10-5-7-è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹æ¡ˆ">10 5 7 è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹æ¡ˆ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-5-8-cors">10 5 8 CORS&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-5-9-ä¸ºä»€ä¹ˆå›¾ç‰‡åœ°å€éœ€è¦ä½¿ç”¨å¦å¤–çš„url">10 5 9 ä¸ºä»€ä¹ˆå›¾ç‰‡åœ°å€éœ€è¦ä½¿ç”¨å¦å¤–çš„urlï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-5-10-æ¶ˆæ¯ä¸­é—´ä»¶">10 5 10 æ¶ˆæ¯ä¸­é—´ä»¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-5-11-rabbitmq">10 5 11 RabbitMQ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-5-12-å›¾ç‰‡ä¸Šä¼ ">10 5 12 å›¾ç‰‡ä¸Šä¼ &hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-5-13-fastdfs">10 5 13 FastDFS&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-5-14-nginx">10 5 14 Nginx&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
      </ul>
    </li>
    <li><a href="#10-6-å•†å“æœç´¢elasticsearchmq">10 6 å•†å“æœç´¢(ElasticSearch,MQ)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#10-6-1-ä¸šåŠ¡æ€è·¯">10 6 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-6-2-elasticsearch">10 6 2 ElasticSearch&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#10-6-3-solr">10 6 3 Solr&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-6-4-ikåˆ†è¯å™¨">10 6 4 Ikåˆ†è¯å™¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-6-6-elasticsearchå’Œsolrå¯¹æ¯”åŒºåˆ«æ˜¯ä»€ä¹ˆ">10 6 6 ElasticSearchå’ŒSolrå¯¹æ¯”åŒºåˆ«æ˜¯ä»€ä¹ˆ?&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
      </ul>
    </li>
    <li><a href="#10-7-é¡µé¢é™æ€åŒ–thymeleafmq">10 7 é¡µé¢é™æ€åŒ–(Thymeleaf,MQ)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#10-7-1-ä¸šåŠ¡æ€è·¯">10 7 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-7-2-ä»€ä¹ˆæ˜¯é™æ€åŒ–">10 7 2 ä»€ä¹ˆæ˜¯é™æ€åŒ–&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#10-7-3-å¸¸è§çš„é™æ€åŒ–æŠ€æœ¯åŠå¯¹æ¯”">10 7 3 å¸¸è§çš„é™æ€åŒ–æŠ€æœ¯åŠå¯¹æ¯”&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#jsp">jsp&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#freemarker">freemarker</a></li>
      </ul>
    </li>
    <li><a href="#10-8-ç”¨æˆ·æ³¨å†Œé˜¿é‡Œå¤§äºredismq">10 8 ç”¨æˆ·æ³¨å†Œ(é˜¿é‡Œå¤§äº+Redis+MQ)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a>
      <ul>
        <li><a href="#10-8-1-ä¸šåŠ¡æ€è·¯">10 8 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#velocity">velocity&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#thymeleaf">thymeleaf&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#10-8-2-é˜¿é‡Œå¤§äº">10 8 2 é˜¿é‡Œå¤§äº&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
      </ul>
    </li>
    <li><a href="#10-9-ç”¨æˆ·ç™»å½•jwtredis">10 9 ç”¨æˆ·ç™»å½•(JWT+Redis)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a>
      <ul>
        <li><a href="#10-9-1-æˆæƒä¸šåŠ¡æ€è·¯ç™»å½•">10 9 1 æˆæƒä¸šåŠ¡æ€è·¯ï¼ˆç™»å½•ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-9-2-é‰´æƒä¸šåŠ¡æ€è·¯æ¯ä¸ªå¾®æœåŠ¡éªŒè¯æ˜¯å¦ç™»å½•">10 9 2 é‰´æƒä¸šåŠ¡æ€è·¯ï¼ˆæ¯ä¸ªå¾®æœåŠ¡éªŒè¯æ˜¯å¦ç™»å½•ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-9-3-ä»€ä¹ˆæ˜¯æœ‰çŠ¶æ€ç™»å½•">10 9 3 ä»€ä¹ˆæ˜¯æœ‰çŠ¶æ€ç™»å½•ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-9-4-ä»€ä¹ˆæ˜¯æ— çŠ¶æ€ç™»å½•">10 9 4 ä»€ä¹ˆæ˜¯æ— çŠ¶æ€ç™»å½•ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-9-5-jwt">10 9 5 JWT&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-9-6-åŠ å¯†æŠ€æœ¯">10 9 6 åŠ å¯†æŠ€æœ¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
      </ul>
    </li>
    <li><a href="#10-10-è´­ç‰©è½¦localstorageredis">10 10 è´­ç‰©è½¦(localstorage+Redis)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#10-10-1-ä¸šåŠ¡æ€è·¯">10 10 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-10-2-html-5-webå­˜å‚¨">10 10 2 Html 5 webå­˜å‚¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#10-10-3-redis">10 10 3 Redis&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#10-11-è®¢å•ç³»ç»Ÿ">10 11 è®¢å•ç³»ç»Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#10-12-æ”¯ä»˜ç³»ç»Ÿ">10 12 æ”¯ä»˜ç³»ç»Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
      </ul>
    </li>
    <li><a href="#åä¸€åæ¬¡æ–¹é¡¹ç›®äº†è§£">åä¸€ï¼åæ¬¡æ–¹é¡¹ç›®(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#11-1-åæ¬¡æ–¹èƒŒæ™¯">11 1 åæ¬¡æ–¹èƒŒæ™¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#11-2-åæ¬¡æ–¹é¡¹ç›®æŠ€æœ¯æ¶æ„">11 2 åæ¬¡æ–¹é¡¹ç›®æŠ€æœ¯æ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#11-3-åæ¬¡æ–¹é¡¹ç›®é¢è¯•å¸¸é—®é—®é¢˜">11 3 åæ¬¡æ–¹é¡¹ç›®é¢è¯•å¸¸é—®é—®é¢˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#11-3-6-å•ç‰‡soaå’Œå¾®æœåŠ¡æ¶æ„æœ‰ä»€ä¹ˆåŒºåˆ«-å¿…ä¼š-">11. 3. 6 å•ç‰‡ï¼ŒSOAå’Œå¾®æœåŠ¡æ¶æ„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆ å¿…ä¼š ï¼‰</a></li>
        <li><a href="#11-3-17-ä»€ä¹ˆæ˜¯ä¸åŒç±»å‹çš„å¾®æœåŠ¡æµ‹è¯•å¿…ä¼š">11 3 17 ä»€ä¹ˆæ˜¯ä¸åŒç±»å‹çš„å¾®æœåŠ¡æµ‹è¯•ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#11-3-18-æ‚¨å¯¹distributedtransactionæœ‰ä½•äº†è§£å¿…ä¼š">11 3 18 æ‚¨å¯¹DistributedTransactionæœ‰ä½•äº†è§£ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#11-3-19-ä»€ä¹ˆæ˜¯idempotenceä»¥åŠå®ƒåœ¨å“ªé‡Œä½¿ç”¨å¿…ä¼š">11 3 19 ä»€ä¹ˆæ˜¯Idempotenceä»¥åŠå®ƒåœ¨å“ªé‡Œä½¿ç”¨ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#11-3-20-ä»€ä¹ˆæ˜¯æœ‰ç•Œä¸Šä¸‹æ–‡å¿…ä¼š">11 3 20 ä»€ä¹ˆæ˜¯æœ‰ç•Œä¸Šä¸‹æ–‡ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#11-3-21-ä»€ä¹ˆæ˜¯åŒå› ç´ èº«ä»½éªŒè¯å¿…ä¼š">11 3 21 ä»€ä¹ˆæ˜¯åŒå› ç´ èº«ä»½éªŒè¯ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#11-3-22-åŒå› ç´ èº«ä»½éªŒè¯çš„å‡­æ®ç±»å‹æœ‰å“ªäº›äº†è§£">11 3 22 åŒå› ç´ èº«ä»½éªŒè¯çš„å‡­æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#11-3-23-ä»€ä¹ˆæ˜¯å®¢æˆ·è¯ä¹¦äº†è§£">11 3 23 ä»€ä¹ˆæ˜¯å®¢æˆ·è¯ä¹¦ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
      </ul>
    </li>
    <li><a href="#11-4-åæ¬¡æ–¹æŠ€æœ¯ç‚¹">11 4 åæ¬¡æ–¹æŠ€æœ¯ç‚¹&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a>
      <ul>
        <li><a href="#11-4-1-mongodbé«˜è–ªå¸¸é—®">11 4 1 MongoDBï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#11-4-2-å³æ—¶é€šè®¯é«˜è–ªå¸¸é—®">11 4 2 å³æ—¶é€šè®¯ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</a></li>
        <li><a href="#11-4-3-websocketåè®®äº†è§£">11 4 3 websocketåè®®ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#11-4-4-æ¥å£åŠ å¯†åŠ å¯†æ–¹å¼é«˜è–ªå¸¸é—®">11 4 4 æ¥å£åŠ å¯†&amp;åŠ å¯†æ–¹å¼ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#11-4-5-æ¶ˆæ¯é€šçŸ¥å¿…ä¼š">11 4 5 æ¶ˆæ¯é€šçŸ¥ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
        <li><a href="#11-4-6-redisåˆ†å¸ƒå¼ç¼“å­˜å¿…ä¼šé«˜è–ªå¸¸é—®">11 4 6 Redisåˆ†å¸ƒå¼ç¼“å­˜ï¼ˆå¿…ä¼šã€é«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</a></li>
        <li><a href="#11-4-7-jucå¤šçº¿ç¨‹äº†è§£">11 4 7 JUCå¤šçº¿ç¨‹ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/">
                <img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/1_hu6e786dc2a515a9f953ec880158e4761f_540654_800x0_resize_q75_box.jpg"
                        srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/1_hu6e786dc2a515a9f953ec880158e4761f_540654_800x0_resize_q75_box.jpg 800w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/1_hu6e786dc2a515a9f953ec880158e4761f_540654_1600x0_resize_q75_box.jpg 1600w"
                        width="800" 
                        height="335" 
                        loading="lazy"
                        alt="Featured image of post Javaé¢è¯•å®å…¸" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/java/" >
                java
            </a>
        
            <a href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/" >
                é¢è¯•é¢˜
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/">Javaé¢è¯•å®å…¸</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Javaé¢è¯•å®å…¸
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Aug 22, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    65 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>Javaé¢è¯•å®å…¸ä¸»è¦åŒ…æ‹¬ï¼šJavaåŸºç¡€ã€Java Webã€æ•°æ®åº“ã€Mybatisæ¡†æ¶ã€Springæ¡†æ¶ã€Spring MVCæ¡†æ¶ã€Saasé¡¹ç›®ã€SpringBootæ¡†æ¶ã€SpringCloudæ¡†æ¶ã€ä¹ä¼˜å•†åŸé¡¹ç›®ã€åæ¬¡æ–¹é¡¹ç›®ã€‚</p>
<h1 id="java">Java</h1>
<h2 id="ä¸€javaåŸºç¡€">ä¸€ï¼JavaåŸºç¡€</h2>
<h3 id="11-é‡è½½å’Œé‡å†™çš„åŒºåˆ«äº†è§£">1.1 é‡è½½å’Œé‡å†™çš„åŒºåˆ«ï¼ˆäº†è§£ï¼‰</h3>
<p><strong>é‡è½½ ï¼š</strong> å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•åå¿…é¡»ç›¸åŒï¼Œå‚æ•°ç±»å‹ä¸åŒï¼Œä¸ªæ•°ä¸åŒï¼Œé¡ºåºä¸åŒï¼Œæ–¹æ³•è¿”å›å€¼å’Œè®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒï¼Œå‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ã€‚</p>
<p><strong>é‡å†™ï¼š</strong> å‘ç”Ÿåœ¨çˆ¶å­ç±»ä¸­ï¼Œæ–¹æ³•åï¼Œå‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒï¼Œè¿”å›å€¼èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼Œè®¿é—®ä¿®é¥°ç¬¦èŒƒå›´å¤§äºç­‰äºçˆ¶ç±»ï¼›å¦‚æœçˆ¶ç±»æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦ä¸º private åˆ™å­ç±»å°±ä¸èƒ½é‡å†™è¯¥æ–¹æ³•ã€‚</p>
<h3 id="12-stringå’Œstringbufferstringbuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆstring"><strong>1.2 Stringå’ŒStringBuffer,StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸString</strong></h3>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„ï¼Ÿï¼ˆå¿…ä¼šï¼‰</strong></p>
<p><strong>å¯å˜æ€§</strong>
ç®€å•çš„æ¥è¯´ï¼šStringç±»ä¸­ä½¿ç”¨ final å…³é”®å­—å­—ç¬¦æ•°ç»„ä¿å­˜å­—ç¬¦ä¸²ï¼Œprivate
final char value[] ï¼Œæ‰€ä»¥ Stringå¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚</p>
<p>è€ŒStringBuilder ä¸
StringBuffer éƒ½ç»§æ‰¿è‡ª AbstractStringBuilderç±»ï¼Œåœ¨AbstractStringBuilder
ä¸­ä¹Ÿæ˜¯ä½¿ç”¨å­—ç¬¦æ•°ç»„ä¿å­˜å­—ç¬¦ä¸² char[]value ä½†æ˜¯æ²¡æœ‰ç”¨ final å…³é”®å­—ä¿®é¥°ï¼Œ
æ‰€ä»¥è¿™ä¸¤ç§å¯¹è±¡éƒ½æ˜¯å¯å˜çš„ã€‚</p>
<p>StringBuilder ä¸ StringBufferçš„æ„é€ æ–¹æ³•éƒ½æ˜¯è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ä¹Ÿå°±æ˜¯
AbstractStringBuilderå®ç°çš„ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡ŒæŸ¥é˜…æºç ã€‚</p>
<pre><code>AbstractStringBuilder.java

abstract class AbstractStringBuilder implements Appendable, CharSequence {
char[] value;
int count;
AbstractStringBuilder() {
}
AbstractStringBuilder(int capacity) {
value = new char[capacity];
	}

} 
</code></pre>
<p><strong>çº¿ç¨‹å®‰å…¨æ€§</strong></p>
<p>Stringä¸­çš„å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±å¯ä»¥ç†è§£ä¸ºå¸¸é‡ï¼Œçº¿ç¨‹å®‰å…¨ã€‚</p>
<p>AbstractStringBuilderæ˜¯ StringBuilder ä¸ StringBuffer çš„å…¬å…±çˆ¶ç±»ï¼Œå®šä¹‰
äº†ä¸€äº›å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œï¼Œå¦‚ expandCapacity.append.insert.indexOf ç­‰å…¬
å…± æ–¹æ³•ã€‚</p>
<p>StringBuffer å¯¹æ–¹æ³•åŠ äº†åŒæ­¥é”æˆ–è€…å¯¹è°ƒç”¨çš„æ–¹æ³•åŠ äº†åŒæ­¥é”ï¼Œæ‰€ä»¥
æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p>StringBuilder å¹¶æ²¡æœ‰å¯¹æ–¹æ³•è¿›è¡ŒåŠ åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯éçº¿ç¨‹å®‰å…¨
çš„ã€‚</p>
<p><strong>æ€§èƒ½</strong></p>
<pre><code>abstract class AbstractStringBuilder implements Appendable, CharSequence {
char[] value;
int count;
AbstractStringBuilder() {
}
AbstractStringBuilder(int capacity) {
value = new char[capacity];
}
}
</code></pre>
<p>æ¯æ¬¡å¯¹ Stringç±»å‹è¿›è¡Œæ”¹å˜çš„æ—¶å€™ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ String å¯¹è±¡ï¼Œç„¶
åå°†æŒ‡é’ˆæŒ‡å‘æ–°çš„ Stringå¯¹è±¡ã€‚</p>
<p>StringBuffer æ¯æ¬¡éƒ½ä¼šå¯¹ StringBuffer å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°
çš„å¯¹è±¡å¹¶æ”¹å˜å¯¹è±¡å¼•ç”¨ã€‚ç›¸åŒæƒ…å†µä¸‹ä½¿ç”¨StirngBuilderç›¸æ¯”ä½¿ç”¨ StringBuffer
ä»…èƒ½è·å¾— 10 %~ 15 %å·¦å³çš„æ€§èƒ½æå‡ï¼Œä½†å´è¦å†’å¤šçº¿ç¨‹ä¸å®‰å…¨çš„é£é™©ã€‚</p>
<p><strong>å¯¹äºä¸‰è€…ä½¿ç”¨çš„æ€»ç»“ï¼š</strong></p>
<ol>
<li>æ“ä½œå°‘é‡çš„æ•°æ® =&gt; ä½¿ç”¨String</li>
<li>å•çº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ® =&gt; ä½¿ç”¨StringBuilder</li>
<li>å¤šçº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ® =&gt; ä½¿ç”¨StringBuffer</li>
</ol>
<h3 id="13-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±äº†è§£">1.3 è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±(äº†è§£)</h3>
<h5 id="è£…ç®±-å°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥">è£…ç®±ï¼š å°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥ï¼›</h5>
<h5 id="æ‹†ç®±-å°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹">æ‹†ç®±ï¼š å°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼›</h5>
<h3 id="14-ä¸equalså¿…ä¼š">1.4 ==ä¸equals(å¿…ä¼š)</h3>
<p>** == **: å®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯ä¸æ˜¯ç›¸ç­‰ã€‚å³: åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚(åŸºæœ¬æ•°æ®ç±»å‹==æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹==æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€)ã€‚</p>
<p><strong>equals()</strong> : å®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µ,
å¦‚ä¸‹ï¼š</p>
<p><strong>æƒ…å†µ 1</strong> ï¼šç±»æ²¡æœ‰è¦†ç›– equals() æ–¹æ³•ã€‚åˆ™é€šè¿‡ equals() æ¯”è¾ƒè¯¥ç±»çš„ä¸¤
ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ==â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚</p>
<p><strong>æƒ…å†µ 2</strong> ï¼šç±»è¦†ç›–äº† equals() æ–¹æ³•ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›– equals() æ–¹æ³•
æ¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å› true(å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡
ç›¸ç­‰)ã€‚</p>
<pre><code>public class test1 {
public static void main(String[] args) {
String a = new String(&quot;ab&quot;); // a ä¸ºä¸€ä¸ªå¼•ç”¨
String b = new String(&quot;ab&quot;); // b ä¸ºå¦ä¸€ä¸ªå¼•ç”¨,å¯¹è±¡çš„å†…å®¹ä¸€æ ·
String aa = &quot;ab&quot;; // æ”¾åœ¨å¸¸é‡æ± ä¸­
String bb = &quot;ab&quot;; // ä»å¸¸é‡æ± ä¸­æŸ¥æ‰¾
if (aa == bb) // true
System.out.println(&quot;aa==bb&quot;);
if (a == b) // falseï¼ŒéåŒä¸€å¯¹è±¡
System.out.println(&quot;a==b&quot;);
if (a.equals(b)) // true
System.out.println(&quot;aEQb&quot;);
if (42 == 42.0) // true
System.out.println(&quot;true&quot;);
}
}
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong>
Stringä¸­çš„ equals æ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸º object çš„ equals æ–¹æ³•æ˜¯
æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œ Stringçš„equals æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚
å½“åˆ›å»º Stringç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„
å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± 
ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ª Stringå¯¹è±¡ã€‚</p>
<h3 id="15-å…³äºfinalå…³é”®å­—çš„ä¸€äº›æ€»ç»“å¿…ä¼š">1.5 å…³äºfinalå…³é”®å­—çš„ä¸€äº›æ€»ç»“(å¿…ä¼š)</h3>
<p><strong>finalå…³é”®å­—ä¸»è¦ç”¨åœ¨ä¸‰ä¸ªåœ°æ–¹ï¼šå˜é‡ã€æ–¹æ³•ã€ç±»ã€‚</strong></p>
<ol>
<li>å¯¹äºä¸€ä¸ªfinalå˜é‡ï¼Œå¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåˆ™å…¶æ•°å€¼ä¸€æ—¦åœ¨åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½æ›´æ”¹ï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåˆ™åœ¨å¯¹å…¶åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½å†è®©å…¶
æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li>å½“ç”¨finalä¿®é¥°ä¸€ä¸ªç±»æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚finalç±»ä¸­çš„æ‰€æœ‰æˆå‘˜æ–¹æ³•éƒ½ä¼šè¢«éšå¼åœ°æŒ‡å®šä¸ºfinalæ–¹æ³•ã€‚</li>
<li>ä½¿ç”¨finalæ–¹æ³•çš„åŸå› æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ä¸ªåŸå› æ˜¯æŠŠæ–¹æ³•é”å®šï¼Œä»¥é˜²ä»»ä½•ç»§æ‰¿ç±»ä¿®æ”¹å®ƒçš„å«ä¹‰ï¼›ç¬¬äºŒä¸ªåŸå› æ˜¯æ•ˆç‡ã€‚
åœ¨æ—©æœŸçš„Javaå®ç°ç‰ˆæœ¬ä¸­ï¼Œä¼šå°†finalæ–¹æ³•è½¬ä¸ºå†…åµŒè°ƒç”¨ã€‚ä½†æ˜¯å¦‚æœæ–¹æ³•è¿‡
äºåºå¤§ï¼Œå¯èƒ½çœ‹ä¸åˆ°å†…åµŒè°ƒç”¨å¸¦æ¥çš„ä»»ä½•æ€§èƒ½æå‡ï¼ˆç°åœ¨çš„Javaç‰ˆæœ¬å·²ç»ä¸éœ€è¦ä½¿ç”¨finalæ–¹æ³•è¿›è¡Œè¿™äº›ä¼˜åŒ–äº†ï¼‰ã€‚ç±»ä¸­æ‰€æœ‰çš„privateæ–¹æ³•éƒ½éšå¼åœ°æŒ‡å®šä¸ºfinalã€‚</li>
</ol>
<h3 id="16-javaä¸­çš„å¼‚å¸¸å¤„ç†äº†è§£">1.6 Javaä¸­çš„å¼‚å¸¸å¤„ç†(äº†è§£)</h3>
<p>åœ¨ Javaä¸­ï¼Œæ‰€æœ‰çš„å¼‚å¸¸éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç¥–å…ˆjava.langåŒ…ä¸­çš„ <strong>Throwableç±»</strong> ã€‚</p>
<p><strong>Throwableï¼š</strong> æœ‰ä¸¤ä¸ªé‡è¦çš„å­ç±»ï¼š
<img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/2.jpg"
	width="869"
	height="528"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/2_hua82a2f4ef537eb09476d90f8bd86492e_282502_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/2_hua82a2f4ef537eb09476d90f8bd86492e_282502_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="2"
	
	
		class="gallery-image" 
		data-flex-grow="164"
		data-flex-basis="395px"
	
></p>
<p><strong>Exceptionï¼ˆå¼‚å¸¸ï¼‰</strong> å’Œ <strong>Errorï¼ˆé”™è¯¯ï¼‰</strong> ï¼ŒäºŒè€…éƒ½æ˜¯ Java å¼‚å¸¸å¤„ç†çš„é‡è¦å­ç±»ï¼Œå„è‡ªéƒ½åŒ…å«å¤§é‡å­ç±»ã€‚</p>
<h3 id="17-errorå’Œexceptionçš„åŒºåˆ«äº†è§£">1.7 errorå’Œexceptionçš„åŒºåˆ«?(äº†è§£)</h3>
<p>Error ç±»å’Œ Exception ç±»çš„çˆ¶ç±»éƒ½æ˜¯ Throwable ç±»ï¼Œä»–ä»¬çš„åŒºåˆ«å¦‚ä¸‹ã€‚</p>
<p>Error ç±»ä¸€èˆ¬æ˜¯æŒ‡ä¸è™šæ‹Ÿæœºç›¸å…³çš„é—®é¢˜ï¼Œå¦‚ç³»ç»Ÿå´©æºƒï¼Œè™šæ‹Ÿæœºé”™è¯¯ï¼Œå†…å­˜ç©º
é—´ä¸è¶³ï¼Œæ–¹æ³•è°ƒç”¨æ ˆæº¢å‡ºç­‰ã€‚å¯¹äºè¿™ç±» é”™è¯¯çš„å¯¼è‡´çš„åº”ç”¨ç¨‹åºä¸­æ–­ï¼Œä»…é ç¨‹åº
æœ¬èº«æ— æ³•æ¢å¤å’Œå’Œé¢„é˜²ï¼Œé‡åˆ°è¿™æ ·çš„é”™è¯¯ï¼Œå»ºè®®è®©ç¨‹åºç»ˆæ­¢ã€‚</p>
<p>Exception ç±»è¡¨ç¤ºç¨‹åºå¯ä»¥å¤„ç†çš„å¼‚å¸¸ï¼Œå¯ä»¥æ•è·ä¸”å¯èƒ½æ¢å¤ã€‚é‡åˆ°è¿™ç±»å¼‚
å¸¸ï¼Œåº”è¯¥å°½å¯èƒ½å¤„ç†å¼‚å¸¸ï¼Œä½¿ç¨‹åºæ¢å¤è¿è¡Œï¼Œè€Œä¸åº”è¯¥éšæ„ç»ˆæ­¢å¼‚å¸¸ã€‚
Exception ç±»åˆåˆ†ä¸ºè¿è¡Œæ—¶å¼‚å¸¸(RuntimeException)å’Œå—æ£€æŸ¥çš„å¼‚å¸¸
(CheckedException)ï¼Œè¿è¡Œæ—¶å¼‚å¸¸ã€‚</p>
<h3 id="18-æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå¿…ä¼š">1.8 æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ(å¿…ä¼š)</h3>
<ol>
<li>æ¥å£çš„æ–¹æ³•é»˜è®¤æ˜¯ publicï¼Œæ‰€æœ‰æ–¹æ³•åœ¨æ¥å£ä¸­ä¸èƒ½æœ‰å®ç°(Java 8 å¼€å§‹æ¥å£æ–¹æ³•å¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰ï¼ŒæŠ½è±¡ç±»å¯ä»¥æœ‰éæŠ½è±¡çš„æ–¹æ³•ã€‚</li>
<li>æ¥å£ä¸­çš„å®ä¾‹å˜é‡é»˜è®¤æ˜¯ final ç±»å‹çš„ï¼Œè€ŒæŠ½è±¡ç±»ä¸­åˆ™ä¸ä¸€å®šã€‚</li>
<li>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä½†æœ€å¤šåªèƒ½å®ç°ä¸€ä¸ªæŠ½è±¡ç±»ã€‚</li>
<li>ä¸€ä¸ªç±»å®ç°æ¥å£çš„è¯è¦å®ç°æ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œè€ŒæŠ½è±¡ç±»ä¸ä¸€å®šã€‚</li>
<li>æ¥å£ä¸èƒ½ç”¨ new å®ä¾‹åŒ–ï¼Œä½†å¯ä»¥å£°æ˜ï¼Œä½†æ˜¯å¿…é¡»å¼•ç”¨ä¸€ä¸ªå®ç°è¯¥æ¥å£
çš„å¯¹è±¡ ä»è®¾è®¡å±‚é¢æ¥è¯´ï¼ŒæŠ½è±¡æ˜¯å¯¹ç±»çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§æ¨¡æ¿è®¾è®¡ï¼Œæ¥å£æ˜¯è¡Œä¸ºçš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§è¡Œä¸ºçš„è§„èŒƒã€‚</li>
</ol>
<p>å¤‡æ³¨: åœ¨JDK 8 ä¸­ï¼Œæ¥å£ä¹Ÿå¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥å£åè°ƒç”¨ã€‚å®ç°ç±»å’Œå®ç°æ˜¯ä¸å¯ä»¥è°ƒç”¨çš„ã€‚å¦‚æœåŒæ—¶å®ç°ä¸¤ä¸ªæ¥å£ï¼Œæ¥å£ä¸­å®šä¹‰äº†ä¸€æ ·çš„é»˜è®¤æ–¹æ³•ï¼Œå¿…é¡»é‡å†™ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚</p>
<h3 id="19-ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼æœ‰å‡ ç§å¿…ä¼š">1.9 ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿæœ‰å‡ ç§ï¼Ÿ(å¿…ä¼š)</h3>
<h5 id="å•ä¾‹æ¨¡å¼æŸä¸ªç±»çš„å®ä¾‹åœ¨-å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åªä¼šè¢«åˆ›å»ºä¸€æ¬¡å‡ºæ¥">å•ä¾‹æ¨¡å¼ï¼šæŸä¸ªç±»çš„å®ä¾‹åœ¨ å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åªä¼šè¢«åˆ›å»ºä¸€æ¬¡å‡ºæ¥ã€‚</h5>
<h5 id="å•ä¾‹æ¨¡å¼æœ‰é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼å’ŒåŒæ£€é”å•ä¾‹æ¨¡å¼ä¸‰ç§">å•ä¾‹æ¨¡å¼æœ‰é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼ã€æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼å’ŒåŒæ£€é”å•ä¾‹æ¨¡å¼ä¸‰ç§ã€‚</h5>
<h5 id="é¥¿æ±‰å¼-çº¿ç¨‹å®‰å…¨ä¸€å¼€å§‹å°±åˆå§‹åŒ–">é¥¿æ±‰å¼ ï¼šçº¿ç¨‹å®‰å…¨ï¼Œä¸€å¼€å§‹å°±åˆå§‹åŒ–ã€‚</h5>
<p><img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/3.jpg"
	width="599"
	height="139"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/3_huda73ea7aebb6bc2c2cbc818477ee4bde_57571_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/3_huda73ea7aebb6bc2c2cbc818477ee4bde_57571_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="3"
	
	
		class="gallery-image" 
		data-flex-grow="430"
		data-flex-basis="1034px"
	
></p>
<h5 id="æ‡’æ±‰å¼-éçº¿ç¨‹å®‰å…¨å»¶è¿Ÿåˆå§‹åŒ–">æ‡’æ±‰å¼ ï¼šéçº¿ç¨‹å®‰å…¨ï¼Œå»¶è¿Ÿåˆå§‹åŒ–ã€‚</h5>
<p><img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/4.jpg"
	width="590"
	height="202"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/4_hu04c75c939907c5ac1b6c92ef817ae43a_65172_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/4_hu04c75c939907c5ac1b6c92ef817ae43a_65172_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="4"
	
	
		class="gallery-image" 
		data-flex-grow="292"
		data-flex-basis="700px"
	
></p>
<h5 id="åŒæ£€é”-çº¿ç¨‹å®‰å…¨å»¶è¿Ÿåˆå§‹åŒ–">åŒæ£€é” ï¼šçº¿ç¨‹å®‰å…¨ï¼Œå»¶è¿Ÿåˆå§‹åŒ–ã€‚</h5>
<p><img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/5.jpg"
	width="593"
	height="257"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/5_hufa2575ea0bcb6ec6d3ba25127a8ca21a_92279_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/5_hufa2575ea0bcb6ec6d3ba25127a8ca21a_92279_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="5"
	
	
		class="gallery-image" 
		data-flex-grow="230"
		data-flex-basis="553px"
	
></p>
<h3 id="110-æ‰‹å†™å†’æ³¡æ’åºå¿…ä¼š">1.10 æ‰‹å†™å†’æ³¡æ’åºï¼Ÿ(å¿…ä¼š)</h3>
<pre><code>public class Sort {
	public static void sort() {
		Scanner input = new Scanner(System.in);
		int sort[] = new int[10];
		int temp;
		System.out.println(&quot;è¯·è¾“å…¥10 ä¸ªæ’åºçš„æ•°æ®ï¼š&quot;);
		for (int i = 0; i &lt; sort.length; i++) {
			sort[i] = input.nextInt();
		}
		for (int i = 0; i &lt; sort.length - 1; i++) {
			for (int j = 0; j &lt; sort.length - i - 1; j++) {
				if (sort[j] &lt; sort[j + 1]) {
					temp = sort[j];
					sort[j] = sort[j + 1];
					sort[j + 1] = temp;
				}
			}
		}
		System.out.println(&quot;æ’åˆ—åçš„é¡ºåºä¸ºï¼š&quot;);
		for(int i=0;i&lt;sort.length;i++){
			System.out.print(sort[i]+&quot;======&quot;);
		}
	}
	public static void main(String[] args) {
		sort();
	}
}
</code></pre>
<h3 id="111-bionioaio-æœ‰ä»€ä¹ˆåŒºåˆ«äº†è§£">1.11 BIOã€NIOã€AIO æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ(äº†è§£)</h3>
<p>BIOï¼šBlockIO åŒæ­¥é˜»å¡å¼ IOï¼Œå°±æ˜¯æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„ä¼ ç»Ÿ IOï¼Œå®ƒçš„ç‰¹ç‚¹
æ˜¯æ¨¡å¼ç®€å•ä½¿ç”¨æ–¹ä¾¿ï¼Œå¹¶å‘å¤„ç†èƒ½åŠ›ä½ã€‚</p>
<p>NIOï¼šNewIO åŒæ­¥éé˜»å¡ IOï¼Œæ˜¯ä¼ ç»Ÿ IO çš„å‡çº§ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯é€š
è¿‡ Channelï¼ˆé€šé“ï¼‰é€šè®¯ï¼Œå®ç°äº†å¤šè·¯å¤ç”¨ã€‚</p>
<p>AIOï¼šAsynchronousIO æ˜¯ NIO çš„å‡çº§ï¼Œä¹Ÿå« NIO 2 ï¼Œå®ç°äº†å¼‚æ­¥éå µ
å¡ IO ï¼Œå¼‚æ­¥ IO çš„æ“ä½œåŸºäºäº‹ä»¶å’Œå›è°ƒæœºåˆ¶ã€‚</p>
<h3 id="1-12-å¸¸è§çš„æ•°æ®ç»“æ„æœ‰å“ªäº›äº†è§£">1 12 å¸¸è§çš„æ•°æ®ç»“æ„æœ‰å“ªäº›ï¼Ÿ(äº†è§£)</h3>
<h5 id="-æ•°ç»„">ï¬ æ•°ç»„ï¼š</h5>
<p>æ•°ç»„ æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œæ•°ç»„çš„ç‰¹ç‚¹æ˜¯ é•¿åº¦å›ºå®š ï¼Œ å¯ä»¥ç”¨ä¸‹æ ‡ç´¢å¼•,å¹¶ä¸”æ‰€æœ‰çš„å…ƒç´ çš„ç±»å‹éƒ½æ˜¯ä¸€è‡´çš„ ã€‚</p>
<p>æ•°ç»„å¸¸ç”¨çš„åœºæ™¯æœ‰ï¼šä»æ•°æ®åº“é‡Œè¯»å–é›‡å‘˜çš„ä¿¡æ¯å­˜å‚¨ä¸ºEmployeeDetail[];æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢å¹¶å­˜å‚¨åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸­ä¾¿äºæ“
ä½œå’Œå¤„ç†ç­‰ç­‰ã€‚</p>
<p>å°½é‡æŠŠæ•°ç»„å°è£…åœ¨ä¸€ä¸ªç±»é‡Œï¼Œé˜²æ­¢æ•°æ®è¢«é”™è¯¯çš„æ“ä½œå¼„ä¹±ã€‚å¦å¤–ï¼Œè¿™ä¸€ç‚¹ä¹Ÿé€‚åˆå…¶ä»–çš„æ•°æ®ç»“æ„ã€‚</p>
<h5 id="-åˆ—è¡¨">ï¬ åˆ—è¡¨ï¼š</h5>
<p><strong>åˆ—è¡¨</strong> å’Œæ•°ç»„å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡å®ƒçš„ <strong>å¤§å°å¯ä»¥æ”¹å˜</strong> ã€‚</p>
<p><strong>åˆ—è¡¨</strong> ä¸€èˆ¬éƒ½æ˜¯ <strong>é€šè¿‡ä¸€ä¸ªå›ºå®šå¤§å°çš„æ•°ç»„</strong> æ¥ <strong>å®ç°</strong> çš„ï¼Œå¹¶ä¸” <strong>ä¼š</strong> åœ¨éœ€è¦çš„æ—¶å€™ <strong>è‡ªåŠ¨è°ƒæ•´å¤§å°</strong> ã€‚åˆ—è¡¨é‡Œ <strong>å¯ä»¥åŒ…å«é‡å¤
çš„å…ƒç´ </strong> ã€‚å¸¸ç”¨çš„åœºæ™¯æœ‰ï¼Œæ·»åŠ ä¸€è¡Œæ–°çš„é¡¹åˆ°è®¢å•åˆ—è¡¨é‡Œï¼ŒæŠŠæ‰€æœ‰è¿‡æœŸçš„å•†å“ç§»å‡ºå•†å“åˆ—è¡¨ç­‰ç­‰ã€‚ä¸€èˆ¬ä¼šæŠŠåˆ—è¡¨åˆå§‹åŒ–æˆä¸€ä¸ªåˆé€‚çš„å¤§å°ï¼Œä»¥å‡å°‘è°ƒæ•´å¤§å°çš„æ¬¡æ•°ã€‚</p>
<h5 id="-é›†åˆ">ï¬ é›†åˆï¼š</h5>
<p>é›†åˆ å’Œåˆ—è¡¨å¾ˆç›¸ä¼¼ï¼Œä¸è¿‡å®ƒ ä¸èƒ½æ”¾é‡å¤çš„å…ƒç´ ã€‚</p>
<h5 id="-å †æ ˆ">ï¬ å †æ ˆï¼š</h5>
<p>å †æ ˆ åªå…è®¸ å¯¹æœ€åæ’å…¥ çš„ å…ƒç´ è¿›è¡Œæ“ä½œ ï¼ˆä¹Ÿå°±æ˜¯ åè¿›å…ˆå‡º ï¼ŒLastInFirstOut- LIFOï¼‰ã€‚å¦‚æœä½ ç§»é™¤äº†æ ˆé¡¶çš„å…ƒç´ ï¼Œé‚£ä¹ˆä½ å¯ä»¥æ“ä½œå€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡
ç±»æ¨ã€‚è¿™ç§åè¿›å…ˆå‡ºçš„æ–¹å¼æ˜¯é€šè¿‡ä»…æœ‰çš„ <strong>peek(),push()å’Œpop()</strong> è¿™å‡ ä¸ªæ–¹æ³•çš„<strong>å¼ºåˆ¶æ€§</strong> é™åˆ¶è¾¾åˆ°çš„ã€‚</p>
<h5 id="-é˜Ÿåˆ—">ï¬ é˜Ÿåˆ—ï¼š</h5>
<pre><code>**é˜Ÿåˆ—** å’Œå †æ ˆæœ‰äº›ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºåœ¨é˜Ÿåˆ—é‡Œ **ç¬¬ä¸€ä¸ªæ’å…¥çš„
</code></pre>
<p>å…ƒç´ ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªè¢«åˆ é™¤çš„å…ƒç´ ** ï¼ˆå³æ˜¯ <strong>å…ˆè¿›å…ˆå‡º</strong> ï¼‰ã€‚è¿™ç§å…ˆè¿›å…ˆå‡ºçš„ç»“æ„æ˜¯é€šè¿‡åªæä¾›peek()ï¼Œoffer()å’Œpoll()è¿™å‡ ä¸ªæ–¹æ³•æ¥è®¿é—®æ•°æ®è¿›è¡Œé™åˆ¶æ¥è¾¾åˆ°çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ’é˜Ÿç­‰å¾…å…¬äº¤è½¦ï¼Œé“¶è¡Œæˆ–è€…è¶…å¸‚é‡Œçš„ç­‰å¾…åˆ—é˜Ÿç­‰ç­‰ï¼Œéƒ½æ˜¯å¯ä»¥ç”¨é˜Ÿåˆ—æ¥è¡¨ç¤ºã€‚</p>
<h5 id="-é“¾è¡¨">ï¬ é“¾è¡¨ï¼š</h5>
<p>é“¾è¡¨æ˜¯ä¸€ç§ç”± <strong>å¤šä¸ªèŠ‚ç‚¹ç»„æˆçš„</strong> æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åŒ…å«æœ‰æ•°æ®ä»¥åŠæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œåœ¨åŒå‘é“¾è¡¨é‡Œï¼Œè¿˜ä¼šæœ‰ä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨å•å‘é“¾è¡¨å’ŒåŒå‘é“¾è¡¨æ¥å®ç°å †æ ˆå’Œé˜Ÿåˆ—ï¼Œå› ä¸ºé“¾è¡¨çš„ä¸¤ç«¯éƒ½æ˜¯å¯ä»¥è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„åŠ¨ä½œçš„ã€‚å½“ç„¶ï¼Œä¹Ÿä¼šæœ‰åœ¨é“¾è¡¨çš„ä¸­é—´é¢‘ç¹æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹çš„åœºæ™¯ã€‚</p>
<p>Apacheçš„ç±»åº“é‡Œæä¾›äº†ä¸€ä¸ªTreeListçš„å®ç°ï¼Œå®ƒæ˜¯é“¾è¡¨çš„ä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£ï¼Œå› ä¸ºå®ƒåªå¤šå ç”¨äº†ä¸€ç‚¹å†…å­˜ï¼Œä½†æ˜¯æ€§èƒ½æ¯”é“¾è¡¨å¥½å¾ˆå¤šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»è¿™ç‚¹æ¥çœ‹é“¾è¡¨å…¶å®ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p>
<h3 id="113-javaé›†åˆä½“ç³»æœ‰ä»€ä¹ˆå¿…ä¼š">1.13 Javaé›†åˆä½“ç³»æœ‰ä»€ä¹ˆ?(å¿…ä¼š)</h3>
<p>é›†åˆç±»å­˜æ”¾äº Java.util åŒ…ä¸­ï¼Œä¸»è¦æœ‰ 3 ç§ï¼šset(é›†ï¼‰ã€list(åˆ—è¡¨åŒ…å« Queueï¼‰å’Œ map(æ˜ å°„)ã€‚</p>
<ol>
<li>Collectionï¼šCollection æ˜¯é›†åˆ Listã€Setã€Queue çš„æœ€åŸºæœ¬çš„æ¥å£ã€‚</li>
<li>Iteratorï¼šè¿­ä»£å™¨ï¼Œå¯ä»¥é€šè¿‡è¿­ä»£å™¨éå†é›†åˆä¸­çš„æ•°æ®ã€‚</li>
<li>Mapï¼šæ˜¯æ˜ å°„è¡¨çš„åŸºç¡€æ¥å£ã€‚</li>
</ol>
<p><img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/6.jpg"
	width="656"
	height="426"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/6_hu0728c4bda8d0658977616be2fb21876f_228512_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/6_hu0728c4bda8d0658977616be2fb21876f_228512_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="6"
	
	
		class="gallery-image" 
		data-flex-grow="153"
		data-flex-basis="369px"
	
>
<img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/7.jpg"
	width="747"
	height="1012"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/7_hud38baec5f8bf87cdb01b8ac6c8001b90_293068_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/7_hud38baec5f8bf87cdb01b8ac6c8001b90_293068_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="7"
	
	
		class="gallery-image" 
		data-flex-grow="73"
		data-flex-basis="177px"
	
></p>
<p><strong>1 .Iteratoræ¥å£</strong></p>
<p>Iterator æ¥å£æ˜¯ä¸€ä¸ªç”¨äºéå†é›†åˆä¸­å…ƒç´ çš„æ¥å£ï¼Œä¸»è¦åŒ…å«
<strong>hashNext(),next(),remove()</strong> ä¸‰ç§æ–¹æ³•ã€‚å¦‚æœå®ç°Iteratoræ¥å£ï¼Œé‚£ä¹ˆåœ¨éå†é›†åˆä¸­å…ƒç´ çš„æ—¶å€™ï¼Œåªèƒ½å¾€åéå†ï¼Œè¢«éå†åçš„å…ƒç´ ä¸ä¼šåœ¨éå†åˆ°ï¼Œé€šå¸¸ <strong>æ— åºé›†åˆå®ç°çš„éƒ½æ˜¯è¿™ä¸ªæ¥å£</strong> ï¼Œæ¯”å¦‚HashSetï¼ŒHashMap</p>
<p><strong>2 .LinkedIteratoræ¥å£ï¼š</strong></p>
<p>LinkedIterator åœ¨ Iterator çš„ åŸº ç¡€ ä¸Š åˆ æ·» åŠ  äº†<strong>add(),previous(),hasPrevious()</strong> ä¸‰ç§æ–¹æ³•ï¼Œé‚£äº›å…ƒç´  <strong>æœ‰åºçš„é›†åˆ</strong> ï¼Œå®ç°çš„ <strong>ä¸€èˆ¬éƒ½æ˜¯LinkedIteratoræ¥å£</strong> ï¼Œå®ç°è¿™ä¸ªæ¥å£çš„é›†åˆå¯ä»¥åŒå‘éå†ï¼Œæ—¢å¯ä»¥é€šè¿‡<strong>next()è®¿é—®ä¸‹ä¸€ä¸ªå…ƒç´ </strong> ï¼Œåˆå¯ä»¥é€šè¿‡ <strong>previous()è®¿é—®å‰ä¸€ä¸ªå…ƒç´ </strong> ï¼Œæ¯”å¦‚ArrayListã€‚</p>
<p><strong>3 .Collectionï¼ˆé›†åˆçš„æœ€å¤§æ¥å£ï¼‰ç»§æ‰¿å…³ç³»</strong></p>
<p>List å¯ä»¥å­˜æ”¾é‡å¤çš„å†…å®¹</p>
<p>Set ä¸èƒ½å­˜æ”¾é‡å¤çš„å†…å®¹ï¼Œæ‰€ä»¥çš„é‡å¤å†…å®¹é hashCode()å’Œequals()ä¸¤ä¸ªæ–¹æ³•åŒºåˆ†</p>
<p>Queue é˜Ÿåˆ—æ¥å£</p>
<p>SortedSetå¯ä»¥å¯¹é›†åˆä¸­çš„æ•°æ®è¿›è¡Œæ’åº</p>
<p>Collectionå®šä¹‰äº†é›†åˆæ¡†æ¶çš„å…±æ€§åŠŸèƒ½ï¼š
<img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/8.jpg"
	width="832"
	height="110"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/8_hu24cca35706366b0dfe59b26496a99231_98836_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/8_hu24cca35706366b0dfe59b26496a99231_98836_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="8"
	
	
		class="gallery-image" 
		data-flex-grow="756"
		data-flex-basis="1815px"
	
>
addæ–¹æ³•çš„å‚æ•°ç±»å‹æ˜¯Objectã€‚ä»¥ä¾¿äºæ¥æ”¶ä»»æ„ç±»å‹å¯¹è±¡ã€‚
é›†åˆä¸­å­˜å‚¨çš„éƒ½æ˜¯å¯¹è±¡çš„å¼•ç”¨(åœ°å€)ã€‚</p>
<p><strong>4 .List</strong></p>
<p>å‡¡æ˜¯å¯ä»¥æ“ä½œè§’æ ‡çš„æ–¹æ³•éƒ½æ˜¯è¯¥ä½“ç³»ç‰¹æœ‰çš„æ–¹æ³•ï¼š
<img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/9.jpg"
	width="791"
	height="182"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/9_hu4d1c11d52f8345bc010c3b6ae8ab76ec_102407_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/9_hu4d1c11d52f8345bc010c3b6ae8ab76ec_102407_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="9"
	
	
		class="gallery-image" 
		data-flex-grow="434"
		data-flex-basis="1043px"
	
>
ï¬ ArrayList çº¿ç¨‹ä¸å®‰å…¨ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«</p>
<p>ï¬ Vector çº¿ç¨‹å®‰å…¨ï¼Œä½†é€Ÿåº¦æ…¢ï¼Œå·²è¢«ArrayListæ›¿ä»£</p>
<p>ï¬ LinkedList é“¾è¡¨ç»“æœï¼Œå¢åˆ é€Ÿåº¦å¿«</p>
<p>ï¬ TreeList æ ‘å‹ç»“æ„ï¼Œä¿è¯å¢åˆ å¤æ‚åº¦éƒ½æ˜¯Oï¼ˆlognï¼‰,å¢åˆ æ€§èƒ½è¿œé«˜äº
ArrayListå’ŒLinkedList,ä½†æ˜¯ç¨å¾®å ç”¨å†…å­˜</p>
<p><strong>5 .Set</strong></p>
<p>ï¬ Setï¼šå…ƒç´ æ˜¯ <strong>æ— åº</strong> (å­˜å…¥å’Œå–å‡ºçš„é¡ºåºä¸ä¸€å®šä¸€è‡´)ï¼Œå…ƒç´  <strong>ä¸å¯ä»¥é‡å¤</strong> ã€‚</p>
<p>ïµ HashSet: <strong>åº•å±‚</strong> æ•°æ®ç»“æ„æ˜¯ <strong>å“ˆå¸Œè¡¨,</strong> æ˜¯ <strong>çº¿ç¨‹ä¸å®‰å…¨</strong> çš„, æ•°æ®ä¸åŒæ­¥ã€‚</p>
<p>ïµ HashSetæ˜¯å¦‚ä½• <strong>ä¿è¯å…ƒç´ å”¯ä¸€æ€§</strong> çš„å‘¢ï¼Ÿ</p>
<p>æ˜¯é€šè¿‡å…ƒç´ çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œ <strong>hashCodeå’Œequals</strong> æ¥å®Œæˆã€‚</p>
<p>å¦‚æœå…ƒç´ çš„HashCodeå€¼ç›¸åŒï¼Œæ‰ä¼šåˆ¤æ–­equalsæ˜¯å¦ä¸ºtrueã€‚
å¦‚æœå…ƒç´ çš„hashcodeå€¼ä¸åŒï¼Œä¸ä¼šè°ƒç”¨equalsã€‚</p>
<p>æ³¨æ„,å¯¹äºåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠåˆ é™¤ç­‰æ“ä½œï¼Œä¾èµ–çš„æ–¹æ³•æ˜¯å…ƒç´ çš„
hashcodeå’Œequalsæ–¹æ³•ã€‚</p>
<p>ï¬ TreeSetï¼š <strong>åº•å±‚</strong> æ•°æ®ç»“æ„æ˜¯ <strong>äºŒå‰æ ‘</strong> ï¼Œå­˜æ”¾ <strong>æœ‰åº</strong> ï¼šTreeSet <strong>çº¿ç¨‹ä¸å®‰å…¨</strong> å¯ä»¥å¯¹Seté›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚é€šè¿‡compareToæˆ–è€…compareæ–¹æ³•æ¥ä¿è¯å…ƒç´ çš„å”¯ä¸€æ€§ã€‚</p>
<p><strong>6 .Map</strong></p>
<p>Correctionã€Setã€Listæ¥å£éƒ½å±äºå•å€¼çš„æ“ä½œï¼Œè€ŒMapä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä½¿
ç”¨keyâ€”â€”&gt;valueçš„å½¢å¼å­˜å‚¨åœ¨é›†åˆä¸­ã€‚</p>
<p>Mapé›†åˆï¼šè¯¥é›†åˆå­˜å‚¨é”®å€¼å¯¹,æ˜¯key:valueä¸€å¯¹ä¸€å¯¹å¾€é‡Œå­˜, è€Œä¸”è¦ä¿è¯
é”®çš„å”¯ä¸€æ€§ã€‚
<img src="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/10.jpg"
	width="936"
	height="146"
	srcset="/post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/10_hu957d86759920cfbdc8686eefdd1063b5_107656_480x0_resize_q75_box.jpg 480w, /post/java%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/10_hu957d86759920cfbdc8686eefdd1063b5_107656_1024x0_resize_q75_box.jpg 1024w"
	loading="lazy"
	
		alt="10"
	
	
		class="gallery-image" 
		data-flex-grow="641"
		data-flex-basis="1538px"
	
></p>
<p>Mapæ¥å£çš„å¸¸ç”¨å­ç±»</p>
<p>ï¬ HashMapï¼š <strong>åº•å±‚</strong> æ•°æ®ç»“æ„æ˜¯ <strong>å“ˆå¸Œè¡¨</strong> ï¼Œå…è®¸ä½¿ç”¨ null å€¼å’Œ null é”®ï¼Œè¯¥é›†åˆæ˜¯æ•°æ®ä¸åŒæ­¥çš„ï¼Œå°†hashtableæ›¿ä»£ï¼Œjdk 1.2.æ•ˆç‡é«˜ã€‚</p>
<p>ï¬ TreeMapï¼š <strong>åº•å±‚</strong> æ•°æ®ç»“æ„æ˜¯ <strong>äºŒå‰æ ‘ï¼Œ</strong> çº¿ç¨‹ä¸åŒæ­¥ï¼Œå¯ä»¥ç”¨äºç»™mapé›†åˆä¸­çš„é”®è¿›è¡Œæ’åºã€‚</p>
<h3 id="114-listçš„ä¸‰ä¸ªå­ç±»çš„ç‰¹ç‚¹å¿…ä¼š">1.14 Listçš„ä¸‰ä¸ªå­ç±»çš„ç‰¹ç‚¹(å¿…ä¼š)</h3>
<ul>
<li>ArrayList åº•å±‚ç»“æ„æ˜¯æ•°ç»„,åº•å±‚æŸ¥è¯¢å¿«,å¢åˆ æ…¢</li>
<li>LinkedList åº•å±‚ç»“æ„æ˜¯é“¾è¡¨å‹çš„,å¢åˆ å¿«,æŸ¥è¯¢æ…¢</li>
<li>Voctoråº•å±‚ç»“æ„æ˜¯æ•°ç»„ çº¿ç¨‹å®‰å…¨çš„,å¢åˆ æ…¢,æŸ¥è¯¢æ…¢</li>
</ul>
<h3 id="115-listå’Œmapsetçš„åŒºåˆ«å¿…ä¼š">1.15 Listå’ŒMapã€Setçš„åŒºåˆ«(å¿…ä¼š)</h3>
<h5 id="ç»“æ„ç‰¹ç‚¹">ç»“æ„ç‰¹ç‚¹:</h5>
<p>List å’Œ Set æ˜¯å­˜å‚¨å•åˆ—æ•°æ®çš„é›†åˆï¼ŒMap æ˜¯å­˜å‚¨é”®å’Œå€¼è¿™æ ·çš„åŒåˆ—æ•°æ®çš„é›†åˆï¼›</p>
<p>List ä¸­å­˜å‚¨çš„æ•°æ®æ˜¯æœ‰é¡ºåºï¼Œå¹¶ä¸”å…è®¸é‡å¤ï¼›</p>
<p>Map ä¸­å­˜å‚¨çš„æ•°æ®æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œå…¶é”®æ˜¯ä¸èƒ½é‡å¤çš„ï¼Œå®ƒçš„å€¼æ˜¯å¯ä»¥æœ‰é‡
å¤çš„ï¼Œ</p>
<p>Setä¸­å­˜å‚¨çš„æ•°æ®æ˜¯æ— åºçš„ï¼Œä¸”ä¸å…è®¸æœ‰é‡å¤ï¼Œä½†å…ƒç´ åœ¨é›†åˆä¸­çš„ä½ç½®ç”±
å…ƒç´ çš„ hashcode å†³å®šï¼Œä½ç½®æ˜¯å›ºå®šçš„ï¼ˆSet é›†åˆæ ¹æ® hashcodeæ¥è¿›è¡Œæ•°æ®çš„å­˜å‚¨ï¼Œæ‰€ä»¥ä½ç½®æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯ä½ç½®ä¸æ˜¯ç”¨æˆ·å¯ä»¥æ§åˆ¶çš„ï¼Œæ‰€ä»¥å¯¹äºç”¨æˆ·æ¥è¯´ set ä¸­çš„å…ƒç´ è¿˜æ˜¯æ— åºçš„ï¼‰ï¼›</p>
<p><strong>å®ç°ç±»</strong>
<strong>List æ¥å£</strong> æœ‰ä¸‰ä¸ªå®ç°ç±»ï¼ˆ</p>
<p><strong>LinkedList</strong> ï¼šåŸºäºé“¾è¡¨å®ç°ï¼Œé“¾è¡¨å†…å­˜æ˜¯æ•£ä¹±çš„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ å­˜å‚¨æœ¬èº«å†…å­˜åœ°å€çš„åŒæ—¶è¿˜å­˜å‚¨ä¸‹ä¸€ä¸ªå…ƒç´ çš„åœ°å€ã€‚é“¾è¡¨å¢åˆ å¿«ï¼ŒæŸ¥æ‰¾æ…¢ï¼›</p>
<p><strong>ArrayList</strong> ï¼šåŸºäºæ•°ç»„å®ç°ï¼Œéçº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼Œä¾¿äºç´¢å¼•ï¼Œä½†ä¸ä¾¿äºæ’å…¥åˆ é™¤ï¼›</p>
<p><strong>Vector</strong> ï¼šåŸºäºæ•°ç»„å®ç°ï¼Œçº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ï¼‰ã€‚</p>
<p><strong>Map æ¥å£</strong> æœ‰ä¸‰ä¸ªå®ç°ç±»ï¼ˆ</p>
<p><strong>HashMap</strong> ï¼šåŸºäº hash è¡¨çš„ Map æ¥å£å®ç°ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œé«˜æ•ˆï¼Œæ”¯æŒ null å€¼å’Œ nullé”®ï¼›</p>
<p><strong>HashTable</strong> ï¼šçº¿ç¨‹å®‰å…¨ï¼Œä½æ•ˆï¼Œä¸æ”¯æŒ null å€¼å’Œ null é”®ï¼›</p>
<p><strong>LinkedHashMap</strong> ï¼šæ˜¯ HashMap çš„ä¸€ä¸ªå­
ç±»ï¼Œä¿å­˜äº†è®°å½•çš„æ’å…¥é¡ºåºï¼›SortMap æ¥å£ï¼šTreeMapï¼Œèƒ½å¤ŸæŠŠå®ƒä¿å­˜çš„è®°å½•æ ¹æ®é”®æ’åºï¼Œé»˜è®¤æ˜¯é”®å€¼çš„å‡åºæ’åºï¼‰ã€‚</p>
<p><strong>Set æ¥å£</strong> æœ‰ä¸¤ä¸ªå®ç°ç±»ï¼ˆ</p>
<p><strong>HashSet</strong> ï¼šåº•å±‚æ˜¯ç”± HashMap å®ç°ï¼Œä¸å…
è®¸é›†åˆä¸­æœ‰é‡å¤çš„å€¼ï¼Œä½¿ç”¨è¯¥æ–¹å¼æ—¶éœ€è¦é‡å†™ equals()å’Œ hashCode()æ–¹æ³•ï¼›</p>
<p><strong>LinkedHashSet</strong>ï¼šç»§æ‰¿ä¸ HashSetï¼ŒåŒæ—¶åˆåŸºäº LinkedHashMap æ¥è¿›è¡Œå®
ç°ï¼Œåº•å±‚ä½¿ç”¨çš„æ˜¯ LinkedHashMpï¼‰ã€‚</p>
<h3 id="116-hashmapåº•å±‚å®ç°åŸç†å¿…ä¼š">1.16 HashMapåº•å±‚å®ç°åŸç†(å¿…ä¼š)</h3>
<p>HashMapæ ¹æ®é”®çš„hashCodeå€¼å­˜å‚¨æ•°æ®,å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ç›´æ¥å®šä½åˆ°
å®ƒçš„å€¼.å› è€Œå…·æœ‰å¾ˆå¿«çš„è®¿é—®é€Ÿåº¦,ä½†æ˜¯éå†é¡ºåºå´ä¸ç¡®å®šçš„.HashMapæœ€å¤šåªå…è®¸ä¸€æ¡è®°å½•çš„é”®ä¸ºnull,å…è®¸å¤šæ¡è®°å½•çš„å€¼ä¸ºnullã€‚</p>
<p>HashMapéçº¿ç¨‹å®‰å…¨,å³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™HashMap,å¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚</p>
<p>å¦‚æœéœ€è¦æ»¡è¶³çº¿ç¨‹å®‰å…¨,å¯ä»¥ç”¨Collectionsçš„synchronizedMapæ–¹æ³•ä½¿
HashMapå…·æœ‰çº¿ç¨‹å®‰å…¨çš„èƒ½åŠ›,æˆ–è€…ä½¿ConcurrentHashMap,HashTable.
å¦‚ä¸‹è¯¦ç»†ä»‹ç»ã€‚</p>
<p>ï¬ <strong>JDK 1. 8 ä¹‹å‰ (æ•°ç»„+é“¾è¡¨)</strong></p>
<p>ï® <strong>æœ€å¼€å§‹å­˜å…¥æ•°æ®çš„æ—¶å€™</strong></p>
<ol>
<li>JDK 1. 8 ä¹‹å‰HashMapåº•å±‚æ˜¯æ•°ç»„å’Œé“¾è¡¨ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨,ä¹Ÿå°±æ˜¯é“¾è¡¨æ•£åˆ—.æ•°ç»„çš„é•¿åº¦è§„å®šæ˜¯ 2 çš„å¹‚.æ•°ç»„ä¸­å­˜æ”¾çš„å¯¹è±¡Entry&lt;key,value&gt;å¯¹è±¡ ,ä¸å…è®¸æœ‰é‡å¤çš„keyå­˜åœ¨,ä¸ºä»€ä¹ˆå‘¢?</li>
<li>é¦–å…ˆ,å…ˆåˆ¤æ–­keyå­˜æ”¾çš„ä½ç½®,HashMapé€šè¿‡keyçš„hashCodeç»è¿‡æ‰°åŠ¨å‡½
æ•°å¤„ç†è¿‡åå¾—åˆ°hashå€¼,ç„¶åé€šè¿‡(n- 1 )&amp;hashåˆ¤æ–­å½“å‰å…ƒç´ å­˜æ”¾çš„ä½ç½®(è¿™é‡Œçš„næŒ‡çš„æ˜¯æ•°ç»„çš„é•¿åº¦). ä¹Ÿå¯ä»¥ç†è§£:key%æ•°ç»„é•¿åº¦=å¯¹åº”æ•°ç»„çš„ç´¢å¼•ä¸‹æ ‡.ç„¶åå°†valueå­˜å…¥åˆ°entryå¯¹è±¡ä¸­ã€‚æ‰€è°“æ‰°åŠ¨å‡½æ•°çŸ¥é“å°±æ˜¯HashMapçš„hashæ–¹æ³•.ä½¿ç”¨hashæ–¹æ³•ä¹Ÿå°±æ˜¯æ‰°åŠ¨å‡½æ•°æ˜¯ä¸ºäº†é˜²æ­¢ä¸€äº›å®ç°æ¯”è¾ƒå·®çš„hashCode()æ–¹æ³•,æ¢å¥è¯è¯´ä½¿ç”¨æ‰°åŠ¨å‡½æ•°ä¹‹åå¯ä»¥å‡å°‘ç¢°æ’ã€‚</li>
<li>ä¸ºä»€ä¹ˆä½¿ç”¨(n- 1 )&amp;lengthé•¿åº¦å‘¢?
( 1 )ä¿è¯æ•°ç»„ä¸ä¼šè¶Šç•Œ:
é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“,åœ¨HashMapå’ŒConcurrentHashMapä¸­,æ•°ç»„çš„é•¿åº¦æŒ‰è§„
å®šä¸€å®šæ˜¯ 2 çš„å¹‚( 2 çš„næ¬¡æ–¹)å› æ­¤,æ•°ç»„çš„é•¿åº¦çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯: 10000 &hellip; 000 , 1 å
é¢æœ‰ä¸€å † 0 ã€‚é‚£ä¹ˆtab.length- 1 çš„äºŒè¿›åˆ¶å½¢å¼å°±æ˜¯ 01111 &hellip; 111 ï¼Œ 0 åé¢æœ‰ä¸€å † 1 ã€‚æœ€é«˜ä½æ˜¯ 0 , å’Œhashå€¼ç›¸&quot;ä¸&quot;ï¼Œç»“æœå€¼ä¸€å®šä¸ä¼šæ¯”æ•°ç»„çš„é•¿åº¦å€¼å¤§,å› æ­¤ä¹Ÿå°±ä¸ä¼šå‘ç”Ÿæ•°ç»„è¶Šç•Œ.
( 2 )ä¿è¯å…ƒç´ å°½å¯èƒ½çš„å‡åŒ€åˆ†å¸ƒ
åœ¨æ“ä½œçš„æ—¶å€™,é“¾è¡¨ä¸­çš„å…ƒç´ è¶Šå¤š,æ•ˆç‡è¶Šä½,å› ä¸ºè¦ä¸åœçš„å¯¹é“¾è¡¨å¾ªç¯æ¯”è¾ƒ.
æ‰€ä»¥,ä¸€å®šè¦ä½¿å“ˆå¸Œå‡åŒ€åˆ†å¸ƒ,å°½é‡å‡å°‘å“ˆå¸Œå†²çª,æé«˜æ•ˆç‡</li>
</ol>
<p>ï® <strong>ç»§ç»­å­˜å…¥æ•°æ®</strong></p>
<p>ç»§ç»­å­˜å…¥æ•°æ®,è¿˜æ˜¯è¦é€šè¿‡ç¬¬ 1 æ­¥è®¡ç®—keyåœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®. å¦‚æœå½“å‰ä½ç½®å­˜åœ¨å…ƒç´ çš„è¯,å†é€šè¿‡keyçš„equal()æ–¹æ³•åˆ¤æ–­keyæ˜¯å¦ç›¸åŒ,å¦‚æœç›¸åŒvalueå€¼å°±ä¼šè¦†ç›–; å¦‚æœkeyçš„equals()æ–¹æ³•ä¸åŒ,åˆ™åœ¨æ•°ç»„å¯¹åº”ç´¢å¼•ä½ç½®å˜ä¸ºé“¾è¡¨å­˜å‚¨æ–°çš„Entry&lt;key,value&gt;ã€‚</p>
<p>ï® <strong>æ‹‰é“¾æ³•</strong></p>
<p>ä¸Šä¸€æ­¥è¯´åˆ°çš„é“¾è¡¨æ˜¯æ‹‰é“¾æ³•: å°†é“¾è¡¨å’Œæ•°ç»„ç›¸ç»“åˆ.ä¹Ÿå°±æ˜¯è¯´åˆ›å»ºä¸€ä¸ªé“¾è¡¨</p>
<p>æ•°ç»„,æ•°ç»„ä¸­æ¯ä¸€æ ¼å°±æ˜¯ä¸€ä¸ªé“¾è¡¨.è‹¥çº¦åˆ°å“ˆå¸Œå†²çª,åˆ™å°†å†²çªçš„å€¼åŠ åˆ°é“¾è¡¨ä¸­å³å¯.</p>
<p><strong>ï¬ JDK 1. 8 ä¹‹å(æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘)</strong></p>
<p>å¦‚æœé“¾è¡¨çš„é•¿åº¦è¶…è¿‡ 8 åˆ™è½¬ä¸ºçº¢é»‘æ ‘,å½“çº¢é»‘æ ‘ä¸­çš„å…ƒç´ å°äº 6 æ—¶åˆå˜ä¸ºé“¾è¡¨(æœ‰è¿™äº›å˜åŒ–çš„åŸå› å°±æ˜¯ç»¼åˆæ—¶é—´å¤æ‚åº¦ä»¥åŠç©ºé—´å¤æ‚åº¦çš„è€ƒè™‘)è·å–æ—¶,ç›´æ¥æ‰¾åˆ°keyçš„hashå€¼å¯¹åº”çš„ä¸‹æ ‡,åœ¨è¿›ä¸€æ­¥ç”¨equelsæ–¹æ³•åˆ¤æ–­keyæ˜¯å¦ç›¸åŒ,ä»è€Œæ‰¾åˆ°å¯¹åº”å€¼åˆ™è¿”å›æ‰¾ä¸åˆ°åˆ™è¿”å›nullã€‚</p>
<p>ç›¸æ¯”äºä¹‹å‰çš„ç‰ˆæœ¬,jdk 1. 8 åœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–,å½“é“¾è¡¨é•¿åº¦å¤§äºé˜€å€¼(é»˜è®¤ä¸º 8 )æ—¶,å°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘,ä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚</p>
<h3 id="117-è°ˆä¸€ä¸‹-hashmap-ä¸­ä»€ä¹ˆæ—¶å€™éœ€è¦è¿›è¡Œæ‰©å®¹æ‰©å®¹-resizeåˆæ˜¯å¦‚ä½•å®ç°çš„é«˜è–ªå¸¸é—®"><strong>1.17 è°ˆä¸€ä¸‹ hashMap ä¸­ä»€ä¹ˆæ—¶å€™éœ€è¦è¿›è¡Œæ‰©å®¹ï¼Œæ‰©å®¹ resize()åˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ(é«˜è–ªå¸¸é—®)</strong></h3>
<p><strong>è°ƒç”¨åœºæ™¯ï¼š</strong></p>
<ol>
<li>åˆå§‹åŒ–æ•°ç»„ table</li>
<li>å½“æ•°ç»„ table çš„ size è¾¾åˆ°é˜™å€¼æ—¶è¿›è¡Œæ‰©å®¹
<strong>å®ç°è¿‡ç¨‹ï¼š</strong></li>
</ol>
<p>é€šè¿‡åˆ¤æ–­æ—§æ•°ç»„çš„å®¹é‡æ˜¯å¦å¤§äº 0 æ¥åˆ¤æ–­æ•°ç»„æ˜¯å¦åˆå§‹åŒ–è¿‡ã€‚</p>
<p>ï¬ å¦‚æœå°äº 0 ï¼šè¿›è¡Œåˆå§‹åŒ–,åˆ¤æ–­æ˜¯å¦è°ƒç”¨æ— å‚æ„é€ å™¨ã€‚</p>
<p>å¦‚æœè°ƒç”¨äº†æ— å‚æ„é€ å™¨: ä½¿ç”¨é»˜è®¤çš„å¤§å°å’Œé˜™å€¼&lt;é˜ˆå€¼ 12. é˜€å€¼=é»˜è®¤å¤§å°ä¸º 16 ä¹˜ä»¥è´Ÿè½½å› å­ 0. 75 ã€‚</p>
<p>å¦‚æœæ²¡æœ‰è°ƒç”¨æ— å‚æ„é€ å™¨: ä½¿ç”¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–çš„å®¹é‡, å½“ç„¶è¿™ä¸ªå®¹
é‡æ˜¯ç»è¿‡tableSizefor è®¡ç®—åçš„ 2 çš„æ¬¡å¹‚æ•°) ã€‚</p>
<p>ï¬ å¦‚æœå¤§äº 0 : è¿›è¡Œæ‰©å®¹ï¼Œæ‰©å®¹æˆä¸¤å€(å°äºæœ€å¤§å€¼çš„æƒ…å†µä¸‹)ï¼Œä¹‹ååœ¨è¿›è¡Œå°†å…ƒç´ é‡æ–°è¿›è¡Œä¸è¿ç®—å¤åˆ¶åˆ°æ–°çš„æ•£åˆ—è¡¨ä¸­ã€‚</p>
<p><strong>æ¦‚æ‹¬çš„è®²ï¼š</strong>
æ‰©å®¹éœ€è¦é‡æ–°åˆ†é…ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ–°æ•°ç»„æ˜¯è€æ•°ç»„çš„ 2 å€é•¿ï¼Œç„¶åéå†æ•´è€
ç»“æ„ï¼ŒæŠŠæ‰€æœ‰çš„å…ƒç´ æŒ¨ä¸ªé‡æ–°hashåˆ†é…åˆ°æ–°ç»“æ„ä¸­å»ã€‚PSï¼šå¯è§åº•å±‚æ•°æ®ç»“æ„ç”¨åˆ°äº†æ•°ç»„ï¼Œåˆ°æœ€åä¼šå› ä¸ºå®¹é‡é—®é¢˜éƒ½éœ€è¦è¿›è¡Œæ‰©å®¹æ“ä½œã€‚</p>
<h3 id="118-concurrenthashmapç‰¹ç‚¹é«˜è–ªå¸¸é—®">1.18 ConcurrentHashMapç‰¹ç‚¹(é«˜è–ªå¸¸é—®)</h3>
<p><strong>Segment æ®µ</strong></p>
<p>ConcurrentHashMap å’Œ HashMap æ€è·¯æ˜¯å·®ä¸å¤šçš„ï¼Œä½†æ˜¯å› ä¸ºå®ƒæ”¯æŒå¹¶
å‘æ“ä½œï¼Œæ‰€ä»¥è¦å¤æ‚ä¸€äº›ã€‚æ•´ä¸ª ConcurrentHashMap ç”±ä¸€ä¸ªä¸ª Segment ç»„æˆï¼ŒSegment ä»£è¡¨â€éƒ¨åˆ†â€æˆ–â€ä¸€æ®µâ€œçš„æ„æ€ï¼Œæ‰€ä»¥å¾ˆå¤šåœ°æ–¹éƒ½ä¼šå°†å…¶æè¿°ä¸ºåˆ†æ®µé”ã€‚</p>
<p>æ³¨æ„ï¼Œè¡Œæ–‡ä¸­ï¼Œæˆ‘å¾ˆå¤šåœ°æ–¹ç”¨äº†â€œæ§½â€æ¥ä»£è¡¨ä¸€ä¸ªsegmentã€‚</p>
<p><strong>çº¿ç¨‹å®‰å…¨ï¼ˆSegment ç»§æ‰¿ ReentrantLock åŠ é”ï¼‰</strong></p>
<p>ç®€å•ç†è§£å°±æ˜¯ï¼ŒConcurrentHashMapæ˜¯ä¸€ä¸ª Segment æ•°ç»„ï¼ŒSegment
é€šè¿‡ç»§æ‰¿ReentrantLock æ¥è¿›è¡ŒåŠ é”ï¼Œæ‰€ä»¥æ¯æ¬¡éœ€è¦åŠ é”çš„æ“ä½œé”ä½çš„æ˜¯ä¸€ä¸ªsegmentï¼Œè¿™æ ·åªè¦ä¿è¯æ¯ä¸ªSegment æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¹Ÿå°±å®ç°äº†å…¨å±€çš„çº¿ç¨‹å®‰å…¨ã€‚</p>
<h5 id="å¹¶è¡Œåº¦é»˜è®¤-16-">å¹¶è¡Œåº¦ï¼ˆé»˜è®¤ 16 ï¼‰</h5>
<p>concurrencyLevelï¼šå¹¶è¡Œçº§åˆ«ã€å¹¶å‘æ•°ã€Segment æ•°ï¼Œæ€ä¹ˆç¿»è¯‘ä¸é‡è¦ï¼Œ
ç†è§£å®ƒã€‚é»˜è®¤æ˜¯ 16 ï¼Œä¹Ÿå°±æ˜¯è¯´ ConcurrentHashMapæœ‰ 16 Segmentsï¼Œ
æ‰€ä»¥ç†è®ºä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæœ€å¤šå¯ä»¥åŒæ—¶æ”¯æŒ 16 ä¸ªçº¿ç¨‹å¹¶å‘å†™ï¼Œåªè¦å®ƒä»¬çš„æ“ä½œåˆ†åˆ«åˆ†å¸ƒåœ¨ä¸åŒçš„ Segment ä¸Šã€‚è¿™ä¸ªå€¼å¯ä»¥åœ¨åˆå§‹åŒ–çš„æ—¶å€™è®¾ç½®ä¸ºå…¶ä»–å€¼ï¼Œä½†æ˜¯ä¸€æ—¦åˆå§‹åŒ–ä»¥åï¼Œå®ƒæ˜¯ä¸å¯ä»¥æ‰©å®¹çš„ã€‚å†å…·ä½“åˆ°æ¯ä¸ª Segment å†…éƒ¨ï¼Œå…¶å®æ¯ä¸ª Segment å¾ˆåƒä¹‹å‰ä»‹ç»çš„ HashMapï¼Œä¸è¿‡å®ƒè¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œæ‰€ä»¥å¤„ç†èµ·æ¥è¦éº»çƒ¦äº›ã€‚</p>
<p><strong>Java 8 å®ç° ï¼ˆå¼•å…¥äº†çº¢é»‘æ ‘ï¼‰</strong></p>
<p>Java 8 å¯¹ ConcurrentHashMapè¿›è¡Œäº†æ¯”è¾ƒå¤§çš„æ”¹åŠ¨,Java 8 ä¹Ÿå¼•å…¥äº†çº¢é»‘æ ‘</p>
<h3 id="119-hashtableäº†è§£">1.19 HashTable(äº†è§£)</h3>
<p>Hashtable æ˜¯é—ç•™ç±»ï¼Œå¾ˆå¤šæ˜ å°„çš„å¸¸ç”¨åŠŸèƒ½ä¸ HashMapç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯
å®ƒæ‰¿è‡ª Dictionary ç±»ï¼Œå¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»»ä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å†™
Hashtableï¼Œå¹¶å‘æ€§ä¸å¦‚ ConcurrentHashMapï¼Œå› ConcurrentHashMap
å¼•å…¥äº†åˆ†æ®µé”ã€‚Hashtable ä¸å»ºè®®åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨ï¼Œä¸éœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨ HashMap æ›¿æ¢ï¼Œéœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ConcurrentHashMap æ›¿æ¢ã€‚</p>
<h3 id="120-hashmap-å’Œhashtableæœ‰ä»€ä¹ˆåŒºåˆ«å¿…ä¼š">1.20 HashMap å’ŒHashTableæœ‰ä»€ä¹ˆåŒºåˆ«?(å¿…ä¼š)</h3>
<p>HashMap æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„,HashMap æ˜¯ä¸€ä¸ªæ¥å£,æ˜¯ Map çš„ä¸€ä¸ªå­æ¥
å£,æ˜¯å°†é”®æ˜ å°„åˆ°å€¼å¾—å¯¹è±¡,ä¸å…è®¸é”®å€¼é‡å¤,å…è®¸ç©ºé”®å’Œç©ºå€¼;ç”±äºéçº¿ç¨‹å®‰
å…¨,HashMap çš„æ•ˆç‡è¦è¾ƒ HashTable çš„æ•ˆç‡é«˜ä¸€äº›.
HashTable æ˜¯çº¿ç¨‹å®‰å…¨çš„ä¸€ä¸ªé›†åˆ,ä¸å…è®¸ null å€¼ä½œä¸ºä¸€ä¸ª key å€¼æˆ–è€…
Value å€¼;
HashTable æ˜¯ sychronize,å¤šä¸ªçº¿ç¨‹è®¿é—®æ—¶ä¸éœ€è¦è‡ªå·±ä¸ºå®ƒçš„æ–¹æ³•å®ç°åŒ
æ­¥,è€Œ HashMap åœ¨è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®çš„æ—¶å€™éœ€è¦è‡ªå·±ä¸ºå®ƒçš„æ–¹æ³•å®ç°åŒæ­¥;</p>
<h3 id="1-21-hashmaphashtableconcurrenthashmapä¹‹é—´çš„åŒºåˆ«åŠæ€§èƒ½å¯¹æ¯”å¿…ä¼š"><strong>1. 21 HashMapï¼ŒHashTableï¼ŒConcurrentHashMapä¹‹é—´çš„åŒºåˆ«ï¼ŒåŠæ€§èƒ½å¯¹æ¯”(å¿…ä¼š)</strong></h3>
<p><strong>æ€§èƒ½ï¼š</strong></p>
<p>ConcurrentHashMap( <strong>çº¿ç¨‹å®‰å…¨</strong> )&gt;HashMap&gt;HashTable( <strong>çº¿ç¨‹å®‰å…¨</strong> )</p>
<p><strong>åŒºåˆ«å¯¹æ¯”ä¸€(HashMapå’ŒHashTableåŒºåˆ«)ï¼š</strong></p>
<ol>
<li>HashMapæ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼ŒHashTableæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</li>
<li>HashMapçš„é”®å’Œå€¼éƒ½å…è®¸æœ‰nullå€¼å­˜åœ¨ï¼Œè€ŒHashTableåˆ™ä¸è¡Œã€‚</li>
<li>å› ä¸ºçº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼ŒHashMapæ•ˆç‡æ¯”HashTableçš„è¦é«˜ã€‚</li>
<li>Hashtableæ˜¯åŒæ­¥çš„ï¼Œè€ŒHashMapä¸æ˜¯ã€‚å› æ­¤ï¼ŒHashMapæ›´é€‚åˆäºå•çº¿ç¨‹ç¯å¢ƒï¼Œè€ŒHashtableé€‚åˆäºå¤šçº¿ç¨‹ç¯å¢ƒã€‚ä¸€èˆ¬ç°åœ¨ä¸å»ºè®®ç”¨HashTable,</li>
</ol>
<p>â‘ æ˜¯HashTableæ˜¯é—ç•™ç±»ï¼Œå†…éƒ¨å®ç°å¾ˆå¤šæ²¡ä¼˜åŒ–å’Œå†—ä½™ã€‚</p>
<p>â‘¡å³ä½¿åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œç°åœ¨ä¹Ÿæœ‰åŒæ­¥çš„ConcurrentHashMapæ›¿ä»£ï¼Œæ²¡æœ‰å¿…è¦å› ä¸ºæ˜¯å¤šçº¿ç¨‹è€Œç”¨HashTableã€‚</p>
<p><strong>åŒºåˆ«å¯¹æ¯”äºŒ(HashTableå’ŒConcurrentHashMapåŒºåˆ«)ï¼š</strong></p>
<p>HashTableä½¿ç”¨çš„æ˜¯Synchronizedå…³é”®å­—ä¿®é¥°ï¼Œ</p>
<p><strong>ConcurrentHashMap</strong> æ˜¯ä½¿ç”¨äº†é”åˆ†æ®µæŠ€æœ¯æ¥ä¿è¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p><strong>Hashtable</strong> ä¸­é‡‡ç”¨çš„é”æœºåˆ¶æ˜¯ä¸€æ¬¡é”ä½æ•´ä¸ªhashè¡¨ï¼Œä»è€Œåœ¨åŒä¸€æ—¶åˆ»åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹å¯¹å…¶è¿›è¡Œæ“ä½œï¼›è€Œ <strong>ConcurrentHashMap</strong> ä¸­åˆ™æ˜¯ä¸€æ¬¡é”ä½ä¸€ä¸ªæ¡¶ã€‚</p>
<p>ConcurrentHashMapé»˜è®¤å°†hashè¡¨åˆ†ä¸º 16 ä¸ªæ¡¶ï¼Œè¯¸å¦‚getã€putremove
ç­‰å¸¸ç”¨æ“ä½œåªé”ä½å½“å‰éœ€è¦ç”¨åˆ°çš„æ¡¶ã€‚è¿™æ ·ï¼ŒåŸæ¥åªèƒ½ä¸€ä¸ªçº¿ç¨‹è¿›å…¥ï¼Œç°åœ¨å´èƒ½åŒæ—¶æœ‰ 16 ä¸ªå†™çº¿ç¨‹æ‰§è¡Œï¼Œå¹¶å‘æ€§èƒ½çš„æå‡æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚</p>
<p><strong>1. 22 ä»€ä¹ˆæ˜¯çº¿ç¨‹?çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«?(å¿…ä¼š)</strong></p>
<p><strong>çº¿ç¨‹ï¼š</strong> æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“ï¼Œæ˜¯ cpu è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„
å¯ä»¥ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ã€‚
<strong>è¿›ç¨‹ï¼š</strong> å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯æ“ä½œ
ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚
<strong>ç‰¹ç‚¹ï¼š</strong> çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œè¿™ä½¿å¤šçº¿ç¨‹ç¨‹åºæ‹¥æœ‰é«˜å¹¶å‘æ€§ï¼Œè¿›ç¨‹åœ¨è¿è¡Œ
æ—¶å„è‡ªå†…å­˜å•å…ƒç›¸äº’ç‹¬ç«‹ï¼Œçº¿ç¨‹ä¹‹é—´ å†…å­˜å…±äº«ï¼Œè¿™ä½¿å¤šçº¿ç¨‹ç¼–ç¨‹å¯ä»¥æ‹¥æœ‰æ›´å¥½
çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<pre tabindex="0"><code>æ³¨æ„ ï¼šå¤šçº¿ç¨‹ç¼–ç¨‹å¯¹äºå…¶å®ƒç¨‹åºæ˜¯ä¸å‹å¥½çš„ï¼Œå æ®å¤§é‡ cpu èµ„æºã€‚
</code></pre><h3 id="1-23-åˆ›å»ºçº¿ç¨‹æœ‰å‡ ç§æ–¹å¼å¿…ä¼š">1 23 åˆ›å»ºçº¿ç¨‹æœ‰å‡ ç§æ–¹å¼(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p><strong>1 .ç»§æ‰¿ Thread ç±»</strong>
Thread ç±»æœ¬è´¨ä¸Šæ˜¯å®ç°äº† Runnable æ¥å£çš„ä¸€ä¸ªå®ä¾‹ï¼Œä»£è¡¨ä¸€ä¸ªçº¿ç¨‹çš„
å®ä¾‹ã€‚å¯åŠ¨çº¿ç¨‹çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯é€šè¿‡ Thread ç±»çš„ start()å®ä¾‹æ–¹æ³•ã€‚ <strong>start()æ–¹
æ³•æ˜¯ä¸€ä¸ª native æ–¹æ³•</strong> ï¼Œå®ƒå°†å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œ run()æ–¹æ³•ã€‚</p>
<p><strong>2 .å®ç°Runnableæ¥å£</strong>
å¦‚æœè‡ªå·±çš„ç±»å·²ç» extends å¦ä¸€ä¸ªç±»ï¼Œå°±æ— æ³•ç›´æ¥ extendsThreadï¼Œæ­¤
æ—¶ï¼Œå¯ä»¥å®ç°
ä¸€ä¸ª Runnableæ¥å£ã€‚</p>
<p><strong>3 .å®ç°Callableæ¥å£</strong>
Callabledæ¥å£æœ‰ç‚¹å„¿åƒæ˜¯Runnableæ¥å£çš„å¢å¼ºç‰ˆï¼Œå®ƒ <strong>ä»¥call()æ–¹æ³•ä½œä¸º
çº¿ç¨‹æ‰§è¡Œä½“</strong> ï¼Œ call()æ–¹æ³•æ¯”run()æ–¹æ³•åŠŸèƒ½æ›´å¼ºå¤§ã€‚
<strong>call()æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼ï¼Œå¯ä»¥å£°æ˜æŠ›å‡ºå¼‚å¸¸ç±»</strong> ã€‚
è·å–call()æ–¹æ³•é‡Œçš„è¿”å›å€¼: é€šè¿‡FutureTaskç±»ï¼ˆå®ç°Futureæ¥å£ï¼‰çš„å®
ä¾‹å¯¹è±¡çš„get()æ–¹æ³•å¾—åˆ°ï¼Œå¾—åˆ°ç»“æœç±»å‹ä¸åˆ›å»ºTutureTaskç±»ç»™çš„æ³›å‹ä¸€è‡´ã€‚
<strong>å…·ä½“ä»£ç å®ç°</strong></p>
<p><strong>1 .å®šä¹‰å®ç°Callableæ¥å£çš„å®ç°ç±»ï¼Œå¹¶å®ç°call()æ–¹æ³•ã€‚æ³¨æ„ï¼šCallable
æœ‰æ³›å‹é™åˆ¶ï¼Œä¸è¿”å›å€¼ç±»å‹ä¸€è‡´ã€‚è¿™é‡Œæ˜¯Integer</strong>
publicclassThirdThreadimplementsCallable<!-- raw HTML omitted -->{//é‡å†™call()æ–¹æ³•}
<strong>2 .å†åˆ›å»ºCallableå®ç°ç±»çš„å®ä¾‹ttã€‚</strong>
ThirdThreadtt=newThirdThread();
<strong>3 .ä½¿ç”¨FutureTaskç±»åŒ…è£…Callableçš„å®ä¾‹ttã€‚</strong>
FutureTask<!-- raw HTML omitted -->task=newFutureTask<!-- raw HTML omitted -->(tt);//æ³¨æ„ï¼šæ³›å‹é™åˆ¶ä¸è¿”å›ç»“æœä¸€
è‡´ã€‚</p>
<p><strong>4 .ä»¥FutureTaskå¯¹è±¡ï¼ˆtaskï¼‰ä½œä¸ºThreadçš„targetæ¥åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶å¯
åŠ¨ã€‚</strong>
newThread(task,&ldquo;çº¿ç¨‹&rdquo;).start();</p>
<pre tabindex="0"><code>5 .è°ƒç”¨FutureTaskå¯¹è±¡ï¼ˆtaskï¼‰çš„get()æ–¹æ³•è·å¾—è¿”å›å€¼
Integerresult=task.get();//ä¼šæœ‰å¼‚å¸¸
</code></pre><p><strong>4. é€šè¿‡çº¿ç¨‹æ± æ–¹æ³•</strong>
ï¬ ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ,å¦‚ä½•ä½¿ç”¨?
çº¿ç¨‹æ± å°±æ˜¯äº‹å…ˆå°†å¤šä¸ªçº¿ç¨‹å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œå½“ä½¿ç”¨çš„æ—¶å€™å°±ä¸ç”¨ new çº¿
ç¨‹è€Œæ˜¯ç›´æ¥å»æ± ä¸­æ‹¿çº¿ç¨‹å³å¯ï¼ŒèŠ‚çœäº†å¼€è¾Ÿå­çº¿ç¨‹çš„æ—¶é—´ï¼Œæé«˜çš„ä»£ç æ‰§è¡Œæ•ˆç‡ã€‚
åœ¨ JDKçš„ java.util.concurrent.Executors ä¸­æä¾›äº†ç”Ÿæˆå¤šç§çº¿ç¨‹æ± çš„é™æ€
æ–¹æ³•.</p>
<p>ç„¶åè°ƒç”¨ä»–ä»¬çš„ executeæ–¹æ³•å³å¯ã€‚
<strong>åˆç†åˆ©ç”¨çº¿ç¨‹æ± èƒ½å¤Ÿå¸¦æ¥ä¸‰ä¸ªå¥½å¤„ã€‚</strong>
ç¬¬ä¸€ï¼šé™ä½èµ„æºæ¶ˆè€—ã€‚é€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆ
è€—ã€‚
ç¬¬äºŒï¼šæé«˜å“åº”é€Ÿåº¦ã€‚å½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§
è¡Œã€‚
ç¬¬ä¸‰ï¼šæé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚çº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—
ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œè°ƒä¼˜å’Œç›‘
æ§.
ï¬ å¸¸ç”¨çš„çº¿ç¨‹æ± æœ‰å“ªäº›ï¼Ÿ
<strong>newSingleThreadExecutorï¼š</strong> åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œæ­¤çº¿ç¨‹æ± ä¿è¯æ‰€æœ‰
ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºæŒ‰ç…§ä»»åŠ¡çš„æäº¤é¡ºåºæ‰§è¡Œã€‚
<strong>newFixedThreadPoolï¼š</strong> åˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œæ¯æ¬¡æäº¤ä¸€ä¸ªä»»åŠ¡å°±åˆ›å»ºä¸€
ä¸ªçº¿ç¨‹ï¼Œç›´åˆ°çº¿ç¨‹è¾¾åˆ°çº¿ç¨‹æ± çš„æœ€å¤§å¤§å°ã€‚
<strong>newCachedThreadPoolï¼š</strong> åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çš„çº¿ç¨‹æ± ï¼Œæ­¤çº¿ç¨‹æ± ä¸ä¼šå¯¹çº¿ç¨‹æ± 
å¤§å°åšé™åˆ¶ï¼Œçº¿ç¨‹æ± å¤§å°å®Œå…¨ä¾èµ–äºæ“ä½œç³»ç»Ÿï¼ˆæˆ–è€…è¯´ JVMï¼‰èƒ½å¤Ÿåˆ›å»ºçš„æœ€å¤§
çº¿ç¨‹å¤§å°ã€‚
<strong>newScheduledThreadPoolï¼š</strong> åˆ›å»ºä¸€ä¸ªå¤§å°æ— é™çš„çº¿ç¨‹æ± ï¼Œæ­¤çº¿ç¨‹æ± æ”¯æŒå®šæ—¶
ä»¥åŠå‘¨æœŸæ€§æ‰§è¡Œä»»åŠ¡çš„éœ€æ±‚ã€‚</p>
<h3 id="1-24-çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•æœ‰ä»€ä¹ˆå¿…ä¼š">1 24 çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•æœ‰ä»€ä¹ˆ?(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>çº¿ç¨‹ç›¸å…³çš„åŸºæœ¬æ–¹æ³•æœ‰ <strong>waitï¼Œnotifyï¼ŒnotifyAllï¼Œsleepï¼Œjoinï¼Œyield</strong> ç­‰ã€‚</p>
<p><strong>1 .çº¿ç¨‹ç­‰å¾…ï¼ˆwaitï¼‰</strong>
è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹è¿›å…¥ WAITING çŠ¶æ€ï¼Œåªæœ‰ç­‰å¾…å¦å¤–çº¿ç¨‹çš„é€šçŸ¥æˆ–è¢«ä¸­
æ–­æ‰ä¼šè¿”å›ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è°ƒç”¨ wait()æ–¹æ³•åï¼Œ <strong>ä¼šé‡Šæ”¾å¯¹è±¡çš„é”</strong> ã€‚å› æ­¤ï¼Œwait æ–¹
æ³•ä¸€èˆ¬ç”¨åœ¨åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥ä»£ç å—ä¸­ã€‚</p>
<p><strong>2 .çº¿ç¨‹ç¡çœ ï¼ˆsleepï¼‰
sleep å¯¼è‡´å½“å‰çº¿ç¨‹ä¼‘çœ ï¼Œä¸ wait æ–¹æ³•ä¸åŒçš„æ˜¯ sleep ä¸ä¼šé‡Šæ”¾å½“å‰å 
æœ‰çš„é”,sleep(long)ä¼šå¯¼è‡´çº¿ç¨‹è¿›å…¥ TIMED-WATING çŠ¶æ€ï¼Œè€Œ wait()æ–¹æ³•
ä¼šå¯¼è‡´å½“å‰çº¿ç¨‹è¿›å…¥ WATING çŠ¶æ€.
3 .çº¿ç¨‹è®©æ­¥ï¼ˆyieldï¼‰</strong>
yieldä¼šä½¿å½“å‰çº¿ç¨‹ <strong>è®©å‡º CPU æ‰§è¡Œæ—¶é—´ç‰‡</strong> ï¼Œä¸å…¶ä»–çº¿ç¨‹ä¸€èµ·é‡æ–°ç«äº‰
CPU æ—¶é—´ç‰‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹æœ‰æ›´å¤§çš„å¯èƒ½æ€§æˆåŠŸç«äº‰å¾—åˆ° CPU
æ—¶é—´ç‰‡ï¼Œä½†è¿™åˆä¸æ˜¯ç»å¯¹çš„ï¼Œæœ‰çš„æ“ä½œç³»ç»Ÿå¯¹ çº¿ç¨‹ä¼˜å…ˆçº§å¹¶ä¸æ•æ„Ÿã€‚</p>
<p><strong>4 .çº¿ç¨‹ä¸­æ–­ï¼ˆinterruptï¼‰</strong>
ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶æœ¬æ„æ˜¯ <strong>ç»™è¿™ä¸ªçº¿ç¨‹ä¸€ä¸ªé€šçŸ¥ä¿¡å·ï¼Œä¼šå½±å“è¿™ä¸ªçº¿ç¨‹å†…éƒ¨çš„
ä¸€ä¸ªä¸­æ–­æ ‡è¯†ä½ã€‚è¿™ä¸ªçº¿ç¨‹æœ¬èº«å¹¶ä¸ä¼šå› æ­¤è€Œæ”¹å˜çŠ¶æ€(å¦‚é˜»å¡ï¼Œç»ˆæ­¢ç­‰)
5 .Join ç­‰å¾…å…¶ä»–çº¿ç¨‹ç»ˆæ­¢
join()æ–¹æ³•ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹ç»ˆæ­¢</strong> ï¼Œåœ¨å½“å‰çº¿ç¨‹ä¸­è°ƒç”¨ä¸€ä¸ªçº¿ç¨‹çš„ join() æ–¹
æ³•ï¼Œåˆ™å½“å‰çº¿ç¨‹è½¬ä¸ºé˜»å¡çŠ¶æ€ï¼Œå›åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ç»“æŸï¼Œå½“å‰çº¿ç¨‹å†ç”±é˜»å¡çŠ¶æ€å˜
ä¸ºå°±ç»ªçŠ¶æ€ï¼Œç­‰å¾… cpu çš„å® å¹¸.
<strong>6 .çº¿ç¨‹å”¤é†’ï¼ˆnotifyï¼‰</strong>
Object ç±»ä¸­çš„ notify() æ–¹æ³•ï¼Œ <strong>å”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å•ä¸ªçº¿ç¨‹</strong> ï¼Œå¦‚
æœæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨æ­¤å¯¹è±¡ä¸Šç­‰å¾…ï¼Œåˆ™ä¼šé€‰æ‹©å”¤é†’å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ï¼Œé€‰æ‹©æ˜¯ä»»æ„çš„ï¼Œå¹¶
åœ¨å¯¹å®ç°åšå‡ºå†³å®šæ—¶å‘ç”Ÿï¼Œçº¿ç¨‹é€šè¿‡è°ƒç”¨å…¶ä¸­ä¸€ä¸ª wait() æ–¹æ³•ï¼Œåœ¨å¯¹è±¡çš„ç›‘è§†
å™¨ä¸Šç­‰å¾…ï¼Œ <strong>ç›´åˆ°å½“å‰çš„çº¿ç¨‹æ”¾å¼ƒæ­¤å¯¹è±¡ä¸Šçš„é”å®šï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œè¢«å”¤é†’çš„çº¿ç¨‹</strong> ï¼Œ
è¢«å”¤é†’çš„çº¿ç¨‹å°†ä»¥å¸¸è§„æ–¹å¼ä¸åœ¨è¯¥å¯¹è±¡ä¸Šä¸»åŠ¨åŒæ­¥çš„å…¶ä»–æ‰€æœ‰çº¿ç¨‹è¿›è¡Œç«äº‰ã€‚ç±»
ä¼¼çš„æ–¹æ³•è¿˜æœ‰ notifyAll() ï¼Œå”¤é†’å†æ¬¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ã€‚</p>
<h3 id="1-25-åœ¨java-ä¸­waitå’Œsleep-æ–¹æ³•çš„ä¸åŒå¿…ä¼š">1 25 åœ¨java ä¸­waitå’Œsleep æ–¹æ³•çš„ä¸åŒï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>æœ€å¤§çš„ä¸åŒæ˜¯åœ¨ç­‰å¾…æ—¶ wait ä¼šé‡Šæ”¾é”ï¼Œè€Œ sleep ä¸€ç›´æŒæœ‰é”ã€‚wait é€šå¸¸
è¢«ç”¨äºçº¿ç¨‹é—´äº¤äº’ï¼Œsleep é€šå¸¸è¢«ç”¨äºæš‚åœæ‰§è¡Œã€‚</p>
<h3 id="1-26-çº¿ç¨‹æ± åŸç†é«˜è–ªå¸¸é—®">1 26 çº¿ç¨‹æ± åŸç†(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="çº¿ç¨‹æ± åšçš„å·¥ä½œä¸»è¦æ˜¯æ§åˆ¶è¿è¡Œçš„çº¿ç¨‹çš„æ•°é‡å¤„ç†è¿‡ç¨‹ä¸­å°†ä»»åŠ¡æ”¾å…¥é˜Ÿ">çº¿ç¨‹æ± åšçš„å·¥ä½œä¸»è¦æ˜¯æ§åˆ¶è¿è¡Œçš„çº¿ç¨‹çš„æ•°é‡ï¼Œå¤„ç†è¿‡ç¨‹ä¸­å°†ä»»åŠ¡æ”¾å…¥é˜Ÿ</h5>
<h5 id="åˆ—ç„¶ååœ¨çº¿ç¨‹åˆ›å»ºåå¯åŠ¨è¿™äº›ä»»åŠ¡å¦‚æœçº¿ç¨‹æ•°é‡è¶…è¿‡äº†æœ€å¤§æ•°é‡-è¶…å‡ºæ•°é‡çš„">åˆ—ï¼Œç„¶ååœ¨çº¿ç¨‹åˆ›å»ºåå¯åŠ¨è¿™äº›ä»»åŠ¡ï¼Œå¦‚æœçº¿ç¨‹æ•°é‡è¶…è¿‡äº†æœ€å¤§æ•°é‡ è¶…å‡ºæ•°é‡çš„</h5>
<h5 id="çº¿ç¨‹æ’é˜Ÿç­‰å€™-ç­‰å…¶å®ƒçº¿ç¨‹æ‰§è¡Œå®Œæ¯•å†ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œä»–çš„ä¸»è¦ç‰¹">çº¿ç¨‹æ’é˜Ÿç­‰å€™ ï¼Œç­‰å…¶å®ƒçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå†ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ¥æ‰§è¡Œã€‚ä»–çš„ä¸»è¦ç‰¹</h5>
<h5 id="ç‚¹ä¸º-çº¿ç¨‹å¤ç”¨æ§åˆ¶æœ€å¤§å¹¶å‘æ•°ç®¡ç†çº¿ç¨‹">ç‚¹ä¸ºï¼š çº¿ç¨‹å¤ç”¨ï¼›æ§åˆ¶æœ€å¤§å¹¶å‘æ•°ï¼›ç®¡ç†çº¿ç¨‹ã€‚</h5>
<h5 id="çº¿ç¨‹å¤ç”¨">çº¿ç¨‹å¤ç”¨:</h5>
<p>æ¯ä¸€ä¸ª Thread çš„ç±»éƒ½æœ‰ä¸€ä¸ª start æ–¹æ³•ã€‚ å½“è°ƒç”¨ start å¯åŠ¨çº¿ç¨‹æ—¶
Javaè™šæ‹Ÿæœºä¼šè°ƒç”¨è¯¥ç±»çš„ run æ–¹æ³•ã€‚ é‚£ä¹ˆè¯¥ç±»çš„ run() æ–¹æ³•ä¸­å°±æ˜¯è°ƒç”¨äº†
Runnableå¯¹è±¡çš„ run() æ–¹æ³•ã€‚ <strong>æˆ‘ä»¬å¯ä»¥ç»§æ‰¿é‡å†™ Thread ç±»ï¼Œåœ¨å…¶ start
æ–¹æ³•ä¸­æ·»åŠ ä¸æ–­å¾ªç¯è°ƒç”¨ä¼ é€’è¿‡æ¥çš„ Runnable å¯¹è±¡</strong> ã€‚ è¿™å°±æ˜¯çº¿ç¨‹æ± çš„å®ç°
åŸç†ã€‚ <strong>å¾ªç¯æ–¹æ³•ä¸­ä¸æ–­è·å– Runnable æ˜¯ç”¨ Queueå®ç°çš„</strong> ï¼Œåœ¨è·å–ä¸‹ä¸€ä¸ª
Runnableä¹‹å‰å¯ä»¥æ˜¯é˜»å¡çš„ã€‚
<strong>çº¿ç¨‹æ± çš„ç»„æˆ:</strong>
ä¸€èˆ¬çš„çº¿ç¨‹æ± ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ 4 ä¸ªç»„æˆéƒ¨åˆ†ï¼š</p>
<ol>
<li>çº¿ç¨‹æ± ç®¡ç†å™¨ï¼šç”¨äºåˆ›å»ºå¹¶ç®¡ç†çº¿ç¨‹æ± </li>
<li>å·¥ä½œçº¿ç¨‹ï¼šçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹</li>
<li>ä»»åŠ¡æ¥å£ï¼šæ¯ä¸ªä»»åŠ¡å¿…é¡»å®ç°çš„æ¥å£ï¼Œç”¨äºå·¥ä½œçº¿ç¨‹è°ƒåº¦å…¶è¿è¡Œ</li>
<li>ä»»åŠ¡é˜Ÿåˆ—ï¼šç”¨äºå­˜æ”¾å¾…å¤„ç†çš„ä»»åŠ¡ï¼Œæä¾›ä¸€ç§ç¼“å†²æœºåˆ¶
<strong>æ‹’ç»ç­–ç•¥:</strong>
çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å·²ç»ç”¨å®Œäº†ï¼Œæ— æ³•ç»§ç»­ä¸ºæ–°ä»»åŠ¡æœåŠ¡ï¼ŒåŒæ—¶ï¼Œç­‰å¾…é˜Ÿåˆ—ä¹Ÿå·²
ç»æ’æ»¡äº†ï¼Œå†ä¹Ÿå¡ä¸ä¸‹æ–°ä»»åŠ¡äº†ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ‹’ç»ç­–ç•¥æœºåˆ¶åˆç†çš„å¤„ç†è¿™
ä¸ªé—®é¢˜ã€‚
JDKå†…ç½®çš„æ‹’ç»ç­–ç•¥å¦‚ä¸‹ï¼š
1 .AbortPolicy ï¼š ç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé˜»æ­¢ç³»ç»Ÿæ­£å¸¸è¿è¡Œã€‚</li>
</ol>
<p>2 .CallerRunsPolicy ï¼š åªè¦çº¿ç¨‹æ± æœªå…³é—­ï¼Œè¯¥ç­–ç•¥ç›´æ¥åœ¨è°ƒç”¨è€…çº¿ç¨‹ä¸­ï¼Œ
è¿è¡Œå½“å‰è¢«ä¸¢å¼ƒçš„ä»»åŠ¡ã€‚æ˜¾ç„¶è¿™æ ·åšä¸ä¼šçœŸçš„ä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ï¼Œä»»åŠ¡æäº¤çº¿ç¨‹çš„
æ€§èƒ½ææœ‰å¯èƒ½ä¼šæ€¥å‰§ä¸‹é™ã€‚
3 .DiscardOldestPolicy ï¼š ä¸¢å¼ƒæœ€è€çš„ä¸€ä¸ªè¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å³å°†è¢«æ‰§è¡Œçš„ä¸€
ä¸ªä»»åŠ¡ï¼Œå¹¶å°è¯•å†æ¬¡æäº¤å½“å‰ä»»åŠ¡ã€‚
4 .DiscardPolicy ï¼š è¯¥ç­–ç•¥é»˜é»˜åœ°ä¸¢å¼ƒæ— æ³•å¤„ç†çš„ä»»åŠ¡ï¼Œä¸äºˆä»»ä½•å¤„ç†ã€‚
å¦‚æœå…è®¸ä»»åŠ¡ä¸¢å¤±ï¼Œè¿™æ˜¯æœ€å¥½çš„ä¸€ç§æ–¹æ¡ˆ
<strong>Javaçº¿ç¨‹æ± å·¥ä½œè¿‡ç¨‹:</strong></p>
<h5 id="1-çº¿ç¨‹æ± åˆšåˆ›å»ºæ—¶é‡Œé¢æ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡é˜Ÿåˆ—æ˜¯ä½œä¸ºå‚æ•°ä¼ è¿›æ¥çš„ä¸è¿‡">1. çº¿ç¨‹æ± åˆšåˆ›å»ºæ—¶ï¼Œé‡Œé¢æ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ä»»åŠ¡é˜Ÿåˆ—æ˜¯ä½œä¸ºå‚æ•°ä¼ è¿›æ¥çš„ã€‚ä¸è¿‡ï¼Œ</h5>
<h5 id="å°±ç®—é˜Ÿåˆ—é‡Œé¢æœ‰ä»»åŠ¡çº¿ç¨‹æ± ä¹Ÿä¸ä¼šé©¬ä¸Šæ‰§è¡Œå®ƒä»¬">å°±ç®—é˜Ÿåˆ—é‡Œé¢æœ‰ä»»åŠ¡ï¼Œçº¿ç¨‹æ± ä¹Ÿä¸ä¼šé©¬ä¸Šæ‰§è¡Œå®ƒä»¬ã€‚</h5>
<ol start="2">
<li>å½“è°ƒç”¨ execute() æ–¹æ³•æ·»åŠ ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåšå¦‚ä¸‹åˆ¤æ–­ï¼š
a) å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å°äº corePoolSizeï¼Œé‚£ä¹ˆé©¬ä¸Šåˆ›å»ºçº¿ç¨‹è¿è¡Œè¿™
ä¸ªä»»åŠ¡ï¼›
b) å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº corePoolSizeï¼Œé‚£ä¹ˆå°†è¿™ä¸ªä»»åŠ¡
æ”¾å…¥é˜Ÿåˆ—ï¼›
c) å¦‚æœè¿™æ—¶å€™é˜Ÿåˆ—æ»¡äº†ï¼Œè€Œä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å°äº
maximumPoolSizeï¼Œé‚£ä¹ˆè¿˜æ˜¯è¦åˆ›å»ºéæ ¸å¿ƒçº¿ç¨‹ç«‹åˆ»è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼›
d) å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè€Œä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº
maximumPoolSizeï¼Œé‚£ä¹ˆçº¿ç¨‹æ± ä¼šæŠ›å‡ºå¼‚å¸¸ RejectExecutionExceptionã€‚</li>
<li>å½“ä¸€ä¸ªçº¿ç¨‹å®Œæˆä»»åŠ¡æ—¶ï¼Œå®ƒä¼šä»é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œã€‚</li>
<li>å½“ä¸€ä¸ªçº¿ç¨‹æ— äº‹å¯åšï¼Œè¶…è¿‡ä¸€å®šçš„æ—¶é—´ï¼ˆkeepAliveTimeï¼‰æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåˆ¤
æ–­ï¼Œå¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å¤§äº corePoolSizeï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±è¢«åœæ‰ã€‚æ‰€ä»¥
çº¿ç¨‹æ± çš„æ‰€æœ‰ä»»åŠ¡å®Œæˆåï¼Œå®ƒæœ€ç»ˆä¼šæ”¶ç¼©åˆ° corePoolSize çš„å¤§å°ã€‚</li>
</ol>
<h3 id="1-27-çº¿ç¨‹æ‰§è¡Œçš„é¡ºåºé«˜è–ªå¸¸é—®">1 27 çº¿ç¨‹æ‰§è¡Œçš„é¡ºåº(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="1-å½“çº¿ç¨‹æ•°å°äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ä¼šä¸€ç›´åˆ›å»ºçº¿ç¨‹ç›´åˆ°çº¿ç¨‹æ•°ç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°">1. å½“çº¿ç¨‹æ•°å°äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œä¼šä¸€ç›´åˆ›å»ºçº¿ç¨‹ç›´åˆ°çº¿ç¨‹æ•°ç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼›</h5>
<h5 id="2-å½“çº¿ç¨‹æ•°ç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶æ–°åŠ å…¥çš„ä»»åŠ¡ä¼šè¢«æ”¾åˆ°ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ">2. å½“çº¿ç¨‹æ•°ç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œæ–°åŠ å…¥çš„ä»»åŠ¡ä¼šè¢«æ”¾åˆ°ä»»åŠ¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œï¼›</h5>
<h5 id="3-å½“ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡åˆæœ‰æ–°çš„ä»»åŠ¡æ—¶ä¼šåˆ›å»ºçº¿ç¨‹ç›´åˆ°çº¿ç¨‹æ•°é‡ç­‰äºæœ€å¤§çº¿ç¨‹">3. å½“ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œåˆæœ‰æ–°çš„ä»»åŠ¡æ—¶ï¼Œä¼šåˆ›å»ºçº¿ç¨‹ç›´åˆ°çº¿ç¨‹æ•°é‡ç­‰äºæœ€å¤§çº¿ç¨‹</h5>
<h5 id="æ•°">æ•°ï¼›</h5>
<h5 id="4-å½“çº¿ç¨‹æ•°ç­‰äºæœ€å¤§çº¿ç¨‹æ•°ä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡æ—¶æ–°åŠ å…¥ä»»åŠ¡ä¼šè¢«æ‹’ç»">4. å½“çº¿ç¨‹æ•°ç­‰äºæœ€å¤§çº¿ç¨‹æ•°ï¼Œä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œæ–°åŠ å…¥ä»»åŠ¡ä¼šè¢«æ‹’ç»ã€‚</h5>
<h3 id="1-28-çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›é«˜è–ªå¸¸é—®">1 28 çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="é»˜è®¤å‚æ•°">é»˜è®¤å‚æ•°ï¼š</h5>
<p>corePoolSize= 1
queueCapacity=Integer.MAX_VALUE
maxPoolSize=Integer.MAX_VALUE
keepAliveTime= 60 ç§’
allowCoreThreadTimeout=false
rejectedExecutionHandler=AbortPolicy()</p>
<p><strong>å…·ä½“è®²è§£ï¼š
1 .corePoolSizeï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°ï¼‰</strong>
ï¼ˆ 1 ï¼‰æ ¸å¿ƒçº¿ç¨‹ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿æ²¡æœ‰ä»»åŠ¡æ‰§è¡Œï¼›
ï¼ˆ 2 ï¼‰å½“çº¿ç¨‹æ•°å°äºæ ¸å¿ƒçº¿ç¨‹æ•°çš„æ—¶å€™ï¼Œå³ä½¿æœ‰ç©ºé—²çº¿ç¨‹ï¼Œä¹Ÿä¼šä¸€ç›´åˆ›å»ºçº¿ç¨‹ç›´
åˆ°è¾¾åˆ°æ ¸å¿ƒçº¿ç¨‹æ•°ï¼›
ï¼ˆ 3 ï¼‰è®¾ç½®allowCoreThreadTimeout=trueï¼ˆé»˜è®¤falseï¼‰æ—¶ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¼šè¶…æ—¶
å…³é—­ã€‚
<strong>2 .queueCapacityï¼ˆä»»åŠ¡é˜Ÿåˆ—å®¹é‡ï¼‰</strong>
ä¹Ÿå«é˜»å¡é˜Ÿåˆ—ï¼Œå½“æ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨è¿è¡Œï¼Œæ­¤æ—¶å†æœ‰ä»»åŠ¡è¿›æ¥ï¼Œä¼šè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ’
é˜Ÿç­‰å¾…çº¿ç¨‹æ‰§è¡Œã€‚
<strong>3 .maxPoolSizeï¼ˆæœ€å¤§çº¿ç¨‹æ•°ï¼‰</strong>
ï¼ˆ 1 ï¼‰çº¿ç¨‹æ± é‡Œå…è®¸å­˜åœ¨çš„æœ€å¤§çº¿ç¨‹æ•°é‡ï¼›</p>
<h5 id="-2-å½“ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ä¸”çº¿ç¨‹æ•°é‡å¤§äºç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§">ï¼ˆ 2 ï¼‰å½“ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œä¸”çº¿ç¨‹æ•°é‡å¤§äºç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§</h5>
<h5 id="è¡Œä»»åŠ¡">è¡Œä»»åŠ¡ï¼›</h5>
<h5 id="-3-çº¿ç¨‹æ± é‡Œå…è®¸å­˜åœ¨çš„æœ€å¤§çº¿ç¨‹æ•°é‡å½“ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ä¸”çº¿ç¨‹æ•°é‡å¤§äºç­‰">ï¼ˆ 3 ï¼‰çº¿ç¨‹æ± é‡Œå…è®¸å­˜åœ¨çš„æœ€å¤§çº¿ç¨‹æ•°é‡ã€‚å½“ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œä¸”çº¿ç¨‹æ•°é‡å¤§äºç­‰</h5>
<h5 id="äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡">äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ã€‚</h5>
<p><strong>4 .keepAliveTimeï¼ˆçº¿ç¨‹ç©ºé—²æ—¶é—´ï¼‰</strong>
ï¼ˆ 1 ï¼‰å½“çº¿ç¨‹ç©ºé—²æ—¶é—´è¾¾åˆ°keepAliveTimeæ—¶ï¼Œçº¿ç¨‹ä¼šé€€å‡ºï¼ˆå…³é—­ï¼‰ï¼Œç›´åˆ°çº¿ç¨‹
æ•°ç­‰äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼›
ï¼ˆ 2 ï¼‰å¦‚æœè®¾ç½®äº†allowCoreThreadTimeout=trueï¼Œåˆ™çº¿ç¨‹ä¼šé€€å‡ºç›´åˆ°çº¿ç¨‹æ•°
ç­‰äºé›¶ã€‚&lt;allowCoreThreadTimeoutï¼ˆå…è®¸æ ¸å¿ƒçº¿ç¨‹è¶…æ—¶ï¼‰&gt;
å½“çº¿ç¨‹æ•°é‡è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°ï¼Œä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œä¼šæ‹’ç»ä»»åŠ¡ï¼›
è°ƒç”¨çº¿ç¨‹æ± shutdown()æ–¹æ³•åï¼Œä¼šç­‰å¾…æ‰§è¡Œå®Œçº¿ç¨‹æ± çš„ä»»åŠ¡ä¹‹åï¼Œå†
shutdown()ã€‚å¦‚æœåœ¨è°ƒç”¨äº†shutdown()æ–¹æ³•å’Œçº¿ç¨‹æ± çœŸæ­£shutdown()ä¹‹é—´æ
äº¤ä»»åŠ¡ï¼Œä¼šæ‹’ç»æ–°ä»»åŠ¡ã€‚</p>
<h3 id="1-29-æ­»é”äº§ç”Ÿçš„æ¡ä»¶ä»¥åŠå¦‚ä½•é¿å…é«˜è–ªå¸¸é—®">1 29 æ­»é”äº§ç”Ÿçš„æ¡ä»¶ä»¥åŠå¦‚ä½•é¿å…ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="æ­»é”äº§ç”Ÿçš„å››ä¸ªå¿…è¦æ¡ä»¶">æ­»é”äº§ç”Ÿçš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼š</h5>
<h5 id="äº’æ–¥ä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨èµ„æºç‹¬ç«‹">äº’æ–¥ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ï¼ˆèµ„æºç‹¬ç«‹ï¼‰ã€‚</h5>
<h5 id="è¯·æ±‚ä¸ä¿æŒä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶å¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ä¸">è¯·æ±‚ä¸ä¿æŒï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ï¼ˆä¸</h5>
<h5 id="é‡Šæ”¾é”">é‡Šæ”¾é”ï¼‰ã€‚</h5>
<h5 id="ä¸å‰¥å¤ºè¿›ç¨‹å·²è·å¾—çš„èµ„æºåœ¨æœªä½¿ç”¨ä¹‹å‰ä¸èƒ½å¼ºè¡Œå‰¥å¤ºæŠ¢å¤ºèµ„æº">ä¸å‰¥å¤ºï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨ä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºï¼ˆæŠ¢å¤ºèµ„æºï¼‰ã€‚</h5>
<h5 id="å¾ªç¯ç­‰å¾…è‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…çš„èµ„æºå…³é—­æ­»å¾ª">å¾ªç¯ç­‰å¾…ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…çš„èµ„æºå…³é—­ï¼ˆæ­»å¾ª</h5>
<h5 id="ç¯">ç¯ï¼‰ã€‚</h5>
<h5 id="é¿å…æ­»é”">é¿å…æ­»é”ï¼š</h5>
<h5 id="1-ç ´åäº’æ–¥æ¡ä»¶ç³»ç»Ÿé‡Œå–æ¶ˆäº’æ–¥è‹¥èµ„æºä¸€èˆ¬ä¸è¢«ä¸€ä¸ªè¿›ç¨‹ç‹¬å ä½¿ç”¨">1. ç ´åâ€äº’æ–¥â€æ¡ä»¶ï¼šç³»ç»Ÿé‡Œå–æ¶ˆäº’æ–¥ã€è‹¥èµ„æºä¸€èˆ¬ä¸è¢«ä¸€ä¸ªè¿›ç¨‹ç‹¬å ä½¿ç”¨ï¼Œ</h5>
<h5 id="é‚£ä¹ˆæ­»é”æ˜¯è‚¯å®šä¸ä¼šå‘ç”Ÿçš„ä½†ä¸€èˆ¬äº’æ–¥æ¡ä»¶æ˜¯æ— æ³•ç ´åçš„å› æ­¤åœ¨æ­»é”">é‚£ä¹ˆæ­»é”æ˜¯è‚¯å®šä¸ä¼šå‘ç”Ÿçš„ï¼Œä½†ä¸€èˆ¬â€œäº’æ–¥â€æ¡ä»¶æ˜¯æ— æ³•ç ´åçš„,å› æ­¤ï¼Œåœ¨æ­»é”</h5>
<h5 id="é¢„é˜²é‡Œä¸»è¦æ˜¯ç ´åå…¶ä»–ä¸‰ä¸ªå¿…è¦æ¡ä»¶è€Œä¸å»æ¶‰åŠç ´åäº’æ–¥æ¡ä»¶">é¢„é˜²é‡Œä¸»è¦æ˜¯ç ´åå…¶ä»–ä¸‰ä¸ªå¿…è¦æ¡ä»¶ï¼Œè€Œä¸å»æ¶‰åŠç ´åâ€œäº’æ–¥â€æ¡ä»¶ã€‚</h5>
<h5 id="2-ç ´åè¯·æ±‚å’Œä¿æŒæ¡ä»¶">2. ç ´åâ€œè¯·æ±‚å’Œä¿æŒâ€æ¡ä»¶ï¼š</h5>
<h5 id="æ–¹æ³•-1-æ‰€æœ‰çš„è¿›ç¨‹åœ¨å¼€å§‹è¿è¡Œä¹‹å‰å¿…é¡»ä¸€æ¬¡æ€§çš„ç”³è¯·å…¶åœ¨æ•´ä¸ªè¿è¡Œè¿‡ç¨‹">æ–¹æ³• 1 ï¼šæ‰€æœ‰çš„è¿›ç¨‹åœ¨å¼€å§‹è¿è¡Œä¹‹å‰ï¼Œå¿…é¡»ä¸€æ¬¡æ€§çš„ç”³è¯·å…¶åœ¨æ•´ä¸ªè¿è¡Œè¿‡ç¨‹</h5>
<h5 id="å„ç§æ‰€éœ€è¦çš„å…¨éƒ¨èµ„æº">å„ç§æ‰€éœ€è¦çš„å…¨éƒ¨èµ„æºã€‚</h5>
<h5 id="ä¼˜ç‚¹ç®€å•æ˜“å®æ–½ä¸”å®‰å…¨">ä¼˜ç‚¹ï¼šç®€å•æ˜“å®æ–½ä¸”å®‰å…¨ã€‚â€‹</h5>
<h5 id="ç¼ºç‚¹å› ä¸ºæŸé¡¹èµ„æºä¸æ»¡è¶³è¿›ç¨‹æ— æ³•å¯åŠ¨è€Œå…¶ä»–å·²ç»æ»¡è¶³äº†çš„èµ„æº">ç¼ºç‚¹ï¼šå› ä¸ºæŸé¡¹èµ„æºä¸æ»¡è¶³ï¼Œè¿›ç¨‹æ— æ³•å¯åŠ¨ï¼Œè€Œå…¶ä»–å·²ç»æ»¡è¶³äº†çš„èµ„æº</h5>
<h5 id="ä¹Ÿä¸ä¼šå¾—åˆ°åˆ©ç”¨ä¸¥é‡é™ä½äº†èµ„æºçš„åˆ©ç”¨ç‡é€ æˆèµ„æºæµªè´¹">ä¹Ÿä¸ä¼šå¾—åˆ°åˆ©ç”¨ï¼Œä¸¥é‡é™ä½äº†èµ„æºçš„åˆ©ç”¨ç‡ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚</h5>
<h5 id="æ–¹æ³•-2-è¯¥æ–¹æ³•æ˜¯å¯¹ç¬¬ä¸€ç§æ–¹æ³•çš„æ”¹è¿›å…è®¸è¿›ç¨‹åªè·å¾—è¿è¡ŒåˆæœŸéœ€è¦çš„èµ„">æ–¹æ³• 2 ï¼šè¯¥æ–¹æ³•æ˜¯å¯¹ç¬¬ä¸€ç§æ–¹æ³•çš„æ”¹è¿›ï¼Œå…è®¸è¿›ç¨‹åªè·å¾—è¿è¡ŒåˆæœŸéœ€è¦çš„èµ„</h5>
<h5 id="æºä¾¿å¼€å§‹è¿è¡Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­é€æ­¥é‡Šæ”¾æ‰åˆ†é…åˆ°å·²ç»ä½¿ç”¨å®Œæ¯•çš„èµ„æºç„¶å">æºï¼Œä¾¿å¼€å§‹è¿è¡Œï¼Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­é€æ­¥é‡Šæ”¾æ‰åˆ†é…åˆ°ï¼Œå·²ç»ä½¿ç”¨å®Œæ¯•çš„èµ„æºï¼Œç„¶å</h5>
<h5 id="å†å»è¯·æ±‚æ–°çš„èµ„æºè¿™æ ·çš„è¯èµ„æºçš„åˆ©ç”¨ç‡ä¼šå¾—åˆ°æé«˜ä¹Ÿä¼šå‡å°‘è¿›ç¨‹çš„é¥¥é¥¿é—®">å†å»è¯·æ±‚æ–°çš„èµ„æºã€‚è¿™æ ·çš„è¯èµ„æºçš„åˆ©ç”¨ç‡ä¼šå¾—åˆ°æé«˜ï¼Œä¹Ÿä¼šå‡å°‘è¿›ç¨‹çš„é¥¥é¥¿é—®</h5>
<h5 id="é¢˜">é¢˜ã€‚</h5>
<h5 id="3-ç ´åä¸å‰¥å¤ºæ¡ä»¶å½“ä¸€ä¸ªå·²ç»æŒæœ‰äº†ä¸€äº›èµ„æºçš„è¿›ç¨‹åœ¨æå‡ºæ–°çš„èµ„æº">3. ç ´åâ€œä¸å‰¥å¤ºâ€æ¡ä»¶ï¼šå½“ä¸€ä¸ªå·²ç»æŒæœ‰äº†ä¸€äº›èµ„æºçš„è¿›ç¨‹åœ¨æå‡ºæ–°çš„èµ„æº</h5>
<h5 id="è¯·æ±‚æ²¡æœ‰å¾—åˆ°æ»¡è¶³æ—¶å®ƒå¿…é¡»é‡Šæ”¾å·²ç»ä¿æŒçš„æ‰€æœ‰èµ„æºå¾…ä»¥åéœ€è¦ä½¿ç”¨çš„æ—¶å€™">è¯·æ±‚æ²¡æœ‰å¾—åˆ°æ»¡è¶³æ—¶ï¼Œå®ƒå¿…é¡»é‡Šæ”¾å·²ç»ä¿æŒçš„æ‰€æœ‰èµ„æºï¼Œå¾…ä»¥åéœ€è¦ä½¿ç”¨çš„æ—¶å€™</h5>
<h5 id="å†é‡æ–°ç”³è¯·è¿™å°±æ„å‘³ç€è¿›ç¨‹å·²å æœ‰çš„èµ„æºä¼šè¢«çŸ­æš‚çš„é‡Šæ”¾æˆ–è€…è¯´è¢«æŠ¢å äº†">å†é‡æ–°ç”³è¯·ã€‚è¿™å°±æ„å‘³ç€è¿›ç¨‹å·²å æœ‰çš„èµ„æºä¼šè¢«çŸ­æš‚çš„é‡Šæ”¾æˆ–è€…è¯´è¢«æŠ¢å äº†ã€‚</h5>
<h5 id="4-ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶å¯ä»¥é€šè¿‡å®šä¹‰èµ„æºç±»å‹çš„çº¿æ€§é¡ºåºæ¥é¢„é˜²å¯ä»¥">4. ç ´åâ€œå¾ªç¯ç­‰å¾…â€æ¡ä»¶ï¼šå¯ä»¥é€šè¿‡å®šä¹‰èµ„æºç±»å‹çš„çº¿æ€§é¡ºåºæ¥é¢„é˜²ï¼Œå¯ä»¥</h5>
<p>å°†æ¯ä¸ªèµ„æºç¼–å·ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹å æœ‰ç¼–å·ä¸ºiçš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆå®ƒä¸‹ä¸€æ¬¡ç”³è¯·èµ„æºåª
èƒ½ç”³è¯·ç¼–å·å¤§äºiçš„èµ„æºã€‚</p>
<h3 id="1-30-jvmæ˜¯ä»€ä¹ˆjvmçš„åŸºæœ¬ç»“æ„é«˜è–ªå¸¸é—®">1 30 JVMæ˜¯ä»€ä¹ˆï¼ŸJVMçš„åŸºæœ¬ç»“æ„(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>è™šæ‹Ÿæœºï¼Œä¸€ç§èƒ½å¤Ÿè¿è¡Œjavaå­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚
ï¬ ç±»åŠ è½½å­ç³»ç»Ÿ
ï¬ åŠ è½½ .class æ–‡ä»¶åˆ°å†…å­˜ã€‚
ï¬ å†…å­˜ç»“æ„
ï¬ è¿è¡Œæ—¶çš„æ•°æ®åŒºã€‚
ï¬ æ‰§è¡Œå¼•æ“
ï¬ æ‰§è¡Œå†…å­˜ä¸­çš„.classï¼Œè¾“å‡ºæ‰§è¡Œç»“æœï¼ˆåŒ…å«GCï¼šåƒåœ¾æ”¶é›†å™¨ï¼‰ã€‚
ï¬ æœ¬åœ°æ–¹æ³•çš„æ¥å£ã€‚
ï¬ æœ¬åœ°æ–¹æ³•åº“ã€‚</p>
<h3 id="1-31-jvmå†…å­˜ç»“æ„é«˜è–ªå¸¸é—®">1 31 JVMå†…å­˜ç»“æ„(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="jdk-1-7">JDK 1. 7</h5>
<h5 id="ç¨‹åºè®¡æ•°å™¨">ç¨‹åºè®¡æ•°å™¨</h5>
<h5 id="å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æ–¹æ³•åŒºä¸­çš„æ–¹æ³•å­—èŠ‚ç ç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªæŒ‡ä»¤">å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ–¹æ³•åŒºä¸­çš„æ–¹æ³•å­—èŠ‚ç ï¼ˆç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªæŒ‡ä»¤</h5>
<h5 id="çš„åœ°å€ä¹Ÿå³å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ä»£ç ç”±æ‰§è¡Œå¼•æ“è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤æ˜¯ä¸€ä¸ª">çš„åœ°å€ï¼Œä¹Ÿå³å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ä»£ç ï¼‰ï¼Œç”±æ‰§è¡Œå¼•æ“è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œæ˜¯ä¸€ä¸ª</h5>
<h5 id="éå¸¸å°çš„å†…å­˜ç©ºé—´å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡">éå¸¸å°çš„å†…å­˜ç©ºé—´ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</h5>
<p><strong>Javaè™šæ‹Ÿæœºæ ˆ</strong>
Javaçº¿ç¨‹æ‰§è¡Œæ–¹æ³•çš„å†…å­˜æ¨¡å‹ï¼Œä¸€ä¸ªçº¿ç¨‹å¯¹åº”ä¸€ä¸ªæ ˆï¼Œæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œ
çš„åŒæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼ˆç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ï¼Œæ“ä½œæ•°æ ˆï¼ŒåŠ¨æ€é“¾æ¥ï¼Œæ–¹æ³•å‡º
å£ç­‰ä¿¡æ¯ï¼‰ä¸å­˜åœ¨åƒåœ¾å›æ”¶é—®é¢˜ï¼Œåªè¦çº¿ç¨‹ä¸€ç»“æŸè¯¥æ ˆå°±é‡Šæ”¾ï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹
ä¸€è‡´ã€‚
<strong>æœ¬åœ°æ–¹æ³•æ ˆ</strong>
å’Œæ ˆä½œç”¨å¾ˆç›¸ä¼¼ï¼ŒåŒºåˆ«ä¸è¿‡æ˜¯Javaæ ˆä¸ºJVMæ‰§è¡ŒJavaæ–¹æ³•æœåŠ¡ï¼Œè€Œæœ¬
åœ°æ–¹æ³•æ ˆä¸ºJVMæ‰§è¡Œnativeæ–¹æ³•æœåŠ¡ã€‚ç™»è®°nativeæ–¹æ³•ï¼Œåœ¨ExecutionEngine
æ‰§è¡Œæ—¶åŠ è½½æœ¬åœ°æ–¹æ³•åº“ã€‚
<strong>å †</strong>
Javaè™šæ‹Ÿæœºç®¡ç†çš„æœ€å¤§çš„ä¸€å—å†…å­˜åŒºåŸŸï¼ŒJavaå †æ˜¯çº¿ç¨‹å…±äº«çš„ï¼Œç”¨äºå­˜
æ”¾å¯¹è±¡å®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹è±¡çš„å‡ºç”Ÿå’Œå›æ”¶éƒ½æ˜¯åœ¨è¿™ä¸ªåŒºåŸŸè¿›è¡Œçš„ã€‚
<strong>æ–¹æ³•åŒº</strong>
çº¿ç¨‹å…±äº«ï¼Œç”¨äºå­˜å‚¨å·²ç»è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ç­‰æ•°
æ®ã€‚
<strong>JDK 1. 8</strong></p>
<h5 id="jdk-1-8-ä¸-1-7-æœ€å¤§çš„åŒºåˆ«æ˜¯åœ¨-1-8-ä¸­æ–¹æ³•åŒºæ˜¯ç”±å…ƒç©ºé—´å…ƒæ•°æ®åŒºæ¥å®ç°">JDK 1. 8 ä¸ 1. 7 æœ€å¤§çš„åŒºåˆ«æ˜¯åœ¨ 1. 8 ä¸­æ–¹æ³•åŒºæ˜¯ç”±å…ƒç©ºé—´ï¼ˆå…ƒæ•°æ®åŒºï¼‰æ¥å®ç°ã€‚</h5>
<h5 id="å¸¸é‡æ± ç§»åˆ°å †ä¸­">å¸¸é‡æ± ç§»åˆ°å †ä¸­ã€‚</h5>
<h3 id="1-32-ç±»çš„åŠ è½½ç±»åŠ è½½å™¨çš„ç§ç±»-ç±»åŠ è½½æœºåˆ¶é«˜è–ªå¸¸é—®">1 32 ç±»çš„åŠ è½½,ç±»åŠ è½½å™¨çš„ç§ç±», ç±»åŠ è½½æœºåˆ¶(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="-ç±»åŠ è½½">ï¬ ç±»åŠ è½½</h5>
<h5 id="1-åŠ è½½">1 .åŠ è½½</h5>
<p>å°†.classæ–‡ä»¶ä»ç£ç›˜è¯»åˆ°å†…å­˜ã€‚
2 .è¿æ¥
2. 1 éªŒè¯: éªŒè¯å­—èŠ‚ç æ–‡ä»¶çš„æ­£ç¡®æ€§ã€‚
2. 2 å‡†å¤‡: ç»™ç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ï¼Œå¹¶èµ‹äºˆé»˜è®¤å€¼ã€‚
2. 3 è§£æ: ç±»è£…è½½å™¨è£…å…¥ç±»æ‰€å¼•ç”¨çš„å…¶å®ƒæ‰€æœ‰ç±»ã€‚
3 .åˆå§‹åŒ–
ä¸ºç±»çš„é™æ€å˜é‡èµ‹äºˆæ­£ç¡®çš„åˆå§‹å€¼ï¼Œä¸Šè¿°çš„å‡†å¤‡é˜¶æ®µä¸ºé™æ€å˜é‡èµ‹äºˆçš„æ˜¯è™š
æ‹Ÿæœºé»˜è®¤çš„åˆå§‹å€¼ï¼Œæ­¤å¤„èµ‹äºˆçš„æ‰æ˜¯ç¨‹åºç¼–å†™è€…ä¸ºå˜é‡åˆ†é…çš„çœŸæ­£çš„åˆå§‹å€¼ï¼Œæ‰§
è¡Œé™æ€ä»£ç å—ã€‚
4 .ä½¿ç”¨
5 .å¸è½½
ï¬ <strong>ç±»åŠ è½½å™¨çš„ç§ç±»</strong></p>
<ol>
<li>å¯åŠ¨ç±»åŠ è½½å™¨(BootstrapClassLoader)
è´Ÿè´£åŠ è½½JREçš„æ ¸å¿ƒç±»åº“ï¼Œå¦‚JREç›®æ ‡ä¸‹çš„rt.jarï¼Œcharsets.jarç­‰ã€‚</li>
<li>æ‰©å±•ç±»åŠ è½½å™¨(ExtensionClassLoader)
è´Ÿè´£åŠ è½½JREæ‰©å±•ç›®å½•extä¸­jarç±»åŒ…ã€‚</li>
<li>ç³»ç»Ÿç±»åŠ è½½å™¨(ApplicationClassLoader)
è´Ÿè´£åŠ è½½ClassPathè·¯å¾„ä¸‹çš„ç±»åŒ…ã€‚</li>
<li>ç”¨æˆ·è‡ªå®šä¹‰åŠ è½½å™¨(UserClassLoader)
è´Ÿè´£åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰è·¯å¾„ä¸‹çš„ç±»åŒ…ã€‚</li>
</ol>
<h5 id="-ç±»åŠ è½½æœºåˆ¶">ï¬ ç±»åŠ è½½æœºåˆ¶</h5>
<h5 id="å…¨ç›˜è´Ÿè´£å§”æ‰˜æœºåˆ¶">å…¨ç›˜è´Ÿè´£å§”æ‰˜æœºåˆ¶</h5>
<h5 id="å½“aç±»ä¸­å¼•ç”¨bç±»é‚£ä¹ˆé™¤éç‰¹åˆ«æŒ‡å®šbç±»çš„ç±»åŠ è½½å™¨å¦åˆ™å°±ç›´æ¥ä½¿ç”¨">å½“Aç±»ä¸­å¼•ç”¨Bç±»ï¼Œé‚£ä¹ˆé™¤éç‰¹åˆ«æŒ‡å®šBç±»çš„ç±»åŠ è½½å™¨ï¼Œå¦åˆ™å°±ç›´æ¥ä½¿ç”¨</h5>
<h5 id="åŠ è½½aç±»çš„ç±»åŠ è½½å™¨åŠ è½½bç±»">åŠ è½½Aç±»çš„ç±»åŠ è½½å™¨åŠ è½½Bç±»ã€‚</h5>
<h5 id="åŒäº²å§”æ´¾æœºåˆ¶">åŒäº²å§”æ´¾æœºåˆ¶</h5>
<h5 id="æŒ‡å…ˆå§”æ‰˜çˆ¶ç±»åŠ è½½å™¨å¯»æ‰¾ç›®æ ‡ç±»åœ¨æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹å†åœ¨è‡ªå·±çš„è·¯å¾„ä¸­æŸ¥æ‰¾">æŒ‡å…ˆå§”æ‰˜çˆ¶ç±»åŠ è½½å™¨å¯»æ‰¾ç›®æ ‡ç±»ï¼Œåœ¨æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹å†åœ¨è‡ªå·±çš„è·¯å¾„ä¸­æŸ¥æ‰¾</h5>
<h5 id="å¹¶è½½å…¥ç›®æ ‡ç±»">å¹¶è½½å…¥ç›®æ ‡ç±»ã€‚</h5>
<h3 id="1-33-ä»€ä¹ˆæ˜¯gcé«˜è–ªå¸¸é—®">1 33 ä»€ä¹ˆæ˜¯GC(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="å†…å­˜ç©ºé—´æ˜¯æœ‰é™çš„é‚£ä¹ˆåœ¨ç¨‹åºè¿è¡Œæ—¶å¦‚ä½•åŠæ—¶çš„æŠŠä¸å†ä½¿ç”¨çš„å¯¹è±¡æ¸…é™¤å°†å†…å­˜">å†…å­˜ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œé‚£ä¹ˆåœ¨ç¨‹åºè¿è¡Œæ—¶å¦‚ä½•åŠæ—¶çš„æŠŠä¸å†ä½¿ç”¨çš„å¯¹è±¡æ¸…é™¤å°†å†…å­˜</h5>
<h5 id="é‡Šæ”¾å‡ºæ¥è¿™å°±æ˜¯gcè¦åšçš„äº‹">é‡Šæ”¾å‡ºæ¥ï¼Œè¿™å°±æ˜¯GCè¦åšçš„äº‹ã€‚</h5>
<h5 id="-gcçš„åŒºåŸŸåœ¨å“ªé‡Œ">ï¬ GCçš„åŒºåŸŸåœ¨å“ªé‡Œï¼Ÿ</h5>
<h5 id="jvmä¸­ç¨‹åºè®¡æ•°å™¨è™šæ‹Ÿæœºæ ˆæœ¬åœ°æ–¹æ³•æ ˆéƒ½æ˜¯éšçº¿ç¨‹è€Œç”Ÿéšçº¿ç¨‹è€Œç­">JVMä¸­ï¼Œç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆéƒ½æ˜¯éšçº¿ç¨‹è€Œç”Ÿéšçº¿ç¨‹è€Œç­ï¼Œ</h5>
<h5 id="æ ˆå¸§éšç€æ–¹æ³•çš„è¿›å…¥å’Œé€€å‡ºåšå…¥æ ˆå’Œå‡ºæ ˆæ“ä½œå®ç°äº†è‡ªåŠ¨çš„å†…å­˜æ¸…ç†å› æ­¤">æ ˆå¸§éšç€æ–¹æ³•çš„è¿›å…¥å’Œé€€å‡ºåšå…¥æ ˆå’Œå‡ºæ ˆæ“ä½œï¼Œå®ç°äº†è‡ªåŠ¨çš„å†…å­˜æ¸…ç†ã€‚å› æ­¤ï¼Œ</h5>
<p>æˆ‘ä»¬çš„å†…å­˜åƒåœ¾å›æ”¶ä¸»è¦é›†ä¸­äº Java å †å’Œæ–¹æ³•åŒºä¸­ï¼Œåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œè¿™éƒ¨åˆ†
å†…å­˜çš„åˆ†é…å’Œä½¿ç”¨éƒ½æ˜¯åŠ¨æ€çš„ã€‚
ï¬ GCçš„æ“ä½œå¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ
éœ€è¦è¿›è¡Œå›æ”¶çš„å¯¹è±¡å°±æ˜¯å·²ç»æ²¡æœ‰å­˜æ´»çš„å¯¹è±¡ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜æ´»å¸¸ç”¨
çš„æœ‰ä¸¤ç§åŠæ³•ï¼šå¼•ç”¨è®¡æ•°å’Œå¯è¾¾åˆ†æã€‚
ï® å¼•ç”¨è®¡æ•°ï¼šæ¯ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨è®¡æ•°å±æ€§ï¼Œæ–°å¢ä¸€ä¸ªå¼•ç”¨æ—¶è®¡æ•°åŠ  1 ï¼Œ
å¼•ç”¨é‡Šæ”¾æ—¶è®¡æ•°å‡ 1 ï¼Œè®¡æ•°ä¸º 0 æ—¶å¯ä»¥å›æ”¶ã€‚æ­¤æ–¹æ³•ç®€å•ï¼Œæ— æ³•è§£å†³å¯¹
è±¡ç›¸äº’å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚
ï® å¯è¾¾æ€§åˆ†æï¼ˆReachabilityAnalysisï¼‰ï¼šä»GCRootså¼€å§‹å‘ä¸‹æœç´¢ï¼Œ
æœç´¢æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ã€‚å½“ä¸€ä¸ªå¯¹è±¡åˆ°GCRootsæ²¡æœ‰ä»»ä½•å¼•ç”¨
é“¾ç›¸è¿æ—¶ï¼Œåˆ™è¯æ˜æ­¤å¯¹è±¡æ˜¯ä¸å¯ç”¨çš„ã€‚ä¸å¯è¾¾å¯¹è±¡ã€‚
åœ¨Javaè¯­è¨€ä¸­ï¼ŒGCRootsåŒ…æ‹¬ï¼š
ï® è™šæ‹Ÿæœºæ ˆä¸­å¼•ç”¨çš„å¯¹è±¡ã€‚
ï® æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å®ä½“å¼•ç”¨çš„å¯¹è±¡ã€‚
ï® æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ã€‚
ï® æœ¬åœ°æ–¹æ³•æ ˆä¸­JNIå¼•ç”¨çš„å¯¹è±¡ã€‚
ï¬ GCçš„æ—¶æœºæ˜¯ä»€ä¹ˆï¼Ÿ
( 1 )ç¨‹åºè°ƒç”¨System.gcæ—¶å¯ä»¥è§¦å‘ã€‚</p>
<p>( 2 )ç³»ç»Ÿè‡ªèº«æ¥å†³å®šGCè§¦å‘çš„æ—¶æœºï¼ˆæ ¹æ®EdenåŒºå’ŒFromSpaceåŒºçš„å†…å­˜
å¤§å°æ¥å†³å®šã€‚å½“å†…å­˜å¤§å°ä¸è¶³æ—¶ï¼Œåˆ™ä¼šå¯åŠ¨GCçº¿ç¨‹å¹¶åœæ­¢åº”ç”¨çº¿ç¨‹ï¼‰ã€‚
ï¬ GCåšäº†å“ªäº›äº‹ï¼Ÿ
ä¸»è¦åšäº†æ¸…ç†å¯¹è±¡ï¼Œæ•´ç†å†…å­˜çš„å·¥ä½œã€‚
ï¬ GCå¸¸ç”¨ç®—æ³•
GCå¸¸ç”¨ç®—æ³•æœ‰ï¼šæ ‡è®°-æ¸…é™¤ç®—æ³•ï¼Œæ ‡è®°-å‹ç¼©ç®—æ³•ï¼Œå¤åˆ¶ç®—æ³•ï¼Œåˆ†ä»£æ”¶é›†ç®—
æ³•ã€‚ç›®å‰ä¸»æµçš„JVMï¼ˆHotSpotï¼‰é‡‡ç”¨çš„æ˜¯åˆ†ä»£æ”¶é›†ç®—æ³•ã€‚
<strong>æ ‡è®°-æ¸…é™¤ç®—æ³•</strong>
ä¸ºæ¯ä¸ªå¯¹è±¡å­˜å‚¨ä¸€ä¸ªæ ‡è®°ä½ï¼Œè®°å½•å¯¹è±¡çš„çŠ¶æ€ï¼ˆæ´»ç€æˆ–æ˜¯æ­»äº¡ï¼‰ã€‚åˆ†ä¸ºä¸¤ä¸ª
é˜¶æ®µï¼Œä¸€ä¸ªæ˜¯æ ‡è®°é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µå†…ï¼Œä¸ºæ¯ä¸ªå¯¹è±¡æ›´æ–°æ ‡è®°ä½ï¼Œæ£€æŸ¥å¯¹è±¡æ˜¯å¦æ­»
äº¡ï¼›ç¬¬äºŒä¸ªé˜¶æ®µæ˜¯æ¸…é™¤é˜¶æ®µï¼Œè¯¥é˜¶æ®µå¯¹æ­»äº¡çš„å¯¹è±¡è¿›è¡Œæ¸…é™¤ï¼Œæ‰§è¡Œ GC æ“ä½œã€‚
<strong>æ ‡è®°-å‹ç¼©ç®—æ³•ï¼ˆæ ‡è®°-æ•´ç†ï¼‰</strong>
æ ‡è®°-å‹ç¼©æ³•æ˜¯æ ‡è®°-æ¸…é™¤æ³•çš„ä¸€ä¸ªæ”¹è¿›ç‰ˆã€‚åŒæ ·ï¼Œåœ¨æ ‡è®°é˜¶æ®µï¼Œè¯¥ç®—æ³•ä¹Ÿå°†
æ‰€æœ‰å¯¹è±¡æ ‡è®°ä¸ºå­˜æ´»å’Œæ­»äº¡ä¸¤ç§çŠ¶æ€ï¼›ä¸åŒçš„æ˜¯ï¼Œåœ¨ç¬¬äºŒä¸ªé˜¶æ®µï¼Œè¯¥ç®—æ³•å¹¶æ²¡æœ‰
ç›´æ¥å¯¹æ­»äº¡çš„å¯¹è±¡è¿›è¡Œæ¸…ç†ï¼Œè€Œæ˜¯å°†æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡æ•´ç†ä¸€ä¸‹ï¼Œæ”¾åˆ°å¦ä¸€å¤„ç©ºé—´ï¼Œ
ç„¶åæŠŠå‰©ä¸‹çš„æ‰€æœ‰å¯¹è±¡å…¨éƒ¨æ¸…é™¤ã€‚è¿™æ ·å°±è¾¾åˆ°äº†æ ‡è®°-æ•´ç†çš„ç›®çš„ã€‚
<strong>å¤åˆ¶ç®—æ³•</strong>
è¯¥ç®—æ³•å°†å†…å­˜å¹³å‡åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œç„¶åæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå½“è¿™éƒ¨åˆ†å†…
å­˜æ»¡çš„æ—¶å€™ï¼Œå°†å†…å­˜ä¸­æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå†…å­˜ä¸­ï¼Œç„¶åå°†ä¹‹å‰çš„å†…å­˜
æ¸…ç©ºï¼Œåªä½¿ç”¨è¿™éƒ¨åˆ†å†…å­˜ï¼Œå¾ªç¯ä¸‹å»ã€‚
<strong>åˆ†ä»£æ”¶é›†ç®—æ³•</strong>
ç°åœ¨çš„è™šæ‹Ÿæœºåƒåœ¾æ”¶é›†å¤§å¤šé‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå®ƒæ ¹æ®å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸï¼Œå°†å †åˆ†
ä¸ºæ–°ç”Ÿä»£(Young)å’Œè€å¹´ä»£(Tenure)ã€‚åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œç”±äºå¯¹è±¡ç”Ÿå­˜æœŸçŸ­ï¼Œæ¯æ¬¡å›
æ”¶éƒ½ä¼šæœ‰å¤§é‡å¯¹è±¡æ­»å»ï¼Œé‚£ä¹ˆè¿™æ—¶å°±é‡‡ç”¨å¤åˆ¶ç®—æ³•ã€‚è€å¹´ä»£é‡Œçš„å¯¹è±¡å­˜æ´»ç‡è¾ƒé«˜ï¼Œ
æ²¡æœ‰é¢å¤–çš„ç©ºé—´è¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨æ ‡è®°-æ•´ç† æˆ–è€… æ ‡è®°-æ¸…é™¤ã€‚</p>
<h3 id="1-34-jvmè°ƒä¼˜çš„å·¥å…·æœ‰å“ªäº›é«˜è–ªå¸¸é—®">1 34 JVMè°ƒä¼˜çš„å·¥å…·æœ‰å“ªäº›ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>JDK è‡ªå¸¦äº†å¾ˆå¤šç›‘æ§å·¥å…·ï¼Œéƒ½ä½äº JDKçš„ bin ç›®å½•ä¸‹ï¼Œå…¶ä¸­æœ€å¸¸ç”¨
çš„æ˜¯ jconsoleå’Œ jvisualvm è¿™ä¸¤æ¬¾è§†å›¾ç›‘æ§å·¥å…·ã€‚
1 .jconsoleï¼šç”¨äºå¯¹ JVMä¸­çš„å†…å­˜ã€çº¿ç¨‹å’Œç±»ç­‰è¿›è¡Œç›‘æ§ï¼›</p>
<p>2 .jvisualvmï¼šJDK è‡ªå¸¦çš„å…¨èƒ½åˆ†æå·¥å…·ï¼Œå¯ä»¥åˆ†æï¼šå†…å­˜å¿«ç…§ã€çº¿ç¨‹
å¿«ç…§ã€ç¨‹åºæ­»é”ã€ç›‘æ§å†…å­˜çš„å˜åŒ–ã€gc å˜åŒ–ç­‰ã€‚</p>
<h3 id="1-35-å¸¸ç”¨çš„jvmè°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›é«˜è–ªå¸¸é—®">1 35 å¸¸ç”¨çš„JVMè°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ(é«˜è–ªå¸¸é—®)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="xxæ¯”xçš„ç¨³å®šæ€§æ›´å·®å¹¶ä¸”ç‰ˆæœ¬æ›´æ–°ä¸ä¼šè¿›è¡Œé€šçŸ¥å’Œè¯´æ˜">XXæ¯”Xçš„ç¨³å®šæ€§æ›´å·®ï¼Œå¹¶ä¸”ç‰ˆæœ¬æ›´æ–°ä¸ä¼šè¿›è¡Œé€šçŸ¥å’Œè¯´æ˜ã€‚</h5>
<ul>
<li>Xmsï¼šsä¸ºstratingï¼Œè¡¨ç¤ºå †å†…å­˜èµ·å§‹å¤§å°ã€‚</li>
<li>Xmxï¼šxä¸ºmaxï¼Œè¡¨ç¤ºæœ€å¤§çš„å †å†…å­˜ï¼ˆä¸€èˆ¬æ¥è¯´-Xmså’Œ-Xmxçš„è®¾ç½®
ä¸ºç›¸åŒå¤§å°ï¼Œå› ä¸ºå½“heapè‡ªåŠ¨æ‰©å®¹æ—¶ï¼Œä¼šå‘ç”Ÿå†…å­˜æŠ–åŠ¨ï¼Œå½±å“ç¨‹åºçš„ç¨³å®šæ€§ï¼‰ã€‚</li>
<li>Xmnï¼šnä¸ºnewï¼Œè¡¨ç¤ºæ–°ç”Ÿä»£å¤§å°ï¼ˆ-Xssï¼šè§„å®šäº†æ¯ä¸ªçº¿ç¨‹è™šæ‹Ÿæœºæ ˆ
ï¼ˆå †æ ˆï¼‰çš„å¤§å°ï¼‰ã€‚</li>
<li>XX:SurvivorRator= 8 è¡¨ç¤ºå †å†…å­˜ä¸­æ–°ç”Ÿä»£ã€è€å¹´ä»£å’Œæ°¸ä¹…ä»£çš„æ¯”ä¸º
8 : 1 : 1 ã€‚</li>
<li>XX:PretenureSizeThreshold= 3145728 è¡¨ç¤ºå½“åˆ›å»ºï¼ˆnewï¼‰çš„å¯¹è±¡å¤§
äº 3 Mçš„æ—¶å€™ç›´æ¥è¿›å…¥ã€‚</li>
<li>XX:MaxTenuringThreshold= 15 è¡¨ç¤ºå½“å¯¹è±¡çš„å­˜æ´»çš„å¹´é¾„ï¼ˆminorgc
ä¸€æ¬¡åŠ  1 ï¼‰å¤§äºå¤šå°‘æ—¶ï¼Œè¿›å…¥è€å¹´ä»£ã€‚</li>
<li>XX:-DisableExplicirGCè¡¨ç¤ºæ˜¯å¦ï¼ˆ+è¡¨ç¤ºæ˜¯ï¼Œ-è¡¨ç¤ºå¦ï¼‰æ‰“å¼€GCæ—¥å¿—ã€‚</li>
</ul>
<h2 id="äºŒjavaweb">äºŒï¼JavaWeb&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="2-1-jdbcæŠ€æœ¯">2 1 JDBCæŠ€æœ¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="2-1-1-è¯´ä¸‹åŸç”Ÿjdbcæ“ä½œæ•°æ®åº“æµç¨‹äº†è§£">2 1 1 è¯´ä¸‹åŸç”ŸJDBCæ“ä½œæ•°æ®åº“æµç¨‹ï¼Ÿ(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>ç¬¬ä¸€æ­¥ï¼šClass.forName()åŠ è½½æ•°æ®åº“è¿æ¥é©±åŠ¨ï¼›
ç¬¬äºŒæ­¥ï¼šDriverManager.getConnection()è·å–æ•°æ®è¿æ¥å¯¹è±¡;
ç¬¬ä¸‰æ­¥ï¼šæ ¹æ® SQL è·å– sql ä¼šè¯å¯¹è±¡ï¼Œæœ‰ 2 ç§æ–¹å¼
Statement.PreparedStatement;
ç¬¬å››æ­¥ï¼šæ‰§è¡Œ SQL å¤„ç†ç»“æœé›†ï¼Œæ‰§è¡Œ SQL å‰å¦‚æœæœ‰å‚æ•°å€¼å°±è®¾ç½®å‚æ•°å€¼
setXXX();
ç¬¬äº”æ­¥ï¼šå…³é—­ç»“æœé›†.å…³é—­ä¼šè¯.å…³é—­è¿æ¥ã€‚</p>
<h4 id="2-1-2-è¯´è¯´äº‹åŠ¡çš„æ¦‚å¿µåœ¨jdbcç¼–ç¨‹ä¸­å¤„ç†äº‹åŠ¡çš„æ­¥éª¤äº†è§£">2 1 2 è¯´è¯´äº‹åŠ¡çš„æ¦‚å¿µï¼Œåœ¨JDBCç¼–ç¨‹ä¸­å¤„ç†äº‹åŠ¡çš„æ­¥éª¤ã€‚(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="1-äº‹åŠ¡æ˜¯ä½œä¸ºå•ä¸ªé€»è¾‘å·¥ä½œå•å…ƒæ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œ">1. äº‹åŠ¡æ˜¯ä½œä¸ºå•ä¸ªé€»è¾‘å·¥ä½œå•å…ƒæ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œã€‚</h5>
<h5 id="2-ä¸€ä¸ªé€»è¾‘å·¥ä½œå•å…ƒå¿…é¡»æœ‰å››ä¸ªå±æ€§ç§°ä¸ºåŸå­æ€§ä¸€è‡´æ€§éš”ç¦»æ€§å’ŒæŒ">2. ä¸€ä¸ªé€»è¾‘å·¥ä½œå•å…ƒå¿…é¡»æœ‰å››ä¸ªå±æ€§ï¼Œç§°ä¸ºåŸå­æ€§.ä¸€è‡´æ€§.éš”ç¦»æ€§å’ŒæŒ</h5>
<h5 id="ä¹…æ€§-acid-å±æ€§åªæœ‰è¿™æ ·æ‰èƒ½æˆä¸ºä¸€ä¸ªäº‹åŠ¡å¤„ç†æ­¥éª¤">ä¹…æ€§ (ACID) å±æ€§ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½æˆä¸ºä¸€ä¸ªäº‹åŠ¡å¤„ç†æ­¥éª¤ï¼š</h5>
<pre tabindex="0"><code>3 .conn.setAutoComit(false);è®¾ç½®æäº¤æ–¹å¼ä¸ºæ‰‹å·¥æäº¤
4 .conn.commit()æäº¤äº‹åŠ¡
5. å‡ºç°å¼‚å¸¸ï¼Œå›æ»š conn.rollback();
</code></pre><h4 id="2-1-3-jdbcçš„è„è¯»æ˜¯ä»€ä¹ˆå“ªç§æ•°æ®åº“éš”ç¦»çº§åˆ«èƒ½é˜²æ­¢è„è¯»äº†è§£">2 1 3 JDBCçš„è„è¯»æ˜¯ä»€ä¹ˆï¼Ÿå“ªç§æ•°æ®åº“éš”ç¦»çº§åˆ«èƒ½é˜²æ­¢è„è¯»ï¼Ÿ(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="å½“æˆ‘ä»¬ä½¿ç”¨äº‹åŠ¡æ—¶æœ‰å¯èƒ½ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µæœ‰ä¸€è¡Œæ•°æ®åˆšæ›´æ–°ä¸æ­¤åŒ">å½“æˆ‘ä»¬ä½¿ç”¨äº‹åŠ¡æ—¶ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œæœ‰ä¸€è¡Œæ•°æ®åˆšæ›´æ–°ï¼Œä¸æ­¤åŒ</h5>
<h5 id="æ—¶å¦ä¸€ä¸ªæŸ¥è¯¢è¯»åˆ°äº†è¿™ä¸ªåˆšæ›´æ–°çš„å€¼è¿™æ ·å°±å¯¼è‡´äº†è„è¯»å› ä¸ºæ›´æ–°çš„æ•°æ®è¿˜æ²¡">æ—¶å¦ä¸€ä¸ªæŸ¥è¯¢è¯»åˆ°äº†è¿™ä¸ªåˆšæ›´æ–°çš„å€¼ã€‚è¿™æ ·å°±å¯¼è‡´äº†è„è¯»ï¼Œå› ä¸ºæ›´æ–°çš„æ•°æ®è¿˜æ²¡</h5>
<h5 id="æœ‰è¿›è¡ŒæŒä¹…åŒ–æ›´æ–°è¿™è¡Œæ•°æ®çš„ä¸šåŠ¡å¯èƒ½ä¼šè¿›è¡Œå›æ»šè¿™æ ·è¿™ä¸ªæ•°æ®å°±æ˜¯æ— æ•ˆçš„">æœ‰è¿›è¡ŒæŒä¹…åŒ–ï¼Œæ›´æ–°è¿™è¡Œæ•°æ®çš„ä¸šåŠ¡å¯èƒ½ä¼šè¿›è¡Œå›æ»šï¼Œè¿™æ ·è¿™ä¸ªæ•°æ®å°±æ˜¯æ— æ•ˆçš„ã€‚</h5>
<h5 id="æ•°æ®åº“çš„transactionreadcommittedtransactionrepeatabl">æ•°æ®åº“çš„TRANSACTIONREADCOMMITTEDï¼ŒTRANSACTIONREPEATABL</h5>
<h5 id="ereadå’Œtransaction_serializableéš”ç¦»çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»">EREADå’ŒTRANSACTION_SERIALIZABLEéš”ç¦»çº§åˆ«å¯ä»¥é˜²æ­¢è„è¯»ã€‚</h5>
<h3 id="3-1-ç½‘è·¯é€šè®¯éƒ¨åˆ†">3 1 ç½‘è·¯é€šè®¯éƒ¨åˆ†&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="3-1-1-tcpä¸udpåŒºåˆ«å¿…ä¼š">3 1 1 TCPä¸UDPåŒºåˆ«ï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="udp">UDP:</h5>
<pre tabindex="0"><code>a.æ˜¯é¢å‘æ— è¿æ¥, å°†æ•°æ®åŠæºçš„å°è£…æˆæ•°æ®åŒ…ä¸­,ä¸éœ€è¦å»ºç«‹è¿æ¥
b.æ¯ä¸ªæ•°æ®æŠ¥çš„å¤§å°åœ¨é™åˆ¶ 64 kå†…
c.å› æ— è¿æ¥,æ˜¯ä¸å¯é åè®®
d.ä¸éœ€è¦å»ºç«‹è¿æ¥,é€Ÿåº¦å¿«
TCPï¼š
a.å»ºç«‹è¿æ¥,å½¢æˆä¼ è¾“æ•°æ®çš„é€šé“.
b.åœ¨è¿æ¥ä¸­è¿›è¡Œå¤§æ•°æ®é‡ä¼ è¾“ï¼Œä»¥å­—èŠ‚æµæ–¹å¼
c.é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å®Œæˆè¿æ¥,æ˜¯å¯é åè®®
d å¿…é¡»å»ºç«‹è¿æ¥æ•ˆç‡ä¼šç¨ä½.èŠå¤©.ç½‘ç»œè§†é¢‘ä¼šè®®å°±æ˜¯UDP
</code></pre><h4 id="3-1-2-è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯httpåè®®å¿…ä¼š">3 1 2 è¯´ä¸€ä¸‹ä»€ä¹ˆæ˜¯Httpåè®®ï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="å®¢æˆ·ç«¯å’Œ-æœåŠ¡å™¨ç«¯ä¹‹é—´æ•°æ®ä¼ è¾“çš„æ ¼å¼è§„èŒƒæ ¼å¼ç®€ç§°ä¸ºè¶…æ–‡æœ¬ä¼ è¾“å">å®¢æˆ·ç«¯å’Œ æœåŠ¡å™¨ç«¯ä¹‹é—´æ•°æ®ä¼ è¾“çš„æ ¼å¼è§„èŒƒï¼Œæ ¼å¼ç®€ç§°ä¸ºâ€œè¶…æ–‡æœ¬ä¼ è¾“å</h5>
<h5 id="è®®æ˜¯ä¸€ä¸ªåŸºäºè¯·æ±‚ä¸å“åº”æ¨¡å¼çš„æ— çŠ¶æ€çš„åº”ç”¨å±‚çš„åè®®åŸºäºtcpçš„è¿æ¥">è®®â€ã€‚æ˜¯ä¸€ä¸ªåŸºäºè¯·æ±‚ä¸å“åº”æ¨¡å¼çš„.æ— çŠ¶æ€çš„.åº”ç”¨å±‚çš„åè®®ï¼ŒåŸºäºTCPçš„è¿æ¥</h5>
<h5 id="æ–¹å¼">æ–¹å¼ã€‚</h5>
<h4 id="3-1-3-getä¸postè¯·æ±‚åŒºåˆ«å¿…ä¼š">3 1 3 getä¸postè¯·æ±‚åŒºåˆ«ï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="åŒºåˆ«-1-">åŒºåˆ« 1 :</h5>
<p>geté‡ç‚¹åœ¨ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æºï¼Œposté‡ç‚¹åœ¨å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼›
<strong>åŒºåˆ« 2 ï¼š</strong>
getä¼ è¾“æ•°æ®æ˜¯é€šè¿‡URLè¯·æ±‚ï¼Œä»¥fieldï¼ˆå­—æ®µï¼‰=valueçš„å½¢å¼ï¼Œç½®äºURL
åï¼Œå¹¶ç”¨&quot;?&ldquo;è¿æ¥ï¼Œå¤šä¸ªè¯·æ±‚æ•°æ®é—´ç”¨&rdquo;&amp;&ldquo;è¿æ¥ï¼Œå¦‚http:// 127. 0. 0. 1 /Test/LogI
n.action?name=admin&amp;password=adminï¼Œè¿™ä¸ªè¿‡ç¨‹ç”¨æˆ·æ˜¯å¯è§çš„ï¼›
postä¼ è¾“æ•°æ®é€šè¿‡Httpçš„postæœºåˆ¶ï¼Œå°†å­—æ®µä¸å¯¹åº”å€¼å°å­˜åœ¨è¯·æ±‚å®ä½“ä¸­
å‘é€ç»™æœåŠ¡å™¨ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ï¼›
<strong>åŒºåˆ« 3 ï¼š</strong></p>
<p>Getä¼ è¾“çš„æ•°æ®é‡å°ï¼Œå› ä¸ºå—URLé•¿åº¦é™åˆ¶ï¼Œä½†æ•ˆç‡è¾ƒé«˜ï¼›
Postå¯ä»¥ä¼ è¾“å¤§é‡æ•°æ®ï¼Œæ‰€ä»¥ä¸Šä¼ æ–‡ä»¶æ—¶åªèƒ½ç”¨Postæ–¹å¼ï¼›
<strong>åŒºåˆ« 4 ï¼š</strong>
Getæ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºURLæ˜¯å¯è§çš„ï¼Œå¯èƒ½ä¼šæ³„éœ²ç§å¯†ä¿¡æ¯ï¼Œå¦‚å¯†ç ç­‰ï¼›
Postè¾ƒgetå®‰å…¨æ€§è¾ƒé«˜ï¼›
<strong>åŒºåˆ« 5 ï¼š</strong>
getæ–¹å¼åªèƒ½æ”¯æŒASCIIå­—ç¬¦ï¼Œå‘æœåŠ¡å™¨ä¼ çš„ä¸­æ–‡å­—ç¬¦å¯èƒ½ä¼šä¹±ç ã€‚
postæ”¯æŒæ ‡å‡†å­—ç¬¦é›†ï¼Œå¯ä»¥æ­£ç¡®ä¼ é€’ä¸­æ–‡å­—ç¬¦ã€‚</p>
<h4 id="3-1-4-httpä¸­é‡å®šå‘å’Œè¯·æ±‚è½¬å‘çš„åŒºåˆ«å¿…ä¼š">3 1 4 httpä¸­é‡å®šå‘å’Œè¯·æ±‚è½¬å‘çš„åŒºåˆ«ï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="æœ¬è´¨åŒºåˆ«-è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸ºé‡å®šå‘æ˜¯å®¢æˆ·ç«¯è¡Œä¸º">æœ¬è´¨åŒºåˆ«ï¼š è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸ºï¼Œé‡å®šå‘æ˜¯å®¢æˆ·ç«¯è¡Œä¸ºã€‚</h5>
<p><strong>é‡å®šå‘ç‰¹ç‚¹ï¼š</strong> ä¸¤æ¬¡è¯·æ±‚ï¼Œæµè§ˆå™¨åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥è®¿é—®è‡ªå·± web ä¹‹å¤–çš„
èµ„æºï¼Œä¼ è¾“çš„æ•°æ®ä¼šä¸¢å¤±ã€‚
<strong>è¯·æ±‚è½¬å‘ç‰¹ç‚¹ï¼š</strong> ä¸€æ¬¡è¯·æ±‚ï¼Œæµè§ˆå™¨åœ°å€ä¸å˜ï¼Œè®¿é—®çš„æ˜¯è‡ªå·±æœ¬èº«çš„ web èµ„
æºï¼Œä¼ è¾“çš„æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚</p>
<h3 id="4-1-cookieå’Œsessionå¿…ä¼š">4 1 Cookieå’ŒSession(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>Cookie æ˜¯ web æœåŠ¡å™¨å‘é€ç»™æµè§ˆå™¨çš„ä¸€å—ä¿¡æ¯ï¼Œæµè§ˆå™¨ä¼šåœ¨æœ¬åœ°ä¸€ä¸ªæ–‡
ä»¶ä¸­ç»™æ¯ä¸ª web æœåŠ¡å™¨å­˜å‚¨ cookieã€‚ä»¥åæµè§ˆå™¨å†ç»™ç‰¹å®šçš„ webæœåŠ¡å™¨å‘
é€è¯·æ±‚æ—¶ï¼ŒåŒæ—¶ä¼šå‘é€æ‰€æœ‰ä¸ºè¯¥æœåŠ¡å™¨å­˜å‚¨çš„ cookieã€‚
Session æ˜¯å­˜å‚¨åœ¨ web æœåŠ¡å™¨ç«¯çš„ä¸€å—ä¿¡æ¯ã€‚session å¯¹è±¡å­˜å‚¨ç‰¹å®šç”¨æˆ·
ä¼šè¯æ‰€éœ€çš„å±æ€§åŠé…ç½®ä¿¡æ¯ã€‚å½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºçš„ Web é¡µä¹‹é—´è·³è½¬æ—¶ï¼Œå­˜å‚¨
åœ¨ Session å¯¹è±¡ä¸­çš„å˜é‡å°†ä¸ä¼šä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æ•´ä¸ªç”¨æˆ·ä¼šè¯ä¸­ä¸€ç›´å­˜åœ¨ä¸‹å»ã€‚
Cookie å’Œ session çš„ä¸åŒç‚¹ï¼š
1 .æ— è®ºå®¢æˆ·ç«¯åšæ€æ ·çš„è®¾ç½®ï¼Œsession éƒ½èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚å½“å®¢æˆ·ç«¯ç¦ç”¨
cookie æ—¶å°†æ— æ³•ä½¿ç”¨ cookieã€‚
2 .åœ¨å­˜å‚¨çš„æ•°æ®é‡æ–¹é¢ï¼šsession èƒ½å¤Ÿå­˜å‚¨ä»»æ„çš„ java å¯¹è±¡ï¼Œcookieåª
èƒ½å­˜å‚¨ Stringç±»å‹çš„å¯¹è±¡ã€‚</p>
<h3 id="5-1-jspå’Œservlet">5 1 Jspå’ŒServlet&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h4 id="5-1-1-servletçš„æ‰§è¡Œæµç¨‹å¿…ä¼š">5 1 1 Servletçš„æ‰§è¡Œæµç¨‹(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>Servletçš„æ‰§è¡Œæµç¨‹ä¹Ÿå°±æ˜¯servletçš„ç”Ÿå‘½å‘¨æœŸï¼Œå½“æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ç”Ÿ
å‘½å‘¨æœŸå¼€å§‹ï¼Œç„¶åé€šè¿‡init()ã€Šå¯åŠ¨é¡ºåºæ ¹æ®web.xmlé‡Œçš„startup-on-loadæ¥
ç¡®å®šåŠ è½½é¡ºåºã€‹æ–¹æ³•åˆå§‹åŒ–servletï¼Œå†æ ¹æ®ä¸åŒè¯·æ±‚è°ƒç”¨doGetæˆ–doPostæ–¹
æ³•ï¼Œæœ€åå†é€šè¿‡destroy()æ–¹æ³•è¿›è¡Œé”€æ¯ã€‚</p>
<h4 id="5-1-2-jspå’Œservletçš„åŒºåˆ«å¿…ä¼š">5 1 2 Jspå’ŒServletçš„åŒºåˆ«(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ä½ å¯ä»¥å°†jspå½“åšä¸€ä¸ªå¯æ‰©å……çš„htmlæ¥å¯¹å¾…">ä½ å¯ä»¥å°†JSPå½“åšä¸€ä¸ªå¯æ‰©å……çš„HTMLæ¥å¯¹å¾…ã€‚</h5>
<p>è™½ç„¶åœ¨æœ¬è´¨ä¸ŠJSPæ–‡ä»¶ä¼šè¢«æœåŠ¡å™¨è‡ªåŠ¨ç¿»è¯‘ä¸ºç›¸åº”çš„Servletæ¥æ‰§è¡Œã€‚
å¯ä»¥è¯´Servletæ˜¯é¢å‘Javaç¨‹åºå‘˜è€ŒJSPæ˜¯é¢å‘HTMLç¨‹åºå‘˜çš„ï¼Œé™¤æ­¤ä¹‹
å¤–ä¸¤è€…åŠŸèƒ½å®Œå…¨ç­‰ä»·ã€‚</p>
<h4 id="5-1-3-jspä¹å¤§å†…ç½®å¯¹è±¡äº†è§£">5 1 3 JSPä¹å¤§å†…ç½®å¯¹è±¡(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>pageContext ï¼šåªå¯¹å½“å‰jspé¡µé¢æœ‰æ•ˆï¼Œé‡Œé¢å°è£…äº†åŸºæœ¬çš„requestå’Œ
sessionçš„å¯¹è±¡
Request ï¼šå¯¹å½“å‰è¯·æ±‚è¿›è¡Œå°è£…
Session ï¼šæµè§ˆå™¨ä¼šè¯å¯¹è±¡ï¼Œæµè§ˆå™¨èŒƒå›´å†…æœ‰æ•ˆ
Application ï¼šåº”ç”¨ç¨‹åºå¯¹è±¡ï¼Œå¯¹æ•´ä¸ªwebå·¥ç¨‹éƒ½æœ‰æ•ˆ
Out ï¼šé¡µé¢æ‰“å°å¯¹è±¡ï¼Œåœ¨jspé¡µé¢æ‰“å°å­—ç¬¦ä¸²
Response ï¼šè¿”å›æœåŠ¡å™¨ç«¯ä¿¡æ¯ç»™ç”¨æˆ·
Config ï¼šå•ä¸ªservletçš„é…ç½®å¯¹è±¡ï¼Œç›¸å½“äºservletConfigå¯¹è±¡
Pageï¼šå½“å‰é¡µé¢å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯this
Exception ï¼šé”™è¯¯é¡µé¢çš„exceptionå¯¹è±¡ï¼Œå¦‚æœæŒ‡å®šçš„æ˜¯é”™è¯¯é¡µé¢ï¼Œè¿™ä¸ªå°±
æ˜¯å¼‚å¸¸å¯¹è±¡</p>
<h4 id="5-1-4-jspçš„ä¸‰å¤§æŒ‡ä»¤äº†è§£">5 1 4 JSPçš„ä¸‰å¤§æŒ‡ä»¤(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>Pageï¼šæŒ‡ä»¤æ˜¯é’ˆå¯¹å½“å‰é¡µé¢çš„æŒ‡ä»¤
Include ï¼šç”¨äºæŒ‡å®šå¦‚ä½•åŒ…å«å¦ä¸€ä¸ªé¡µé¢
Taglibï¼šç”¨äºå®šä¹‰å’ŒæŒ‡å®šè‡ªå®šä¹‰æ ‡ç­¾
</code></pre><h4 id="5-1-5-ä¸ƒå¤§åŠ¨ä½œäº†è§£">5 1 5 ä¸ƒå¤§åŠ¨ä½œ(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<pre tabindex="0"><code>Forwardï¼šæ‰§è¡Œé¡µé¢è·³è½¬ï¼Œå°†è¯·æ±‚çš„å¤„ç†è½¬å‘åˆ°å¦ä¸€ä¸ªé¡µé¢
Param ï¼šç”¨äºä¼ é€’å‚æ•°
Include ï¼šç”¨äºåŠ¨æ€å¼•å…¥ä¸€ä¸ªjspé¡µé¢
Plugin ï¼šç”¨äºä¸‹è½½javaBeanæˆ–appletåˆ°å®¢æˆ·ç«¯æ‰§è¡Œ
useBean ï¼šä½¿ç”¨javaBean
setProperty ï¼šä¿®æ”¹javaBeanå®ä¾‹çš„å±æ€§å€¼
getProperty ï¼šè·å–javaBeanå®ä¾‹çš„å±æ€§å€¼
</code></pre><h3 id="6-1-ajax">6 1 Ajax&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>6. 1. 1 è°ˆè°ˆä½ å¯¹ Ajax çš„è®¤è¯†ï¼Ÿï¼ˆå¿…ä¼šï¼‰</strong></p>
<p>Ajax æ˜¯ä¸€ç§åˆ›å»ºäº¤äº’å¼ç½‘é¡µåº”ç”¨çš„çš„ç½‘é¡µå¼€å‘æŠ€æœ¯ï¼›Asynchronous
JavaScriptandXMLâ€çš„ç¼©å†™ã€‚
Ajax çš„ä¼˜åŠ¿ï¼š
ï® é€šè¿‡å¼‚æ­¥æ¨¡å¼ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚
ï® ä¼˜åŒ–äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“ï¼Œå‡å°‘ä¸å¿…è¦çš„æ•°æ®å¾€è¿”ï¼Œå‡å°‘äº†å¸¦
å®½å ç”¨ã€‚
ï® Ajax å¼•æ“åœ¨å®¢æˆ·ç«¯è¿è¡Œï¼Œæ‰¿æ‹…äº†ä¸€éƒ¨åˆ†æœ¬æ¥ç”±æœåŠ¡å™¨æ‰¿æ‹…çš„å·¥ä½œï¼Œä»è€Œ
å‡å°‘äº†å¤§ç”¨æˆ·é‡ä¸‹çš„æœåŠ¡å™¨è´Ÿè½½ã€‚
Ajax çš„æœ€å¤§ç‰¹ç‚¹ï¼š
å¯ä»¥å®ç°å±€éƒ¨åˆ·æ–°ï¼Œåœ¨ä¸æ›´æ–°æ•´ä¸ªé¡µé¢çš„å‰æä¸‹ç»´æŠ¤æ•°æ®ï¼Œæå‡ç”¨æˆ·ä½“
éªŒåº¦ã€‚</p>
<h4 id="6-1-2-ajaxåˆ›å»ºçš„è¿‡ç¨‹äº†è§£">6 1 2 Ajaxåˆ›å»ºçš„è¿‡ç¨‹ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>1 .åˆ›å»º XMLHttpRequest å¯¹è±¡,ä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¼‚æ­¥è°ƒç”¨å¯¹è±¡
2 .åˆ›å»ºä¸€ä¸ªæ–°çš„ HTTP è¯·æ±‚,å¹¶æŒ‡å®šè¯¥ HTTP è¯·æ±‚çš„æ–¹æ³•ã€URL åŠéªŒè¯ä¿¡
</code></pre><h5 id="æ¯">æ¯</h5>
<h5 id="3-è®¾ç½®å“åº”-http-è¯·æ±‚çŠ¶æ€å˜åŒ–çš„å‡½æ•°">3 .è®¾ç½®å“åº” HTTP è¯·æ±‚çŠ¶æ€å˜åŒ–çš„å‡½æ•°</h5>
<h5 id="4-å‘é€-http-è¯·æ±‚">4 .å‘é€ HTTP è¯·æ±‚</h5>
<h5 id="5-è·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ®">5 .è·å–å¼‚æ­¥è°ƒç”¨è¿”å›çš„æ•°æ®</h5>
<pre tabindex="0"><code>6 .ä½¿ç”¨ JavaScript å’Œ DOM å®ç°å±€éƒ¨åˆ·æ–°
</code></pre><h4 id="6-1-3-é˜è¿°ä¸€ä¸‹å¼‚æ­¥åŠ è½½jsäº†è§£">6 1 3 é˜è¿°ä¸€ä¸‹å¼‚æ­¥åŠ è½½JSï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>1 .å¼‚æ­¥åŠ è½½çš„æ–¹æ¡ˆ: åŠ¨æ€æ’å…¥ script æ ‡ç­¾
2 .é€šè¿‡ ajax å»è·å– jsä»£ç ï¼Œç„¶åé€šè¿‡ eval æ‰§è¡Œ
3 .script æ ‡ç­¾ä¸Šæ·»åŠ  deferæˆ–è€… async å±æ€§
4 .åˆ›å»ºå¹¶æ’å…¥ iframeï¼Œè®©å®ƒå¼‚æ­¥æ‰§è¡Œ js
</code></pre><h4 id="6-1-4-ajaxè¯·æ±‚æ—¶å¦‚ä½•è§£é‡Šjsonæ•°æ®äº†è§£">6 1 4 ajaxè¯·æ±‚æ—¶ï¼Œå¦‚ä½•è§£é‡Šjsonæ•°æ®ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>ä½¿ç”¨ eval() æˆ–è€… JSON.parse() é‰´äºå®‰å…¨æ€§è€ƒè™‘ï¼Œæ¨èä½¿ç”¨ JSON.parse()
æ›´é è°±ï¼Œå¯¹æ•°æ®çš„å®‰å…¨æ€§æ›´å¥½.</p>
<h4 id="6-1-5-ajaxæäº¤è¯·æ±‚é»˜è®¤æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥æ€ä¹ˆæ”¹æˆåŒæ­¥äº†è§£">6 1 5 Ajaxæäº¤è¯·æ±‚é»˜è®¤æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥,æ€ä¹ˆæ”¹æˆåŒæ­¥ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>æ§åˆ¶ ajax è¯·æ±‚å‚æ•° async å±æ€§çš„å€¼å¯ä»¥åˆ‡æ¢æˆåŒæ­¥è¯·æ±‚æˆ–å¼‚æ­¥è¯·æ±‚ã€‚
åŒæ­¥è¯·æ±‚ï¼š(false)åŒæ­¥è¯·æ±‚å³æ˜¯å½“å‰å‘å‡ºè¯·æ±‚åï¼Œæµè§ˆå™¨ä»€ä¹ˆéƒ½ä¸èƒ½åšï¼Œå¿…
é¡»å¾—ç­‰åˆ°è¯·æ±‚å®Œæˆè¿”å›æ•°æ®ä¹‹åï¼Œæ‰ä¼šæ‰§è¡Œåç»­çš„ä»£ç ï¼Œç›¸å½“äºæ˜¯æ’é˜Ÿï¼Œå‰ä¸€ä¸ª
äººåŠç†å®Œè‡ªå·±çš„äº‹åŠ¡ï¼Œä¸‹ä¸€ä¸ªäººæ‰èƒ½æ¥ç€åŠã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJS ä»£ç åŠ è½½åˆ°å½“å‰
AJAX çš„æ—¶å€™ä¼šæŠŠé¡µé¢é‡Œæ‰€æœ‰çš„ä»£ç åœæ­¢åŠ è½½ï¼Œé¡µé¢å¤„äºä¸€ä¸ªå‡æ­»çŠ¶æ€ï¼Œå½“è¿™ä¸ª
AJAX æ‰§è¡Œå®Œæ¯•åæ‰ä¼šç»§ç»­è¿è¡Œå…¶ä»–ä»£ç é¡µé¢è§£é™¤å‡æ­»çŠ¶æ€ã€‚
å¼‚æ­¥è¯·æ±‚ï¼š(true) å¼‚æ­¥è¯·æ±‚å°±å½“å‘å‡ºè¯·æ±‚çš„åŒæ—¶ï¼Œæµè§ˆå™¨å¯ä»¥ç»§ç»­åšä»»ä½•
äº‹ï¼ŒAjax å‘é€è¯·æ±‚å¹¶ä¸ä¼šå½±å“é¡µé¢çš„åŠ è½½ä¸ç”¨æˆ·çš„æ“ä½œï¼Œç›¸å½“äºæ˜¯åœ¨ä¸¤æ¡çº¿ä¸Šï¼Œ
å„èµ°å„çš„ï¼Œäº’ä¸å½±å“ã€‚
ä¾‹å­ï¼š</p>
<pre tabindex="0"><code>$.ajax({
url:&#34;url&#34;,
type:&#34;post&#34;,
async:false,
success:function(){ä»£ç }});
</code></pre><h4 id="6-1-6-å¦‚ä½•è§£å†³ajaxè·¨åŸŸé—®é¢˜äº†è§£">6 1 6 å¦‚ä½•è§£å†³ajaxè·¨åŸŸé—®é¢˜ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>è·¨åŸŸé—®é¢˜æ¥æºäº JavaScript çš„&quot;åŒæºç­–ç•¥&rdquo;ï¼Œå³åªæœ‰ åè®®+ä¸»æœºå+ç«¯å£å·
(å¦‚å­˜åœ¨)ç›¸åŒï¼Œåˆ™å…è®¸ç›¸äº’è®¿é—®ã€‚ä¹Ÿå°±æ˜¯è¯´ JavaScript åªèƒ½è®¿é—®å’Œæ“ä½œè‡ªå·±åŸŸ
ä¸‹çš„èµ„æºï¼Œä¸èƒ½è®¿é—®å’Œæ“ä½œå…¶ä»–åŸŸä¸‹çš„èµ„æºã€‚è·¨åŸŸé—®é¢˜æ˜¯é’ˆå¯¹ JS å’Œ ajax çš„ï¼Œ
html æœ¬èº«æ²¡æœ‰è·¨åŸŸé—®é¢˜ã€‚
<strong>è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ</strong>
1 .å“åº”å¤´æ·»åŠ  Header å…è®¸è®¿é—®
è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰Cross-OriginResourceSharing
è¿™ä¸ªè·¨åŸŸè®¿é—®çš„è§£å†³æ–¹æ¡ˆçš„å®‰å…¨åŸºç¡€æ˜¯åŸºäº&quot;JavaScript æ— æ³•æ§åˆ¶è¯¥
HTTP å¤´&quot;å®ƒéœ€è¦é€šè¿‡ç›®æ ‡åŸŸè¿”å›çš„ HTTP å¤´æ¥æˆæƒæ˜¯å¦å…è®¸è·¨åŸŸè®¿é—®
å…·ä½“å¦‚ä¸‹ï¼š
response.addHeader(â€˜Access-Control-Allow-Origin:*â€™);//å…è®¸æ‰€æœ‰æ¥
æºè®¿é—®
response.addHeader(â€˜Access-Control-Allow-Method:POST,GETâ€™);//
å…è®¸è®¿é—®çš„æ–¹å¼
2 ã€jsonpï¼ˆåªæ”¯æŒ get è¯·æ±‚ä¸æ”¯æŒ post è¯·æ±‚ï¼‰
ç”¨æ³•ï¼š
â‘ dataTypeæ”¹ä¸º jsonp
â‘¡jsonp:&ldquo;jsonpCallback&rdquo;ï¼ˆå‘é€åˆ°åç«¯å®é™…ä¾‹å­ï¼š
<a class="link" href="http://a.a.com/a/FromServlet?userName="  target="_blank" rel="noopener"
    >http://a.a.com/a/FromServlet?userName=</a> 644064 &amp;jsonpCallback=j
Queryxxxï¼‰</p>
<p>â‘¢åç«¯è·å– get è¯·æ±‚ä¸­çš„ jsonpCallback
â‘£æ„é€ å›è°ƒç»“æ„
3 ã€httpClient å†…éƒ¨è½¬å‘
å®ç°åŸç†ä¾‹å­ï¼šè‹¥æƒ³åœ¨ B ç«™ç‚¹ä¸­é€šè¿‡ Ajax è®¿é—® A ç«™ç‚¹è·å–ç»“æœï¼Œå›ºç„¶
æœ‰ ajax è·¨åŸŸé—®é¢˜ï¼Œä½†åœ¨ B ç«™ç‚¹ä¸­è®¿é—® B ç«™ç‚¹è·å–ç»“æœï¼Œä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œ
è¿™ç§æ–¹å¼å®é™…ä¸Šæ˜¯åœ¨ B ç«™ç‚¹ä¸­ ajax è¯·æ±‚è®¿é—® Bç«™ç‚¹çš„ HttpClientï¼Œå†é€šè¿‡
HttpClient è½¬å‘è¯·æ±‚è·å– A ç«™ç‚¹çš„æ•°æ®ç»“æœã€‚ä½†è¿™ç§æ–¹å¼äº§ç”Ÿäº†ä¸¤æ¬¡è¯·æ±‚ï¼Œ
æ•ˆç‡ä½ï¼Œä½†å†…éƒ¨è¯·æ±‚ï¼ŒæŠ“åŒ…å·¥å…·æ— æ³•åˆ†æï¼Œå®‰å…¨
4 ã€ä½¿ç”¨æ¥å£ç½‘å…³â€”â€”nginxã€springcloudzuul(äº’è”ç½‘å…¬å¸å¸¸è§„è§£å†³æ–¹æ¡ˆ)</p>
<h4 id="6-1-7-ajax-çš„ä¼˜åŠ¿äº†è§£">6 1 7 Ajax çš„ä¼˜åŠ¿ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="é€šè¿‡å¼‚æ­¥æ¨¡å¼æå‡äº†ç”¨æˆ·ä½“éªŒ">é€šè¿‡å¼‚æ­¥æ¨¡å¼ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚</h5>
<h5 id="ä¼˜åŒ–äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“å‡å°‘ä¸å¿…è¦çš„æ•°æ®å¾€è¿”å‡å°‘äº†å¸¦å®½å ">ä¼˜åŒ–äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“ï¼Œå‡å°‘ä¸å¿…è¦çš„æ•°æ®å¾€è¿”ï¼Œå‡å°‘äº†å¸¦å®½å </h5>
<h5 id="ç”¨">ç”¨ã€‚</h5>
<p>Ajax å¼•æ“åœ¨å®¢æˆ·ç«¯è¿è¡Œï¼Œæ‰¿æ‹…äº†ä¸€éƒ¨åˆ†æœ¬æ¥ç”±æœåŠ¡å™¨æ‰¿æ‹…çš„å·¥ä½œï¼Œä»è€Œå‡
å°‘äº†å¤§ç”¨æˆ·é‡ä¸‹çš„æœåŠ¡å™¨è´Ÿè½½ã€‚</p>
<h4 id="6-1-8-è¯·ä»‹ç»ä¸‹jsonpåŸç†äº†è§£">6 1 8 è¯·ä»‹ç»ä¸‹JsonpåŸç†ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>jsonpçš„æœ€åŸºæœ¬çš„åŸç†æ˜¯ï¼šåŠ¨æ€æ·»åŠ ä¸€ä¸ª<!-- raw HTML omitted -->æ ‡ç­¾ï¼Œä½¿ç”¨ script æ ‡ç­¾
çš„ src å±æ€§æ²¡æœ‰è·¨åŸŸçš„é™åˆ¶çš„ç‰¹ç‚¹å®ç°è·¨åŸŸã€‚é¦–å…ˆåœ¨å®¢æˆ·ç«¯æ³¨å†Œä¸€ä¸ªcallback,
ç„¶åæŠŠ callbackçš„åå­—ä¼ ç»™æœåŠ¡å™¨ã€‚æ­¤æ—¶ï¼ŒæœåŠ¡å™¨å…ˆç”Ÿæˆ json æ•°æ®ã€‚ ç„¶å
ä»¥ javascript è¯­æ³•çš„æ–¹å¼ï¼Œç”Ÿæˆä¸€ä¸ª function,function åå­—å°±æ˜¯ä¼ é€’ä¸Šæ¥
çš„å‚æ•° jsonpã€‚æœ€åå°† json æ•°æ®ç›´æ¥ä»¥å…¥å‚çš„æ–¹å¼ï¼Œæ”¾ç½®åˆ° function ä¸­ï¼Œè¿™
æ ·å°±ç”Ÿæˆäº†ä¸€æ®µ js è¯­æ³•çš„æ–‡æ¡£ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œè§£æ script æ ‡
ç­¾ï¼Œå¹¶æ‰§è¡Œè¿”å›çš„ javascript æ–‡æ¡£ï¼Œæ­¤æ—¶æ•°æ®ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥åˆ°äº†å®¢æˆ·ç«¯é¢„å…ˆ
å®šä¹‰å¥½çš„ callback å‡½æ•°é‡Œã€‚</p>
<h2 id="ä¸‰æ•°æ®åº“">ä¸‰ï¼æ•°æ®åº“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h2>
<h3 id="3-1-sql-ä¹‹è¿æ¥æŸ¥è¯¢å¿…ä¼š">3 1 SQL ä¹‹è¿æ¥æŸ¥è¯¢(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="1-å·¦è¿æ¥-å·¦å¤–è¿æ¥ä»¥å·¦è¡¨ä¸ºåŸºå‡†è¿›è¡ŒæŸ¥è¯¢å·¦è¡¨æ•°æ®ä¼šå…¨éƒ¨æ˜¾ç¤ºå‡º">1. å·¦è¿æ¥ ï¼ˆå·¦å¤–è¿æ¥ï¼‰ä»¥å·¦è¡¨ä¸ºåŸºå‡†è¿›è¡ŒæŸ¥è¯¢,å·¦è¡¨æ•°æ®ä¼šå…¨éƒ¨æ˜¾ç¤ºå‡º</h5>
<h5 id="æ¥-å³è¡¨-å¦‚æœå’Œå·¦è¡¨åŒ¹é…-çš„æ•°æ®åˆ™æ˜¾ç¤ºç›¸åº”å­—æ®µçš„æ•°æ®å¦‚æœä¸åŒ¹é…åˆ™">æ¥, å³è¡¨ å¦‚æœå’Œå·¦è¡¨åŒ¹é… çš„æ•°æ®åˆ™æ˜¾ç¤ºç›¸åº”å­—æ®µçš„æ•°æ®,å¦‚æœä¸åŒ¹é…,åˆ™</h5>
<h5 id="æ˜¾ç¤ºä¸ºnull">æ˜¾ç¤ºä¸ºNULL;</h5>
<h5 id="2-å³è¿æ¥-å³å¤–è¿æ¥ä»¥å³è¡¨ä¸ºåŸºå‡†è¿›è¡ŒæŸ¥è¯¢å³è¡¨æ•°æ®ä¼šå…¨éƒ¨æ˜¾ç¤ºå‡º">2. å³è¿æ¥ ï¼ˆå³å¤–è¿æ¥ï¼‰ä»¥å³è¡¨ä¸ºåŸºå‡†è¿›è¡ŒæŸ¥è¯¢,å³è¡¨æ•°æ®ä¼šå…¨éƒ¨æ˜¾ç¤ºå‡º</h5>
<h5 id="æ¥-å³è¡¨-å¦‚æœå’Œå·¦è¡¨åŒ¹é…çš„æ•°æ®åˆ™æ˜¾ç¤ºç›¸åº”å­—æ®µçš„æ•°æ®å¦‚æœä¸åŒ¹é…åˆ™">æ¥, å³è¡¨ å¦‚æœå’Œå·¦è¡¨åŒ¹é…çš„æ•°æ®åˆ™æ˜¾ç¤ºç›¸åº”å­—æ®µçš„æ•°æ®,å¦‚æœä¸åŒ¹é…,åˆ™</h5>
<h5 id="æ˜¾ç¤ºä¸ºnull-1">æ˜¾ç¤ºä¸ºNULL;</h5>
<h5 id="3-å…¨è¿æ¥-å°±æ˜¯å…ˆä»¥å·¦è¡¨è¿›è¡Œå·¦å¤–è¿æ¥ç„¶åä»¥å³è¡¨è¿›è¡Œå³å¤–è¿æ¥">3. å…¨è¿æ¥ å°±æ˜¯å…ˆä»¥å·¦è¡¨è¿›è¡Œå·¦å¤–è¿æ¥ï¼Œç„¶åä»¥å³è¡¨è¿›è¡Œå³å¤–è¿æ¥ã€‚</h5>
<h5 id="å†…è¿æ¥-">å†…è¿æ¥ ï¼š</h5>
<h5 id="æ˜¾ç¤ºè¡¨ä¹‹é—´æœ‰è¿æ¥åŒ¹é…çš„æ‰€æœ‰è¡Œ">æ˜¾ç¤ºè¡¨ä¹‹é—´æœ‰è¿æ¥åŒ¹é…çš„æ‰€æœ‰è¡Œã€‚</h5>
<h3 id="3-2-sql-ä¹‹èšåˆå‡½æ•°å¿…ä¼š">3 2 SQL ä¹‹èšåˆå‡½æ•°(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>èšåˆå‡½æ•°æ˜¯å¯¹ä¸€ç»„å€¼è¿›è¡Œè®¡ç®—å¹¶è¿”å›å•ä¸€çš„å€¼çš„å‡½æ•°ï¼Œå®ƒç»å¸¸ä¸ select
è¯­å¥ä¸­çš„ groupby å­å¥ä¸€åŒä½¿ç”¨ã€‚
1 ) <strong>avg()</strong> ï¼šè¿”å›çš„æ˜¯æŒ‡å®šç»„ä¸­çš„å¹³å‡å€¼ï¼Œç©ºå€¼è¢«å¿½ç•¥ã€‚
2 ) <strong>count()</strong> ï¼šè¿”å›çš„æ˜¯æŒ‡å®šç»„ä¸­çš„é¡¹ç›®ä¸ªæ•°ã€‚
3 ) <strong>max()</strong> ï¼šè¿”å›æŒ‡å®šæ•°æ®ä¸­çš„æœ€å¤§å€¼ã€‚
4 ) <strong>min()</strong> ï¼šè¿”å›æŒ‡å®šæ•°æ®ä¸­çš„æœ€å°å€¼ã€‚
5 ) <strong>sum()</strong> ï¼šè¿”å›æŒ‡å®šæ•°æ®çš„å’Œï¼Œåªèƒ½ç”¨äºæ•°å­—åˆ—ï¼Œç©ºå€¼å¿½ç•¥ã€‚
6 ) <strong>groupby()</strong> ï¼šå¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œå¯¹æ‰§è¡Œå®Œ groupby ä¹‹åçš„ç»„è¿›è¡Œèš
åˆå‡½æ•°çš„è¿ç®—ï¼Œè®¡ç®—æ¯ä¸€ç»„çš„å€¼ã€‚æœ€åç”¨ havingå»æ‰ä¸ç¬¦åˆæ¡ä»¶çš„ç»„ï¼Œ</p>
<pre tabindex="0"><code>having å­å¥ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å¿…é¡»å‡ºç°åœ¨ select åˆ—è¡¨ä¸­ï¼ˆåªé’ˆå¯¹äº
mysqlï¼‰ã€‚
</code></pre><h3 id="3-3-sqlä¹‹sql-æ³¨å…¥å¿…ä¼š">3 3 SQLä¹‹SQL æ³¨å…¥(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="ä¸¾ä¾‹">ä¸¾ä¾‹ï¼š</h5>
<pre tabindex="0"><code>select admin from user where username=&#39;admin&#39; or &#39;a&#39;=&#39;a&#39; and
passwd=&#39;&#39;or&#39;a&#39;=&#39;a&#39;
é˜²æ­¢ SQL æ³¨å…¥ï¼Œä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥æ˜¯é¢„é˜² SQL æ³¨å…¥çš„æœ€ä½³æ–¹å¼ï¼Œå¦‚
selectadminfromuserwhereusername=ï¼ŸAndpassword=?
ä½¿ç”¨é¢„ç¼–è¯‘çš„ SQL è¯­å¥è¯­ä¹‰ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œåœ¨ SQL è¯­å¥ä¸­ï¼Œå˜é‡ç”¨é—®å·ï¼Ÿ
è¡¨ç¤ºã€‚åƒä¸Šé¢ä¾‹å­ä¸­ï¼Œusername å˜é‡ä¼ é€’çš„&#39;admin&#39;or&#39;a&#39;=&#39;a&#39; å‚æ•°ï¼Œä¹Ÿåª
ä¼šå½“ ä½œ username å­—ç¬¦ä¸²æ¥è§£é‡ŠæŸ¥è¯¢ï¼Œä»æ ¹æœ¬ä¸Šæœç»äº† SQL æ³¨å…¥æ”»å‡»çš„
å‘ç”Ÿã€‚
æ³¨æ„ï¼šä½¿ç”¨ mybaitsæ—¶ mapper ä¸­#æ–¹å¼èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦é˜²æ­¢ SQL æ³¨å…¥ï¼Œ$
æ–¹å¼ æ— æ³•é˜²æ­¢ SQL æ³¨å…¥.
</code></pre><h3 id="3-4-sqlselectè¯­å¥å®Œæ•´çš„æ‰§è¡Œé¡ºåºå¿…ä¼š">3 4 SQLSelectè¯­å¥å®Œæ•´çš„æ‰§è¡Œé¡ºåº:(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="æŸ¥è¯¢ä¸­ç”¨åˆ°çš„å…³é”®è¯ä¸»è¦åŒ…å«å…­ä¸ªå¹¶ä¸”ä»–ä»¬çš„é¡ºåºä¾æ¬¡ä¸º">æŸ¥è¯¢ä¸­ç”¨åˆ°çš„å…³é”®è¯ä¸»è¦åŒ…å«å…­ä¸ªï¼Œå¹¶ä¸”ä»–ä»¬çš„é¡ºåºä¾æ¬¡ä¸º</h5>
<p><strong>select&ndash;from&ndash;where&ndash;groupby&ndash;having&ndash;orderby</strong>
å…¶ä¸­ <strong>select</strong> å’Œ <strong>from</strong> æ˜¯å¿…é¡»çš„ï¼Œå…¶ä»–å…³é”®è¯æ˜¯å¯é€‰çš„ï¼Œ è¿™å…­ä¸ªå…³é”®
è¯çš„æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š
<strong>from</strong> :éœ€è¦ä»å“ªä¸ªæ•°æ®è¡¨æ£€ç´¢æ•°æ®
<strong>where</strong> : è¿‡æ»¤è¡¨ä¸­æ•°æ®çš„æ¡ä»¶
<strong>groupby</strong> : å¦‚ä½•å°†ä¸Šé¢è¿‡æ»¤å‡ºçš„æ•°æ®åˆ†ç»„ç®—ç»“æœ
<strong>orderby</strong> : æŒ‰ç…§ä»€ä¹ˆæ ·çš„é¡ºåºæ¥æŸ¥çœ‹è¿”å›çš„æ•°æ®</p>
<h3 id="3-5-å­˜å‚¨å¼•æ“é«˜è–ªå¸¸é—®">3 5 å­˜å‚¨å¼•æ“ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>å¯¹äºMySQL 5. 5 åŠæ›´é«˜ç‰ˆæœ¬ï¼Œé»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯InnoDBã€‚åœ¨ 5. 5 ç‰ˆæœ¬ä¹‹
å‰ï¼ŒMySQLçš„é»˜è®¤å­˜å‚¨å¼•æ“æ˜¯MyISAMã€‚</p>
<h4 id="1-innodbå­˜å‚¨å¼•æ“">1 ã€InnoDBå­˜å‚¨å¼•æ“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ç‰¹ç‚¹è¡Œé”è®¾è®¡æ”¯æŒå¤–é”®æ”¯æŒéé”å®šè¯»">ç‰¹ç‚¹ï¼šè¡Œé”è®¾è®¡ã€æ”¯æŒå¤–é”®ã€æ”¯æŒéé”å®šè¯»</h5>
<pre tabindex="0"><code>ä½¿ç”¨next-key-lockingçš„ç­–ç•¥é¿å…å¹»è¯»ç°è±¡
æä¾›æ’å…¥ç¼“å†²ã€äºŒæ¬¡å†™ã€è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ã€é¢„è¯»
é‡‡ç”¨èšé›†çš„æ–¹å¼å­˜å‚¨è¡¨ä¸­æ•°æ®
</code></pre><h4 id="2-myisamå­˜å‚¨å¼•æ“">2 ã€MyISAMå­˜å‚¨å¼•æ“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="ä¸æ”¯æŒäº‹åŠ¡è¡¨é”è®¾è®¡æ”¯æŒå…¨æ–‡æœç´¢">ä¸æ”¯æŒäº‹åŠ¡ã€è¡¨é”è®¾è®¡ï¼Œæ”¯æŒå…¨æ–‡æœç´¢</h5>
<h5 id="ç¼“å†²æ± åªç¼“å­˜ç´¢å¼•æ–‡ä»¶ä¸ç¼“å­˜æ•°æ®æ–‡ä»¶">ç¼“å†²æ± åªç¼“å­˜ç´¢å¼•æ–‡ä»¶ï¼Œä¸ç¼“å­˜æ•°æ®æ–‡ä»¶</h5>
<p>MyISAMå­˜å‚¨å¼•æ“è¡¨ç”±MYDï¼ˆå­˜æ”¾æ•°æ®æ–‡ä»¶ï¼‰å’ŒMYIï¼ˆå­˜æ”¾ç´¢å¼•æ–‡ä»¶ï¼‰
ç»„æˆ.</p>
<h4 id="3-ndbå­˜å‚¨å¼•æ“">3 ã€NDBå­˜å‚¨å¼•æ“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­å› æ­¤ä¸»é”®æŸ¥æ‰¾é€Ÿåº¦æå¿«">æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤ä¸»é”®æŸ¥æ‰¾é€Ÿåº¦æå¿«</h5>
<p>è¿æ¥æ“ä½œï¼ˆJOINï¼‰æ˜¯åœ¨MySQLæ•°æ®å±‚å®Œæˆè€Œä¸æ˜¯åœ¨å­˜å‚¨å¼•æ“å±‚ï¼Œæ„å‘³
ç€å¤æ‚çš„è¿æ¥æ“ä½œéœ€è¦å·¨å¤§çš„ç½‘ç»œå¼€é”€ï¼Œå› æ­¤æŸ¥è¯¢é€Ÿåº¦å¾ˆæ…¢</p>
<h4 id="4-memoryå­˜å‚¨å¼•æ“">4 ã€Memoryå­˜å‚¨å¼•æ“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="è¡¨ä¸­çš„æ•°æ®å­˜æ”¾åœ¨å†…å­˜æ•°æ®åº“é‡å¯æˆ–å´©æºƒè¡¨ä¸­çš„æ•°æ®éƒ½ä¼šæ¶ˆå¤±">è¡¨ä¸­çš„æ•°æ®å­˜æ”¾åœ¨å†…å­˜ï¼Œæ•°æ®åº“é‡å¯æˆ–å´©æºƒè¡¨ä¸­çš„æ•°æ®éƒ½ä¼šæ¶ˆå¤±</h5>
<h5 id="é€‚åˆå­˜å‚¨ä¸´æ—¶æ•°æ®çš„ä¸´æ—¶è¡¨ä»¥åŠæ•°æ®ä»“åº“çš„çº¬åº¦è¡¨">é€‚åˆå­˜å‚¨ä¸´æ—¶æ•°æ®çš„ä¸´æ—¶è¡¨ï¼Œä»¥åŠæ•°æ®ä»“åº“çš„çº¬åº¦è¡¨</h5>
<h5 id="é»˜è®¤å“ˆå¸Œç´¢å¼•">é»˜è®¤å“ˆå¸Œç´¢å¼•</h5>
<h5 id="åªæ”¯æŒè¡¨é”å¹¶å‘æ€§èƒ½å·®ä¸æ”¯æŒtextå’Œblobåˆ—ç±»å‹">åªæ”¯æŒè¡¨é”ï¼Œå¹¶å‘æ€§èƒ½å·®ï¼Œä¸æ”¯æŒTEXTå’ŒBLOBåˆ—ç±»å‹</h5>
<p>å­˜å‚¨å˜é•¿å­—æ®µæ—¶æŒ‰ç…§å®šé•¿å­—æ®µæ–¹å¼ï¼Œæµªè´¹å†…å­˜ï¼ˆeBayå·¥ç¨‹å¸ˆç»™å‡ºäº†
patchè§£å†³æ–¹æ¡ˆï¼‰</p>
<h4 id="5-archiveå­˜å‚¨å¼•æ“">5 ã€Archiveå­˜å‚¨å¼•æ“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="åªæ”¯æŒinsertå’Œselectæ“ä½œ-5-1-ç‰ˆæœ¬ä¹‹åæ”¯æŒç´¢å¼•">åªæ”¯æŒINSERTå’ŒSELECTæ“ä½œï¼Œ 5. 1 ç‰ˆæœ¬ä¹‹åæ”¯æŒç´¢å¼•</h5>
<pre tabindex="0"><code>é€‚åˆå­˜å‚¨å½’æ¡£æ•°æ®ï¼Œå¦‚riâ€™zhi
</code></pre><h4 id="6-federatedå­˜å‚¨å¼•æ“">6 ã€Federatedå­˜å‚¨å¼•æ“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<pre tabindex="0"><code>ä¸å­˜æ”¾æ•°æ®ï¼Œåªæ˜¯æŒ‡å‘ä¸€å°è¿œç¨‹MySQLæ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„è¡¨
</code></pre><h4 id="7-mariaå­˜å‚¨å¼•æ“">7 ã€Mariaå­˜å‚¨å¼•æ“&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="æ”¯æŒç¼“å­˜æ•°æ®å’Œç´¢å¼•æ–‡ä»¶">æ”¯æŒç¼“å­˜æ•°æ®å’Œç´¢å¼•æ–‡ä»¶</h5>
<h5 id="è¡Œé”è®¾è®¡">è¡Œé”è®¾è®¡</h5>
<h5 id="æä¾›mvccåŠŸèƒ½">æä¾›MVCCåŠŸèƒ½</h5>
<h5 id="æ”¯æŒäº‹åŠ¡å’Œéäº‹åŠ¡å®‰å…¨çš„é€‰é¡¹">æ”¯æŒäº‹åŠ¡å’Œéäº‹åŠ¡å®‰å…¨çš„é€‰é¡¹</h5>
<h3 id="3-6-ç´¢å¼•é«˜è–ªå¸¸é—®">3 6 ç´¢å¼•ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="3-6-1-æ¦‚å¿µ">3 6 1 æ¦‚å¿µ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="1-ä»€ä¹ˆæ˜¯ç´¢å¼•">1 .ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ</h5>
<p>ç´¢å¼•æ˜¯MySQLæ•°æ®åº“ä¸­çš„é‡è¦å¯¹è±¡ä¹‹ä¸€ï¼Œç”¨äºå¿«é€Ÿæ‰¾å‡ºæŸä¸ªåˆ—ä¸­æœ‰æŸä¸€ç‰¹
å®šå€¼çš„è¡Œã€‚
<strong>2 .ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç´¢å¼•</strong>
ç´¢å¼•æ˜¯ MySQL ä¸­ä¸€ç§ååˆ†é‡è¦çš„æ•°æ®åº“å¯¹è±¡ã€‚å®ƒæ˜¯æ•°æ®åº“æ€§èƒ½è°ƒä¼˜æŠ€æœ¯
çš„åŸºç¡€ï¼Œå¸¸ç”¨äºå®ç°æ•°æ®çš„å¿«é€Ÿæ£€ç´¢ã€‚</p>
<p>ç´¢å¼•å°±æ˜¯æ ¹æ®è¡¨ä¸­çš„ä¸€åˆ—æˆ–è‹¥å¹²åˆ—æŒ‰ç…§ä¸€å®šé¡ºåºå»ºç«‹çš„åˆ—å€¼ä¸è®°å½•è¡Œä¹‹é—´
çš„å¯¹åº”å…³ç³»è¡¨ï¼Œå®è´¨ä¸Šæ˜¯ä¸€å¼ æè¿°ç´¢å¼•åˆ—çš„åˆ—å€¼ä¸åŸè¡¨ä¸­è®°å½•è¡Œä¹‹é—´ä¸€ä¸€å¯¹åº”å…³
ç³»çš„æœ‰åºè¡¨ã€‚
<strong>3 .ç´¢å¼•çš„åˆ†ç±»</strong>
ï¬ <strong>ä»æ•°æ®ç»“æ„è§’åº¦</strong>
1 ã€B+æ ‘ç´¢å¼•(O(log(n)))ï¼šå…³äºB+æ ‘ç´¢å¼•ï¼Œè¿™ä¹Ÿæ˜¯å¤§éƒ¨åˆ†ç´¢å¼•çš„æ•°æ®ç»“
æ„äº†.B+æ ‘æ˜¯é€šè¿‡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå†ç”±å¹³è¡¡äºŒå‰æ ‘ï¼ŒBæ ‘æ¼”åŒ–è€Œæ¥.
2 ã€hashç´¢å¼•ï¼š
ïµ ä»…ä»…èƒ½æ»¡è¶³&quot;=&quot;,&ldquo;IN&quot;å’Œ&rdquo;&lt;=&gt;&ldquo;æŸ¥è¯¢ï¼Œä¸èƒ½ä½¿ç”¨èŒƒå›´æŸ¥è¯¢
ïµ å…¶æ£€ç´¢æ•ˆç‡éå¸¸é«˜ï¼Œç´¢å¼•çš„æ£€ç´¢å¯ä»¥ä¸€æ¬¡å®šä½ï¼Œä¸åƒB-Tree ç´¢å¼•éœ€
è¦ä»æ ¹èŠ‚ç‚¹åˆ°æèŠ‚ç‚¹ï¼Œæœ€åæ‰èƒ½è®¿é—®åˆ°é¡µèŠ‚ç‚¹è¿™æ ·å¤šæ¬¡çš„IOè®¿é—®ï¼Œ
æ‰€ä»¥ Hash ç´¢å¼•çš„æŸ¥è¯¢æ•ˆç‡è¦è¿œé«˜äº B-Treeç´¢å¼•
ïµ åªæœ‰Memoryå­˜å‚¨å¼•æ“æ˜¾ç¤ºæ”¯æŒhashç´¢å¼•
3 ã€FULLTEXTç´¢å¼•ï¼ˆç°åœ¨MyISAMå’ŒInnoDBå¼•æ“éƒ½æ”¯æŒäº†ï¼‰
4 ã€R-Treeç´¢å¼•ï¼ˆç”¨äºå¯¹GISæ•°æ®ç±»å‹åˆ›å»ºSPATIALç´¢å¼•ï¼‰</p>
<h5 id="-ä»ç‰©ç†å­˜å‚¨è§’åº¦">ï¬ ä»ç‰©ç†å­˜å‚¨è§’åº¦</h5>
<p>1 ã€èšé›†ç´¢å¼•ï¼ˆclusteredindexï¼‰
2 ã€éèšé›†ç´¢å¼•ï¼ˆnon-clusteredindexï¼‰
ï¬ <strong>ä»é€»è¾‘è§’åº¦</strong>
1 ã€ä¸»é”®ç´¢å¼•ï¼šä¸»é”®ç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼
2 ã€æ™®é€šç´¢å¼•æˆ–è€…å•åˆ—ç´¢å¼•
3 ã€å¤šåˆ—ç´¢å¼•ï¼ˆå¤åˆç´¢å¼•ï¼‰ï¼šå¤åˆç´¢å¼•æŒ‡å¤šä¸ªå­—æ®µä¸Šåˆ›å»ºçš„ç´¢å¼•ï¼Œåªæœ‰
åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨äº†åˆ›å»ºç´¢å¼•æ—¶çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œç´¢å¼•æ‰ä¼šè¢«ä½¿ç”¨ã€‚ä½¿ç”¨å¤åˆç´¢å¼•
æ—¶éµå¾ªæœ€å·¦å‰ç¼€é›†åˆ
4 ã€å”¯ä¸€ç´¢å¼•æˆ–è€…éå”¯ä¸€ç´¢å¼•
5 ã€å…¨æ–‡ç´¢å¼•ï¼šå…¨æ–‡ç´¢å¼•æ˜¯å¯¹ç©ºé—´æ•°æ®ç±»å‹çš„å­—æ®µå»ºç«‹çš„ç´¢å¼•ï¼ŒMYSQL
ä¸­çš„ç©ºé—´æ•°æ®ç±»å‹æœ‰ 4 ç§ï¼Œåˆ†åˆ«æ˜¯GEOMETRYã€POINTã€LINESTRINGã€
POLYGONã€‚</p>
<p><strong>4 .ç´¢å¼•çš„ä¼˜ç‚¹</strong>
ïµ åˆ›å»ºå”¯ä¸€æ€§ç´¢å¼•ï¼Œä¿è¯æ•°æ®åº“è¡¨ä¸­æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ€§
ïµ å¤§å¤§åŠ å¿«æ•°æ®çš„æ£€ç´¢é€Ÿåº¦ï¼Œè¿™ä¹Ÿæ˜¯åˆ›å»ºç´¢å¼•çš„æœ€ä¸»è¦çš„åŸå› 
ïµ åŠ é€Ÿè¡¨å’Œè¡¨ä¹‹é—´çš„è¿æ¥ï¼Œç‰¹åˆ«æ˜¯åœ¨å®ç°æ•°æ®çš„å‚è€ƒå®Œæ•´æ€§æ–¹é¢ç‰¹åˆ«æœ‰æ„
ä¹‰ã€‚
ïµ åœ¨ä½¿ç”¨åˆ†ç»„å’Œæ’åºå­å¥è¿›è¡Œæ•°æ®æ£€ç´¢æ—¶ï¼ŒåŒæ ·å¯ä»¥æ˜¾è‘—å‡å°‘æŸ¥è¯¢ä¸­åˆ†ç»„
å’Œæ’åºçš„æ—¶é—´ã€‚
ïµ é€šè¿‡ä½¿ç”¨ç´¢å¼•ï¼Œå¯ä»¥åœ¨æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­ä½¿ç”¨ä¼˜åŒ–éšè—å™¨ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚
<strong>5 .ç´¢å¼•çš„ç¼ºç‚¹</strong>
ïµ åˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•è¦è€—è´¹æ—¶é—´ï¼Œè¿™ç§æ—¶é—´éšç€æ•°æ®é‡çš„å¢åŠ è€Œå¢åŠ 
ïµ ç´¢å¼•éœ€è¦å ç‰©ç†ç©ºé—´ï¼Œé™¤äº†æ•°æ®è¡¨å æ•°æ®ç©ºé—´ä¹‹å¤–ï¼Œæ¯ä¸€ä¸ªç´¢å¼•è¿˜è¦å 
ä¸€å®šçš„ç‰©ç†ç©ºé—´ï¼Œå¦‚æœè¦å»ºç«‹èšç°‡ç´¢å¼•ï¼Œé‚£ä¹ˆéœ€è¦çš„ç©ºé—´å°±ä¼šæ›´å¤§
ïµ å½“å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹çš„æ—¶å€™ï¼Œç´¢å¼•ä¹Ÿè¦åŠ¨æ€çš„ç»´æŠ¤ï¼Œ
é™ä½äº†æ•°æ®çš„ç»´æŠ¤é€Ÿåº¦
<strong>6. ç´¢å¼•åªæ˜¯æé«˜æ•ˆç‡çš„ä¸€ä¸ªå› ç´ ï¼Œå› æ­¤åœ¨å»ºç«‹ç´¢å¼•çš„æ—¶å€™åº”è¯¥éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</strong></p>
<pre tabindex="0"><code>ïµ åœ¨ç»å¸¸éœ€è¦æœç´¢çš„åˆ—ä¸Šå»ºç«‹ç´¢å¼•ï¼Œå¯ä»¥åŠ å¿«æœç´¢çš„é€Ÿåº¦ã€‚
</code></pre><h5 id="-åœ¨ä½œä¸ºä¸»é”®çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•å¼ºåˆ¶è¯¥åˆ—çš„å”¯ä¸€æ€§å¹¶ç»„ç»‡è¡¨ä¸­æ•°æ®çš„æ’">ïµ åœ¨ä½œä¸ºä¸»é”®çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œå¼ºåˆ¶è¯¥åˆ—çš„å”¯ä¸€æ€§ï¼Œå¹¶ç»„ç»‡è¡¨ä¸­æ•°æ®çš„æ’</h5>
<h5 id="åˆ—ç»“æ„">åˆ—ç»“æ„ã€‚</h5>
<h5 id="-åœ¨ç»å¸¸ä½¿ç”¨è¡¨è¿æ¥çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•è¿™äº›åˆ—ä¸»è¦æ˜¯ä¸€äº›å¤–é”®å¯ä»¥åŠ å¿«">ïµ åœ¨ç»å¸¸ä½¿ç”¨è¡¨è¿æ¥çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œè¿™äº›åˆ—ä¸»è¦æ˜¯ä¸€äº›å¤–é”®ï¼Œå¯ä»¥åŠ å¿«</h5>
<h5 id="è¡¨è¿æ¥çš„é€Ÿåº¦">è¡¨è¿æ¥çš„é€Ÿåº¦ã€‚</h5>
<h5 id="-åœ¨ç»å¸¸éœ€è¦æ ¹æ®èŒƒå›´è¿›è¡Œæœç´¢çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•å› ä¸ºç´¢å¼•å·²ç»æ’åºæ‰€">ïµ åœ¨ç»å¸¸éœ€è¦æ ¹æ®èŒƒå›´è¿›è¡Œæœç´¢çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•å·²ç»æ’åºï¼Œæ‰€</h5>
<h5 id="ä»¥å…¶æŒ‡å®šçš„èŒƒå›´æ˜¯è¿ç»­çš„">ä»¥å…¶æŒ‡å®šçš„èŒƒå›´æ˜¯è¿ç»­çš„ã€‚</h5>
<h5 id="-åœ¨ç»å¸¸éœ€è¦æ’åºçš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•å› ä¸ºç´¢å¼•å·²ç»æ’åºæ‰€ä»¥æŸ¥è¯¢æ—¶å¯ä»¥">ïµ åœ¨ç»å¸¸éœ€è¦æ’åºçš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•å·²ç»æ’åºï¼Œæ‰€ä»¥æŸ¥è¯¢æ—¶å¯ä»¥</h5>
<h5 id="åˆ©ç”¨ç´¢å¼•çš„æ’åºåŠ å¿«æ’åºæŸ¥è¯¢">åˆ©ç”¨ç´¢å¼•çš„æ’åºï¼ŒåŠ å¿«æ’åºæŸ¥è¯¢ã€‚</h5>
<h5 id="-åœ¨ç»å¸¸ä½¿ç”¨-whereå­å¥çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•åŠ å¿«æ¡ä»¶çš„åˆ¤æ–­é€Ÿåº¦">ïµ åœ¨ç»å¸¸ä½¿ç”¨ WHEREå­å¥çš„åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼ŒåŠ å¿«æ¡ä»¶çš„åˆ¤æ–­é€Ÿåº¦ã€‚</h5>
<h4 id="3-6-2-å¸¸è§ç´¢å¼•åŸåˆ™">3 6 2 å¸¸è§ç´¢å¼•åŸåˆ™&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="é€‰æ‹©å”¯ä¸€æ€§ç´¢å¼•å”¯ä¸€æ€§ç´¢å¼•çš„å€¼æ˜¯å”¯ä¸€çš„å¯ä»¥æ›´å¿«é€Ÿçš„é€šè¿‡è¯¥ç´¢å¼•">é€‰æ‹©å”¯ä¸€æ€§ç´¢å¼•ï¼šå”¯ä¸€æ€§ç´¢å¼•çš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œå¯ä»¥æ›´å¿«é€Ÿçš„é€šè¿‡è¯¥ç´¢å¼•</h5>
<h5 id="æ¥ç¡®å®šæŸæ¡è®°å½•">æ¥ç¡®å®šæŸæ¡è®°å½•ã€‚</h5>
<h5 id="ä¸ºç»å¸¸éœ€è¦æ’åºåˆ†ç»„å’Œè”åˆæ“ä½œçš„å­—æ®µå»ºç«‹ç´¢å¼•-ä¸ºå¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„">ä¸ºç»å¸¸éœ€è¦æ’åº.åˆ†ç»„å’Œè”åˆæ“ä½œçš„å­—æ®µå»ºç«‹ç´¢å¼•. ä¸ºå¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„</h5>
<h5 id="å­—æ®µå»ºç«‹ç´¢å¼•">å­—æ®µå»ºç«‹ç´¢å¼•ã€‚</h5>
<h5 id="é™åˆ¶ç´¢å¼•çš„æ•°ç›®è¶Šå¤šçš„ç´¢å¼•ä¼šä½¿æ›´æ–°è¡¨å˜å¾—å¾ˆæµªè´¹æ—¶é—´">é™åˆ¶ç´¢å¼•çš„æ•°ç›®ï¼šè¶Šå¤šçš„ç´¢å¼•ï¼Œä¼šä½¿æ›´æ–°è¡¨å˜å¾—å¾ˆæµªè´¹æ—¶é—´ã€‚</h5>
<h5 id="å°½é‡ä½¿ç”¨æ•°æ®é‡å°‘çš„ç´¢å¼•å¦‚æœç´¢å¼•çš„å€¼å¾ˆé•¿é‚£ä¹ˆæŸ¥è¯¢çš„é€Ÿåº¦ä¼šå—åˆ°">å°½é‡ä½¿ç”¨æ•°æ®é‡å°‘çš„ç´¢å¼•ï¼šå¦‚æœç´¢å¼•çš„å€¼å¾ˆé•¿ï¼Œé‚£ä¹ˆæŸ¥è¯¢çš„é€Ÿåº¦ä¼šå—åˆ°</h5>
<h5 id="å½±å“å°½é‡ä½¿ç”¨å‰ç¼€æ¥ç´¢å¼•å¦‚æœç´¢å¼•å­—æ®µçš„å€¼å¾ˆé•¿æœ€å¥½ä½¿ç”¨å€¼çš„å‰ç¼€æ¥ç´¢å¼•">å½±å“ã€‚å°½é‡ä½¿ç”¨å‰ç¼€æ¥ç´¢å¼•ï¼šå¦‚æœç´¢å¼•å­—æ®µçš„å€¼å¾ˆé•¿ï¼Œæœ€å¥½ä½¿ç”¨å€¼çš„å‰ç¼€æ¥ç´¢å¼•ã€‚</h5>
<h5 id="åˆ é™¤ä¸å†ä½¿ç”¨æˆ–è€…å¾ˆå°‘ä½¿ç”¨çš„ç´¢å¼•">åˆ é™¤ä¸å†ä½¿ç”¨æˆ–è€…å¾ˆå°‘ä½¿ç”¨çš„ç´¢å¼•</h5>
<h5 id="æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™éå¸¸é‡è¦çš„åŸåˆ™">æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ï¼Œéå¸¸é‡è¦çš„åŸåˆ™ã€‚</h5>
<h5 id="å°½é‡é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œä¸ºç´¢å¼•åŒºåˆ†åº¦çš„å…¬å¼æ˜¯è¡¨ç¤ºå­—æ®µä¸é‡å¤çš„æ¯”">å°½é‡é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œä¸ºç´¢å¼•ï¼šåŒºåˆ†åº¦çš„å…¬å¼æ˜¯è¡¨ç¤ºå­—æ®µä¸é‡å¤çš„æ¯”</h5>
<h5 id="ä¾‹ç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—ä¿æŒåˆ—å¹²å‡€å¸¦å‡½æ•°çš„æŸ¥è¯¢ä¸å‚ä¸ç´¢å¼•">ä¾‹ç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—ï¼Œä¿æŒåˆ—â€œå¹²å‡€â€ï¼šå¸¦å‡½æ•°çš„æŸ¥è¯¢ä¸å‚ä¸ç´¢å¼•ã€‚</h5>
<h5 id="å°½é‡çš„æ‰©å±•ç´¢å¼•ä¸è¦æ–°å»ºç´¢å¼•">å°½é‡çš„æ‰©å±•ç´¢å¼•ï¼Œä¸è¦æ–°å»ºç´¢å¼•ã€‚</h5>
<h3 id="3-7-ç´¢å¼•åŸç†äº†è§£">3 7 ç´¢å¼•åŸç†ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="æˆ‘ä»¬ä½¿ç”¨ç´¢å¼•å°±æ˜¯ä¸ºäº†æé«˜æŸ¥è¯¢çš„æ•ˆç‡å¦‚åŒæŸ¥ä¹¦ä¸€æ ·å…ˆæ‰¾åˆ°ç« ">æˆ‘ä»¬ä½¿ç”¨ç´¢å¼•ï¼Œå°±æ˜¯ä¸ºäº†æé«˜æŸ¥è¯¢çš„æ•ˆç‡ï¼Œå¦‚åŒæŸ¥ä¹¦ä¸€æ ·ï¼Œå…ˆæ‰¾åˆ°ç« ï¼Œ</h5>
<h5 id="å†æ‰¾åˆ°ç« ä¸­å¯¹äºçš„å°èŠ‚å†æ‰¾åˆ°å…·ä½“çš„é¡µç å†åˆ°æˆ‘ä»¬éœ€è¦çš„å†…å®¹">å†æ‰¾åˆ°ç« ä¸­å¯¹äºçš„å°èŠ‚ï¼Œå†æ‰¾åˆ°å…·ä½“çš„é¡µç ï¼Œå†åˆ°æˆ‘ä»¬éœ€è¦çš„å†…å®¹ã€‚</h5>
<h5 id="äº‹å®ä¸Šç´¢å¼•çš„æœ¬è´¨å°±æ˜¯ä¸æ–­ç¼©å°è·å–æ•°æ®çš„ç­›é€‰èŒƒå›´æ‰¾å‡ºæˆ‘ä»¬æƒ³è¦çš„">äº‹å®ä¸Šç´¢å¼•çš„æœ¬è´¨å°±æ˜¯ä¸æ–­ç¼©å°è·å–æ•°æ®çš„ç­›é€‰èŒƒå›´ï¼Œæ‰¾å‡ºæˆ‘ä»¬æƒ³è¦çš„</h5>
<h5 id="ç»“æœåŒæ—¶æŠŠéšæœºçš„äº‹ä»¶å˜æˆé¡ºåºçš„äº‹ä»¶ä¹Ÿå°±æ˜¯è¯´æœ‰äº†è¿™ç§ç´¢å¼•æœºåˆ¶æˆ‘ä»¬å°±">ç»“æœã€‚åŒæ—¶æŠŠéšæœºçš„äº‹ä»¶å˜æˆé¡ºåºçš„äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰äº†è¿™ç§ç´¢å¼•æœºåˆ¶ï¼Œæˆ‘ä»¬å°±</h5>
<h5 id="å¯ä»¥æ€»æ˜¯ç”¨åŒä¸€ç§æŸ¥æ‰¾æ–¹å¼æ¥é”å®šæ•°æ®">å¯ä»¥æ€»æ˜¯ç”¨åŒä¸€ç§æŸ¥æ‰¾æ–¹å¼æ¥é”å®šæ•°æ®ã€‚</h5>
<h5 id="æ•°æ®åº“ä¹Ÿæ˜¯ä¸€æ ·ä½†æ˜¾ç„¶è¦å¤æ‚çš„å¤šå› ä¸ºä¸ä»…é¢ä¸´ç€ç­‰å€¼æŸ¥è¯¢è¿˜æœ‰">æ•°æ®åº“ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä½†æ˜¾ç„¶è¦å¤æ‚çš„å¤šï¼Œå› ä¸ºä¸ä»…é¢ä¸´ç€ç­‰å€¼æŸ¥è¯¢ï¼Œè¿˜æœ‰</h5>
<p>èŒƒå›´æŸ¥è¯¢(&gt;ã€&lt;ã€betweenã€in)ã€æ¨¡ç³ŠæŸ¥è¯¢(like)ã€å¹¶é›†æŸ¥è¯¢(or)ç­‰ç­‰ã€‚æ•°æ®åº“
åº”è¯¥é€‰æ‹©æ€ä¹ˆæ ·çš„æ–¹å¼æ¥åº”å¯¹æ‰€æœ‰çš„é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å›æƒ³å­—å…¸çš„ä¾‹å­ï¼Œèƒ½ä¸èƒ½æŠŠæ•°
æ®åˆ†æˆæ®µï¼Œç„¶ååˆ†æ®µæŸ¥è¯¢å‘¢ï¼Ÿæœ€ç®€å•çš„å¦‚æœ 1000 æ¡æ•°æ®ï¼Œ 1 åˆ° 100 åˆ†æˆç¬¬ä¸€æ®µï¼Œ
101 åˆ° 200 åˆ†æˆç¬¬äºŒæ®µï¼Œ 201 åˆ° 300 åˆ†æˆç¬¬ä¸‰æ®µ&hellip;&hellip;è¿™æ ·æŸ¥ç¬¬ 250 æ¡æ•°æ®ï¼Œåªè¦æ‰¾
ç¬¬ä¸‰æ®µå°±å¯ä»¥äº†ï¼Œä¸€ä¸‹å­å»é™¤äº† 90 %çš„æ— æ•ˆæ•°æ®ã€‚ä½†å¦‚æœæ˜¯ 1 åƒä¸‡çš„è®°å½•å‘¢ï¼Œåˆ†
æˆå‡ æ®µæ¯”è¾ƒå¥½ï¼Ÿç¨æœ‰ç®—æ³•åŸºç¡€çš„åŒå­¦ä¼šæƒ³åˆ°æœç´¢æ ‘ï¼Œå…¶å¹³å‡å¤æ‚åº¦æ˜¯lgNï¼Œå…·æœ‰
ä¸é”™çš„æŸ¥è¯¢æ€§èƒ½ã€‚ä½†è¿™é‡Œæˆ‘ä»¬å¿½ç•¥äº†ä¸€ä¸ªå…³é”®çš„é—®é¢˜ï¼Œå¤æ‚åº¦æ¨¡å‹æ˜¯åŸºäºæ¯æ¬¡ç›¸
åŒçš„æ“ä½œæˆæœ¬æ¥è€ƒè™‘çš„ã€‚è€Œæ•°æ®åº“å®ç°æ¯”è¾ƒå¤æ‚ï¼Œä¸€æ–¹é¢æ•°æ®æ˜¯ä¿å­˜åœ¨ç£ç›˜ä¸Šçš„ï¼Œ
å¦å¤–ä¸€æ–¹é¢ä¸ºäº†æé«˜æ€§èƒ½ï¼Œæ¯æ¬¡åˆå¯ä»¥æŠŠéƒ¨åˆ†æ•°æ®è¯»å…¥å†…å­˜æ¥è®¡ç®—ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥
é“è®¿é—®ç£ç›˜çš„æˆæœ¬å¤§æ¦‚æ˜¯è®¿é—®å†…å­˜çš„åä¸‡å€å·¦å³ï¼Œæ‰€ä»¥ç®€å•çš„æœç´¢æ ‘éš¾ä»¥æ»¡è¶³å¤
æ‚çš„åº”ç”¨åœºæ™¯ã€‚</p>
<h4 id="3-7-1-ç£ç›˜ioä¸é¢„è¯»">3 7 1 ç£ç›˜IOä¸é¢„è¯»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ç£ç›˜è¯»å–æ•°æ®é çš„æ˜¯æœºæ¢°è¿åŠ¨æ¯æ¬¡è¯»å–æ•°æ®èŠ±è´¹çš„æ—¶é—´å¯ä»¥åˆ†ä¸ºå¯»é“">ç£ç›˜è¯»å–æ•°æ®é çš„æ˜¯æœºæ¢°è¿åŠ¨ï¼Œæ¯æ¬¡è¯»å–æ•°æ®èŠ±è´¹çš„æ—¶é—´å¯ä»¥åˆ†ä¸ºå¯»é“</h5>
<h5 id="æ—¶é—´æ—‹è½¬å»¶è¿Ÿä¼ è¾“æ—¶é—´ä¸‰ä¸ªéƒ¨åˆ†å¯»é“æ—¶é—´æŒ‡çš„æ˜¯ç£è‡‚ç§»åŠ¨åˆ°æŒ‡å®šç£é“æ‰€éœ€">æ—¶é—´ã€æ—‹è½¬å»¶è¿Ÿã€ä¼ è¾“æ—¶é—´ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå¯»é“æ—¶é—´æŒ‡çš„æ˜¯ç£è‡‚ç§»åŠ¨åˆ°æŒ‡å®šç£é“æ‰€éœ€</h5>
<p>è¦çš„æ—¶é—´ï¼Œä¸»æµç£ç›˜ä¸€èˆ¬åœ¨ 5 msä»¥ä¸‹ï¼›æ—‹è½¬å»¶è¿Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸å¬è¯´çš„ç£ç›˜è½¬é€Ÿï¼Œ
æ¯”å¦‚ä¸€ä¸ªç£ç›˜ 7200 è½¬ï¼Œè¡¨ç¤ºæ¯åˆ†é’Ÿèƒ½è½¬ 7200 æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ 1 ç§’é’Ÿèƒ½è½¬ 120 æ¬¡ï¼Œæ—‹
è½¬å»¶è¿Ÿå°±æ˜¯ 1 / 120 / 2 = 4. 17 msï¼›ä¼ è¾“æ—¶é—´æŒ‡çš„æ˜¯ä»ç£ç›˜è¯»å‡ºæˆ–å°†æ•°æ®å†™å…¥ç£ç›˜
çš„æ—¶é—´ï¼Œä¸€èˆ¬åœ¨é›¶ç‚¹å‡ æ¯«ç§’ï¼Œç›¸å¯¹äºå‰ä¸¤ä¸ªæ—¶é—´å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚é‚£ä¹ˆè®¿é—®ä¸€æ¬¡ç£
ç›˜çš„æ—¶é—´ï¼Œå³ä¸€æ¬¡ç£ç›˜IOçš„æ—¶é—´çº¦ç­‰äº 5 + 4. 17 = 9 mså·¦å³ï¼Œå¬èµ·æ¥è¿˜æŒºä¸é”™çš„ï¼Œ
ä½†è¦çŸ¥é“ä¸€å° 500 - MIPSï¼ˆMillionInstructionsPerSecondï¼‰çš„æœºå™¨æ¯ç§’å¯ä»¥
æ‰§è¡Œ 5 äº¿æ¡æŒ‡ä»¤ï¼Œå› ä¸ºæŒ‡ä»¤ä¾é çš„æ˜¯ç”µçš„æ€§è´¨ï¼Œæ¢å¥è¯è¯´æ‰§è¡Œä¸€æ¬¡IOçš„æ—¶é—´å¯ä»¥
æ‰§è¡Œçº¦ 450 ä¸‡æ¡æŒ‡ä»¤ï¼Œæ•°æ®åº“åŠ¨è¾„åä¸‡ç™¾ä¸‡ä¹ƒè‡³åƒä¸‡çº§æ•°æ®ï¼Œæ¯æ¬¡ 9 æ¯«ç§’çš„æ—¶é—´ï¼Œ
æ˜¾ç„¶æ˜¯ä¸ªç¾éš¾ã€‚ä¸‹å›¾æ˜¯è®¡ç®—æœºç¡¬ä»¶å»¶è¿Ÿçš„å¯¹æ¯”å›¾ï¼Œä¾›å¤§å®¶å‚è€ƒï¼š</p>
<h5 id="è€ƒè™‘åˆ°ç£ç›˜ioæ˜¯éå¸¸é«˜æ˜‚çš„æ“ä½œè®¡ç®—æœºæ“ä½œç³»ç»Ÿåšäº†ä¸€äº›ä¼˜åŒ–-å½“ä¸€æ¬¡io">è€ƒè™‘åˆ°ç£ç›˜IOæ˜¯éå¸¸é«˜æ˜‚çš„æ“ä½œï¼Œè®¡ç®—æœºæ“ä½œç³»ç»Ÿåšäº†ä¸€äº›ä¼˜åŒ–ï¼Œ å½“ä¸€æ¬¡IO</h5>
<h5 id="æ—¶ä¸å…‰æŠŠå½“å‰ç£ç›˜åœ°å€çš„æ•°æ®è€Œæ˜¯æŠŠç›¸é‚»çš„æ•°æ®ä¹Ÿéƒ½è¯»å–åˆ°å†…å­˜ç¼“å†²åŒºå†…-">æ—¶ï¼Œä¸å…‰æŠŠå½“å‰ç£ç›˜åœ°å€çš„æ•°æ®ï¼Œè€Œæ˜¯æŠŠç›¸é‚»çš„æ•°æ®ä¹Ÿéƒ½è¯»å–åˆ°å†…å­˜ç¼“å†²åŒºå†… ï¼Œ</h5>
<h5 id="å› ä¸ºå±€éƒ¨é¢„è¯»æ€§åŸç†å‘Šè¯‰æˆ‘ä»¬å½“è®¡ç®—æœºè®¿é—®ä¸€ä¸ªåœ°å€çš„æ•°æ®çš„æ—¶å€™ä¸å…¶ç›¸é‚»">å› ä¸ºå±€éƒ¨é¢„è¯»æ€§åŸç†å‘Šè¯‰æˆ‘ä»¬ï¼Œå½“è®¡ç®—æœºè®¿é—®ä¸€ä¸ªåœ°å€çš„æ•°æ®çš„æ—¶å€™ï¼Œä¸å…¶ç›¸é‚»</h5>
<p>çš„æ•°æ®ä¹Ÿä¼šå¾ˆå¿«è¢«è®¿é—®åˆ°ã€‚æ¯ä¸€æ¬¡IOè¯»å–çš„æ•°æ®æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€é¡µ(page)ã€‚å…·ä½“
ä¸€é¡µæœ‰å¤šå¤§æ•°æ®è·Ÿæ“ä½œç³»ç»Ÿæœ‰å…³ï¼Œä¸€èˆ¬ä¸º 4 kæˆ– 8 kï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯»å–ä¸€é¡µå†…çš„æ•°
æ®æ—¶å€™ï¼Œå®é™…ä¸Šæ‰å‘ç”Ÿäº†ä¸€æ¬¡IOï¼Œè¿™ä¸ªç†è®ºå¯¹äºç´¢å¼•çš„æ•°æ®ç»“æ„è®¾è®¡éå¸¸æœ‰å¸®
åŠ©ã€‚</p>
<h4 id="3-7-2-bæ ‘">3 7 2 B+æ ‘&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>ä¸Šé¢è¯´äº†ç£ç›˜ioæ˜¯å¾ˆè´¹æ—¶é—´çš„ã€‚å½“æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢ä¸€ä¸ªæ•°æ®çš„æ—¶å€™ï¼Œåº”è¯¥æ§åˆ¶
æŠŠç£ç›˜IOæ§åˆ¶åœ¨ä¸€ä¸ªå¾ˆå°çš„æ•°é‡çº§ã€‚è€ŒB+æ•°åº”è¿è€Œç”Ÿï¼ˆB+æ ‘æ˜¯é€šè¿‡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œ
å†ç”±å¹³è¡¡äºŒå‰æ ‘ï¼ŒBæ ‘æ¼”åŒ–è€Œæ¥ï¼‰ã€‚</p>
<p>å¦‚ä¸Šå›¾ï¼Œæ˜¯ä¸€é¢—b+æ ‘ï¼Œå…³äºb+æ ‘çš„å®šä¹‰å¯ä»¥å‚è§B+æ ‘ï¼Œè¿™é‡Œåªè¯´ä¸€äº›é‡
ç‚¹ï¼Œæµ…è“è‰²çš„å—æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ä¸ªç£ç›˜å—ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªç£ç›˜å—åŒ…å«å‡ ä¸ªæ•°æ®é¡¹ï¼ˆæ·±
è“è‰²æ‰€ç¤ºï¼‰å’ŒæŒ‡é’ˆï¼ˆé»„è‰²æ‰€ç¤ºï¼‰ï¼Œå¦‚ç£ç›˜å— 1 åŒ…å«æ•°æ®é¡¹ 17 å’Œ 35 ï¼ŒåŒ…å«æŒ‡é’ˆP 1 ã€
P 2 ã€P 3 ï¼ŒP 1 è¡¨ç¤ºå°äº 17 çš„ç£ç›˜å—ï¼ŒP 2 è¡¨ç¤ºåœ¨ 17 å’Œ 35 ä¹‹é—´çš„ç£ç›˜å—ï¼ŒP 3 è¡¨ç¤ºå¤§
äº 35 çš„ç£ç›˜å—ã€‚çœŸå®çš„æ•°æ®å­˜åœ¨äºå¶å­èŠ‚ç‚¹å³ 3 ã€ 5 ã€ 9 ã€ 10 ã€ 13 ã€ 15 ã€ 28 ã€ 29 ã€
36 ã€ 60 ã€ 75 ã€ 79 ã€ 90 ã€ 99 ã€‚éå¶å­èŠ‚ç‚¹åªä¸å­˜å‚¨çœŸå®çš„æ•°æ®ï¼Œåªå­˜å‚¨æŒ‡å¼•æœç´¢
æ–¹å‘çš„æ•°æ®é¡¹ï¼Œå¦‚ 17 ã€ 35 å¹¶ä¸çœŸå®å­˜åœ¨äºæ•°æ®è¡¨ä¸­ã€‚</p>
<h4 id="3-7-3-bæ ‘çš„æŸ¥æ‰¾è¿‡ç¨‹">3 7 3 B+æ ‘çš„æŸ¥æ‰¾è¿‡ç¨‹&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="å¦‚å›¾æ‰€ç¤ºå¦‚æœè¦æŸ¥æ‰¾æ•°æ®é¡¹-29-é‚£ä¹ˆé¦–å…ˆä¼šæŠŠç£ç›˜å—-1-ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜">å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœè¦æŸ¥æ‰¾æ•°æ®é¡¹ 29 ï¼Œé‚£ä¹ˆé¦–å…ˆä¼šæŠŠç£ç›˜å— 1 ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜ï¼Œ</h5>
<h5 id="æ­¤æ—¶å‘ç”Ÿä¸€æ¬¡ioåœ¨å†…å­˜ä¸­ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®š-29-åœ¨-17-å’Œ-35-ä¹‹é—´é”å®šç£ç›˜å—-1-çš„">æ­¤æ—¶å‘ç”Ÿä¸€æ¬¡IOï¼Œåœ¨å†…å­˜ä¸­ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®š 29 åœ¨ 17 å’Œ 35 ä¹‹é—´ï¼Œé”å®šç£ç›˜å— 1 çš„</h5>
<h5 id="p-2-æŒ‡é’ˆå†…å­˜æ—¶é—´å› ä¸ºéå¸¸çŸ­ç›¸æ¯”ç£ç›˜çš„ioå¯ä»¥å¿½ç•¥ä¸è®¡é€šè¿‡ç£ç›˜å—-1">P 2 æŒ‡é’ˆï¼Œå†…å­˜æ—¶é—´å› ä¸ºéå¸¸çŸ­ï¼ˆç›¸æ¯”ç£ç›˜çš„IOï¼‰å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œé€šè¿‡ç£ç›˜å— 1</h5>
<h5 id="çš„p-2-æŒ‡é’ˆçš„ç£ç›˜åœ°å€æŠŠç£ç›˜å—-3-ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜å‘ç”Ÿç¬¬äºŒæ¬¡io-29-åœ¨-26-å’Œ">çš„P 2 æŒ‡é’ˆçš„ç£ç›˜åœ°å€æŠŠç£ç›˜å— 3 ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜ï¼Œå‘ç”Ÿç¬¬äºŒæ¬¡IOï¼Œ 29 åœ¨ 26 å’Œ</h5>
<h5 id="30-ä¹‹é—´é”å®šç£ç›˜å—-3-çš„p-2-æŒ‡é’ˆé€šè¿‡æŒ‡é’ˆåŠ è½½ç£ç›˜å—-8-åˆ°å†…å­˜å‘ç”Ÿç¬¬ä¸‰æ¬¡io">30 ä¹‹é—´ï¼Œé”å®šç£ç›˜å— 3 çš„P 2 æŒ‡é’ˆï¼Œé€šè¿‡æŒ‡é’ˆåŠ è½½ç£ç›˜å— 8 åˆ°å†…å­˜ï¼Œå‘ç”Ÿç¬¬ä¸‰æ¬¡IOï¼Œ</h5>
<h5 id="åŒæ—¶å†…å­˜ä¸­åšäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°-29-ç»“æŸæŸ¥è¯¢æ€»è®¡ä¸‰æ¬¡ioçœŸå®çš„æƒ…å†µæ˜¯-3-å±‚çš„">åŒæ—¶å†…å­˜ä¸­åšäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ° 29 ï¼Œç»“æŸæŸ¥è¯¢ï¼Œæ€»è®¡ä¸‰æ¬¡IOã€‚çœŸå®çš„æƒ…å†µæ˜¯ï¼Œ 3 å±‚çš„</h5>
<p>b+æ ‘å¯ä»¥è¡¨ç¤ºä¸Šç™¾ä¸‡çš„æ•°æ®ï¼Œå¦‚æœä¸Šç™¾ä¸‡çš„æ•°æ®æŸ¥æ‰¾åªéœ€è¦ä¸‰æ¬¡IOï¼Œæ€§èƒ½æé«˜
å°†æ˜¯å·¨å¤§çš„ï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•ï¼Œæ¯ä¸ªæ•°æ®é¡¹éƒ½è¦å‘ç”Ÿä¸€æ¬¡IOï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦ç™¾ä¸‡
æ¬¡çš„IOï¼Œæ˜¾ç„¶æˆæœ¬éå¸¸éå¸¸é«˜ã€‚</p>
<h4 id="3-7-4-bæ ‘æ€§è´¨">3 7 4 B+æ ‘æ€§è´¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>1 <strong>.ç´¢å¼•å­—æ®µè¦å°½é‡çš„å°</strong> ï¼šé€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬çŸ¥é“IOæ¬¡æ•°å–å†³äºb+
æ•°çš„é«˜åº¦hï¼Œå‡è®¾å½“å‰æ•°æ®è¡¨çš„æ•°æ®ä¸ºNï¼Œæ¯ä¸ªç£ç›˜å—çš„æ•°æ®é¡¹çš„æ•°é‡æ˜¯mï¼Œ
åˆ™æœ‰h=ã’(m+ 1 )Nï¼Œå½“æ•°æ®é‡Nä¸€å®šçš„æƒ…å†µä¸‹ï¼Œmè¶Šå¤§ï¼Œhè¶Šå°ï¼›è€Œm= ç£
ç›˜å—çš„å¤§å° / æ•°æ®é¡¹çš„å¤§å°ï¼Œç£ç›˜å—çš„å¤§å°ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•°æ®é¡µçš„å¤§å°ï¼Œæ˜¯å›ºå®š
çš„ï¼Œå¦‚æœæ•°æ®é¡¹å çš„ç©ºé—´è¶Šå°ï¼Œæ•°æ®é¡¹çš„æ•°é‡è¶Šå¤šï¼Œæ ‘çš„é«˜åº¦è¶Šä½ã€‚è¿™å°±æ˜¯ä¸ºä»€
ä¹ˆæ¯ä¸ªæ•°æ®é¡¹ï¼Œå³ç´¢å¼•å­—æ®µè¦å°½é‡çš„å°ï¼Œæ¯”å¦‚intå  4 å­—èŠ‚ï¼Œè¦æ¯”bigint 8 å­—èŠ‚
å°‘ä¸€åŠã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆb+æ ‘è¦æ±‚æŠŠçœŸå®çš„æ•°æ®æ”¾åˆ°å¶å­èŠ‚ç‚¹è€Œä¸æ˜¯å†…å±‚èŠ‚ç‚¹ï¼Œ
ä¸€æ—¦æ”¾åˆ°å†…å±‚èŠ‚ç‚¹ï¼Œç£ç›˜å—çš„æ•°æ®é¡¹ä¼šå¤§å¹…åº¦ä¸‹é™ï¼Œå¯¼è‡´æ ‘å¢é«˜ã€‚å½“æ•°æ®é¡¹ç­‰äº
1 æ—¶å°†ä¼šé€€åŒ–æˆçº¿æ€§è¡¨ã€‚
2. <strong>ç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§</strong> ï¼šå½“b+æ ‘çš„æ•°æ®é¡¹æ˜¯å¤åˆçš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚
(name,age,sex)çš„æ—¶å€™ï¼Œb+æ•°æ˜¯æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ¥å»ºç«‹æœç´¢æ ‘çš„ï¼Œæ¯”å¦‚å½“</p>
<p>(å¼ ä¸‰, 20 ,F)è¿™æ ·çš„æ•°æ®æ¥æ£€ç´¢çš„æ—¶å€™ï¼Œb+æ ‘ä¼šä¼˜å…ˆæ¯”è¾ƒnameæ¥ç¡®å®šä¸‹ä¸€æ­¥çš„
æ‰€æœæ–¹å‘ï¼Œå¦‚æœnameç›¸åŒå†ä¾æ¬¡æ¯”è¾ƒageå’Œsexï¼Œæœ€åå¾—åˆ°æ£€ç´¢çš„æ•°æ®ï¼›ä½†
å½“( 20 ,F)è¿™æ ·çš„æ²¡æœ‰nameçš„æ•°æ®æ¥çš„æ—¶å€™ï¼Œb+æ ‘å°±ä¸çŸ¥é“ä¸‹ä¸€æ­¥è¯¥æŸ¥å“ªä¸ªèŠ‚
ç‚¹ï¼Œå› ä¸ºå»ºç«‹æœç´¢æ ‘çš„æ—¶å€™nameå°±æ˜¯ç¬¬ä¸€ä¸ªæ¯”è¾ƒå› å­ï¼Œå¿…é¡»è¦å…ˆæ ¹æ®name
æ¥æœç´¢æ‰èƒ½çŸ¥é“ä¸‹ä¸€æ­¥å»å“ªé‡ŒæŸ¥è¯¢ã€‚æ¯”å¦‚å½“(å¼ ä¸‰,F)è¿™æ ·çš„æ•°æ®æ¥æ£€ç´¢æ—¶ï¼Œb+æ ‘
å¯ä»¥ç”¨nameæ¥æŒ‡å®šæœç´¢æ–¹å‘ï¼Œä½†ä¸‹ä¸€ä¸ªå­—æ®µageçš„ç¼ºå¤±ï¼Œæ‰€ä»¥åªèƒ½æŠŠåå­—ç­‰
äºå¼ ä¸‰çš„æ•°æ®éƒ½æ‰¾åˆ°ï¼Œç„¶åå†åŒ¹é…æ€§åˆ«æ˜¯Fçš„æ•°æ®äº†ï¼Œè¿™ä¸ªæ˜¯éå¸¸é‡è¦çš„æ€§è´¨ï¼Œ
å³ç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ã€‚</p>
<h4 id="3-7-5-èšç„¦ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•">3 7 5 èšç„¦ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="åœ¨æ•°æ®åº“ä¸­bæ ‘çš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨-2--4-å±‚è¿™ä¹Ÿå°±æ˜¯è¯´æŸ¥æ‰¾æŸä¸€ä¸ªé”®å€¼">åœ¨æ•°æ®åº“ä¸­ï¼ŒB+æ ‘çš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨ 2 ~ 4 å±‚ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´æŸ¥æ‰¾æŸä¸€ä¸ªé”®å€¼</h5>
<h5 id="çš„è¡Œè®°å½•æ—¶æœ€å¤šåªéœ€è¦-2-åˆ°-4-æ¬¡ioè¿™å€’ä¸é”™">çš„è¡Œè®°å½•æ—¶æœ€å¤šåªéœ€è¦ 2 åˆ° 4 æ¬¡IOï¼Œè¿™å€’ä¸é”™ã€‚</h5>
<p>æ•°æ®åº“ä¸­çš„B+æ ‘ç´¢å¼•å¯ä»¥åˆ†ä¸ºèšé›†ç´¢å¼•ï¼ˆclusteredindexï¼‰å’Œè¾…åŠ©ç´¢
å¼•ï¼ˆsecondaryindexï¼‰ï¼Œ
èšé›†ç´¢å¼•ä¸è¾…åŠ©ç´¢å¼•ç›¸åŒçš„æ˜¯ï¼šä¸ç®¡æ˜¯èšé›†ç´¢å¼•è¿˜æ˜¯è¾…åŠ©ç´¢å¼•ï¼Œå…¶å†…éƒ¨
éƒ½æ˜¯B+æ ‘çš„å½¢å¼ï¼Œå³é«˜åº¦æ˜¯å¹³è¡¡çš„ï¼Œå¶å­ç»“ç‚¹å­˜æ”¾ç€æ‰€æœ‰çš„æ•°æ®ã€‚
èšé›†ç´¢å¼•ä¸è¾…åŠ©ç´¢å¼•ä¸åŒçš„æ˜¯ï¼šå¶å­ç»“ç‚¹å­˜æ”¾çš„æ˜¯å¦æ˜¯ä¸€æ•´è¡Œçš„ä¿¡æ¯
<strong>1 ) èšé›†ç´¢å¼•</strong></p>
<p>InnoDBå­˜å‚¨å¼•æ“è¡¨ç¤ºç´¢å¼•ç»„ç»‡è¡¨ï¼Œå³è¡¨ä¸­æ•°æ®æŒ‰ç…§ä¸»é”®é¡ºåºå­˜æ”¾ã€‚è€Œèš
é›†ç´¢å¼•ï¼ˆclusteredindexï¼‰å°±æ˜¯æŒ‰ç…§æ¯å¼ è¡¨çš„ä¸»é”®æ„é€ ä¸€æ£µB+æ ‘ï¼ŒåŒæ—¶å¶å­ç»“
ç‚¹å­˜æ”¾çš„å³ä¸ºæ•´å¼ è¡¨çš„è¡Œè®°å½•æ•°æ®ï¼Œä¹Ÿå°†èšé›†ç´¢å¼•çš„å¶å­ç»“ç‚¹ç§°ä¸ºæ•°æ®é¡µã€‚èšé›†
ç´¢å¼•çš„è¿™ä¸ªç‰¹æ€§å†³å®šäº†ç´¢å¼•ç»„ç»‡è¡¨ä¸­æ•°æ®ä¹Ÿæ˜¯ç´¢å¼•çš„ä¸€éƒ¨åˆ†ã€‚åŒB+æ ‘æ•°æ®ç»“æ„
ä¸€æ ·ï¼Œæ¯ä¸ªæ•°æ®é¡µéƒ½é€šè¿‡ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥è¿›è¡Œé“¾æ¥ã€‚
å¦‚æœæœªå®šä¹‰ä¸»é”®ï¼ŒMySQLå–ç¬¬ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼ˆuniqueï¼‰è€Œä¸”åªå«éç©º
åˆ—ï¼ˆNOTNULLï¼‰ä½œä¸ºä¸»é”®ï¼ŒInnoDBä½¿ç”¨å®ƒä½œä¸ºèšç°‡ç´¢å¼•ã€‚
å¦‚æœæ²¡æœ‰è¿™æ ·çš„åˆ—ï¼ŒInnoDBå°±è‡ªå·±äº§ç”Ÿä¸€ä¸ªè¿™æ ·çš„IDå€¼ï¼Œå®ƒæœ‰å…­ä¸ªå­—
èŠ‚ï¼Œè€Œä¸”æ˜¯éšè—çš„ï¼Œä½¿å…¶ä½œä¸ºèšç°‡ç´¢å¼•ã€‚
ç”±äºå®é™…çš„æ•°æ®é¡µåªèƒ½æŒ‰ç…§ä¸€æ£µB+æ ‘è¿›è¡Œæ’åºï¼Œå› æ­¤æ¯å¼ è¡¨åªèƒ½æ‹¥æœ‰ä¸€
ä¸ªèšé›†ç´¢å¼•ã€‚åœ¨å¤šå°‘æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢ä¼˜åŒ–å™¨å€¾å‘äºé‡‡ç”¨èšé›†ç´¢å¼•ã€‚å› ä¸ºèšé›†ç´¢å¼•èƒ½</p>
<h5 id="å¤Ÿåœ¨bæ ‘ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šç›´æ¥æ‰¾åˆ°æ•°æ®æ­¤å¤–ç”±äºå®šä¹‰äº†æ•°æ®çš„é€»è¾‘é¡ºåº">å¤Ÿåœ¨B+æ ‘ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šç›´æ¥æ‰¾åˆ°æ•°æ®ã€‚æ­¤å¤–ç”±äºå®šä¹‰äº†æ•°æ®çš„é€»è¾‘é¡ºåºï¼Œ</h5>
<h5 id="èšé›†ç´¢å¼•èƒ½å¤Ÿç‰¹åˆ«å¿«åœ°è®¿é—®é’ˆå¯¹èŒƒå›´å€¼å¾—æŸ¥è¯¢">èšé›†ç´¢å¼•èƒ½å¤Ÿç‰¹åˆ«å¿«åœ°è®¿é—®é’ˆå¯¹èŒƒå›´å€¼å¾—æŸ¥è¯¢ã€‚</h5>
<h5 id="èšé›†ç´¢å¼•çš„å¥½å¤„">èšé›†ç´¢å¼•çš„å¥½å¤„</h5>
<h5 id="å®ƒå¯¹ä¸»é”®çš„æ’åºæŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾é€Ÿåº¦éå¸¸å¿«å¶å­èŠ‚ç‚¹çš„æ•°æ®å°±æ˜¯ç”¨æˆ·">å®ƒå¯¹ä¸»é”®çš„æ’åºæŸ¥æ‰¾å’ŒèŒƒå›´æŸ¥æ‰¾é€Ÿåº¦éå¸¸å¿«ï¼Œå¶å­èŠ‚ç‚¹çš„æ•°æ®å°±æ˜¯ç”¨æˆ·</h5>
<h5 id="æ‰€è¦æŸ¥è¯¢çš„æ•°æ®å¦‚ç”¨æˆ·éœ€è¦æŸ¥æ‰¾ä¸€å¼ è¡¨æŸ¥è¯¢æœ€åçš„-10-ä½ç”¨æˆ·ä¿¡æ¯ç”±äºb">æ‰€è¦æŸ¥è¯¢çš„æ•°æ®ã€‚å¦‚ç”¨æˆ·éœ€è¦æŸ¥æ‰¾ä¸€å¼ è¡¨ï¼ŒæŸ¥è¯¢æœ€åçš„ 10 ä½ç”¨æˆ·ä¿¡æ¯ï¼Œç”±äºB+</h5>
<h5 id="æ ‘ç´¢å¼•æ˜¯åŒå‘é“¾è¡¨æ‰€ä»¥ç”¨æˆ·å¯ä»¥å¿«é€Ÿæ‰¾åˆ°æœ€åä¸€ä¸ªæ•°æ®é¡µå¹¶å–å‡º-10-æ¡è®°å½•">æ ‘ç´¢å¼•æ˜¯åŒå‘é“¾è¡¨ï¼Œæ‰€ä»¥ç”¨æˆ·å¯ä»¥å¿«é€Ÿæ‰¾åˆ°æœ€åä¸€ä¸ªæ•°æ®é¡µï¼Œå¹¶å–å‡º 10 æ¡è®°å½•</h5>
<p>èŒƒå›´æŸ¥è¯¢ï¼ˆrangequeryï¼‰ï¼Œå³å¦‚æœè¦æŸ¥æ‰¾ä¸»é”®æŸä¸€èŒƒå›´å†…çš„æ•°æ®ï¼Œé€š
è¿‡å¶å­èŠ‚ç‚¹çš„ä¸Šå±‚ä¸­é—´èŠ‚ç‚¹å°±å¯ä»¥å¾—åˆ°é¡µçš„èŒƒå›´ï¼Œä¹‹åç›´æ¥è¯»å–æ•°æ®é¡µå³å¯
<strong>2 ) è¾…åŠ©ç´¢å¼•</strong></p>
<p>è¡¨ä¸­é™¤äº†èšé›†ç´¢å¼•å¤–å…¶ä»–ç´¢å¼•éƒ½æ˜¯è¾…åŠ©ç´¢å¼•ï¼ˆSecondaryIndexï¼Œä¹Ÿç§°
ä¸ºéèšé›†ç´¢å¼•ï¼‰ï¼Œä¸èšé›†ç´¢å¼•çš„åŒºåˆ«æ˜¯ï¼šè¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸åŒ…å«è¡Œè®°å½•çš„å…¨
éƒ¨æ•°æ®ã€‚
å¶å­èŠ‚ç‚¹é™¤äº†åŒ…å«é”®å€¼ä»¥å¤–ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹ä¸­çš„ç´¢å¼•è¡Œä¸­è¿˜åŒ…å«ä¸€ä¸ªä¹¦
ç­¾ï¼ˆbookmarkï¼‰ã€‚è¯¥ä¹¦ç­¾ç”¨æ¥å‘Šè¯‰InnoDBå­˜å‚¨å¼•æ“å»å“ªé‡Œå¯ä»¥æ‰¾åˆ°ä¸ç´¢å¼•ç›¸
å¯¹åº”çš„è¡Œæ•°æ®ã€‚
ç”±äºInnoDBå­˜å‚¨å¼•æ“æ˜¯ç´¢å¼•ç»„ç»‡è¡¨ï¼Œå› æ­¤InnoDBå­˜å‚¨å¼•æ“çš„è¾…åŠ©ç´¢å¼•
çš„ä¹¦ç­¾å°±æ˜¯ç›¸åº”è¡Œæ•°æ®çš„èšé›†ç´¢å¼•é”®ã€‚
è¾…åŠ©ç´¢å¼•çš„å­˜åœ¨å¹¶ä¸å½±å“æ•°æ®åœ¨èšé›†ç´¢å¼•ä¸­çš„ç»„ç»‡ï¼Œå› æ­¤æ¯å¼ è¡¨ä¸Šå¯ä»¥
æœ‰å¤šä¸ªè¾…åŠ©ç´¢å¼•ï¼Œä½†åªèƒ½æœ‰ä¸€ä¸ªèšé›†ç´¢å¼•ã€‚å½“é€šè¿‡è¾…åŠ©ç´¢å¼•æ¥å¯»æ‰¾æ•°æ®æ—¶ï¼Œ
InnoDBå­˜å‚¨å¼•æ“ä¼šéå†è¾…åŠ©ç´¢å¼•å¹¶é€šè¿‡å¶å­çº§åˆ«çš„æŒ‡é’ˆè·å¾—ç›¸åº”çš„ä¸»é”®ç´¢å¼•çš„
ä¸»é”®ï¼Œç„¶åå†é€šè¿‡ä¸»é”®ç´¢å¼•æ¥æ‰¾åˆ°ä¸€ä¸ªå®Œæ•´çš„è¡Œè®°å½•ã€‚
ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœåœ¨ä¸€æ£µé«˜åº¦ä¸º 3 çš„è¾…åŠ©ç´¢å¼•æ ‘ç§æŸ¥æ‰¾æ•°æ®ï¼Œé‚£éœ€è¦å¯¹è¿™
ä¸ªè¾…åŠ©ç´¢å¼•æ ‘éå† 3 æ¬¡æ‰¾åˆ°æŒ‡å®šä¸»é”®ï¼Œå¦‚æœèšé›†ç´¢å¼•æ ‘çš„é«˜åº¦åŒæ ·ä¸º 3 ï¼Œé‚£ä¹ˆè¿˜
éœ€è¦å¯¹èšé›†ç´¢å¼•æ ‘è¿›è¡Œ 3 æ¬¡æŸ¥æ‰¾ï¼Œæœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªå®Œæ•´çš„è¡Œæ•°æ®æ‰€åœ¨çš„é¡µï¼Œå› æ­¤ä¸€
å…±éœ€è¦ 6 æ¬¡é€»è¾‘IOè®¿é—®æ‰èƒ½å¾—åˆ°æœ€ç»ˆçš„ä¸€ä¸ªæ•°æ®é¡µã€‚</p>
<h3 id="3-8-æ•°æ®åº“ä¸‰èŒƒå¼å¿…ä¼š">3 8 æ•°æ®åº“ä¸‰èŒƒå¼(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="èŒƒå¼æ˜¯å…·æœ‰æœ€å°å†—ä½™çš„è¡¨ç»“æ„ä¸‰èŒƒå¼å…·ä½“å¦‚ä¸‹">èŒƒå¼æ˜¯å…·æœ‰æœ€å°å†—ä½™çš„è¡¨ç»“æ„ã€‚ä¸‰èŒƒå¼å…·ä½“å¦‚ä¸‹ï¼š</h5>
<h5 id="æ•°æ®åº“ä¸‰èŒƒå¼ä¸»è¦æ˜¯ä¸ºäº†è®¾è®¡å‡ºé«˜æ•ˆç‡ä¼˜é›…çš„æ•°æ®åº“å¦åˆ™å¯èƒ½ä¼šè®¾è®¡å‡º">æ•°æ®åº“ä¸‰èŒƒå¼ä¸»è¦æ˜¯ä¸ºäº†è®¾è®¡å‡ºé«˜æ•ˆç‡ã€ä¼˜é›…çš„æ•°æ®åº“ï¼Œå¦åˆ™å¯èƒ½ä¼šè®¾è®¡å‡º</h5>
<h5 id="é”™è¯¯çš„æ•°æ®åº“">é”™è¯¯çš„æ•°æ®åº“.</h5>
<h5 id="-ç¬¬ä¸€èŒƒå¼-1-nfåŸå­æ€§åˆ—æˆ–è€…å­—æ®µä¸èƒ½å†åˆ†">ï¬ ç¬¬ä¸€èŒƒå¼ï¼ˆ 1 NFï¼‰ï¼ŒåŸå­æ€§ï¼Œåˆ—æˆ–è€…å­—æ®µä¸èƒ½å†åˆ†</h5>
<h5 id="1-nfæ˜¯æ•°æ®åº“æ‰€å…·å¤‡çš„æœ€èµ·ç çš„æ¡ä»¶å¦‚æœæ•°æ®åº“è®¾è®¡ä¸èƒ½æ»¡è¶³ç¬¬ä¸€èŒƒå¼">1 NFæ˜¯æ•°æ®åº“æ‰€å…·å¤‡çš„æœ€èµ·ç çš„æ¡ä»¶ï¼Œå¦‚æœæ•°æ®åº“è®¾è®¡ä¸èƒ½æ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼Œ</h5>
<h5 id="å°±ä¸ç§°ä¸ºå…³ç³»å‹æ•°æ®åº“">å°±ä¸ç§°ä¸ºå…³ç³»å‹æ•°æ®åº“ã€‚</h5>
<h5 id="å¦‚">å¦‚:</h5>
<h5 id="çœä¼š-åŸå¸‚-è¯¦ç»†åœ°å€">çœä¼š åŸå¸‚ è¯¦ç»†åœ°å€</h5>
<h5 id="åŒ—äº¬-åŒ—äº¬-æµ·å®šåŒº">åŒ—äº¬ åŒ—äº¬ æµ·å®šåŒº</h5>
<h5 id="å¹¿ä¸œ-æ·±åœ³-ç¦ç”°åŒº">å¹¿ä¸œ æ·±åœ³ ç¦ç”°åŒº</h5>
<h5 id="æ¹–åŒ—-æ­¦æ±‰-æ­¦æ˜ŒåŒº">æ¹–åŒ— æ­¦æ±‰ æ­¦æ˜ŒåŒº</h5>
<h5 id="-ç¬¬äºŒèŒƒå¼-2-nfå”¯ä¸€æ€§ä¸€å¼ è¡¨åªè¯´ä¸€ä»¶äº‹">ï¬ ç¬¬äºŒèŒƒå¼ï¼ˆ 2 NFï¼‰ï¼Œå”¯ä¸€æ€§ï¼Œä¸€å¼ è¡¨åªè¯´ä¸€ä»¶äº‹</h5>
<h5 id="2-nfè¦æ»¡è¶³-1-nfå¹¶ä¸”ä¸å¯ä»¥æŠŠå¤šç§æ•°æ®ä¿å­˜åœ¨åŒä¸€å¼ è¡¨ä¸­å³ä¸€å¼ è¡¨åªèƒ½">2 NFè¦æ»¡è¶³ 1 NFï¼Œå¹¶ä¸”ä¸å¯ä»¥æŠŠå¤šç§æ•°æ®ä¿å­˜åœ¨åŒä¸€å¼ è¡¨ä¸­ï¼Œå³ä¸€å¼ è¡¨åªèƒ½</h5>
<h5 id="ä¿å­˜ä¸€ç§æ•°æ®å¦åˆ™å¯èƒ½å¯¼è‡´æ’å…¥æ•°æ®å¼‚å¸¸">ä¿å­˜â€œä¸€ç§â€æ•°æ®ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ’å…¥æ•°æ®å¼‚å¸¸ã€‚</h5>
<h5 id="å¦‚-1">å¦‚ï¼š</h5>
<p>å­¦ç”Ÿï¼šStudent(å­¦å·, å§“å, å¹´é¾„)ï¼›
è¯¾ç¨‹ï¼šCourse(è¯¾ç¨‹åç§°, å­¦åˆ†)ï¼›
é€‰è¯¾å…³ç³»ï¼šStudentCourse(å­¦å·, è¯¾ç¨‹åç§°, æˆç»©)ã€‚
ï¬ ç¬¬ä¸‰èŒƒå¼ï¼ˆ 3 NFï¼‰ï¼Œç›´æ¥æ€§ï¼Œä¸å­˜åœ¨ä¼ é€’ä¾èµ–
3 NFè¦åœ¨æ»¡è¶³ 2 NFçš„æ¡ä»¶ä¸Šï¼Œåœ¨æ¯ä¸€åˆ—éƒ½å’Œä¸»é”®ç›´æ¥ç›¸å…³ï¼Œè€Œä¸èƒ½é—´æ¥ç›¸å…³ã€‚
å¦‚ï¼š
å­¦ç”Ÿï¼š(å­¦å·, å§“å, å¹´é¾„, æ‰€åœ¨å­¦é™¢)ï¼›
å­¦é™¢ï¼š(å­¦é™¢, ç”µè¯)ã€‚
ï¬ åç¬¬ä¸‰èŒƒå¼: å°±æ˜¯ä¸æŒ‰ç¬¬ä¸‰èŒƒå¼æ¥, è¦è®¾è®¡å‡ºä¼ é€’ä¾èµ–çš„é‚£ä¸€åˆ—, å°±çœ‹å®é™…
å¼€å‘ä¸­å®¢æˆ·å¯¹è¿™ä¸€åˆ—æ˜¯å¦ç»å¸¸æŸ¥è¯¢, å¦‚æœç»å¸¸æŸ¥è¯¢å°±è¦è®¾è®¡å‡ºæ¥, è¿™å±äºæ‹¿
ç©ºé—´æ¢æ—¶é—´, èƒ½å¤Ÿæé«˜å®¢æˆ·æŸ¥è¯¢æ•ˆç‡.</p>
<h3 id="3-9-æ•°æ®åº“äº‹åŠ¡å¿…ä¼š">3 9 æ•°æ®åº“äº‹åŠ¡(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>3. 9. 1 äº‹åŠ¡(TRANSACTION)</strong></p>
<p>æ˜¯ä½œä¸ºå•ä¸ªé€»è¾‘å·¥ä½œå•å…ƒæ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼Œè¿™äº›æ“ä½œä½œä¸ºä¸€ä¸ªæ•´
ä½“ä¸€èµ·å‘ç³»ç»Ÿæäº¤ï¼Œè¦ä¹ˆéƒ½æ‰§è¡Œ.è¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚äº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œé€»
è¾‘å•å…ƒ äº‹åŠ¡å¿…é¡»å…·å¤‡ä»¥ä¸‹å››ä¸ªå±æ€§ï¼Œç®€ç§° ACID å±æ€§ï¼š
A <strong>åŸå­æ€§ï¼ˆAtomicityï¼‰</strong> ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ“ä½œã€‚äº‹åŠ¡çš„å„æ­¥æ“ä½œ
æ˜¯ä¸å¯åˆ†çš„ï¼ˆåŸå­çš„ï¼‰ï¼›è¦ ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚
B <strong>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</strong> ï¼šå½“äº‹åŠ¡å®Œæˆæ—¶ï¼Œæ•°æ®å¿…é¡»å¤„äºä¸€è‡´çŠ¶æ€ã€‚
C <strong>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</strong> ï¼šå¯¹æ•°æ®è¿›è¡Œä¿®æ”¹çš„æ‰€æœ‰å¹¶å‘äº‹åŠ¡æ˜¯å½¼æ­¤éš”ç¦»
çš„ï¼Œè¿™è¡¨æ˜äº‹åŠ¡å¿…é¡»æ˜¯ç‹¬ ç«‹çš„ï¼Œå®ƒä¸åº”ä»¥ä»»ä½•æ–¹å¼ä¾èµ–äºæˆ–å½±å“å…¶ä»–äº‹åŠ¡ã€‚
D <strong>æ°¸ä¹…æ€§ï¼ˆDurabilityï¼‰</strong> ï¼šäº‹åŠ¡å®Œæˆåï¼Œå®ƒå¯¹æ•°æ®åº“çš„ä¿®æ”¹è¢«æ°¸ä¹…ä¿æŒï¼Œäº‹åŠ¡
æ—¥å¿—èƒ½å¤Ÿä¿æŒäº‹åŠ¡ çš„æ°¸ä¹…æ€§ã€‚</p>
<ol start="3">
<li>
<ol start="9">
<li>2 äº‹åŠ¡æ§åˆ¶è¯­å¥</li>
</ol>
</li>
</ol>
<p><strong>BEGIN</strong> æˆ– S <strong>TARTTRANSACTION</strong> æ˜¾å¼åœ°å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼›
<strong>COMMIT</strong> ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>COMMITWORK</strong> ï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚
<strong>COMMIT</strong> ä¼šæäº¤äº‹åŠ¡ï¼Œå¹¶ä½¿å·²å¯¹æ•°æ®åº“è¿›è¡Œçš„æ‰€æœ‰ä¿®æ”¹æˆä¸ºæ°¸ä¹…æ€§çš„ï¼›
<strong>ROLLBACK</strong> ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>ROLLBACKWORK</strong> ï¼Œä¸è¿‡äºŒè€…æ˜¯ç­‰ä»·çš„ã€‚å›
æ»šä¼šç»“æŸç”¨æˆ·çš„äº‹åŠ¡ï¼Œå¹¶æ’¤é”€æ­£åœ¨è¿›è¡Œçš„æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹ï¼›
<strong>SAVEPOINTidentifier</strong> ï¼Œ <strong>SAVEPOINT</strong> å…è®¸åœ¨äº‹åŠ¡ä¸­åˆ›å»ºä¸€ä¸ªä¿å­˜
ç‚¹ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­å¯ä»¥æœ‰å¤šä¸ª <strong>SAVEPOINT</strong> ï¼›
<strong>RELEASESAVEPOINTidentifier</strong> åˆ é™¤ä¸€ä¸ªäº‹åŠ¡çš„ä¿å­˜ç‚¹ï¼Œå½“æ²¡æœ‰æŒ‡
å®šçš„ä¿å­˜ç‚¹æ—¶ï¼Œæ‰§è¡Œè¯¥è¯­å¥ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼›
<strong>ROLLBACKTOidentifier</strong> æŠŠäº‹åŠ¡å›æ»šåˆ°æ ‡è®°ç‚¹ï¼›
<strong>SETTRANSACTION</strong> ç”¨æ¥è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚</p>
<p>InnoDB å­˜å‚¨å¼• æ“ æ ä¾› äº‹ åŠ¡ çš„ éš” ç¦» çº§ åˆ« æœ‰ <strong>READ
UNCOMMITTED.READCOMMITTED.REPEATABLEREAD</strong> å’Œ
<strong>SERIALIZABLE</strong> ã€‚</p>
<h4 id="3-9-3-mysqläº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•">3 9 3 MySQLäº‹åŠ¡å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<pre tabindex="0"><code>a) ç”¨ BEGIN,ROLLBACK,COMMIT æ¥å®ç°
i. BEGIN å¼€å§‹ä¸€ä¸ªäº‹åŠ¡
ii. ROLLBACK äº‹åŠ¡å›æ»š
iii. COMMIT äº‹åŠ¡ç¡®è®¤
b) ç›´æ¥ç”¨ SET æ¥æ”¹å˜ MySQL çš„è‡ªåŠ¨æäº¤æ¨¡å¼:
i. SETAUTOCOMMIT= 0 ç¦æ­¢è‡ªåŠ¨æäº¤
ii. SETAUTOCOMMIT= 1 å¼€å¯è‡ªåŠ¨æäº¤
</code></pre><h4 id="3-9-4-äº‹åŠ¡çš„å››ç§éš”ç¦»çº§åˆ«">3 9 4 äº‹åŠ¡çš„å››ç§éš”ç¦»çº§åˆ«&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p><strong>1 ï¼‰Readuncommitted</strong>
è¯»æœªæäº¤ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ªäº‹åŠ¡å¯ä»¥è¯»å–å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡çš„æ•°æ®ã€‚
<strong>2 ï¼‰Readcommitted</strong>
è¯»å·²æäº¤ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ªäº‹åŠ¡è¦ç­‰å¦ä¸€ä¸ªäº‹åŠ¡æäº¤åæ‰èƒ½è¯»å–æ•°
<strong>3 ï¼‰Repeatableread</strong>
å¯é‡å¤è¯»ï¼Œå°±æ˜¯åœ¨å¼€å§‹è¯»å–æ•°æ®ï¼ˆäº‹åŠ¡å¼€å¯ï¼‰æ—¶ï¼Œä¸å†å…è®¸ä¿®æ”¹æ“ä½œ
<strong>4 ï¼‰Serializable åºåˆ—åŒ–</strong>
Serializable æ˜¯æœ€é«˜çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œåœ¨è¯¥çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡ä¸²è¡ŒåŒ–é¡ºåºæ‰§è¡Œï¼Œå¯ä»¥
é¿å…è„è¯».ä¸å¯é‡å¤è¯»ä¸å¹»è¯»ã€‚ä½†æ˜¯è¿™ç§äº‹åŠ¡éš”ç¦»çº§åˆ«æ•ˆç‡ä½ä¸‹ï¼Œæ¯”è¾ƒè€—æ•°æ®åº“
æ€§èƒ½ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨ã€‚
<strong>åœ¨MySQLæ•°æ®åº“ä¸­ï¼Œæ”¯æŒä¸Šé¢å››ç§éš”ç¦»çº§åˆ«ï¼Œé»˜è®¤çš„ä¸ºRepeatableread(å¯
é‡å¤è¯»)</strong> ï¼›è€Œåœ¨Oracleæ•°æ®åº“ä¸­ï¼Œåªæ”¯æŒSerializable(ä¸²è¡ŒåŒ–)çº§åˆ«å’ŒRead
committed(è¯»å·²æäº¤)è¿™ä¸¤ç§çº§åˆ«ï¼Œå…¶ä¸­é»˜è®¤çš„ä¸º Readcommitted çº§åˆ«ã€‚</p>
<h3 id="3-10-å­˜å‚¨è¿‡ç¨‹é«˜è–ªå¸¸é—®">3 10 å­˜å‚¨è¿‡ç¨‹ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="ä¸€ç»„ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„-sql-è¯­å¥é›†å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ç»è¿‡ç¬¬ä¸€æ¬¡ç¼–">ä¸€ç»„ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„ SQL è¯­å¥é›†ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œç»è¿‡ç¬¬ä¸€æ¬¡ç¼–</h5>
<h5 id="è¯‘åå†æ¬¡è°ƒç”¨ä¸éœ€è¦å†æ¬¡-ç¼–è¯‘ç”¨æˆ·é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å‡ºå‚æ•°">è¯‘åå†æ¬¡è°ƒç”¨ä¸éœ€è¦å†æ¬¡ ç¼–è¯‘ï¼Œç”¨æˆ·é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å‡ºå‚æ•°</h5>
<h5 id="å¦‚æœè¯¥å­˜å‚¨è¿‡ç¨‹å¸¦æœ‰å‚æ•°æ¥æ‰§è¡Œå®ƒå­˜å‚¨è¿‡-ç¨‹æ˜¯æ•°æ®åº“ä¸­çš„ä¸€ä¸ªé‡è¦å¯¹">ï¼ˆå¦‚æœè¯¥å­˜å‚¨è¿‡ç¨‹å¸¦æœ‰å‚æ•°ï¼‰æ¥æ‰§è¡Œå®ƒã€‚å­˜å‚¨è¿‡ ç¨‹æ˜¯æ•°æ®åº“ä¸­çš„ä¸€ä¸ªé‡è¦å¯¹</h5>
<h5 id="è±¡">è±¡ã€‚</h5>
<h5 id="å­˜å‚¨è¿‡ç¨‹ä¼˜åŒ–æ€è·¯">å­˜å‚¨è¿‡ç¨‹ä¼˜åŒ–æ€è·¯ï¼š</h5>
<h5 id="1-å°½é‡åˆ©ç”¨ä¸€äº›-sql-è¯­å¥æ¥æ›¿ä»£ä¸€äº›å°å¾ªç¯ä¾‹å¦‚èšåˆå‡½æ•°æ±‚å¹³å‡">1. å°½é‡åˆ©ç”¨ä¸€äº› SQL è¯­å¥æ¥æ›¿ä»£ä¸€äº›å°å¾ªç¯ï¼Œä¾‹å¦‚èšåˆå‡½æ•°ï¼Œæ±‚å¹³å‡</h5>
<h5 id="å‡½æ•°ç­‰">å‡½æ•°ç­‰ã€‚</h5>
<h5 id="2-ä¸­é—´ç»“æœå­˜æ”¾äºä¸´æ—¶è¡¨åŠ ç´¢å¼•">2. ä¸­é—´ç»“æœå­˜æ”¾äºä¸´æ—¶è¡¨ï¼ŒåŠ ç´¢å¼•ã€‚</h5>
<h5 id="3-å°‘ä½¿ç”¨æ¸¸æ ‡sql-æ˜¯ä¸ªé›†åˆè¯­è¨€å¯¹äºé›†åˆè¿ç®—å…·æœ‰è¾ƒé«˜æ€§èƒ½è€Œ">3. å°‘ä½¿ç”¨æ¸¸æ ‡ã€‚SQL æ˜¯ä¸ªé›†åˆè¯­è¨€ï¼Œå¯¹äºé›†åˆè¿ç®—å…·æœ‰è¾ƒé«˜æ€§èƒ½ã€‚è€Œ</h5>
<p>cursorsæ˜¯
è¿‡ç¨‹è¿ç®—ã€‚æ¯” å¦‚å¯¹ä¸€ä¸ª 100 ä¸‡è¡Œçš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢ã€‚æ¸¸æ ‡éœ€è¦è¯»è¡¨ 100 ä¸‡æ¬¡ï¼Œ
è€Œä¸
ä½¿ç”¨æ¸¸æ ‡åˆ™åªéœ€è¦å°‘é‡å‡ æ¬¡è¯»å–ã€‚
4. äº‹åŠ¡è¶ŠçŸ­è¶Šå¥½ã€‚SQLserveræ”¯æŒå¹¶å‘æ“ä½œã€‚å¦‚æœäº‹åŠ¡è¿‡å¤šè¿‡é•¿ï¼Œæˆ–è€…
éš”ç¦»çº§
åˆ«è¿‡é«˜ï¼Œéƒ½ä¼šé€  æˆå¹¶å‘æ“ä½œçš„é˜»å¡ï¼Œæ­»é”ã€‚å¯¼è‡´æŸ¥è¯¢ææ…¢ï¼Œcpu å ç”¨ç‡æåœ°ã€‚
5. ä½¿ç”¨ try-catch å¤„ç†é”™è¯¯å¼‚å¸¸ã€‚
6. æŸ¥æ‰¾è¯­å¥å°½é‡ä¸è¦æ”¾åœ¨å¾ªç¯å†…ã€‚</p>
<h3 id="3-11-æ•°æ®åº“å¹¶å‘ç­–ç•¥é«˜è–ªå¸¸é—®">3 11 æ•°æ®åº“å¹¶å‘ç­–ç•¥ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="å¹¶å‘æ§åˆ¶ä¸€èˆ¬é‡‡ç”¨ä¸‰ç§æ–¹æ³•åˆ†åˆ«æ˜¯ä¹è§‚é”å’Œæ‚²è§‚é”ä»¥åŠæ—¶é—´æˆ³">å¹¶å‘æ§åˆ¶ä¸€èˆ¬é‡‡ç”¨ä¸‰ç§æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ä¹è§‚é”å’Œæ‚²è§‚é”ä»¥åŠæ—¶é—´æˆ³ã€‚</h5>
<h4 id="3-11-1-ä¹è§‚é”">3 11 1 ä¹è§‚é”&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ä¹è§‚é”è®¤ä¸ºä¸€ä¸ªç”¨æˆ·è¯»æ•°æ®çš„æ—¶å€™åˆ«äººä¸ä¼šå»å†™è‡ªå·±æ‰€è¯»çš„æ•°æ®æ‚²è§‚é”">ä¹è§‚é”è®¤ä¸ºä¸€ä¸ªç”¨æˆ·è¯»æ•°æ®çš„æ—¶å€™ï¼Œåˆ«äººä¸ä¼šå»å†™è‡ªå·±æ‰€è¯»çš„æ•°æ®ï¼›æ‚²è§‚é”</h5>
<h5 id="å°±åˆšå¥½ç›¸åè§‰å¾—è‡ª-å·±è¯»æ•°æ®åº“çš„æ—¶å€™åˆ«äººå¯èƒ½åˆšå¥½åœ¨å†™è‡ªå·±åˆšè¯»çš„æ•°æ®">å°±åˆšå¥½ç›¸åï¼Œè§‰å¾—è‡ª å·±è¯»æ•°æ®åº“çš„æ—¶å€™ï¼Œåˆ«äººå¯èƒ½åˆšå¥½åœ¨å†™è‡ªå·±åˆšè¯»çš„æ•°æ®ï¼Œ</h5>
<h5 id="å…¶å®å°±æ˜¯æŒä¸€ç§æ¯”è¾ƒä¿å®ˆçš„æ€åº¦æ—¶é—´-æˆ³å°±æ˜¯ä¸åŠ é”é€šè¿‡æ—¶é—´æˆ³æ¥æ§åˆ¶å¹¶">å…¶å®å°±æ˜¯æŒä¸€ç§æ¯”è¾ƒä¿å®ˆçš„æ€åº¦ï¼›æ—¶é—´ æˆ³å°±æ˜¯ä¸åŠ é”ï¼Œé€šè¿‡æ—¶é—´æˆ³æ¥æ§åˆ¶å¹¶</h5>
<h5 id="å‘å‡ºç°çš„é—®é¢˜">å‘å‡ºç°çš„é—®é¢˜ã€‚</h5>
<h4 id="3-11-2-æ‚²è§‚é”">3 11 2 æ‚²è§‚é”&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="æ‚²è§‚é”å°±æ˜¯åœ¨è¯»å–æ•°æ®çš„æ—¶å€™ä¸ºäº†ä¸è®©åˆ«äººä¿®æ”¹è‡ªå·±è¯»å–çš„æ•°æ®å°±ä¼šå…ˆ">æ‚²è§‚é”å°±æ˜¯åœ¨è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œä¸ºäº†ä¸è®©åˆ«äººä¿®æ”¹è‡ªå·±è¯»å–çš„æ•°æ®ï¼Œå°±ä¼šå…ˆ</h5>
<h5 id="å¯¹è‡ªå·±è¯»å–çš„æ•°æ®åŠ é”åªæœ‰è‡ªå·±æŠŠæ•°æ®è¯»å®Œäº†æ‰å…è®¸åˆ«äººä¿®æ”¹é‚£éƒ¨åˆ†æ•°æ®æˆ–">å¯¹è‡ªå·±è¯»å–çš„æ•°æ®åŠ é”ï¼Œåªæœ‰è‡ªå·±æŠŠæ•°æ®è¯»å®Œäº†ï¼Œæ‰å…è®¸åˆ«äººä¿®æ”¹é‚£éƒ¨åˆ†æ•°æ®ï¼Œæˆ–</h5>
<h5 id="è€…åè¿‡æ¥è¯´å°±æ˜¯è‡ªå·±ä¿®æ”¹æŸæ¡æ•°-æ®çš„æ—¶å€™ä¸å…è®¸åˆ«äººè¯»å–è¯¥æ•°æ®åªæœ‰">è€…åè¿‡æ¥è¯´ï¼Œå°±æ˜¯è‡ªå·±ä¿®æ”¹æŸæ¡æ•° æ®çš„æ—¶å€™ï¼Œä¸å…è®¸åˆ«äººè¯»å–è¯¥æ•°æ®ï¼Œåªæœ‰</h5>
<h5 id="ç­‰è‡ªå·±çš„æ•´ä¸ªäº‹åŠ¡æäº¤äº†æ‰é‡Šæ”¾è‡ªå·±åŠ ä¸Šçš„é”æ‰å…-è®¸å…¶ä»–ç”¨æˆ·è®¿é—®é‚£éƒ¨">ç­‰è‡ªå·±çš„æ•´ä¸ªäº‹åŠ¡æäº¤äº†ï¼Œæ‰é‡Šæ”¾è‡ªå·±åŠ ä¸Šçš„é”ï¼Œæ‰å… è®¸å…¶ä»–ç”¨æˆ·è®¿é—®é‚£éƒ¨</h5>
<h5 id="åˆ†æ•°æ®">åˆ†æ•°æ®ã€‚</h5>
<p><strong>3. 11. 3 ä¸¤ç§é”çš„ä½¿ç”¨åœºæ™¯</strong></p>
<pre tabindex="0"><code>ä»ä¸Šé¢å¯¹ä¸¤ç§é”çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ä¸¤ç§é”å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä¸å¯è®¤ä¸ºä¸€ç§å¥½äºå¦ä¸€
ç§ï¼Œåƒä¹è§‚é”é€‚ç”¨äºå†™æ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼ˆå¤šè¯»åœºæ™¯ï¼‰ï¼Œå³å†²çªçœŸçš„å¾ˆå°‘å‘ç”Ÿçš„æ—¶
å€™ï¼Œè¿™æ ·å¯ä»¥çœå»äº†é”çš„å¼€é”€ï¼ŒåŠ å¤§äº†ç³»ç»Ÿçš„æ•´ä¸ªååé‡ã€‚ä½†å¦‚æœæ˜¯å¤šå†™çš„æƒ…å†µï¼Œ
ä¸€èˆ¬ä¼šç»å¸¸äº§ç”Ÿå†²çªï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸Šå±‚åº”ç”¨ä¼šä¸æ–­çš„è¿›è¡Œ retryï¼Œè¿™æ ·åå€’æ˜¯
é™ä½äº†æ€§èƒ½ï¼Œæ‰€ä»¥ä¸€èˆ¬å¤šå†™çš„åœºæ™¯ä¸‹ç”¨æ‚²è§‚é”å°±æ¯”è¾ƒåˆé€‚ã€‚
</code></pre><ol start="3">
<li>
<ol start="11">
<li>4 ä¹è§‚é”å¸¸è§çš„ä¸¤ç§å®ç°å¼ç‰ˆæœ¬å·æœºåˆ¶</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>ä¸€èˆ¬æ˜¯åœ¨æ•°æ®è¡¨ä¸­åŠ ä¸Šä¸€ä¸ªæ•°æ®ç‰ˆæœ¬å· versionå­—æ®µï¼Œè¡¨ç¤ºæ•°æ®è¢«ä¿®æ”¹çš„æ¬¡
æ•°ï¼Œå½“æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œversion å€¼ä¼šåŠ ä¸€ã€‚å½“çº¿ç¨‹A è¦æ›´æ–°æ•°æ®å€¼æ—¶ï¼Œåœ¨è¯»å–æ•°
æ®çš„åŒæ—¶ä¹Ÿä¼šè¯»å–versionå€¼ï¼Œåœ¨æäº¤æ›´æ–°æ—¶ï¼Œè‹¥åˆšæ‰è¯»å–åˆ°çš„versionå€¼ä¸ºå½“å‰
æ•°æ®åº“ä¸­çš„versionå€¼ç›¸ç­‰æ—¶æ‰æ›´æ–°ï¼Œå¦åˆ™é‡è¯•æ›´æ–°æ“ä½œï¼Œç›´åˆ°æ›´æ–°æˆåŠŸã€‚CASç®—
æ³•å³compareandswapï¼ˆæ¯”è¾ƒä¸äº¤æ¢ï¼‰ï¼Œæ˜¯ä¸€ç§æœ‰åçš„æ— é”ç®—æ³•ã€‚
æ— é”ç¼–ç¨‹ï¼Œå³ä¸ä½¿ç”¨é”çš„æƒ…å†µä¸‹å®ç°å¤šçº¿ç¨‹ä¹‹é—´çš„å˜é‡åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯åœ¨æ²¡æœ‰çº¿ç¨‹
è¢«é˜»å¡çš„æƒ…å†µä¸‹å®ç°å˜é‡çš„åŒæ­¥ï¼Œæ‰€ä»¥ä¹Ÿå«éé˜»å¡åŒæ­¥ï¼ˆNon-blocking
Synchronizationï¼‰ã€‚CAS ç®—æ³•æ¶‰åŠåˆ°ä¸‰ä¸ªæ“ä½œæ•°
éœ€è¦è¯»å†™çš„å†…å­˜å€¼
Vè¿›è¡Œæ¯”è¾ƒçš„å€¼ A
æ‹Ÿå†™å…¥çš„æ–°å€¼ B
</code></pre><h5 id="å½“ä¸”ä»…å½“-v-çš„å€¼ç­‰äº-a-æ—¶cas-é€šè¿‡åŸå­æ–¹å¼ç”¨æ–°å€¼-bæ¥æ›´æ–°-v">å½“ä¸”ä»…å½“ V çš„å€¼ç­‰äº A æ—¶ï¼ŒCAS é€šè¿‡åŸå­æ–¹å¼ç”¨æ–°å€¼ Bæ¥æ›´æ–° V</h5>
<h5 id="çš„å€¼-å¦åˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œæ¯”è¾ƒå’Œæ›¿æ¢æ˜¯ä¸€ä¸ªåŸå­æ“ä½œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯">çš„å€¼ï¼Œ å¦åˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œï¼ˆæ¯”è¾ƒå’Œæ›¿æ¢æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯</h5>
<h5 id="ä¸€ä¸ªè‡ªæ—‹æ“ä½œå³ä¸æ–­çš„é‡è¯•">ä¸€ä¸ªè‡ªæ—‹æ“ä½œï¼Œå³ä¸æ–­çš„é‡è¯•ã€‚</h5>
<h4 id="3-11-5-ä¹è§‚é”çš„ç¼ºç‚¹">3 11 5 ä¹è§‚é”çš„ç¼ºç‚¹&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="aba-é—®-é¢˜">ABA é—® é¢˜</h5>
<h5 id="å¦‚æœä¸€ä¸ªå˜é‡-våˆæ¬¡è¯»å–çš„æ—¶å€™æ˜¯a-å€¼å¹¶ä¸”åœ¨å‡†å¤‡èµ‹å€¼çš„æ—¶å€™æ£€æŸ¥åˆ°">å¦‚æœä¸€ä¸ªå˜é‡ Våˆæ¬¡è¯»å–çš„æ—¶å€™æ˜¯A å€¼ï¼Œå¹¶ä¸”åœ¨å‡†å¤‡èµ‹å€¼çš„æ—¶å€™æ£€æŸ¥åˆ°</h5>
<h5 id="å®ƒä»ç„¶æ˜¯a-å€¼é‚£æˆ‘ä»¬å°±èƒ½è¯´æ˜å®ƒçš„å€¼æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹è¿‡äº†å—å¾ˆæ˜æ˜¾æ˜¯">å®ƒä»ç„¶æ˜¯A å€¼ï¼Œé‚£æˆ‘ä»¬å°±èƒ½è¯´æ˜å®ƒçš„å€¼æ²¡æœ‰è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹è¿‡äº†å—ï¼Ÿå¾ˆæ˜æ˜¾æ˜¯</h5>
<h5 id="ä¸èƒ½çš„å› ä¸ºåœ¨è¿™æ®µæ—¶é—´å®ƒçš„å€¼å¯èƒ½è¢«æ”¹ä¸ºå…¶ä»–å€¼ç„¶ååˆæ”¹å›-aé‚£casæ“">ä¸èƒ½çš„ï¼Œå› ä¸ºåœ¨è¿™æ®µæ—¶é—´å®ƒçš„å€¼å¯èƒ½è¢«æ”¹ä¸ºå…¶ä»–å€¼ï¼Œç„¶ååˆæ”¹å› Aï¼Œé‚£CASæ“</h5>
<h5 id="ä½œå°±ä¼šè¯¯è®¤ä¸ºå®ƒä»æ¥æ²¡æœ‰è¢«ä¿®æ”¹è¿‡è¿™ä¸ªé—®é¢˜è¢«ç§°ä¸º-cas-æ“ä½œçš„-abaé—®">ä½œå°±ä¼šè¯¯è®¤ä¸ºå®ƒä»æ¥æ²¡æœ‰è¢«ä¿®æ”¹è¿‡ã€‚è¿™ä¸ªé—®é¢˜è¢«ç§°ä¸º CAS æ“ä½œçš„ &ldquo;ABA&quot;é—®</h5>
<h5 id="é¢˜-1">é¢˜ã€‚</h5>
<pre tabindex="0"><code>JDK 1. 5 ä»¥åçš„ AtomicStampedReference ç±»å°±æä¾›äº†æ­¤ç§èƒ½åŠ›ï¼Œ
å…¶ä¸­çš„ compareAndSet æ–¹æ³•å°±æ˜¯é¦–å…ˆæ£€æŸ¥å½“å‰å¼•ç”¨æ˜¯å¦ç­‰äºé¢„æœŸå¼•ç”¨ï¼Œå¹¶
ä¸”å½“å‰æ ‡å¿—æ˜¯å¦ç­‰äºé¢„æœŸæ ‡å¿—ï¼Œå¦‚æœå…¨éƒ¨ç›¸ç­‰ï¼Œåˆ™ä»¥åŸå­æ–¹å¼å°†è¯¥å¼•ç”¨å’Œè¯¥æ ‡å¿—çš„
å€¼è®¾ç½®ä¸ºç»™å®šçš„æ›´æ–°å€¼ã€‚
å¾ªç¯æ—¶é—´é•¿å¼€é”€å¤§
è‡ªæ—‹ CASï¼ˆä¹Ÿå°±æ˜¯ä¸æˆåŠŸå°±ä¸€ç›´å¾ªç¯æ‰§è¡Œç›´åˆ°æˆåŠŸï¼‰å¦‚æœé•¿æ—¶é—´ä¸æˆåŠŸï¼Œ
ä¼šç»™ CPU å¸¦æ¥éå¸¸å¤§çš„æ‰§è¡Œå¼€é”€ã€‚ å¦‚æœJVM èƒ½æ”¯æŒå¤„ç†å™¨æä¾›çš„ pause
æŒ‡ä»¤é‚£ä¹ˆæ•ˆç‡ä¼šæœ‰ä¸€å®šçš„æå‡ï¼ŒpauseæŒ‡ä»¤æœ‰ä¸¤ä¸ªä½œç”¨ï¼Œç¬¬ä¸€å®ƒå¯ä»¥å»¶è¿Ÿæµæ°´çº¿æ‰§
è¡ŒæŒ‡ä»¤ï¼ˆde-pipelineï¼‰,ä½¿CPU ä¸ä¼šæ¶ˆè€—è¿‡å¤šçš„æ‰§è¡Œèµ„æºï¼Œå»¶è¿Ÿçš„æ—¶é—´å–å†³äº
å…·ä½“å®ç°çš„ç‰ˆæœ¬ï¼Œåœ¨ä¸€äº›å¤„ç†å™¨ä¸Šå»¶è¿Ÿæ—¶é—´æ˜¯é›¶ã€‚ç¬¬äºŒå®ƒå¯ä»¥é¿å…åœ¨é€€å‡ºå¾ªç¯çš„æ—¶å€™
å› å†…å­˜é¡ºåºå†²çªï¼ˆmemoryorderviolationï¼‰è€Œå¼•èµ· CPUæµæ°´çº¿è¢«æ¸…ç©ºï¼ˆCPU
pipelineflushï¼‰ï¼Œä»è€Œæé«˜ CPU çš„æ‰§è¡Œæ•ˆç‡ã€‚
åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ
CAS åªå¯¹å•ä¸ªå…±äº«å˜é‡æœ‰æ•ˆï¼Œå½“æ“ä½œæ¶‰åŠè·¨å¤šä¸ªå…±äº«å˜é‡æ—¶ CAS æ— 
æ•ˆã€‚ä½†æ˜¯ä» JDK 1. 5 å¼€å§‹ï¼Œæä¾›äº†AtomicReference ç±»æ¥ä¿è¯å¼•ç”¨å¯¹è±¡ä¹‹
é—´çš„åŸå­æ€§ï¼Œä½ å¯ä»¥æŠŠå¤šä¸ªå˜é‡æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œæ¥è¿›è¡Œ CAS æ“ä½œ.æ‰€ä»¥æˆ‘ä»¬å¯
ä»¥ä½¿ç”¨é”æˆ–è€…åˆ©ç”¨ AtomicReference ç±»æŠŠå¤šä¸ªå…±äº«å˜é‡åˆå¹¶æˆä¸€ä¸ªå…±äº«å˜
é‡æ¥æ“ä½œ
CAS ä¸ synchronized çš„ä½¿ç”¨æƒ…æ™¯
</code></pre><h5 id="ç®€å•çš„æ¥è¯´-cas-é€‚ç”¨äºå†™æ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹å¤šè¯»åœºæ™¯å†²çªä¸€èˆ¬è¾ƒå°‘">ç®€å•çš„æ¥è¯´ CAS é€‚ç”¨äºå†™æ¯”è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼ˆå¤šè¯»åœºæ™¯ï¼Œå†²çªä¸€èˆ¬è¾ƒå°‘ï¼‰ï¼Œ</h5>
<pre tabindex="0"><code>synchronizedé€‚ç”¨äºå†™æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼ˆå¤šå†™åœºæ™¯ï¼Œå†²çªä¸€èˆ¬è¾ƒå¤šï¼‰
å¯¹äºèµ„æºç«äº‰è¾ƒå°‘ï¼ˆçº¿ç¨‹å†²çªè¾ƒè½»ï¼‰çš„æƒ…å†µï¼Œä½¿ç”¨synchronizedåŒæ­¥é”
è¿›è¡Œçº¿ç¨‹é˜»å¡å’Œå”¤é†’åˆ‡æ¢ä»¥åŠç”¨æˆ·æ€å†…æ ¸æ€é—´çš„åˆ‡æ¢æ“ä½œé¢å¤–æµªè´¹æ¶ˆè€—cpuèµ„
æºï¼›è€ŒCASåŸºäºç¡¬ä»¶å®ç°ï¼Œä¸éœ€è¦è¿›å…¥å†…æ ¸ï¼Œä¸éœ€è¦åˆ‡æ¢çº¿ç¨‹ï¼Œæ“ä½œè‡ªæ—‹å‡ ç‡è¾ƒå°‘ï¼Œå› 
æ­¤å¯ä»¥è·å¾—æ›´é«˜çš„æ€§èƒ½ã€‚
å¯¹äºèµ„æºç«äº‰ä¸¥é‡ï¼ˆçº¿ç¨‹å†²çªä¸¥é‡ï¼‰çš„æƒ…å†µï¼ŒCAS è‡ªæ—‹çš„æ¦‚ç‡ä¼šæ¯”è¾ƒå¤§ï¼Œ
ä»è€Œæµªè´¹æ›´å¤šçš„ CPU èµ„æºï¼Œæ•ˆç‡ä½äº synchronizedã€‚
è¡¥å……ï¼š Javaå¹¶å‘ç¼–ç¨‹è¿™ä¸ªé¢†åŸŸä¸­ synchronized å…³é”®å­—ä¸€ç›´éƒ½æ˜¯å…ƒè€çº§çš„
è§’è‰²ï¼Œå¾ˆä¹…ä¹‹å‰å¾ˆå¤šäººéƒ½ä¼šç§°å®ƒä¸ºâ€œé‡é‡çº§é”â€ã€‚ä½†æ˜¯ï¼Œåœ¨JavaSE 1. 6 ä¹‹åè¿›
è¡Œäº†ä¸»è¦åŒ…æ‹¬ä¸ºäº†å‡å°‘è·å¾—é”å’Œé‡Šæ”¾é”å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—è€Œå¼•å…¥çš„ åå‘é” å’Œ
è½»é‡çº§é” ä»¥åŠå…¶å®ƒå„ç§ä¼˜åŒ–ä¹‹åå˜å¾—åœ¨æŸäº›æƒ…å†µä¸‹å¹¶ä¸æ˜¯é‚£ä¹ˆé‡äº†ã€‚
synchronizedçš„åº•å±‚å®ç°ä¸»è¦ä¾é Lock-Freeçš„é˜Ÿåˆ—ï¼ŒåŸºæœ¬æ€è·¯æ˜¯è‡ªæ—‹åé˜»
å¡ï¼Œç«äº‰åˆ‡æ¢åç»§ç»­ç«äº‰é”ï¼Œç¨å¾®ç‰ºç‰²äº†å…¬å¹³æ€§ï¼Œä½†è·å¾—äº†é«˜ååé‡ã€‚åœ¨çº¿ç¨‹å†²
çªè¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è·å¾—å’ŒCAS ç±»ä¼¼çš„æ€§èƒ½ï¼›è€Œçº¿ç¨‹å†²çªä¸¥é‡çš„æƒ…å†µä¸‹ï¼Œ
æ€§èƒ½è¿œé«˜äºCAS ã€‚
</code></pre><h4 id="3-11-6-æ—¶é—´æˆ³">3 11 6 æ—¶é—´æˆ³&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<pre tabindex="0"><code>æ—¶é—´æˆ³å°±æ˜¯åœ¨æ•°æ®åº“è¡¨ä¸­å•ç‹¬åŠ ä¸€åˆ—æ—¶é—´æˆ³ï¼Œæ¯”å¦‚â€œTimeStampâ€ï¼Œæ¯æ¬¡è¯»
å‡ºæ¥çš„æ—¶å€™ï¼ŒæŠŠè¯¥å­—æ®µä¹Ÿè¯»å‡ºæ¥ï¼Œå½“å†™å›å»çš„æ—¶å€™ï¼ŒæŠŠè¯¥å­—æ®µåŠ  1 ï¼Œæäº¤ä¹‹å‰ï¼Œè·Ÿ
æ•°æ®åº“çš„è¯¥å­—æ®µæ¯”è¾ƒä¸€æ¬¡ï¼Œå¦‚æœæ¯”æ•° æ®åº“çš„å€¼å¤§çš„è¯ï¼Œå°±å…è®¸ä¿å­˜ï¼Œå¦åˆ™ä¸
å…è®¸ä¿å­˜ï¼Œè¿™ç§å¤„ç†æ–¹æ³•è™½ç„¶ä¸ä½¿ç”¨æ•°æ®åº“ç³»ç»Ÿæä¾›çš„é” æœºåˆ¶ï¼Œä½†æ˜¯è¿™ç§æ–¹
æ³•å¯ä»¥å¤§å¤§æé«˜æ•°æ®åº“å¤„ç†çš„å¹¶å‘é‡ï¼Œ
ä»¥ä¸Šæ‚²è§‚é”æ‰€è¯´çš„åŠ â€œé”â€ï¼Œå…¶å®åˆ†ä¸ºå‡ ç§é”ï¼Œåˆ†åˆ«æ˜¯ï¼šæ’å®ƒé”ï¼ˆå†™é”ï¼‰å’Œå…±
äº«é”ï¼ˆè¯»é”ï¼‰ã€‚
</code></pre><h3 id="3-12-è§¦å‘å™¨é«˜è–ªå¸¸é—®">3 12 è§¦å‘å™¨ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="è§¦å‘å™¨æ˜¯ä¸€æ®µèƒ½è‡ªåŠ¨æ‰§è¡Œçš„ç¨‹åºæ˜¯ä¸€ç§ç‰¹æ®Šçš„å­˜å‚¨è¿‡ç¨‹è§¦å‘å™¨å’Œæ™®é€šçš„å­˜å‚¨">è§¦å‘å™¨æ˜¯ä¸€æ®µèƒ½è‡ªåŠ¨æ‰§è¡Œçš„ç¨‹åºï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„å­˜å‚¨è¿‡ç¨‹ï¼Œè§¦å‘å™¨å’Œæ™®é€šçš„å­˜å‚¨</h5>
<h5 id="è¿‡ç¨‹çš„åŒºåˆ«æ˜¯-è§¦å‘å™¨æ˜¯å½“å¯¹æŸä¸€ä¸ªè¡¨è¿›è¡Œæ“ä½œæ—¶è§¦å‘è¯¸å¦‚">è¿‡ç¨‹çš„åŒºåˆ«æ˜¯ï¼š è§¦å‘å™¨æ˜¯å½“å¯¹æŸä¸€ä¸ªè¡¨è¿›è¡Œæ“ä½œæ—¶è§¦å‘ã€‚è¯¸å¦‚ï¼š</h5>
<p>update.insert.delete è¿™äº›æ“ä½œçš„æ—¶å€™ï¼Œç³»ç»Ÿ ä¼šè‡ªåŠ¨è°ƒç”¨æ‰§è¡Œè¯¥è¡¨ä¸Šå¯¹åº”çš„è§¦</p>
<p>å‘å™¨ã€‚SQLServer 2005 ä¸­è§¦å‘å™¨å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šDML è§¦å‘å™¨å’Œ DDL è§¦
å‘å™¨ï¼Œå…¶ä¸­ DDL è§¦å‘å™¨å®ƒä»¬ä¼šå½±å“å¤šç§æ•°æ®å®šä¹‰è¯­è¨€è¯­å¥è€Œæ¿€å‘ï¼Œè¿™äº›è¯­
å¥æœ‰create.alter.drop è¯­å¥ã€‚</p>
<h3 id="3-13-æ•°æ®åº“é”é«˜è–ªå¸¸é—®">3 13 æ•°æ®åº“é”ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="æ•°æ®åº“é”ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸¤ç±»ä¸€ä¸ªæ˜¯æ‚²è§‚é”ä¸€ä¸ªæ˜¯ä¹è§‚é”">æ•°æ®åº“é”ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ä¸ªæ˜¯æ‚²è§‚é”ï¼Œä¸€ä¸ªæ˜¯ä¹è§‚é”ã€‚</h5>
<h5 id="-æ‚²è§‚é”ä»æ•°æ®å¼€å§‹æ›´æ”¹æ—¶å°±å°†æ•°æ®é”ä½çŸ¥é“æ›´æ”¹å®Œæˆæ‰é‡Šæ”¾">ï¬ æ‚²è§‚é”ï¼Œä»æ•°æ®å¼€å§‹æ›´æ”¹æ—¶å°±å°†æ•°æ®é”ä½ï¼ŒçŸ¥é“æ›´æ”¹å®Œæˆæ‰é‡Šæ”¾</h5>
<h5 id="-ä¹è§‚é”ç›´åˆ°ä¿®æ”¹å®Œæˆå‡†å¤‡æäº¤æ‰€åšçš„çš„ä¿®æ”¹åˆ°æ•°æ®åº“çš„æ—¶å€™æ‰ä¼š">ï¬ ä¹è§‚é”ï¼Œç›´åˆ°ä¿®æ”¹å®Œæˆå‡†å¤‡æäº¤æ‰€åšçš„çš„ä¿®æ”¹åˆ°æ•°æ®åº“çš„æ—¶å€™æ‰ä¼š</h5>
<h5 id="å°†æ•°æ®é”ä½å®Œæˆæ›´æ”¹åé‡Šæ”¾">å°†æ•°æ®é”ä½ã€‚å®Œæˆæ›´æ”¹åé‡Šæ”¾ã€‚</h5>
<h5 id="æ‚²è§‚é”ä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„æ•°æ®åº“é”æœºåˆ¶ä»¥ä¸‹è®¨è®ºéƒ½æ˜¯åŸºäºæ‚²è§‚é”">æ‚²è§‚é”ä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„æ•°æ®åº“é”æœºåˆ¶ï¼Œä»¥ä¸‹è®¨è®ºéƒ½æ˜¯åŸºäºæ‚²è§‚é”ã€‚</h5>
<p>æ‚²è§‚é”ä¸»è¦è¡¨é”ã€è¡Œé”ã€é¡µé”ã€‚åœ¨MyISAMä¸­åªç”¨åˆ°è¡¨é”ï¼Œä¸ä¼šæœ‰æ­»é”çš„
é—®é¢˜ï¼Œé”çš„å¼€é”€ä¹Ÿå¾ˆå°ï¼Œä½†æ˜¯ç›¸åº”çš„å¹¶å‘èƒ½åŠ›å¾ˆå·®ã€‚innodbå®ç°äº†è¡Œçº§é”å’Œè¡¨
é”ï¼Œé”çš„ç²’åº¦å˜å°äº†ï¼Œå¹¶å‘èƒ½åŠ›å˜å¼ºï¼Œä½†æ˜¯ç›¸åº”çš„é”çš„å¼€é”€å˜å¤§ï¼Œå¾ˆæœ‰å¯èƒ½å‡ºç°
æ­»é”ã€‚åŒæ—¶inodbéœ€è¦åè°ƒè¿™ä¸¤ç§é”ï¼Œç®—æ³•ä¹Ÿå˜å¾—å¤æ‚ã€‚InnoDBè¡Œé”æ˜¯é€šè¿‡
ç»™ç´¢å¼•ä¸Šçš„ç´¢å¼•é¡¹åŠ é”æ¥å®ç°çš„ï¼Œåªæœ‰é€šè¿‡ç´¢å¼•æ¡ä»¶æ£€ç´¢æ•°æ®ï¼ŒInnoDBæ‰ä½¿ç”¨
è¡Œçº§é”ï¼Œå¦åˆ™ï¼ŒInnoDBå°†ä½¿ç”¨è¡¨é”ã€‚
è¡¨é”å’Œè¡Œé”éƒ½åˆ†ä¸ºå…±äº«é”å’Œæ’ä»–é”ï¼ˆç‹¬å é”ï¼‰ï¼Œè€Œæ›´æ–°é”æ˜¯ä¸ºäº†è§£å†³è¡Œé”å‡
çº§ï¼ˆå…±äº«é”å‡çº§ä¸ºç‹¬å é”ï¼‰çš„æ­»é”é—®é¢˜ã€‚
innodbä¸­è¡¨é”å’Œè¡Œé”ä¸€èµ·ç”¨ï¼Œæ‰€ä»¥ä¸ºäº†æé«˜æ•ˆç‡æ‰ä¼šæœ‰æ„å‘é”ï¼ˆæ„å‘å…±äº«
é”å’Œæ„å‘æ’ä»–é”ï¼‰ã€‚</p>
<h3 id="3-14-åŸºäº-redisåˆ†å¸ƒå¼é”é«˜è–ªå¸¸é—®">3 14 åŸºäº Redisåˆ†å¸ƒå¼é”ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<ol>
<li>è·å–é”çš„æ—¶å€™ï¼Œä½¿ç”¨ setnxï¼ˆETNXkeyvalï¼šå½“ä¸”ä»…å½“ key ä¸å­˜
åœ¨æ—¶ï¼Œ set ä¸€ä¸ª key ä¸º val çš„å­—ç¬¦ä¸²ï¼Œè¿”å› 1 ï¼›è‹¥ key å­˜åœ¨ï¼Œåˆ™ä»€ä¹ˆéƒ½ä¸
åšï¼Œè¿”å› 0 ï¼‰ åŠ é”ï¼Œé”çš„ value å€¼ä¸ºä¸€ä¸ªéšæœºç”Ÿæˆçš„ UUIDï¼Œåœ¨é‡Šæ”¾é”çš„æ—¶
å€™è¿›è¡Œåˆ¤æ–­ã€‚å¹¶ä½¿ç”¨ expire å‘½ä»¤ä¸ºé”æ·» åŠ ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´åˆ™è‡ªåŠ¨
é‡Šæ”¾é”ã€‚</li>
<li>è·å–é”çš„æ—¶å€™è°ƒç”¨ setnxï¼Œå¦‚æœè¿”å› 0 ï¼Œåˆ™è¯¥é”æ­£åœ¨è¢«åˆ«äººä½¿ç”¨ï¼Œè¿”å›
1 åˆ™æˆåŠŸè·å– é”ã€‚ è¿˜è®¾ç½®ä¸€ä¸ªè·å–çš„è¶…æ—¶æ—¶é—´ï¼Œè‹¥è¶…è¿‡è¿™ä¸ªæ—¶é—´åˆ™æ”¾å¼ƒè·å–
é”ã€‚</li>
<li>é‡Šæ”¾é”çš„æ—¶å€™ï¼Œé€šè¿‡UUIDåˆ¤æ–­æ˜¯ä¸æ˜¯è¯¥é”ï¼Œè‹¥æ˜¯è¯¥é”ï¼Œåˆ™æ‰§è¡Œdelete
è¿›è¡Œé”é‡Šæ”¾ã€‚</li>
</ol>
<h3 id="3-15-åˆ†åŒºåˆ†è¡¨é«˜è–ªå¸¸é—®">3 15 åˆ†åŒºåˆ†è¡¨ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h4 id="1-ä»€ä¹ˆæ˜¯mysqlåˆ†è¡¨å’Œåˆ†åŒº">1 .ä»€ä¹ˆæ˜¯mysqlåˆ†è¡¨å’Œåˆ†åŒº&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ä»€ä¹ˆæ˜¯åˆ†è¡¨ä»è¡¨é¢æ„æ€ä¸Šçœ‹å‘¢å°±æ˜¯æŠŠä¸€å¼ è¡¨åˆ†æˆnå¤šä¸ªå°è¡¨">ä»€ä¹ˆæ˜¯åˆ†è¡¨ï¼Œä»è¡¨é¢æ„æ€ä¸Šçœ‹å‘¢ï¼Œå°±æ˜¯æŠŠä¸€å¼ è¡¨åˆ†æˆNå¤šä¸ªå°è¡¨</h5>
<h5 id="ä»€ä¹ˆæ˜¯åˆ†åŒºåˆ†åŒºå‘¢å°±æ˜¯æŠŠä¸€å¼ è¡¨çš„æ•°æ®åˆ†æˆnå¤šä¸ªåŒºå—è¿™äº›åŒºå—å¯ä»¥åœ¨">ä»€ä¹ˆæ˜¯åˆ†åŒºï¼Œåˆ†åŒºå‘¢å°±æ˜¯æŠŠä¸€å¼ è¡¨çš„æ•°æ®åˆ†æˆNå¤šä¸ªåŒºå—ï¼Œè¿™äº›åŒºå—å¯ä»¥åœ¨</h5>
<h5 id="åŒä¸€ä¸ªç£ç›˜ä¸Šä¹Ÿå¯ä»¥åœ¨ä¸åŒçš„ç£ç›˜ä¸Š">åŒä¸€ä¸ªç£ç›˜ä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨ä¸åŒçš„ç£ç›˜ä¸Š</h5>
<h4 id="2-mysqlåˆ†è¡¨å’Œåˆ†åŒºæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢">2 .mysqlåˆ†è¡¨å’Œåˆ†åŒºæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="1-å®ç°æ–¹å¼ä¸Š">1 &gt;å®ç°æ–¹å¼ä¸Š</h5>
<p>aï¼‰mysqlçš„åˆ†è¡¨æ˜¯çœŸæ­£çš„åˆ†è¡¨ï¼Œä¸€å¼ è¡¨åˆ†æˆå¾ˆå¤šè¡¨åï¼Œæ¯ä¸€ä¸ªå°è¡¨éƒ½
æ˜¯å®Œæ­£çš„ä¸€å¼ è¡¨ï¼Œéƒ½å¯¹åº”ä¸‰ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ª.MYDæ•°æ®æ–‡ä»¶ï¼Œ.MYIç´¢å¼•æ–‡ä»¶ï¼Œ.frm
è¡¨ç»“æ„æ–‡ä»¶ã€‚
bï¼‰åˆ†åŒºä¸ä¸€æ ·ï¼Œä¸€å¼ å¤§è¡¨è¿›è¡Œåˆ†åŒºåï¼Œä»–è¿˜æ˜¯ä¸€å¼ è¡¨ï¼Œä¸ä¼šå˜æˆäºŒå¼ 
è¡¨ï¼Œä½†æ˜¯ä»–å­˜æ”¾æ•°æ®çš„åŒºå—å˜å¤šäº†ã€‚
2 &gt;æ•°æ®å¤„ç†ä¸Š
aï¼‰åˆ†è¡¨åï¼Œæ•°æ®éƒ½æ˜¯å­˜æ”¾åœ¨åˆ†è¡¨é‡Œï¼Œæ€»è¡¨åªæ˜¯ä¸€ä¸ªå¤–å£³ï¼Œå­˜å–æ•°æ®å‘ç”Ÿ
åœ¨ä¸€ä¸ªä¸€ä¸ªçš„åˆ†è¡¨é‡Œé¢ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<p>select*fromalluserwhereid=&rsquo; 12 &lsquo;è¡¨é¢ä¸Šçœ‹ï¼Œæ˜¯å¯¹è¡¨alluserè¿›è¡Œæ“
ä½œçš„ï¼Œå…¶å®ä¸æ˜¯çš„ã€‚æ˜¯å¯¹alluseré‡Œé¢çš„åˆ†è¡¨è¿›è¡Œäº†æ“ä½œã€‚
bï¼‰åˆ†åŒºå‘¢ï¼Œä¸å­˜åœ¨åˆ†è¡¨çš„æ¦‚å¿µï¼Œåˆ†åŒºåªä¸è¿‡æŠŠå­˜æ”¾æ•°æ®çš„æ–‡ä»¶åˆ†æˆäº†
è®¸å¤šå°å—ï¼Œåˆ†åŒºåçš„è¡¨å‘¢ï¼Œè¿˜æ˜¯ä¸€å¼ è¡¨ã€‚æ•°æ®å¤„ç†è¿˜æ˜¯ç”±è‡ªå·±æ¥å®Œæˆã€‚
3 &gt;æé«˜æ€§èƒ½ä¸Š
a) åˆ†è¡¨åï¼Œå•è¡¨çš„å¹¶å‘èƒ½åŠ›æé«˜äº†ï¼Œç£ç›˜I/Oæ€§èƒ½ä¹Ÿæé«˜äº†ã€‚å¹¶å‘èƒ½
åŠ›ä¸ºä»€ä¹ˆæé«˜äº† å‘¢ï¼Œå› ä¸ºæŸ¥å¯»ä¸€æ¬¡æ‰€èŠ±çš„æ—¶é—´å˜çŸ­äº†ï¼Œå¦‚æœå‡ºç°é«˜å¹¶
å‘çš„è¯ï¼Œæ€»è¡¨å¯ä»¥æ ¹æ®ä¸åŒçš„æŸ¥è¯¢ï¼Œå°†å¹¶å‘å‹åŠ›åˆ†åˆ°ä¸åŒçš„å°è¡¨é‡Œé¢ã€‚
ç£ç›˜I/Oæ€§èƒ½æ€ä¹ˆæé«˜äº†å‘¢ï¼Œæœ¬æ¥ä¸€ä¸ª éå¸¸å¤§çš„.MYDæ–‡ä»¶ç°åœ¨ä¹Ÿåˆ†
æ‘Šåˆ°å„ä¸ªå°è¡¨çš„.MYDä¸­å»äº†ã€‚</p>
<h4 id="3-mysqlåˆ†è¡¨çš„ä¸‰ç§æ–¹æ³•">3 .mysqlåˆ†è¡¨çš„ä¸‰ç§æ–¹æ³•&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>1 &gt;åšmysqlé›†ç¾¤, æœ‰äººä¼šé—®mysqlé›†ç¾¤ï¼Œå’Œåˆ†è¡¨æœ‰ä»€ä¹ˆå…³ç³»å—ï¼Ÿè™½ç„¶å®ƒä¸
æ˜¯å®é™…æ„ä¹‰ä¸Šçš„åˆ†è¡¨ï¼Œä½†æ˜¯å®ƒèµ·åˆ°äº†åˆ†è¡¨çš„ä½œç”¨ã€‚
2 &gt;é¢„å…ˆä¼°è®¡ä¼šå‡ºç°å¤§æ•°æ®é‡å¹¶ä¸”è®¿é—®é¢‘ç¹çš„è¡¨ï¼Œå°†å…¶åˆ†ä¸ºè‹¥å¹²ä¸ªè¡¨
3 &gt;åˆ©ç”¨mergeå­˜å‚¨å¼•æ“æ¥å®ç°åˆ†è¡¨
4. åˆ†åŒºç±»å‹
rangeåˆ†åŒºï¼šåŸºäºä¸€ä¸ªç»™å®šçš„è¿ç»­åŒºé—´èŒƒå›´(åŒºé—´è¦æ±‚è¿ç»­å¹¶ä¸”ä¸èƒ½é‡å )ï¼Œ
æŠŠæ•°æ®åˆ†é…åˆ°ä¸åŒçš„åˆ†åŒº
liståˆ†åŒºï¼šç±»ä¼¼äºrangeåˆ†åŒºï¼ŒåŒºåˆ«åœ¨äºliståˆ†åŒºæ˜¯å±…äºæšä¸¾å‡ºçš„å€¼åˆ—è¡¨åˆ†
åŒºï¼Œrangeæ˜¯åŸºäºç»™å®šçš„è¿ç»­åŒºé—´èŒƒå›´åˆ†åŒº
hashåˆ†åŒºï¼šåŸºäºç»™å®šçš„åˆ†åŒºä¸ªæ•°ï¼ŒæŠŠæ•°æ®åˆ†é…åˆ°ä¸åŒçš„åˆ†åŒº
keyåˆ†åŒºï¼šç±»ä¼¼äºhashåˆ†åŒº</p>
<p><strong>3. 16 åº”è¯¥ä½¿ç”¨å“ªä¸€ç§æ–¹å¼æ¥å®æ–½æ•°æ®åº“åˆ†åº“åˆ†è¡¨ï¼Œè¿™è¦çœ‹
æ•°æ®åº“ä¸­æ•°æ®é‡çš„ç“¶é¢ˆæ‰€åœ¨ï¼Œå¹¶ç»¼åˆé¡¹ç›®çš„ä¸šåŠ¡ç±»å‹è¿›è¡Œè€ƒ
è™‘ã€‚ï¼ˆäº†è§£ï¼‰</strong></p>
<p>å¦‚æœæ•°æ®åº“æ˜¯å› ä¸ºè¡¨å¤ªå¤šè€Œé€ æˆæµ·é‡æ•°æ®ï¼Œå¹¶ä¸”é¡¹ç›®çš„å„é¡¹ä¸šåŠ¡é€»è¾‘åˆ’åˆ†æ¸…æ™°.
ä½è€¦åˆï¼Œé‚£ä¹ˆè§„åˆ™ç®€å•æ˜äº†.å®¹æ˜“å®æ–½çš„å‚ç›´åˆ‡åˆ†å¿…æ˜¯é¦–é€‰ã€‚
è€Œå¦‚æœæ•°æ®åº“ä¸­çš„è¡¨å¹¶ä¸å¤šï¼Œä½†å•è¡¨çš„æ•°æ®é‡å¾ˆå¤§.æˆ–æ•°æ®çƒ­åº¦å¾ˆé«˜ï¼Œè¿™ç§æƒ…
å†µ ä¹‹ä¸‹å°±åº”è¯¥é€‰æ‹©æ°´å¹³åˆ‡åˆ†ï¼Œæ°´å¹³åˆ‡åˆ†æ¯”å‚ç›´åˆ‡åˆ†è¦å¤æ‚ä¸€äº›ï¼Œå®ƒå°†åŸæœ¬é€»è¾‘
ä¸Šå±äºä¸€ä½“çš„æ•°æ®è¿›è¡Œäº†ç‰©ç†åˆ†å‰²ï¼Œé™¤äº†åœ¨åˆ†å‰²æ—¶è¦å¯¹åˆ†å‰²çš„ç²’åº¦åšå¥½è¯„ä¼°ï¼Œè€ƒè™‘</p>
<h5 id="æ•°-æ®å¹³å‡å’Œè´Ÿè½½å¹³å‡åæœŸä¹Ÿå°†å¯¹é¡¹ç›®äººå‘˜åŠåº”ç”¨ç¨‹åºäº§ç”Ÿé¢å¤–çš„æ•°æ®ç®¡ç†è´Ÿ">æ•° æ®å¹³å‡å’Œè´Ÿè½½å¹³å‡ï¼ŒåæœŸä¹Ÿå°†å¯¹é¡¹ç›®äººå‘˜åŠåº”ç”¨ç¨‹åºäº§ç”Ÿé¢å¤–çš„æ•°æ®ç®¡ç†è´Ÿ</h5>
<h5 id="æ‹…-åœ¨ç°å®é¡¹ç›®ä¸­å¾€å¾€æ˜¯è¿™ä¸¤ç§æƒ…å†µå…¼è€Œæœ‰ä¹‹è¿™å°±éœ€è¦åšå‡ºæƒè¡¡ç”šè‡³æ—¢">æ‹…ã€‚ åœ¨ç°å®é¡¹ç›®ä¸­ï¼Œå¾€å¾€æ˜¯è¿™ä¸¤ç§æƒ…å†µå…¼è€Œæœ‰ä¹‹ï¼Œè¿™å°±éœ€è¦åšå‡ºæƒè¡¡ï¼Œç”šè‡³æ—¢</h5>
<h5 id="éœ€è¦å‚-ç›´åˆ‡åˆ†åˆéœ€è¦æ°´å¹³åˆ‡åˆ†æˆ‘ä»¬çš„æ¸¸æˆé¡¹ç›®ä¾¿ç»¼åˆä½¿ç”¨äº†å‚ç›´ä¸æ°´å¹³åˆ‡">éœ€è¦å‚ ç›´åˆ‡åˆ†ï¼Œåˆéœ€è¦æ°´å¹³åˆ‡åˆ†ã€‚æˆ‘ä»¬çš„æ¸¸æˆé¡¹ç›®ä¾¿ç»¼åˆä½¿ç”¨äº†å‚ç›´ä¸æ°´å¹³åˆ‡</h5>
<h5 id="åˆ†æˆ‘ä»¬-é¦–å…ˆå¯¹æ•°æ®åº“è¿›è¡Œå‚ç›´åˆ‡åˆ†ç„¶åå†é’ˆå¯¹ä¸€éƒ¨åˆ†è¡¨é€šå¸¸æ˜¯ç”¨æˆ·æ•°">åˆ†ï¼Œæˆ‘ä»¬ é¦–å…ˆå¯¹æ•°æ®åº“è¿›è¡Œå‚ç›´åˆ‡åˆ†ï¼Œç„¶åï¼Œå†é’ˆå¯¹ä¸€éƒ¨åˆ†è¡¨ï¼Œé€šå¸¸æ˜¯ç”¨æˆ·æ•°</h5>
<h5 id="æ®è¡¨è¿›è¡Œ-æ°´å¹³åˆ‡åˆ†">æ®è¡¨ï¼Œè¿›è¡Œ æ°´å¹³åˆ‡åˆ†ã€‚</h5>
<h5 id="å•åº“å¤šè¡¨-">å•åº“å¤šè¡¨ ï¼š</h5>
<p>éšç€ç”¨æˆ·æ•°é‡çš„å¢åŠ ï¼Œuserè¡¨çš„æ•°æ®é‡ä¼šè¶Šæ¥è¶Šå¤§ï¼Œå½“æ•°æ®é‡è¾¾åˆ°ä¸€å®šç¨‹åº¦
çš„æ—¶å€™å¯¹ user è¡¨çš„æŸ¥è¯¢ä¼šæ¸æ¸çš„å˜æ…¢ï¼Œä»è€Œå½±å“æ•´ä¸ª DB çš„æ€§èƒ½ã€‚å¦‚æœä½¿
ç”¨ MySQL, è¿˜æœ‰ä¸€ä¸ªæ›´ä¸¥é‡çš„é—®é¢˜æ˜¯ï¼Œå½“éœ€è¦æ·»åŠ ä¸€åˆ—çš„æ—¶å€™ï¼ŒMySQL ä¼š
é”è¡¨ï¼Œ æœŸé—´æ‰€æœ‰çš„è¯»å†™æ“ä½œåªèƒ½ç­‰å¾…ã€‚
å¯ä»¥å°† userè¿›è¡Œæ°´å¹³çš„åˆ‡åˆ†ï¼Œäº§ç”Ÿä¸¤ä¸ªè¡¨ç»“æ„å®Œå…¨ä¸€æ ·çš„
user_ 0000 ,user_ 0001 ç­‰è¡¨ï¼Œuser_ 0000 +user_ 0001 + &hellip;çš„æ•°æ®åˆšå¥½æ˜¯ä¸€ä»½
å®Œæ•´çš„æ•°æ®ã€‚
<strong>å¤šåº“å¤šè¡¨</strong> ï¼š
éšç€æ•°æ®é‡å¢åŠ ä¹Ÿè®¸å•å° DB çš„å­˜å‚¨ç©ºé—´ä¸å¤Ÿï¼Œéšç€æŸ¥è¯¢é‡çš„å¢åŠ å•å°æ•°
æ® åº“æœåŠ¡å™¨å·²ç»æ²¡åŠæ³•æ”¯æ’‘ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥å†å¯¹æ•°æ®åº“è¿›è¡Œæ°´å¹³åŒºåˆ†ã€‚
åˆ†åº“åˆ†è¡¨è§„åˆ™ä¸¾ä¾‹ï¼š é€šè¿‡åˆ†åº“åˆ†è¡¨è§„åˆ™æŸ¥æ‰¾åˆ°å¯¹åº”çš„è¡¨å’Œåº“çš„è¿‡ç¨‹ã€‚å¦‚åˆ†
åº“åˆ†è¡¨çš„è§„åˆ™æ˜¯ user_id é™¤ä»¥ 4 çš„æ–¹å¼ï¼Œå½“ç”¨æˆ·æ–°æ³¨å†Œäº†ä¸€ä¸ªè´¦å·ï¼Œè´¦å·
id çš„ 123 ,æˆ‘ä»¬å¯ä»¥é€šè¿‡ id é™¤ä»¥ 4 çš„æ–¹å¼ç¡®å®šæ­¤è´¦å·åº”è¯¥ä¿å­˜åˆ°
User_ 0003 è¡¨ä¸­ã€‚å½“ç”¨æˆ· 123 ç™»å½•çš„æ—¶ å€™ï¼Œæˆ‘ä»¬é€šè¿‡ 123 é™¤ä»¥ 4 å
ç¡®å®šè®°å½•åœ¨User_ 0003 ä¸­ã€‚</p>
<h3 id="3-17-mysql-è¯»å†™åˆ†ç¦»é«˜è–ªå¸¸é—®">3 17 MySQL è¯»å†™åˆ†ç¦»ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œç»å¤§éƒ¨åˆ†æƒ…å†µéƒ½æ˜¯è¯»è¿œå¤§äºå†™ã€‚MySQL æä¾›äº†è¯»å†™åˆ†ç¦»
çš„æœºåˆ¶ï¼Œæ‰€æœ‰çš„å†™æ“ä½œéƒ½å¿…é¡»å¯¹åº”åˆ° Masterï¼Œè¯»æ“ä½œå¯ä»¥åœ¨ Master å’Œ Slave
æœº å™¨ä¸Šè¿›è¡Œï¼ŒSlave ä¸ Master çš„ç»“æ„å®Œå…¨ä¸€æ ·ï¼Œä¸€ä¸ª Masterå¯ä»¥æœ‰å¤šä¸ª
Slave,ç”š è‡³ Slave ä¸‹è¿˜å¯ä»¥æŒ‚ Slave,é€šè¿‡æ­¤æ–¹å¼å¯ä»¥æœ‰æ•ˆçš„æé«˜ DBé›†ç¾¤çš„
æ¯ç§’æŸ¥è¯¢ç‡. æ‰€æœ‰çš„å†™æ“ä½œéƒ½æ˜¯å…ˆåœ¨ Master ä¸Šæ“ä½œï¼Œç„¶ååŒæ­¥æ›´æ–°åˆ° Slave
ä¸Šï¼Œæ‰€ä»¥ ä» Master åŒæ­¥åˆ° Slaveæœºå™¨æœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œå½“ç³»ç»Ÿå¾ˆç¹å¿™çš„æ—¶å€™ï¼Œ
å»¶è¿Ÿé—®é¢˜ä¼š æ›´åŠ ä¸¥é‡ï¼ŒSlaveæœºå™¨æ•°é‡çš„å¢åŠ ä¹Ÿä¼šä½¿è¿™ä¸ªé—®é¢˜æ›´åŠ ä¸¥é‡ã€‚æ­¤å¤–ï¼Œ
å¯ä»¥çœ‹å‡º Master æ˜¯é›†ç¾¤çš„ç“¶é¢ˆï¼Œå½“å†™æ“ä½œè¿‡å¤šï¼Œä¼šä¸¥é‡å½±å“åˆ°Masterçš„ ç¨³</p>
<p>å®šæ€§ï¼Œå¦‚æœ Master æŒ‚æ‰ï¼Œæ•´ä¸ªé›†ç¾¤éƒ½å°†ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚ æ‰€ä»¥ï¼Œ</p>
<ol>
<li>å½“è¯»å‹åŠ›å¾ˆå¤§çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘æ·»åŠ  Slave æœºå™¨çš„åˆ†å¼è§£å†³ï¼Œä½†æ˜¯å½“ Slave
æœºå™¨è¾¾åˆ°ä¸€å®šçš„æ•°é‡å°±å¾—è€ƒè™‘åˆ†åº“äº†ã€‚</li>
<li>å½“å†™å‹åŠ›å¾ˆå¤§çš„æ—¶å€™ï¼Œå°±å¿…é¡» å¾—è¿›è¡Œåˆ†åº“æ“ä½œã€‚</li>
</ol>
<h3 id="3-18-mysql-å¸¸ç”¨-15-ç§sqlæŸ¥è¯¢è¯­å¥ä¼˜åŒ–æ–¹æ³•å¿…ä¼š">3 18 MySQL å¸¸ç”¨ 15 ç§SQLæŸ¥è¯¢è¯­å¥ä¼˜åŒ–æ–¹æ³•(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<ol>
<li>åº”å°½é‡é¿å…åœ¨ whereå­å¥ä¸­ä½¿ç”¨!=æˆ–&lt;&gt;æ“ä½œç¬¦ï¼Œå¦åˆ™å¼•æ“å°†æ”¾å¼ƒä½¿
ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚</li>
<li>å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œåº”å°½é‡é¿å…å…¨è¡¨æ‰«æï¼Œé¦–å…ˆåº”è€ƒè™‘åœ¨where åŠ
orderby æ¶‰åŠçš„åˆ—ä¸Šå»ºç«‹ç´¢å¼•ã€‚</li>
<li>åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œ null å€¼åˆ¤æ–­ï¼Œå¦åˆ™å°†å¯¼è‡´
å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š</li>
</ol>
<p>selectidfromtwherenumisnull
å¯ä»¥åœ¨ num ä¸Šè®¾ç½®é»˜è®¤å€¼ 0 ï¼Œç¡®ä¿è¡¨ä¸­ num åˆ—æ²¡æœ‰ null å€¼ï¼Œç„¶åè¿™
æ ·æŸ¥è¯¢ï¼š</p>
<p>selectidfromtwherenum= 0
4. å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ oræ¥è¿æ¥æ¡ä»¶ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾
å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼š</p>
<p>selectidfromtwherenum= 10 ornum= 20
å¯ä»¥è¿™æ ·æŸ¥è¯¢ï¼š
selectidfromtwherenum= 10
unionall
selectidfromtwherenum= 20
5. ä¸‹é¢çš„æŸ¥è¯¢ä¹Ÿå°†å¯¼è‡´å…¨è¡¨æ‰«æï¼š(ä¸èƒ½å‰ç½®ç™¾åˆ†å·)</p>
<pre tabindex="0"><code>selectidfromtwherenamelike â€˜%c%â€™
</code></pre><h5 id="ä¸‹é¢èµ°ç´¢å¼•">ä¸‹é¢èµ°ç´¢å¼•</h5>
<p>selectidfromtwherenamelike â€˜c%â€™
è‹¥è¦æé«˜æ•ˆç‡ï¼Œå¯ä»¥è€ƒè™‘å…¨æ–‡æ£€ç´¢ã€‚
6. in å’Œ notin ä¹Ÿè¦æ…ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å…¨è¡¨æ‰«æï¼Œå¦‚ï¼š</p>
<pre tabindex="0"><code>selectidfromtwherenumin( 1 , 2 , 3 )
å¯¹äºè¿ç»­çš„æ•°å€¼ï¼Œèƒ½ç”¨ between å°±ä¸è¦ç”¨ in äº†ï¼š
selectidfromtwherenumbetween 1 and 3
7. å¦‚æœåœ¨ whereå­å¥ä¸­ä½¿ç”¨å‚æ•°ï¼Œä¹Ÿä¼šå¯¼è‡´å…¨è¡¨æ‰«æã€‚å› ä¸º SQL åªæœ‰
åœ¨è¿è¡Œæ—¶æ‰ä¼šè§£æå±€éƒ¨å˜é‡ï¼Œä½†ä¼˜åŒ–ç¨‹åºä¸èƒ½å°†è®¿é—®è®¡åˆ’çš„é€‰æ‹©æ¨è¿Ÿåˆ°è¿è¡Œæ—¶ï¼›å®ƒå¿…é¡»
åœ¨ç¼–è¯‘æ—¶è¿›è¡Œé€‰æ‹©ã€‚ç„¶ è€Œï¼Œå¦‚æœåœ¨ç¼–è¯‘æ—¶å»ºç«‹è®¿é—®è®¡åˆ’ï¼Œå˜é‡çš„å€¼è¿˜æ˜¯æœªçŸ¥çš„ï¼Œ
å› è€Œæ— æ³•ä½œä¸ºç´¢å¼•é€‰æ‹©çš„è¾“å…¥é¡¹ã€‚å¦‚ä¸‹é¢è¯­å¥å°†è¿›è¡Œå…¨è¡¨æ‰«æï¼š
selectidfromtwherenum=@num
å¯ä»¥æ”¹ä¸ºå¼ºåˆ¶æŸ¥è¯¢ä½¿ç”¨ç´¢å¼•ï¼š
selectidfromtwith(index(ç´¢å¼•å))wherenum=@num
8. åº”å°½é‡é¿å…åœ¨ whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾
å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š
selectidfromtwherenum/ 2 = 100
åº”æ”¹ä¸º:
selectidfromtwherenum= 100 * 2
9. åº”å°½é‡é¿å…åœ¨ whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿
ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š
selectidfromtwheresubstring(name, 1 , 3 )=â€™abcâ€™â€“name ä»¥ abc å¼€
å¤´çš„ id
selectidfromtwheredatediff(day,createdate,â€™ 2005 - 11 - 30 â€²)= 0 â€“ â€™
2005 - 11 - 30 â€²ç”Ÿæˆçš„ id
åº”æ”¹ä¸º:
</code></pre><p>selectidfromtwherenamelike â€˜abc%â€™
selectidfromtwherecreatedate&gt;=â€™ 2005 - 11 - 30 â€² andcreatedate&lt;â€™
2005 - 12 - 1 â€²
10. ä¸è¦åœ¨ whereå­å¥ä¸­çš„â€œ=â€å·¦è¾¹è¿›è¡Œå‡½æ•°.ç®—æœ¯è¿ç®—æˆ–å…¶ä»–è¡¨è¾¾å¼
è¿ç®—ï¼Œå¦åˆ™ç³»ç»Ÿå°†å¯èƒ½æ— æ³•æ­£ç¡®ä½¿ç”¨ç´¢å¼•ã€‚
11. åœ¨ä½¿ç”¨ç´¢å¼•å­—æ®µä½œä¸ºæ¡ä»¶æ—¶ï¼Œå¦‚æœè¯¥ç´¢å¼•æ˜¯å¤åˆç´¢å¼•ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨
åˆ°è¯¥ç´¢å¼•ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µä½œä¸ºæ¡ä»¶æ—¶æ‰èƒ½ä¿è¯ç³»ç»Ÿä½¿ç”¨è¯¥ç´¢å¼•ï¼Œå¦åˆ™è¯¥ç´¢å¼•å°†ä¸ä¼š
è¢«ä½¿ ç”¨ï¼Œå¹¶ä¸”åº”å°½å¯èƒ½çš„è®©å­—æ®µé¡ºåºä¸ç´¢å¼•é¡ºåºç›¸ä¸€è‡´ã€‚
12. ä¸è¦å†™ä¸€äº›æ²¡æœ‰æ„ä¹‰çš„æŸ¥è¯¢ï¼Œå¦‚éœ€è¦ç”Ÿæˆä¸€ä¸ªç©ºè¡¨ç»“æ„ï¼š
selectcol 1 ,col 2 into#tfromtwhere 1 = 0
è¿™ç±»ä»£ç ä¸ä¼šè¿”å›ä»»ä½•ç»“æœé›†ï¼Œä½†æ˜¯ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºçš„ï¼Œåº”æ”¹æˆè¿™æ ·ï¼š
createtable#t(&hellip;)
13. å¾ˆå¤šæ—¶å€™ç”¨ exists ä»£æ›¿ in æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼š</p>
<p>selectnumfromawherenumin(selectnumfromb)
ç”¨ä¸‹é¢çš„è¯­å¥æ›¿æ¢ï¼š</p>
<p>selectnumfromawhereexists(select 1 frombwherenum=a.num)
14. å¹¶ä¸æ˜¯æ‰€æœ‰ç´¢å¼•å¯¹æŸ¥è¯¢éƒ½æœ‰æ•ˆï¼ŒSQL æ˜¯æ ¹æ®è¡¨ä¸­æ•°æ®æ¥è¿›è¡ŒæŸ¥è¯¢ä¼˜åŒ–çš„ï¼Œ
å½“ç´¢å¼•åˆ—æœ‰å¤§é‡æ•°æ®é‡å¤æ—¶ï¼ŒSQL æŸ¥è¯¢å¯èƒ½ä¸ä¼šå»åˆ©ç”¨ç´¢å¼•ï¼Œå¦‚ä¸€è¡¨ä¸­æœ‰å­—æ®µ
sexï¼Œmale.female å‡ ä¹å„ä¸€åŠï¼Œé‚£ä¹ˆå³ä½¿åœ¨sexä¸Šå»ºäº†ç´¢å¼•ä¹Ÿå¯¹æŸ¥è¯¢æ•ˆç‡èµ·ä¸
äº†ä½œç”¨ã€‚
15. ç´¢å¼•å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œç´¢å¼•å›ºç„¶å¯ä»¥æé«˜ç›¸åº”çš„ select çš„æ•ˆç‡ï¼Œä½†åŒ
æ—¶ä¹Ÿé™ä½äº† insert åŠ update çš„æ•ˆç‡ï¼Œå› ä¸º insert æˆ– update æ—¶æœ‰
å¯èƒ½ä¼šé‡å»ºç´¢å¼•ï¼Œæ‰€ä»¥æ€æ ·å»ºç´¢å¼•éœ€è¦æ…é‡è€ƒè™‘ï¼Œè§†å…·ä½“æƒ…å†µè€Œå®šã€‚ä¸€ä¸ªè¡¨çš„ç´¢å¼•
æ•°è¾ƒå¥½ä¸è¦è¶…è¿‡ 6 ä¸ªï¼Œè‹¥å¤ªå¤šåˆ™åº”è€ƒè™‘ä¸€äº›ä¸å¸¸ä½¿ç”¨åˆ°çš„åˆ—ä¸Šå»ºçš„ç´¢å¼•æ˜¯å¦æœ‰å¿…è¦ã€‚</p>
<h3 id="3-19-æ•°æ®åº“ä¼˜åŒ–æ–¹æ¡ˆæ•´ç†é«˜è–ªå¸¸é—®">3 19 æ•°æ®åº“ä¼˜åŒ–æ–¹æ¡ˆæ•´ç†ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="1-sqlä¼˜åŒ–ä¸»è¦ä¼˜åŒ–çš„è¿˜æ˜¯æŸ¥è¯¢-ä¼˜åŒ–æŸ¥è¯¢çš„è¯ç´¢å¼•ä¼˜åŒ–æ˜¯æœ€æœ‰æ•ˆçš„æ–¹æ¡ˆ">1 )Sqlä¼˜åŒ–ä¸»è¦ä¼˜åŒ–çš„è¿˜æ˜¯æŸ¥è¯¢, ä¼˜åŒ–æŸ¥è¯¢çš„è¯,ç´¢å¼•ä¼˜åŒ–æ˜¯æœ€æœ‰æ•ˆçš„æ–¹æ¡ˆ&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="é¦–å…ˆè¦æ ¹æ®éœ€æ±‚å†™å‡ºç»“æ„è‰¯å¥½çš„-sqlç„¶åæ ¹æ®-sql-åœ¨è¡¨ä¸­å»ºç«‹æœ‰æ•ˆçš„ç´¢">é¦–å…ˆè¦æ ¹æ®éœ€æ±‚å†™å‡ºç»“æ„è‰¯å¥½çš„ SQLï¼Œç„¶åæ ¹æ® SQL åœ¨è¡¨ä¸­å»ºç«‹æœ‰æ•ˆçš„ç´¢</h5>
<h5 id="å¼•ä½†æ˜¯å¦‚æœç´¢å¼•å¤ªå¤šä¸ä½†ä¼šå½±å“å†™å…¥çš„æ•ˆç‡å¯¹æŸ¥è¯¢ä¹Ÿæœ‰ä¸€å®šçš„å½±å“">å¼•ã€‚ä½†æ˜¯å¦‚æœç´¢å¼•å¤ªå¤šï¼Œä¸ä½†ä¼šå½±å“å†™å…¥çš„æ•ˆç‡ï¼Œå¯¹æŸ¥è¯¢ä¹Ÿæœ‰ä¸€å®šçš„å½±å“ã€‚</h5>
<h5 id="å®šä½æ…¢-sqlç„¶åå¹¶ä¼˜åŒ–">å®šä½æ…¢ SQLç„¶åå¹¶ä¼˜åŒ–</h5>
<h5 id="è¿™æ˜¯æœ€å¸¸ç”¨æ¯ä¸€ä¸ªæŠ€æœ¯äººå‘˜éƒ½åº”è¯¥æŒæ¡åŸºæœ¬çš„-sql-è°ƒä¼˜æ‰‹æ®µåŒ…æ‹¬æ–¹æ³•">è¿™æ˜¯æœ€å¸¸ç”¨.æ¯ä¸€ä¸ªæŠ€æœ¯äººå‘˜éƒ½åº”è¯¥æŒæ¡åŸºæœ¬çš„ SQL è°ƒä¼˜æ‰‹æ®µï¼ˆåŒ…æ‹¬æ–¹æ³•.</h5>
<p>å·¥å…·.è¾…åŠ©ç³»ç»Ÿç­‰ï¼‰ã€‚è¿™é‡Œä»¥ MySQL ä¸ºä¾‹ï¼Œæœ€å¸¸è§çš„æ–¹å¼æ˜¯ï¼Œç”±è‡ªå¸¦çš„æ…¢æŸ¥è¯¢æ—¥å¿—
æˆ–è€…å¼€æºçš„æ…¢æŸ¥è¯¢ç³»ç»Ÿå®šä½åˆ°å…·ä½“çš„å‡ºé—®é¢˜çš„ SQLï¼Œç„¶åä½¿ç”¨explain.profileç­‰
å·¥å…·æ¥é€æ­¥è°ƒä¼˜ï¼Œæœ€åç»è¿‡æµ‹è¯•è¾¾åˆ°æ•ˆæœåä¸Šçº¿ã€‚
ï¬ explain+sqlè¯­å¥æŸ¥è¯¢sqlæ‰§è¡Œè¿‡ç¨‹, é€šè¿‡æ‰§è¡Œè®¡åˆ’ï¼Œæˆ‘ä»¬èƒ½å¾—åˆ°å“ªäº›ä¿¡
æ¯ï¼š
Aï¼šå“ªäº›æ­¥éª¤èŠ±è´¹çš„æˆæœ¬æ¯”è¾ƒé«˜
Bï¼šå“ªäº›æ­¥éª¤äº§ç”Ÿçš„æ•°æ®é‡å¤šï¼Œæ•°æ®é‡çš„å¤šå°‘ç”¨çº¿æ¡çš„ç²—ç»†è¡¨ç¤ºï¼Œå¾ˆç›´è§‚
Cï¼šæ¯ä¸€æ­¥æ‰§è¡Œäº†ä»€ä¹ˆåŠ¨ä½œ
ï¬ ä¼˜åŒ–ç´¢å¼•
ï¼ˆ 1 ï¼‰ç´¢å¼•åˆ—åŠ¡å¿…é‡å¤åº¦ä½ ,whereæ¡ä»¶å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•
ï¼ˆ 2 ï¼‰ä½¿ç”¨ç´¢å¼•å°±ä¸èƒ½ç”¨ORæŸ¥è¯¢ï¼Œå¦åˆ™ç´¢å¼•ä¸èµ·ä½œç”¨
ï¼ˆ 3 ï¼‰ä½¿ç”¨ç´¢å¼•ï¼Œlikeæ¨¡ç³ŠæŸ¥è¯¢ä¸èƒ½ä»¥%å¼€å¤´
ï¼ˆ 4 ï¼‰æŸ¥è¯¢æ¡ä»¶åŠ¡å¿…ä»¥ç´¢å¼•åˆ—å¼€å¤´ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆ
ï¼ˆ 5 ï¼‰å¤åˆç´¢å¼•éµå®ˆæœ€å·¦åŸåˆ™.
ï¬ é¿å…ç´¢å¼•å¤±æ•ˆ
Aï¼šå°½é‡ä¸è¦åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œ null å€¼åˆ¤æ–­ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“
æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æ
Bï¼šåº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ != æˆ– &lt;&gt; æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“æ”¾
å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚
Cï¼šåº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ oræ¥è¿æ¥æ¡ä»¶ï¼Œå¦‚æœä¸€ä¸ªå­—æ®µæœ‰ç´¢
å¼•ï¼Œä¸€ä¸ªå­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œå°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æ
Dï¼šä¸åšåˆ—è¿ç®—whereage+ 1 = 10 ï¼Œä»»ä½•å¯¹åˆ—çš„æ“ä½œéƒ½å°†å¯¼è‡´è¡¨æ‰«æï¼Œå®ƒ
åŒ…æ‹¬æ•°æ®åº“æ•™ç¨‹å‡½æ•°.è®¡ç®—è¡¨è¾¾å¼ç­‰, éƒ½ä¼šæ˜¯ç´¢å¼•å¤±æ•ˆ.</p>
<pre tabindex="0"><code>Eï¼šæŸ¥è¯¢ likeï¼Œå¦‚æœæ˜¯ â€˜%aaaâ€™ ä¹Ÿä¼šé€ æˆç´¢å¼•å¤±æ•ˆ.
</code></pre><h4 id="2-sqlè¯­å¥è°ƒä¼˜">2 )Sqlè¯­å¥è°ƒä¼˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="-æ ¹æ®ä¸šåŠ¡åœºæ™¯å»ºç«‹è¦†ç›–ç´¢å¼•åªæŸ¥è¯¢ä¸šåŠ¡éœ€è¦çš„å­—æ®µå¦‚æœè¿™äº›å­—æ®µè¢«ç´¢">ï¬ æ ¹æ®ä¸šåŠ¡åœºæ™¯å»ºç«‹è¦†ç›–ç´¢å¼•åªæŸ¥è¯¢ä¸šåŠ¡éœ€è¦çš„å­—æ®µï¼Œå¦‚æœè¿™äº›å­—æ®µè¢«ç´¢</h5>
<h5 id="å¼•è¦†ç›–å°†æå¤§çš„æé«˜æŸ¥è¯¢æ•ˆç‡">å¼•è¦†ç›–ï¼Œå°†æå¤§çš„æé«˜æŸ¥è¯¢æ•ˆç‡.</h5>
<h5 id="-å¤šè¡¨è¿æ¥çš„å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•è¿™æ ·å¯ä»¥æå¤§æé«˜è¡¨è¿æ¥çš„æ•ˆç‡">ï¬ å¤šè¡¨è¿æ¥çš„å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•ï¼Œè¿™æ ·å¯ä»¥æå¤§æé«˜è¡¨è¿æ¥çš„æ•ˆç‡.</h5>
<pre tabindex="0"><code>ï¬ whereæ¡ä»¶å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•, ä½†Whereæ¡ä»¶ä¸Šä¸è¦ä½¿ç”¨è¿ç®—å‡½æ•°ï¼Œ
ä»¥å…ç´¢å¼•å¤±æ•ˆ.
ï¬ æ’åºå­—æ®µä¸Š, åˆ†ç»„å­—æ®µä¸Šéœ€è¦å»ºç«‹ç´¢å¼•.
ïµ ä¼˜åŒ–insertè¯­å¥: æ‰¹é‡åˆ—æ’å…¥æ•°æ®è¦æ¯”å•ä¸ªåˆ—æ’å…¥æ•°æ®æ•ˆç‡é«˜.
ïµ ä¼˜åŒ–orderbyè¯­å¥: åœ¨ä½¿ç”¨orderbyè¯­å¥æ—¶, ä¸è¦ä½¿ç”¨select*,
select åé¢è¦æŸ¥æœ‰ç´¢å¼•çš„åˆ—, å¦‚æœä¸€æ¡sqlè¯­å¥ä¸­å¯¹å¤šä¸ªåˆ—è¿›è¡Œæ’
åº, åœ¨ä¸šåŠ¡å…è®¸æƒ…å†µä¸‹, å°½é‡åŒæ—¶ç”¨å‡åºæˆ–åŒæ—¶ç”¨é™åº.
ïµ ä¼˜åŒ–groupbyè¯­å¥: åœ¨æˆ‘ä»¬å¯¹æŸä¸€ä¸ªå­—æ®µè¿›è¡Œåˆ†ç»„çš„æ—¶å€™,Mysql
é»˜è®¤å°±è¿›è¡Œäº†æ’åº, ä½†æ˜¯æ’åºå¹¶ä¸æ˜¯æˆ‘ä»¬ä¸šåŠ¡æ‰€éœ€çš„, é¢å¤–çš„æ’åº
ä¼šé™ä½æ•ˆç‡. æ‰€ä»¥åœ¨ç”¨çš„æ—¶å€™å¯ä»¥ç¦æ­¢æ’åº, ä½¿ç”¨orderbynullç¦
ç”¨.
selectage,count(*)fromempgroupbyageorderbynull
ïµ å°½é‡é¿å…å­æŸ¥è¯¢, å¯ä»¥å°†å­æŸ¥è¯¢ä¼˜åŒ–ä¸ºjoinå¤šè¡¨è¿æ¥æŸ¥è¯¢.
</code></pre><h4 id="3-åˆç†çš„æ•°æ®åº“è®¾è®¡">3 )åˆç†çš„æ•°æ®åº“è®¾è®¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="æ ¹æ®æ•°æ®åº“ä¸‰èŒƒå¼æ¥è¿›è¡Œè¡¨ç»“æ„çš„è®¾è®¡è®¾è®¡è¡¨ç»“æ„æ—¶å°±éœ€è¦è€ƒè™‘å¦‚ä½•è®¾">æ ¹æ®æ•°æ®åº“ä¸‰èŒƒå¼æ¥è¿›è¡Œè¡¨ç»“æ„çš„è®¾è®¡ã€‚è®¾è®¡è¡¨ç»“æ„æ—¶ï¼Œå°±éœ€è¦è€ƒè™‘å¦‚ä½•è®¾</h5>
<h5 id="è®¡æ‰èƒ½æ›´æœ‰æ•ˆçš„æŸ¥è¯¢-éµå¾ª-æ•°æ®åº“ä¸‰èŒƒå¼">è®¡æ‰èƒ½æ›´æœ‰æ•ˆçš„æŸ¥è¯¢, éµå¾ª æ•°æ®åº“ä¸‰èŒƒå¼ï¼š</h5>
<p>i. <strong>ç¬¬ä¸€èŒƒå¼</strong> ï¼šæ•°æ®è¡¨ä¸­æ¯ä¸ªå­—æ®µéƒ½å¿…é¡»æ˜¯ä¸å¯æ‹†åˆ†çš„æœ€å°å•å…ƒï¼Œä¹Ÿå°±æ˜¯ç¡®ä¿
æ¯ä¸€åˆ—çš„åŸå­æ€§ï¼›
ii. <strong>ç¬¬äºŒèŒƒå¼</strong> ï¼šæ»¡è¶³ä¸€èŒƒå¼åï¼Œè¡¨ä¸­æ¯ä¸€åˆ—å¿…é¡»æœ‰å”¯ä¸€æ€§ï¼Œéƒ½å¿…é¡»ä¾èµ–
äºä¸»é”®ï¼›
iii. <strong>ç¬¬ä¸‰èŒƒå¼</strong> ï¼šæ»¡è¶³äºŒèŒƒå¼åï¼Œè¡¨ä¸­çš„æ¯ä¸€åˆ—åªä¸ä¸»é”®ç›´æ¥ç›¸å…³è€Œä¸æ˜¯
é—´æ¥ç›¸å…³(å¤–é”®ä¹Ÿæ˜¯ç›´æ¥ç›¸å…³)ï¼Œå­—æ®µæ²¡æœ‰å†—ä½™ã€‚
æ³¨æ„ï¼šæ²¡æœ‰æœ€å¥½çš„è®¾è®¡ï¼Œåªæœ‰æœ€åˆé€‚çš„è®¾è®¡ï¼Œæ‰€ä»¥ä¸è¦è¿‡åˆ†æ³¨é‡ç†è®ºã€‚ä¸‰èŒƒå¼å¯ä»¥
ä½œä¸ºä¸€ä¸ªåŸºæœ¬ä¾æ®ï¼Œä¸è¦ç”Ÿæ¬ç¡¬å¥—ã€‚
æœ‰æ—¶å€™å¯ä»¥æ ¹æ®åœºæ™¯åˆç†åœ°åè§„èŒƒåŒ–ï¼š</p>
<h5 id="aåˆ†å‰²è¡¨">Aï¼šåˆ†å‰²è¡¨ã€‚</h5>
<h5 id="bä¿ç•™å†—ä½™å­—æ®µå½“ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨åœ¨æŸ¥è¯¢ä¸­ç»å¸¸éœ€è¦è¿æ¥æ—¶å¯ä»¥åœ¨å…¶">Bï¼šä¿ç•™å†—ä½™å­—æ®µã€‚å½“ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨åœ¨æŸ¥è¯¢ä¸­ç»å¸¸éœ€è¦è¿æ¥æ—¶ï¼Œå¯ä»¥åœ¨å…¶</h5>
<h5 id="ä¸­ä¸€ä¸ªè¡¨ä¸Šå¢åŠ è‹¥å¹²å†—ä½™çš„å­—æ®µä»¥-é¿å…è¡¨ä¹‹é—´çš„è¿æ¥è¿‡äºé¢‘ç¹ä¸€èˆ¬åœ¨å†—">ä¸­ä¸€ä¸ªè¡¨ä¸Šå¢åŠ è‹¥å¹²å†—ä½™çš„å­—æ®µï¼Œä»¥ é¿å…è¡¨ä¹‹é—´çš„è¿æ¥è¿‡äºé¢‘ç¹ï¼Œä¸€èˆ¬åœ¨å†—</h5>
<h5 id="ä½™åˆ—çš„æ•°æ®ä¸ç»å¸¸å˜åŠ¨çš„æƒ…å†µä¸‹ä½¿ç”¨">ä½™åˆ—çš„æ•°æ®ä¸ç»å¸¸å˜åŠ¨çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</h5>
<h5 id="cå¢åŠ æ´¾ç”Ÿåˆ—æ´¾ç”Ÿåˆ—æ˜¯ç”±è¡¨ä¸­çš„å…¶å®ƒå¤šä¸ªåˆ—çš„è®¡ç®—æ‰€å¾—å¢åŠ æ´¾ç”Ÿåˆ—">Cï¼šå¢åŠ æ´¾ç”Ÿåˆ—ã€‚æ´¾ç”Ÿåˆ—æ˜¯ç”±è¡¨ä¸­çš„å…¶å®ƒå¤šä¸ªåˆ—çš„è®¡ç®—æ‰€å¾—ï¼Œå¢åŠ æ´¾ç”Ÿåˆ—</h5>
<h5 id="å¯ä»¥å‡å°‘ç»Ÿè®¡è¿ç®—åœ¨æ•°æ®æ±‡æ€»æ—¶å¯ä»¥å¤§å¤§ç¼©çŸ­è¿ç®—æ—¶é—´-å‰ææ˜¯è¿™ä¸ªåˆ—ç»å¸¸">å¯ä»¥å‡å°‘ç»Ÿè®¡è¿ç®—ï¼Œåœ¨æ•°æ®æ±‡æ€»æ—¶å¯ä»¥å¤§å¤§ç¼©çŸ­è¿ç®—æ—¶é—´, å‰ææ˜¯è¿™ä¸ªåˆ—ç»å¸¸</h5>
<h5 id="è¢«ç”¨åˆ°-è¿™ä¹Ÿå°±æ˜¯åç¬¬ä¸‰èŒƒå¼">è¢«ç”¨åˆ°, è¿™ä¹Ÿå°±æ˜¯åç¬¬ä¸‰èŒƒå¼ã€‚</h5>
<h4 id="4-åˆ†è¡¨">4 )åˆ†è¡¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="æ°´å¹³åˆ†å‰²æŒ‰è¡Œå‚ç›´åˆ†å‰²æŒ‰åˆ—">æ°´å¹³åˆ†å‰²ï¼ˆæŒ‰è¡Œï¼‰.å‚ç›´åˆ†å‰²(æŒ‰åˆ—)</h5>
<h5 id="åˆ†è¡¨åœºæ™¯">åˆ†è¡¨åœºæ™¯</h5>
<p>Aï¼š æ ¹æ®ç»éªŒï¼ŒMySQL è¡¨æ•°æ®ä¸€èˆ¬è¾¾åˆ°ç™¾ä¸‡çº§åˆ«ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±ä¼šå¾ˆä½ã€‚
Bï¼šä¸€å¼ è¡¨çš„æŸäº›å­—æ®µå€¼æ¯”è¾ƒå¤§å¹¶ä¸”å¾ˆå°‘ä½¿ç”¨ã€‚å¯ä»¥å°†è¿™äº›å­—æ®µéš”ç¦»æˆå•ç‹¬
ä¸€å¼ è¡¨ï¼Œé€šè¿‡å¤–é”®å…³è”ï¼Œä¾‹å¦‚è€ƒè¯•æˆç»©ï¼Œæˆ‘ä»¬é€šå¸¸å…³æ³¨åˆ†æ•°ï¼Œä¸å…³æ³¨è€ƒè¯•è¯¦æƒ…ã€‚
æ°´å¹³åˆ†è¡¨ç­–ç•¥
Cï¼šæŒ‰æ—¶é—´åˆ†è¡¨ï¼šå½“æ•°æ®æœ‰å¾ˆå¼ºçš„å®æ•ˆæ€§ï¼Œä¾‹å¦‚å¾®åšçš„æ•°æ®ï¼Œå¯ä»¥æŒ‰æœˆåˆ†å‰²ã€‚
æŒ‰åŒºé—´åˆ†è¡¨ï¼šä¾‹å¦‚ç”¨æˆ·è¡¨ 1 åˆ°ä¸€ç™¾ä¸‡ç”¨ä¸€å¼ è¡¨ï¼Œä¸€ç™¾ä¸‡åˆ°ä¸¤ç™¾ä¸‡ç”¨ä¸€å¼ è¡¨ã€‚hash
åˆ†è¡¨ï¼šé€šè¿‡ä¸€ä¸ªåŸå§‹ç›®æ ‡ id æˆ–è€…æ˜¯åç§°æŒ‰ç…§ä¸€å®šçš„ hash ç®—æ³•è®¡ç®—å‡ºæ•°æ®å­˜
å‚¨çš„è¡¨åã€‚</p>
<h3 id="3-20-oracleå’Œmysqlçš„åˆ†é¡µè¯­å¥å¿…ä¼š">3 20 oracleå’Œmysqlçš„åˆ†é¡µè¯­å¥ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="3-20-1-oracle">3 20 1 oracle&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>select*from(select*from(selects.*,rownumrnfromstudents)
wherern&lt;= 5 )wherern&gt; 0
</code></pre><h4 id="3-20-2-mysql">3 20 2 mysql&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>select*fromtable_namewhere 1 = 1 limit ï¼ˆstart,endï¼‰
</code></pre><h2 id="å››mybatisæ¡†æ¶">å››.Mybatisæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<h3 id="4-1-ä»€ä¹ˆæ˜¯mybatiså¿…ä¼š">4 1 ä»€ä¹ˆæ˜¯Mybatisï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>ï¼ˆ 1 ï¼‰Mybatisæ˜¯ä¸€ä¸ªåŠORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼Œå®ƒå†…éƒ¨å°è£…äº†JDBCï¼Œ
å¼€å‘æ—¶åªéœ€è¦å…³æ³¨SQLè¯­å¥æœ¬èº«ï¼Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨.åˆ›å»ºè¿æ¥.
åˆ›å»ºstatementç­‰ç¹æ‚çš„è¿‡ç¨‹ã€‚ç¨‹åºå‘˜ç›´æ¥ç¼–å†™åŸç”Ÿæ€sqlï¼Œå¯ä»¥ä¸¥æ ¼æ§åˆ¶sql
æ‰§è¡Œæ€§èƒ½ï¼Œçµæ´»åº¦é«˜ã€‚
ï¼ˆ 2 ï¼‰MyBatiså¯ä»¥ä½¿ç”¨XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†POJOæ˜ 
å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ï¼Œé¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–
ç»“æœé›†ã€‚
ï¼ˆ 3 ï¼‰é€šè¿‡xml æ–‡ä»¶æˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§ statement é…ç½®èµ·æ¥ï¼Œ
å¹¶é€šè¿‡javaå¯¹è±¡å’Œ statementä¸­sqlçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sql
è¯­å¥ï¼Œæœ€åç”±mybatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœæ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ã€‚ï¼ˆä»æ‰§
è¡Œsqlåˆ°è¿”å›resultçš„è¿‡ç¨‹ï¼‰ã€‚</p>
<h3 id="4-2-mybaitsçš„ä¼˜ç‚¹äº†è§£">4 2 Mybaitsçš„ä¼˜ç‚¹ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="-1-åŸºäºsqlè¯­å¥ç¼–ç¨‹ç›¸å½“çµæ´»ä¸ä¼šå¯¹åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®åº“çš„ç°æœ‰è®¾">ï¼ˆ 1 ï¼‰åŸºäºSQLè¯­å¥ç¼–ç¨‹ï¼Œç›¸å½“çµæ´»ï¼Œä¸ä¼šå¯¹åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®åº“çš„ç°æœ‰è®¾</h5>
<p>è®¡é€ æˆä»»ä½•å½±å“ï¼ŒSQLå†™åœ¨XMLé‡Œï¼Œè§£é™¤sqlä¸ç¨‹åºä»£ç çš„è€¦åˆï¼Œä¾¿äºç»Ÿä¸€ç®¡
ç†ï¼›æä¾›XMLæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€SQLè¯­å¥ï¼Œå¹¶å¯é‡ç”¨ã€‚
ï¼ˆ 2 ï¼‰ä¸JDBCç›¸æ¯”ï¼Œå‡å°‘äº† 50 %ä»¥ä¸Šçš„ä»£ç é‡ï¼Œæ¶ˆé™¤äº†JDBCå¤§é‡å†—ä½™çš„
ä»£ç ï¼Œä¸éœ€è¦æ‰‹åŠ¨å¼€å…³è¿æ¥ï¼›
ï¼ˆ 3 ï¼‰å¾ˆå¥½çš„ä¸å„ç§æ•°æ®åº“å…¼å®¹ï¼ˆå› ä¸ºMyBatisä½¿ç”¨JDBCæ¥è¿æ¥æ•°æ®åº“ï¼Œ
æ‰€ä»¥åªè¦JDBCæ”¯æŒçš„æ•°æ®åº“MyBatiséƒ½æ”¯æŒï¼‰ã€‚
ï¼ˆ 4 ï¼‰èƒ½å¤Ÿä¸Springå¾ˆå¥½çš„é›†æˆï¼›
ï¼ˆ 5 ï¼‰æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ORMå­—æ®µå…³ç³»æ˜ å°„ï¼›æä¾›å¯¹è±¡
å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„ä»¶ç»´æŠ¤ã€‚</p>
<h3 id="4-3-mybatisä¸hibernateæœ‰å“ªäº›ä¸åŒå¿…ä¼š">4 3 MyBatisä¸Hibernateæœ‰å“ªäº›ä¸åŒï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>ï¼ˆ 1 ï¼‰Mybatiså’Œhibernateä¸åŒï¼Œå®ƒä¸å®Œå…¨æ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼Œå› ä¸ºMyBatis
éœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™Sqlè¯­å¥ã€‚
ï¼ˆ 2 ï¼‰Mybatisç›´æ¥ç¼–å†™åŸç”Ÿæ€SQLï¼Œå¯ä»¥ä¸¥æ ¼æ§åˆ¶SQLæ‰§è¡Œæ€§èƒ½ï¼Œçµæ´»
åº¦é«˜ï¼Œéå¸¸é€‚åˆå¯¹å…³ç³»æ•°æ®æ¨¡å‹è¦æ±‚ä¸é«˜çš„è½¯ä»¶å¼€å‘ï¼Œå› ä¸ºè¿™ç±»è½¯ä»¶éœ€æ±‚å˜åŒ–é¢‘</p>
<p>ç¹ï¼Œä¸€ä½†éœ€æ±‚å˜åŒ–è¦æ±‚è¿…é€Ÿè¾“å‡ºæˆæœã€‚ä½†æ˜¯çµæ´»çš„å‰ææ˜¯Mybatisæ— æ³•åšåˆ°æ•°
æ®åº“æ— å…³æ€§ï¼Œå¦‚æœéœ€è¦å®ç°æ”¯æŒå¤šç§æ•°æ®åº“çš„è½¯ä»¶ï¼Œåˆ™éœ€è¦è‡ªå®šä¹‰å¤šå¥—SQLæ˜ 
å°„æ–‡ä»¶ï¼Œå·¥ä½œé‡å¤§ã€‚
ï¼ˆ 3 ï¼‰Hibernateå¯¹è±¡/å…³ç³»æ˜ å°„èƒ½åŠ›å¼ºï¼Œæ•°æ®åº“æ— å…³æ€§å¥½ï¼Œå¯¹äºå…³ç³»æ¨¡å‹è¦
æ±‚é«˜çš„è½¯ä»¶ï¼Œå¦‚æœç”¨Hibernateå¼€å‘å¯ä»¥èŠ‚çœå¾ˆå¤šä»£ç ï¼Œæé«˜æ•ˆç‡ã€‚</p>
<h3 id="4-4-å’Œçš„åŒºåˆ«æ˜¯ä»€ä¹ˆå¿…ä¼š">4 4 #{}å’Œ${}çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="æ˜¯é¢„ç¼–è¯‘å¤„ç†æ˜¯å­—ç¬¦ä¸²æ›¿æ¢">#{}æ˜¯é¢„ç¼–è¯‘å¤„ç†ï¼Œ${}æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ã€‚</h5>
<p>Mybatisåœ¨å¤„ç†#{}æ—¶ï¼Œä¼šå°†sqlä¸­çš„#{}æ›¿æ¢ä¸º?å·ï¼Œè°ƒç”¨PreparedStatement
çš„setæ–¹æ³•æ¥èµ‹å€¼ï¼›
Mybatisåœ¨å¤„ç†${}æ—¶ï¼Œå°±æ˜¯æŠŠ${}æ›¿æ¢æˆå˜é‡çš„å€¼ã€‚
ä½¿ç”¨#{}å¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢SQLæ³¨å…¥ï¼Œæé«˜ç³»ç»Ÿå®‰å…¨æ€§ã€‚</p>
<h3 id="4-5-mybatisæ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„åˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆå¿…ä¼š">4 5 Mybatisæ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>Mybatisä½¿ç”¨RowBoundså¯¹è±¡è¿›è¡Œåˆ†é¡µï¼Œå®ƒæ˜¯é’ˆå¯¹ResultSetç»“æœé›†æ‰§
è¡Œçš„å†…å­˜åˆ†é¡µï¼Œè€Œéç‰©ç†åˆ†é¡µã€‚å¯ä»¥åœ¨SQLå†…ç›´æ¥ä¹¦å†™å¸¦æœ‰ç‰©ç†åˆ†é¡µçš„å‚æ•°æ¥
å®Œæˆç‰©ç†åˆ†é¡µåŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†é¡µæ’ä»¶æ¥å®Œæˆç‰©ç†åˆ†é¡µã€‚
åˆ†é¡µæ’ä»¶çš„åŸºæœ¬åŸç†æ˜¯ä½¿ç”¨Mybatisæä¾›çš„æ’ä»¶æ¥å£ï¼Œå®ç°è‡ªå®šä¹‰æ’ä»¶ï¼Œ
åœ¨æ’ä»¶çš„æ‹¦æˆªæ–¹æ³•å†…æ‹¦æˆªå¾…æ‰§è¡Œçš„SQLï¼Œç„¶åé‡å†™SQLï¼Œæ ¹æ®dialectæ–¹è¨€ï¼Œæ·»
åŠ å¯¹åº”çš„ç‰©ç†åˆ†é¡µè¯­å¥å’Œç‰©ç†åˆ†é¡µå‚æ•°ã€‚</p>
<h3 id="4-6-mybatisåŠ¨æ€sqlæœ‰ä»€ä¹ˆç”¨æ‰§è¡ŒåŸç†æœ‰å“ªäº›åŠ¨æ€sqlæ ‡ç­¾å¿…ä¼š">4 6 MybatisåŠ¨æ€SQLæœ‰ä»€ä¹ˆç”¨ï¼Ÿæ‰§è¡ŒåŸç†ï¼Ÿæœ‰å“ªäº›åŠ¨æ€sqlæ ‡ç­¾ï¼Ÿ(å¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>MybatisåŠ¨æ€SQLå¯ä»¥åœ¨Xmlæ˜ å°„æ–‡ä»¶å†…ï¼Œä»¥æ ‡ç­¾çš„å½¢å¼ç¼–å†™åŠ¨æ€sqlï¼Œ
æ‰§è¡ŒåŸç†æ˜¯æ ¹æ®è¡¨è¾¾å¼çš„å€¼ å®Œæˆé€»è¾‘åˆ¤æ–­å¹¶åŠ¨æ€æ‹¼æ¥sqlçš„åŠŸèƒ½ã€‚
Mybatisæä¾›äº† 9 ç§åŠ¨æ€sqlæ ‡ç­¾ï¼štrim|where|set|foreach|if|
choose|when|otherwise|bindã€‚
<strong>4. 7 Xmlæ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†select|insert|updae|delete
æ ‡ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿï¼ˆäº†è§£ï¼‰</strong>
<!-- raw HTML omitted -->.<!-- raw HTML omitted -->.<!-- raw HTML omitted -->.<!-- raw HTML omitted -->.<!-- raw HTML omitted -->ï¼ŒåŠ ä¸Š
åŠ¨æ€sqlçš„ 9 ä¸ªæ ‡ç­¾ï¼Œå…¶ä¸­<!-- raw HTML omitted -->ä¸ºsqlç‰‡æ®µæ ‡ç­¾ï¼Œé€šè¿‡<!-- raw HTML omitted -->æ ‡ç­¾å¼•å…¥sql
ç‰‡æ®µï¼Œ<!-- raw HTML omitted -->ä¸ºä¸æ”¯æŒè‡ªå¢çš„ä¸»é”®ç”Ÿæˆç­–ç•¥æ ‡ç­¾ã€‚</p>
<h3 id="4-8-mybatiså®ç°ä¸€å¯¹ä¸€æœ‰å‡ ç§æ–¹å¼å…·ä½“æ€ä¹ˆæ“ä½œçš„å¿…ä¼š">4 8 MyBatiså®ç°ä¸€å¯¹ä¸€æœ‰å‡ ç§æ–¹å¼?å…·ä½“æ€ä¹ˆæ“ä½œçš„ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="æœ‰è”åˆæŸ¥è¯¢å’ŒåµŒå¥—æŸ¥è¯¢è”åˆæŸ¥è¯¢æ˜¯å‡ ä¸ªè¡¨è”åˆæŸ¥è¯¢åªæŸ¥è¯¢ä¸€æ¬¡é€šè¿‡åœ¨">æœ‰è”åˆæŸ¥è¯¢å’ŒåµŒå¥—æŸ¥è¯¢,è”åˆæŸ¥è¯¢æ˜¯å‡ ä¸ªè¡¨è”åˆæŸ¥è¯¢,åªæŸ¥è¯¢ä¸€æ¬¡,é€šè¿‡åœ¨</h5>
<p>resultMapé‡Œé¢é…ç½®associationèŠ‚ç‚¹é…ç½®ä¸€å¯¹ä¸€çš„ç±»å°±å¯ä»¥å®Œæˆï¼›
åµŒå¥—æŸ¥è¯¢æ˜¯å…ˆæŸ¥ä¸€ä¸ªè¡¨ï¼Œæ ¹æ®è¿™ä¸ªè¡¨é‡Œé¢çš„ç»“æœçš„ å¤–é”®idï¼Œå»å†å¦å¤–ä¸€ä¸ª
è¡¨é‡Œé¢æŸ¥è¯¢æ•°æ®,ä¹Ÿæ˜¯é€šè¿‡associationé…ç½®ï¼Œä½†å¦å¤–ä¸€ä¸ªè¡¨çš„æŸ¥è¯¢é€šè¿‡select
å±æ€§é…ç½®ã€‚</p>
<h3 id="4-9-mybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½å¦‚æœæ”¯æŒå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆå¿…ä¼š">4 9 Mybatisæ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>Mybatisä»…æ”¯æŒassociationå…³è”å¯¹è±¡å’Œcollectionå…³è”é›†åˆå¯¹è±¡çš„å»¶è¿ŸåŠ 
è½½ï¼ŒassociationæŒ‡çš„å°±æ˜¯ä¸€å¯¹ä¸€ï¼ŒcollectionæŒ‡çš„å°±æ˜¯ä¸€å¯¹å¤šæŸ¥è¯¢ã€‚åœ¨Mybatis
é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é…ç½®æ˜¯å¦å¯ç”¨å»¶è¿ŸåŠ è½½lazyLoadingEnabled=true|falseã€‚
å®ƒçš„åŸç†æ˜¯ï¼Œä½¿ç”¨CGLIBåˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œå½“è°ƒç”¨ç›®æ ‡æ–¹æ³•æ—¶ï¼Œ
è¿›å…¥æ‹¦æˆªå™¨æ–¹æ³•ï¼Œæ¯”å¦‚è°ƒç”¨a.getB().getName()ï¼Œæ‹¦æˆªå™¨invoke()æ–¹æ³•å‘ç°
a.getB()æ˜¯nullå€¼ï¼Œé‚£ä¹ˆå°±ä¼šå•ç‹¬å‘é€äº‹å…ˆä¿å­˜å¥½çš„æŸ¥è¯¢å…³è”Bå¯¹è±¡çš„sqlï¼ŒæŠŠ
BæŸ¥è¯¢ä¸Šæ¥ï¼Œç„¶åè°ƒç”¨a.setB(b)ï¼Œäºæ˜¯açš„å¯¹è±¡bå±æ€§å°±æœ‰å€¼äº†ï¼Œæ¥ç€å®Œæˆ
a.getB().getName()æ–¹æ³•çš„è°ƒç”¨ã€‚è¿™å°±æ˜¯å»¶è¿ŸåŠ è½½çš„åŸºæœ¬åŸç†ã€‚</p>
<h3 id="4-10-mybatisçš„ä¸€çº§äºŒçº§ç¼“å­˜å¿…ä¼š">4 10 Mybatisçš„ä¸€çº§.äºŒçº§ç¼“å­˜ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>1 ï¼‰ä¸€çº§ç¼“å­˜: åŸºäº PerpetualCache çš„ HashMap æœ¬åœ°ç¼“å­˜ï¼Œå…¶å­˜å‚¨ä½œ
ç”¨åŸŸä¸º Sessionï¼Œå½“ Sessionflush æˆ– close ä¹‹åï¼Œè¯¥ Session ä¸­çš„æ‰€æœ‰
Cache å°±å°†æ¸…ç©ºï¼Œé»˜è®¤æ‰“å¼€ä¸€çº§ç¼“å­˜ä¸”ä¸èƒ½å…³é—­ã€‚
2 ï¼‰äºŒçº§ç¼“å­˜ä¸ä¸€çº§ç¼“å­˜å…¶æœºåˆ¶ç›¸åŒï¼Œé»˜è®¤ä¹Ÿæ˜¯é‡‡ç”¨ PerpetualCacheï¼Œ
HashMap å­˜å‚¨ï¼Œä¸åŒåœ¨äºå…¶å­˜å‚¨ä½œç”¨åŸŸä¸º Mapper(Namespace)ï¼Œå¹¶ä¸”å¯è‡ª
å®šä¹‰å­˜å‚¨æºï¼Œå¦‚ Ehcacheã€‚é»˜è®¤ä¸æ‰“å¼€äºŒçº§ç¼“å­˜ï¼Œè¦æ‰‹åŠ¨å¼€å¯äºŒçº§ç¼“å­˜ï¼Œä½¿ç”¨
äºŒçº§ç¼“å­˜å±æ€§ç±»éœ€è¦å®ç°Serializableåºåˆ—åŒ–æ¥å£(å¯ç”¨æ¥ä¿å­˜å¯¹è±¡çš„çŠ¶æ€),å¯åœ¨
å®ƒçš„æ˜ å°„æ–‡ä»¶ä¸­é…ç½®<!-- raw HTML omitted -->ã€‚</p>
<p>3 ï¼‰å¯¹äºç¼“å­˜æ•°æ®æ›´æ–°æœºåˆ¶ï¼Œå½“æŸä¸€ä¸ªä½œç”¨åŸŸ(ä¸€çº§ç¼“å­˜ Session/äºŒçº§ç¼“å­˜
Namespaces)çš„è¿›è¡Œäº†C/U/D æ“ä½œåï¼Œé»˜è®¤è¯¥ä½œç”¨åŸŸä¸‹æ‰€æœ‰ select ä¸­çš„ç¼“å­˜
å°†è¢« clearã€‚</p>
<h2 id="äº”springæ¡†æ¶">äº”ï¼Springæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="5-1-springæ˜¯ä»€ä¹ˆäº†è§£">5 1 Springæ˜¯ä»€ä¹ˆ?(äº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„IoCå’ŒAOPå®¹å™¨æ¡†æ¶ã€‚æ˜¯ä¸ºJavaåº”ç”¨ç¨‹åºæä¾›åŸº
ç¡€æ€§æœåŠ¡çš„ä¸€å¥—æ¡†æ¶ï¼Œç›®çš„æ˜¯ç”¨äºç®€åŒ–ä¼ä¸šåº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Œå®ƒä½¿å¾—å¼€å‘è€…åªéœ€
è¦å…³å¿ƒä¸šåŠ¡éœ€æ±‚ã€‚å¸¸è§çš„é…ç½®æ–¹å¼æœ‰ä¸‰ç§ï¼šåŸºäºXMLçš„é…ç½®.åŸºäºæ³¨è§£çš„é…ç½®.
åŸºäºJavaçš„é…ç½®ã€‚
ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ç»„æˆï¼š
SpringCoreï¼šæ ¸å¿ƒç±»åº“ï¼Œæä¾›IOCæœåŠ¡ï¼›
SpringContextï¼šæä¾›æ¡†æ¶å¼çš„Beanè®¿é—®æ–¹å¼ï¼Œä»¥åŠä¼ä¸šçº§åŠŸèƒ½ï¼ˆJNDI.
å®šæ—¶ä»»åŠ¡ç­‰ï¼‰ï¼›
SpringAOPï¼šAOPæœåŠ¡ï¼›
SpringDAOï¼šå¯¹JDBCçš„æŠ½è±¡ï¼Œç®€åŒ–äº†æ•°æ®è®¿é—®å¼‚å¸¸çš„å¤„ç†ï¼›
SpringORMï¼šå¯¹ç°æœ‰çš„ORMæ¡†æ¶çš„æ”¯æŒï¼›
SpringWebï¼šæä¾›äº†åŸºæœ¬çš„é¢å‘Webçš„ç»¼åˆç‰¹æ€§ï¼Œä¾‹å¦‚å¤šæ–¹æ–‡ä»¶ä¸Šä¼ ï¼›
SpringMVCï¼šæä¾›é¢å‘Webåº”ç”¨çš„Model-View-Controllerå®ç°ã€‚</p>
<h3 id="5-2-springçš„aopç†è§£å¿…ä¼š">5 2 Springçš„AOPç†è§£ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="oopé¢å‘å¯¹è±¡å…è®¸å¼€å‘è€…å®šä¹‰çºµå‘çš„å…³ç³»ä½†å¹¶é€‚ç”¨äºå®šä¹‰æ¨ªå‘çš„å…³ç³»">OOPé¢å‘å¯¹è±¡ï¼Œå…è®¸å¼€å‘è€…å®šä¹‰çºµå‘çš„å…³ç³»ï¼Œä½†å¹¶é€‚ç”¨äºå®šä¹‰æ¨ªå‘çš„å…³ç³»ï¼Œ</h5>
<h5 id="å¯¼è‡´äº†å¤§é‡ä»£ç çš„é‡å¤è€Œä¸åˆ©äºå„ä¸ªæ¨¡å—çš„é‡ç”¨">å¯¼è‡´äº†å¤§é‡ä»£ç çš„é‡å¤ï¼Œè€Œä¸åˆ©äºå„ä¸ªæ¨¡å—çš„é‡ç”¨ã€‚</h5>
<h5 id="aopä¸€èˆ¬ç§°ä¸ºé¢å‘åˆ‡é¢ä½œä¸ºé¢å‘å¯¹è±¡çš„ä¸€ç§è¡¥å……ç”¨äºå°†é‚£äº›ä¸ä¸šåŠ¡">AOPï¼Œä¸€èˆ¬ç§°ä¸ºé¢å‘åˆ‡é¢ï¼Œä½œä¸ºé¢å‘å¯¹è±¡çš„ä¸€ç§è¡¥å……ï¼Œç”¨äºå°†é‚£äº›ä¸ä¸šåŠ¡</h5>
<h5 id="æ— å…³ä½†å´å¯¹å¤šä¸ªå¯¹è±¡äº§ç”Ÿå½±å“çš„å…¬å…±è¡Œä¸ºå’Œé€»è¾‘æŠ½å–å¹¶å°è£…ä¸ºä¸€ä¸ªå¯é‡ç”¨çš„">æ— å…³ï¼Œä½†å´å¯¹å¤šä¸ªå¯¹è±¡äº§ç”Ÿå½±å“çš„å…¬å…±è¡Œä¸ºå’Œé€»è¾‘ï¼ŒæŠ½å–å¹¶å°è£…ä¸ºä¸€ä¸ªå¯é‡ç”¨çš„</h5>
<p>æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—è¢«å‘½åä¸ºâ€œåˆ‡é¢â€ï¼ˆAspectï¼‰ï¼Œå‡å°‘ç³»ç»Ÿä¸­çš„é‡å¤ä»£ç ï¼Œé™ä½
äº†æ¨¡å—é—´çš„è€¦åˆåº¦ï¼ŒåŒæ—¶æé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚å¯ç”¨äºæƒé™è®¤è¯.æ—¥å¿—.äº‹åŠ¡å¤„
ç†ã€‚</p>
<h5 id="aopå®ç°çš„å…³é”®åœ¨äºä»£ç†æ¨¡å¼aopä»£ç†ä¸»è¦åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†">AOPå®ç°çš„å…³é”®åœ¨äºä»£ç†æ¨¡å¼ï¼ŒAOPä»£ç†ä¸»è¦åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ã€‚</h5>
<p>é™æ€ä»£ç†çš„ä»£è¡¨ä¸ºAspectJï¼›åŠ¨æ€ä»£ç†åˆ™ä»¥SpringAOPä¸ºä»£è¡¨ã€‚
ï¼ˆ 1 ï¼‰AspectJæ˜¯é™æ€ä»£ç†çš„å¢å¼ºï¼Œæ‰€è°“é™æ€ä»£ç†ï¼Œå°±æ˜¯AOPæ¡†æ¶ä¼šåœ¨ç¼–
è¯‘é˜¶æ®µç”ŸæˆAOPä»£ç†ç±»ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºç¼–è¯‘æ—¶å¢å¼ºï¼Œä»–ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°†AspectJ(åˆ‡
é¢)ç»‡å…¥åˆ°Javaå­—èŠ‚ç ä¸­ï¼Œè¿è¡Œçš„æ—¶å€™å°±æ˜¯å¢å¼ºä¹‹åçš„AOPå¯¹è±¡ã€‚
ï¼ˆ 2 ï¼‰SpringAOPä½¿ç”¨çš„åŠ¨æ€ä»£ç†ï¼Œæ‰€è°“çš„åŠ¨æ€ä»£ç†å°±æ˜¯è¯´AOPæ¡†æ¶ä¸ä¼š
å»ä¿®æ”¹å­—èŠ‚ç ï¼Œè€Œæ˜¯æ¯æ¬¡è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­ä¸´æ—¶ä¸ºæ–¹æ³•ç”Ÿæˆä¸€ä¸ªAOPå¯¹è±¡ï¼Œè¿™ä¸ª
AOPå¯¹è±¡åŒ…å«äº†ç›®æ ‡å¯¹è±¡çš„å…¨éƒ¨æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ç‰¹å®šçš„åˆ‡ç‚¹åšäº†å¢å¼ºå¤„ç†ï¼Œå¹¶å›
è°ƒåŸå¯¹è±¡çš„æ–¹æ³•ã€‚
SpringAOPä¸­çš„åŠ¨æ€ä»£ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼ŒJDKåŠ¨æ€ä»£ç†å’ŒCGLIBåŠ¨æ€
ä»£ç†ï¼š
( 1 )JDKåŠ¨æ€ä»£ç†åªæä¾›æ¥å£ä»£ç†ï¼Œä¸æ”¯æŒç±»ä»£ç†ï¼Œæ ¸å¿ƒInvocationHandler
æ¥å£å’ŒProxyç±»ï¼ŒInvocationHandleré€šè¿‡invoke()æ–¹æ³•åå°„æ¥è°ƒç”¨ç›®æ ‡ç±»ä¸­
çš„ä»£ç ï¼ŒåŠ¨æ€åœ°å°†æ¨ªåˆ‡é€»è¾‘å’Œä¸šåŠ¡ç¼–ç»‡åœ¨ä¸€èµ·ï¼ŒProxyåˆ©ç”¨ InvocationHandler
åŠ¨æ€åˆ›å»ºä¸€ä¸ªç¬¦åˆæŸä¸€æ¥å£çš„çš„å®ä¾‹, ç”Ÿæˆç›®æ ‡ç±»çš„ä»£ç†å¯¹è±¡ã€‚
( 2 )å¦‚æœä»£ç†ç±»æ²¡æœ‰å®ç° InvocationHandler æ¥å£ï¼Œé‚£ä¹ˆSpringAOPä¼š
é€‰æ‹©ä½¿ç”¨CGLIBæ¥åŠ¨æ€ä»£ç†ç›®æ ‡ç±»ã€‚CGLIBï¼ˆCodeGenerationLibraryï¼‰ï¼Œæ˜¯
ä¸€ä¸ªä»£ç ç”Ÿæˆçš„ç±»åº“ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„ç”ŸæˆæŒ‡å®šç±»çš„ä¸€ä¸ªå­ç±»å¯¹è±¡ï¼Œå¹¶è¦†ç›–
å…¶ä¸­ç‰¹å®šæ–¹æ³•å¹¶æ·»åŠ å¢å¼ºä»£ç ï¼Œä»è€Œå®ç°AOPã€‚CGLIBæ˜¯é€šè¿‡ç»§æ‰¿çš„æ–¹å¼åšçš„
åŠ¨æ€ä»£ç†ï¼Œå› æ­¤å¦‚æœæŸä¸ªç±»è¢«æ ‡è®°ä¸ºfinalï¼Œé‚£ä¹ˆå®ƒæ˜¯æ— æ³•ä½¿ç”¨CGLIBåšåŠ¨æ€ä»£
ç†çš„ã€‚
ï¼ˆ 3 ï¼‰é™æ€ä»£ç†ä¸åŠ¨æ€ä»£ç†åŒºåˆ«åœ¨äºç”ŸæˆAOPä»£ç†å¯¹è±¡çš„æ—¶æœºä¸åŒï¼Œç›¸å¯¹
æ¥è¯´AspectJçš„é™æ€ä»£ç†æ–¹å¼å…·æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œä½†æ˜¯AspectJéœ€è¦ç‰¹å®šçš„ç¼–è¯‘
å™¨è¿›è¡Œå¤„ç†ï¼Œè€ŒSpringAOPåˆ™æ— éœ€ç‰¹å®šçš„ç¼–è¯‘å™¨å¤„ç†ã€‚
InvocationHandlerinvoke(Object proxy,Method method,Object[]
args)ï¼šproxyæ˜¯æœ€ç»ˆç”Ÿæˆçš„ä»£ç†å®ä¾‹; method æ˜¯è¢«ä»£ç†ç›®æ ‡å®ä¾‹çš„æŸä¸ªå…·ä½“
æ–¹æ³•;argsæ˜¯è¢«ä»£ç†ç›®æ ‡å®ä¾‹æŸä¸ªæ–¹æ³•çš„å…·ä½“å…¥å‚, åœ¨æ–¹æ³•åå°„è°ƒç”¨æ—¶ä½¿ç”¨ã€‚</p>
<h3 id="5-3-springçš„iocç†è§£å¿…ä¼š">5 3 Springçš„IOCç†è§£ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="-1-iocå°±æ˜¯æ§åˆ¶åè½¬æ˜¯æŒ‡åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒçš„è½¬ç§»ä»¥å‰åˆ›å»ºå¯¹è±¡çš„">ï¼ˆ 1 ï¼‰IOCå°±æ˜¯æ§åˆ¶åè½¬ï¼Œæ˜¯æŒ‡åˆ›å»ºå¯¹è±¡çš„æ§åˆ¶æƒçš„è½¬ç§»ï¼Œä»¥å‰åˆ›å»ºå¯¹è±¡çš„</h5>
<p>ä¸»åŠ¨æƒå’Œæ—¶æœºæ˜¯ç”±è‡ªå·±æŠŠæ§çš„ï¼Œè€Œç°åœ¨è¿™ç§æƒåŠ›è½¬ç§»åˆ°Springå®¹å™¨ä¸­ï¼Œå¹¶ç”±å®¹
å™¨æ ¹æ®é…ç½®æ–‡ä»¶å»åˆ›å»ºå®ä¾‹å’Œç®¡ç†å„ä¸ªå®ä¾‹ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´æ¾</p>
<h5 id="æ•£è€¦åˆä¹Ÿåˆ©äºåŠŸèƒ½çš„å¤ç”¨diä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬æ˜¯åŒä¸€ä¸ªæ¦‚å¿µçš„ä¸åŒè§’">æ•£è€¦åˆï¼Œä¹Ÿåˆ©äºåŠŸèƒ½çš„å¤ç”¨ã€‚DIä¾èµ–æ³¨å…¥ï¼Œå’Œæ§åˆ¶åè½¬æ˜¯åŒä¸€ä¸ªæ¦‚å¿µçš„ä¸åŒè§’</h5>
<p>åº¦çš„æè¿°ï¼Œå³ åº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶ä¾èµ–IoCå®¹å™¨æ¥åŠ¨æ€æ³¨å…¥å¯¹è±¡éœ€è¦çš„å¤–éƒ¨èµ„æºã€‚
ï¼ˆ 2 ï¼‰æœ€ç›´è§‚çš„è¡¨è¾¾å°±æ˜¯ï¼ŒIOCè®©å¯¹è±¡çš„åˆ›å»ºä¸ç”¨å»newäº†ï¼Œå¯ä»¥ç”±spring
è‡ªåŠ¨ç”Ÿäº§ï¼Œä½¿ç”¨javaçš„åå°„æœºåˆ¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„å»åˆ›å»ºå¯¹è±¡ä»¥
åŠç®¡ç†å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„ã€‚
ï¼ˆ 3 ï¼‰Springçš„IOCæœ‰ä¸‰ç§æ³¨å…¥æ–¹å¼ ï¼šæ„é€ å™¨æ³¨å…¥,setteræ–¹æ³•æ³¨å…¥, æ ¹æ®
æ³¨è§£æ³¨å…¥ã€‚
IOCè®©ç›¸äº’åä½œçš„ç»„ä»¶ä¿æŒæ¾æ•£çš„è€¦åˆï¼Œè€ŒAOPç¼–ç¨‹å…è®¸ä½ æŠŠéå¸ƒäºåº”ç”¨
å„å±‚çš„åŠŸèƒ½åˆ†ç¦»å‡ºæ¥å½¢æˆå¯é‡ç”¨çš„åŠŸèƒ½ç»„ä»¶ã€‚</p>
<h3 id="5-4-beanfactoryå’Œapplicationcontextæœ‰ä»€ä¹ˆåŒºåˆ«äº†è§£">5 4 BeanFactoryå’ŒApplicationContextæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>BeanFactoryå’ŒApplicationContextæ˜¯Springçš„ä¸¤å¤§æ ¸å¿ƒæ¥å£ï¼Œéƒ½å¯ä»¥
å½“åšSpringçš„å®¹å™¨ã€‚å…¶ä¸­ApplicationContextæ˜¯BeanFactoryçš„å­æ¥å£ã€‚
ï¼ˆ 1 ï¼‰BeanFactoryï¼šæ˜¯Springé‡Œé¢æœ€åº•å±‚çš„æ¥å£ï¼ŒåŒ…å«äº†å„ç§Beançš„å®š
ä¹‰ï¼Œè¯»å–beané…ç½®æ–‡æ¡£ï¼Œç®¡ç†beançš„åŠ è½½.å®ä¾‹åŒ–ï¼Œæ§åˆ¶beançš„ç”Ÿå‘½å‘¨æœŸï¼Œ
ç»´æŠ¤beanä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ApplicationContextæ¥å£ä½œä¸ºBeanFactoryçš„æ´¾
ç”Ÿã€‚
ï¼ˆ 2 ï¼‰BeanFactroyé‡‡ç”¨çš„æ˜¯å»¶è¿ŸåŠ è½½å½¢å¼æ¥æ³¨å…¥Beançš„ï¼Œå³åªæœ‰åœ¨ä½¿ç”¨
åˆ°æŸä¸ªBeanæ—¶(è°ƒç”¨getBean())ï¼Œæ‰å¯¹è¯¥Beanè¿›è¡ŒåŠ è½½å®ä¾‹åŒ–ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬
å°±ä¸èƒ½å‘ç°ä¸€äº›å­˜åœ¨çš„Springçš„é…ç½®é—®é¢˜ã€‚å¦‚æœBeançš„æŸä¸€ä¸ªå±æ€§æ²¡æœ‰æ³¨å…¥ï¼Œ
BeanFacotryåŠ è½½åï¼Œç›´è‡³ç¬¬ä¸€æ¬¡ä½¿ç”¨è°ƒç”¨getBeanæ–¹æ³•æ‰ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
ApplicationContextï¼Œå®ƒæ˜¯åœ¨å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€æ¬¡æ€§åˆ›å»ºäº†æ‰€æœ‰çš„Beanã€‚è¿™
æ ·ï¼Œåœ¨å®¹å™¨å¯åŠ¨æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘ç°Springä¸­å­˜åœ¨çš„é…ç½®é”™è¯¯ï¼Œè¿™æ ·æœ‰åˆ©äºæ£€
æŸ¥æ‰€ä¾èµ–å±æ€§æ˜¯å¦æ³¨å…¥ã€‚ApplicationContextå¯åŠ¨åé¢„è½½å…¥æ‰€æœ‰çš„å•å®ä¾‹
Beanï¼Œé€šè¿‡é¢„è½½å…¥å•å®ä¾‹bean,ç¡®ä¿å½“ä½ éœ€è¦çš„æ—¶å€™ï¼Œä½ å°±ä¸ç”¨ç­‰å¾…ï¼Œå› ä¸ºå®ƒ
ä»¬å·²ç»åˆ›å»ºå¥½äº†ã€‚
ç›¸å¯¹äºåŸºæœ¬çš„BeanFactoryï¼ŒApplicationContext å”¯ä¸€çš„ä¸è¶³æ˜¯å ç”¨å†…å­˜
ç©ºé—´ã€‚å½“åº”ç”¨ç¨‹åºé…ç½®Beanè¾ƒå¤šæ—¶ï¼Œç¨‹åºå¯åŠ¨è¾ƒæ…¢ã€‚
ï¼ˆ 3 ï¼‰BeanFactoryé€šå¸¸ä»¥ç¼–ç¨‹çš„æ–¹å¼è¢«åˆ›å»ºï¼ŒApplicationContextè¿˜èƒ½
ä»¥å£°æ˜çš„æ–¹å¼åˆ›å»ºï¼Œå¦‚ä½¿ç”¨ContextLoaderã€‚</p>
<p>ï¼ˆ 4 ï¼‰BeanFactoryå’ŒApplicationContextéƒ½æ”¯æŒã€‚
BeanPostProcessor.BeanFactoryPostProcessorçš„ä½¿ç”¨ï¼Œä½†ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«
æ˜¯ï¼šBeanFactoryéœ€è¦æ‰‹åŠ¨æ³¨å†Œï¼Œè€ŒApplicationContextåˆ™æ˜¯è‡ªåŠ¨æ³¨å†Œã€‚</p>
<h3 id="5-5-è¯·è§£é‡Šspringbeançš„ç”Ÿå‘½å‘¨æœŸå¿…ä¼š">5 5 è¯·è§£é‡ŠSpringBeançš„ç”Ÿå‘½å‘¨æœŸï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>é¦–å…ˆè¯´ä¸€ä¸‹Servletçš„ç”Ÿå‘½å‘¨æœŸï¼šå®ä¾‹åŒ–ï¼Œåˆå§‹initï¼Œæ¥æ”¶è¯·æ±‚serviceï¼Œ
é”€æ¯destroyï¼›
Springä¸Šä¸‹æ–‡ä¸­çš„Beanç”Ÿå‘½å‘¨æœŸä¹Ÿç±»ä¼¼ï¼Œå¦‚ä¸‹ï¼š
ï¼ˆ 1 ï¼‰å®ä¾‹åŒ–Beanï¼š
å¯¹äºBeanFactoryå®¹å™¨ï¼Œå½“å®¢æˆ·å‘å®¹å™¨è¯·æ±‚ä¸€ä¸ªå°šæœªåˆå§‹åŒ–çš„beanæ—¶ï¼Œ
æˆ–åˆå§‹åŒ–beançš„æ—¶å€™éœ€è¦æ³¨å…¥å¦ä¸€ä¸ªå°šæœªåˆå§‹åŒ–çš„ä¾èµ–æ—¶ï¼Œå®¹å™¨å°±ä¼šè°ƒç”¨
createBeanè¿›è¡Œå®ä¾‹åŒ–ã€‚å¯¹äºApplicationContextå®¹å™¨ï¼Œå½“å®¹å™¨å¯åŠ¨ç»“æŸåï¼Œ
é€šè¿‡è·å–BeanDefinitionå¯¹è±¡ä¸­çš„ä¿¡æ¯ï¼Œå®ä¾‹åŒ–æ‰€æœ‰çš„beanã€‚
ï¼ˆ 2 ï¼‰è®¾ç½®å¯¹è±¡å±æ€§ï¼ˆä¾èµ–æ³¨å…¥ï¼‰ï¼š
å®ä¾‹åŒ–åçš„å¯¹è±¡è¢«å°è£…åœ¨BeanWrapperå¯¹è±¡ä¸­ï¼Œç´§æ¥ç€ï¼ŒSpringæ ¹æ®
BeanDefinitionä¸­çš„ä¿¡æ¯ ä»¥åŠ é€šè¿‡BeanWrapperæä¾›çš„è®¾ç½®å±æ€§çš„æ¥å£å®Œ
æˆä¾èµ–æ³¨å…¥ã€‚
ï¼ˆ 3 ï¼‰å¤„ç†Awareæ¥å£ï¼š
æ¥ç€ï¼ŒSpringä¼šæ£€æµ‹è¯¥å¯¹è±¡æ˜¯å¦å®ç°äº†xxxAwareæ¥å£ï¼Œå¹¶å°†ç›¸å…³çš„
xxxAwareå®ä¾‹æ³¨å…¥ç»™Beanï¼š
å¦‚æœè¿™ä¸ªBeanå·²ç»å®ç°äº†BeanNameAwareæ¥å£ï¼Œä¼šè°ƒç”¨å®ƒå®ç°çš„
setBeanName(StringbeanId)æ–¹æ³•ï¼Œæ­¤å¤„ä¼ é€’çš„å°±æ˜¯Springé…ç½®æ–‡ä»¶ä¸­Bean
çš„idå€¼ï¼›
å¦‚æœè¿™ä¸ªBeanå·²ç»å®ç°äº†BeanFactoryAwareæ¥å£ï¼Œä¼šè°ƒç”¨å®ƒå®ç°çš„
setBeanFactory()æ–¹æ³•ï¼Œä¼ é€’çš„æ˜¯Springå·¥å‚è‡ªèº«ã€‚
å¦‚æœè¿™ä¸ªBeanå·²ç»å®ç°äº†ApplicationContextAwareæ¥å£ï¼Œä¼šè°ƒç”¨
setApplicationContext(ApplicationContext)æ–¹æ³•ï¼Œä¼ å…¥Springä¸Šä¸‹æ–‡ï¼›
ï¼ˆ 4 ï¼‰BeanPostProcessorï¼š
å¦‚æœæƒ³å¯¹Beanè¿›è¡Œä¸€äº›è‡ªå®šä¹‰çš„å¤„ç†ï¼Œé‚£ä¹ˆå¯ä»¥è®©Beanå®ç°äº†
BeanPostProcessoræ¥å£ï¼Œé‚£å°†ä¼šè°ƒç”¨
postProcessBeforeInitialization(Objectobj,Strings)æ–¹æ³•ã€‚ç”±äºè¿™ä¸ªæ–¹æ³•æ˜¯
åœ¨Beanåˆå§‹åŒ–ç»“æŸæ—¶è°ƒç”¨çš„ï¼Œæ‰€ä»¥å¯ä»¥è¢«åº”ç”¨äºå†…å­˜æˆ–ç¼“å­˜æŠ€æœ¯ï¼›
ï¼ˆ 5 ï¼‰InitializingBeanä¸init-methodï¼š</p>
<p>å¦‚æœBeanåœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®äº† init-methodå±æ€§ï¼Œåˆ™ä¼šè‡ªåŠ¨è°ƒ
ç”¨å…¶é…ç½®çš„åˆå§‹åŒ–æ–¹æ³•ã€‚
ï¼ˆ 6 ï¼‰å¦‚æœè¿™ä¸ªBeanå®ç°äº†BeanPostProcessoræ¥å£ï¼Œå°†ä¼šè°ƒç”¨
postProcessAfterInitialization(Objectobj,Strings)æ–¹æ³•ï¼›
ä»¥ä¸Šå‡ ä¸ªæ­¥éª¤å®Œæˆåï¼ŒBeanå°±å·²ç»è¢«æ­£ç¡®åˆ›å»ºäº†ï¼Œä¹‹åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª
Beanäº†ã€‚
ï¼ˆ 7 ï¼‰DisposableBeanï¼š
å½“Beanä¸å†éœ€è¦æ—¶ï¼Œä¼šç»è¿‡æ¸…ç†é˜¶æ®µï¼Œå¦‚æœBeanå®ç°äº†DisposableBean
è¿™ä¸ªæ¥å£ï¼Œä¼šè°ƒç”¨å…¶å®ç°çš„destroy()æ–¹æ³•ï¼›
ï¼ˆ 8 ï¼‰destroy-methodï¼š
æœ€åï¼Œå¦‚æœè¿™ä¸ªBeançš„Springé…ç½®ä¸­é…ç½®äº†destroy-methodå±æ€§ï¼Œä¼š
è‡ªåŠ¨è°ƒç”¨å…¶é…ç½®çš„é”€æ¯æ–¹æ³•ã€‚</p>
<h3 id="5-6-è§£é‡Šspringæ”¯æŒçš„å‡ ç§beançš„ä½œç”¨åŸŸå¿…ä¼š">5 6 è§£é‡ŠSpringæ”¯æŒçš„å‡ ç§beançš„ä½œç”¨åŸŸã€‚ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>Springå®¹å™¨ä¸­çš„beanå¯ä»¥åˆ†ä¸º 5 ä¸ªèŒƒå›´ï¼š
ï¼ˆ 1 ï¼‰singletonï¼šé»˜è®¤ï¼Œæ¯ä¸ªå®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªbeançš„å®ä¾‹ï¼Œå•ä¾‹çš„æ¨¡å¼ç”±
BeanFactoryè‡ªèº«æ¥ç»´æŠ¤ã€‚
ï¼ˆ 2 ï¼‰prototypeï¼šä¸ºæ¯ä¸€ä¸ªbeanè¯·æ±‚æä¾›ä¸€ä¸ªå®ä¾‹ã€‚
ï¼ˆ 3 ï¼‰requestï¼šä¸ºæ¯ä¸€ä¸ªç½‘ç»œè¯·æ±‚åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œåœ¨è¯·æ±‚å®Œæˆä»¥åï¼Œbean
ä¼šå¤±æ•ˆå¹¶è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚
ï¼ˆ 4 ï¼‰sessionï¼šä¸requestèŒƒå›´ç±»ä¼¼ï¼Œç¡®ä¿æ¯ä¸ªsessionä¸­æœ‰ä¸€ä¸ªbeançš„
å®ä¾‹ï¼Œåœ¨sessionè¿‡æœŸåï¼Œbeanä¼šéšä¹‹å¤±æ•ˆã€‚
ï¼ˆ 5 ï¼‰global-sessionï¼šå…¨å±€ä½œç”¨åŸŸï¼Œglobal-sessionå’ŒPortletåº”ç”¨ç›¸å…³ã€‚
å½“ä½ çš„åº”ç”¨éƒ¨ç½²åœ¨Portletå®¹å™¨ä¸­å·¥ä½œæ—¶ï¼Œå®ƒåŒ…å«å¾ˆå¤športletã€‚å¦‚æœä½ æƒ³è¦å£°
æ˜è®©æ‰€æœ‰çš„portletå…±ç”¨å…¨å±€çš„å­˜å‚¨å˜é‡çš„è¯ï¼Œé‚£ä¹ˆè¿™å…¨å±€å˜é‡éœ€è¦å­˜å‚¨åœ¨
global-sessionä¸­ã€‚å…¨å±€ä½œç”¨åŸŸä¸Servletä¸­çš„sessionä½œç”¨åŸŸæ•ˆæœç›¸åŒã€‚</p>
<h3 id="5-7-springå¸¸è§çš„æ³¨è§£å¿…ä¼š">5 7 springå¸¸è§çš„æ³¨è§£ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>@ConfigurationæŠŠä¸€ä¸ªç±»ä½œä¸ºä¸€ä¸ªIoCå®¹å™¨ï¼Œå®ƒçš„æŸä¸ªæ–¹æ³•å¤´ä¸Šå¦‚æœæ³¨å†Œäº†
@Beanï¼Œå°±ä¼šä½œä¸ºè¿™ä¸ªSpringå®¹å™¨ä¸­çš„Beanã€‚
@Scopeæ³¨è§£ ä½œç”¨åŸŸ
@Lazy(true) è¡¨ç¤ºå»¶è¿Ÿåˆå§‹åŒ–
@Serviceç”¨äºæ ‡æ³¨ä¸šåŠ¡å±‚ç»„ä»¶.</p>
<p>@Controllerç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ç»„ä»¶ï¼ˆå¦‚strutsä¸­çš„actionï¼‰
@Repositoryç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®ç»„ä»¶ï¼Œå³DAOç»„ä»¶ã€‚
@Componentæ³›æŒ‡ç»„ä»¶ï¼Œå½“ç»„ä»¶ä¸å¥½å½’ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ³¨è§£è¿›è¡Œ
æ ‡æ³¨ã€‚
@Scopeç”¨äºæŒ‡å®šscopeä½œç”¨åŸŸçš„ï¼ˆç”¨åœ¨ç±»ä¸Šï¼‰
@PostConstructç”¨äºæŒ‡å®šåˆå§‹åŒ–æ–¹æ³•ï¼ˆç”¨åœ¨æ–¹æ³•ä¸Šï¼‰
@PreDestoryç”¨äºæŒ‡å®šé”€æ¯æ–¹æ³•ï¼ˆç”¨åœ¨æ–¹æ³•ä¸Šï¼‰
@Resourceé»˜è®¤æŒ‰åç§°è£…é…ï¼Œå½“æ‰¾ä¸åˆ°ä¸åç§°åŒ¹é…çš„beanæ‰ä¼šæŒ‰ç±»å‹è£…é…ã€‚
@DependsOnï¼šå®šä¹‰Beanåˆå§‹åŒ–åŠé”€æ¯æ—¶çš„é¡ºåº
@Primaryï¼šè‡ªåŠ¨è£…é…æ—¶å½“å‡ºç°å¤šä¸ªBeanå€™é€‰è€…æ—¶ï¼Œè¢«æ³¨è§£ä¸º@Primaryçš„
Beanå°†ä½œä¸ºé¦–é€‰è€…ï¼Œå¦åˆ™å°†æŠ›å‡ºå¼‚å¸¸
@Resourceé»˜è®¤æŒ‰åç§°è£…é…ï¼Œå½“æ‰¾ä¸åˆ°ä¸åç§°åŒ¹é…çš„beanæ‰ä¼šæŒ‰ç±»å‹è£…é…ã€‚
@Autowired é»˜è®¤æŒ‰ç±»å‹è£…é…ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨æŒ‰åç§°è£…é…ï¼Œå¯ä»¥ç»“åˆ
@Qualifieræ³¨è§£ä¸€èµ·ä½¿ç”¨ã€‚å¦‚ä¸‹ï¼š@Autowired@Qualifier(&ldquo;personDaoBean&rdquo;)
å­˜åœ¨å¤šä¸ªå®ä¾‹é…åˆä½¿ç”¨</p>
<h3 id="5-8-springæ¡†æ¶ä¸­çš„å•ä¾‹beansæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹ˆäº†è§£">5 8 Springæ¡†æ¶ä¸­çš„å•ä¾‹Beansæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹ˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>Springæ¡†æ¶å¹¶æ²¡æœ‰å¯¹å•ä¾‹beanè¿›è¡Œä»»ä½•å¤šçº¿ç¨‹çš„å°è£…å¤„ç†ã€‚å…³äºå•ä¾‹
beançš„çº¿ç¨‹å®‰å…¨å’Œå¹¶å‘é—®é¢˜éœ€è¦å¼€å‘è€…è‡ªè¡Œå»æå®šã€‚ä½†å®é™…ä¸Šï¼Œå¤§éƒ¨åˆ†çš„
Springbeanå¹¶æ²¡æœ‰å¯å˜çš„çŠ¶æ€(æ¯”å¦‚Serviewç±»å’ŒDAOç±»)ï¼Œæ‰€ä»¥åœ¨æŸç§ç¨‹åº¦
ä¸Šè¯´Springçš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¦‚æœä½ çš„beanæœ‰å¤šç§çŠ¶æ€çš„è¯ï¼ˆæ¯”
å¦‚ ViewModel å¯¹è±¡ï¼‰ï¼Œå°±éœ€è¦è‡ªè¡Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚æœ€æµ…æ˜¾çš„è§£å†³åŠæ³•å°±æ˜¯å°†
å¤šæ€beançš„ä½œç”¨åŸŸç”±â€œsingletonâ€å˜æ›´ä¸ºâ€œprototypeâ€ã€‚</p>
<h3 id="5-9-springå¦‚ä½•å¤„ç†çº¿ç¨‹å¹¶å‘é—®é¢˜å¿…ä¼š">5 9 Springå¦‚ä½•å¤„ç†çº¿ç¨‹å¹¶å‘é—®é¢˜ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰æ— çŠ¶æ€çš„Beanæ‰å¯ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å…±äº«ï¼Œåœ¨Spring
ä¸­ï¼Œç»å¤§éƒ¨åˆ†Beanéƒ½å¯ä»¥å£°æ˜ä¸ºsingletonä½œç”¨åŸŸï¼Œå› ä¸ºSpringå¯¹ä¸€äº›Bean
ä¸­éçº¿ç¨‹å®‰å…¨çŠ¶æ€é‡‡ç”¨ThreadLocalè¿›è¡Œå¤„ç†ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚
ThreadLocalå’Œçº¿ç¨‹åŒæ­¥æœºåˆ¶éƒ½æ˜¯ä¸ºäº†è§£å†³å¤šçº¿ç¨‹ä¸­ç›¸åŒå˜é‡çš„è®¿é—®å†²çª
é—®é¢˜ã€‚åŒæ­¥æœºåˆ¶é‡‡ç”¨äº†â€œæ—¶é—´æ¢ç©ºé—´â€çš„æ–¹å¼ï¼Œä»…æä¾›ä¸€ä»½å˜é‡ï¼Œä¸åŒçš„çº¿ç¨‹åœ¨
è®¿é—®å‰éœ€è¦è·å–é”ï¼Œæ²¡è·å¾—é”çš„çº¿ç¨‹åˆ™éœ€è¦æ’é˜Ÿã€‚è€ŒThreadLocalé‡‡ç”¨äº†â€œç©º
é—´æ¢æ—¶é—´â€çš„æ–¹å¼ã€‚</p>
<p>ThreadLocalä¼šä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹æä¾›ä¸€ä¸ªç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œä»è€Œéš”ç¦»äº†å¤šä¸ªçº¿
ç¨‹å¯¹æ•°æ®çš„è®¿é—®å†²çªã€‚å› ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æ‹¥æœ‰è‡ªå·±çš„å˜é‡å‰¯æœ¬ï¼Œä»è€Œä¹Ÿå°±æ²¡æœ‰å¿…
è¦å¯¹è¯¥å˜é‡è¿›è¡ŒåŒæ­¥äº†ã€‚ThreadLocalæä¾›äº†çº¿ç¨‹å®‰å…¨çš„å…±äº«å¯¹è±¡ï¼Œåœ¨ç¼–å†™å¤šçº¿
ç¨‹ä»£ç æ—¶ï¼Œå¯ä»¥æŠŠä¸å®‰å…¨çš„å˜é‡å°è£…è¿›ThreadLocalã€‚</p>
<h3 id="5-10-springåŸºäºxmlæ³¨å…¥beançš„å‡ ç§æ–¹å¼å¿…ä¼š">5 10 SpringåŸºäºxmlæ³¨å…¥beançš„å‡ ç§æ–¹å¼ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h4 id="-1-setæ–¹æ³•æ³¨å…¥">ï¼ˆ 1 ï¼‰Setæ–¹æ³•æ³¨å…¥ï¼›&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h4 id="-2-æ„é€ å™¨æ³¨å…¥">ï¼ˆ 2 ï¼‰æ„é€ å™¨æ³¨å…¥ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<pre tabindex="0"><code>1 .é€šè¿‡indexè®¾ç½®å‚æ•°çš„ä½ç½®ï¼›
2 .é€šè¿‡typeè®¾ç½®å‚æ•°ç±»å‹ï¼›
3 .é€šè¿‡nameæ³¨å…¥ï¼›
</code></pre><h4 id="-3-é™æ€å·¥å‚æ³¨å…¥">ï¼ˆ 3 ï¼‰é™æ€å·¥å‚æ³¨å…¥ï¼›&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h4 id="-4-å®ä¾‹å·¥å‚">ï¼ˆ 4 ï¼‰å®ä¾‹å·¥å‚ï¼›&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h3 id="5-11-springæ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼é«˜è–ªå¿…é—®">5 11 Springæ¡†æ¶ä¸­éƒ½ç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿï¼ˆé«˜è–ªå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>ï¼ˆ 1 ï¼‰å·¥å‚æ¨¡å¼ï¼šBeanFactoryå°±æ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„ä½“ç°ï¼Œç”¨æ¥åˆ›å»ºå¯¹è±¡çš„
å®ä¾‹ï¼›
ï¼ˆ 2 ï¼‰å•ä¾‹æ¨¡å¼ï¼šBeané»˜è®¤ä¸ºå•ä¾‹æ¨¡å¼ã€‚
ï¼ˆ 3 ï¼‰ä»£ç†æ¨¡å¼ï¼šSpringçš„AOPåŠŸèƒ½ç”¨åˆ°äº†JDKçš„åŠ¨æ€ä»£ç†å’ŒCGLIBå­—èŠ‚
ç ç”ŸæˆæŠ€æœ¯ï¼›
ï¼ˆ 4 ï¼‰æ¨¡æ¿æ–¹æ³•ï¼šç”¨æ¥è§£å†³ä»£ç é‡å¤çš„é—®é¢˜ã€‚
æ¯”å¦‚.RestTemplate,JmsTemplate,JpaTemplateã€‚
ï¼ˆ 5 ï¼‰è§‚å¯Ÿè€…æ¨¡å¼ï¼šå®šä¹‰å¯¹è±¡é”®ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€
å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥è¢«åˆ¶åŠ¨æ›´æ–°ï¼Œå¦‚Springä¸­
listenerçš„å®ç°&ndash;ApplicationListenerã€‚</p>
<h3 id="5-12-springäº‹åŠ¡çš„å®ç°æ–¹å¼å’Œå®ç°åŸç†é«˜è–ªå¿…é—®">5 12 Springäº‹åŠ¡çš„å®ç°æ–¹å¼å’Œå®ç°åŸç†ï¼ˆé«˜è–ªå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>Springäº‹åŠ¡çš„æœ¬è´¨å…¶å®å°±æ˜¯æ•°æ®åº“å¯¹äº‹åŠ¡çš„æ”¯æŒï¼Œæ²¡æœ‰æ•°æ®åº“çš„äº‹åŠ¡æ”¯æŒï¼Œ
springæ˜¯æ— æ³•æä¾›äº‹åŠ¡åŠŸèƒ½çš„ã€‚çœŸæ­£çš„æ•°æ®åº“å±‚çš„äº‹åŠ¡æäº¤å’Œå›æ»šæ˜¯é€šè¿‡
binlogæˆ–è€…redologå®ç°çš„ã€‚</p>
<h4 id="-1-springäº‹åŠ¡çš„ç§ç±»">ï¼ˆ 1 ï¼‰Springäº‹åŠ¡çš„ç§ç±»ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>springæ”¯æŒç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†å’Œå£°æ˜å¼äº‹åŠ¡ç®¡ç†ä¸¤ç§æ–¹å¼ï¼š
A.ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†ä½¿ç”¨TransactionTemplateã€‚
B.å£°æ˜å¼äº‹åŠ¡ç®¡ç†å»ºç«‹åœ¨AOPä¹‹ä¸Šçš„ã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡AOPåŠŸèƒ½ï¼Œå¯¹æ–¹æ³•å‰
åè¿›è¡Œæ‹¦æˆªï¼Œå°†äº‹åŠ¡å¤„ç†çš„åŠŸèƒ½ç¼–ç»‡åˆ°æ‹¦æˆªçš„æ–¹æ³•ä¸­ï¼Œä¹Ÿå°±æ˜¯åœ¨ç›®æ ‡æ–¹æ³•å¼€å§‹ä¹‹
å‰åŠ å…¥ä¸€ä¸ªäº‹åŠ¡ï¼Œåœ¨æ‰§è¡Œå®Œç›®æ ‡æ–¹æ³•ä¹‹åæ ¹æ®æ‰§è¡Œæƒ…å†µæäº¤æˆ–è€…å›æ»šäº‹åŠ¡ã€‚
å£°æ˜å¼äº‹åŠ¡æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯ä¸éœ€è¦åœ¨ä¸šåŠ¡é€»è¾‘ä»£ç ä¸­æºæ‚äº‹åŠ¡ç®¡ç†çš„ä»£ç ï¼Œ
åªéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­åšç›¸å…³çš„äº‹åŠ¡è§„åˆ™å£°æ˜æˆ–é€šè¿‡@Transactionalæ³¨è§£çš„æ–¹å¼ï¼Œ
ä¾¿å¯ä»¥å°†äº‹åŠ¡è§„åˆ™åº”ç”¨åˆ°ä¸šåŠ¡é€»è¾‘ä¸­ã€‚
å£°æ˜å¼äº‹åŠ¡ç®¡ç†è¦ä¼˜äºç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†ï¼Œè¿™æ­£æ˜¯springå€¡å¯¼çš„éä¾µå…¥å¼çš„
å¼€å‘æ–¹å¼ï¼Œä½¿ä¸šåŠ¡ä»£ç ä¸å—æ±¡æŸ“ï¼Œåªè¦åŠ ä¸Šæ³¨è§£å°±å¯ä»¥è·å¾—å®Œå…¨çš„äº‹åŠ¡æ”¯æŒã€‚å”¯
ä¸€ä¸è¶³åœ°æ–¹æ˜¯ï¼Œæœ€ç»†ç²’åº¦åªèƒ½ä½œç”¨åˆ°æ–¹æ³•çº§åˆ«ï¼Œæ— æ³•åšåˆ°åƒç¼–ç¨‹å¼äº‹åŠ¡é‚£æ ·å¯ä»¥
ä½œç”¨åˆ°ä»£ç å—çº§åˆ«ã€‚</p>
<h4 id="-2-springçš„äº‹åŠ¡ä¼ æ’­è¡Œä¸º">ï¼ˆ 2 ï¼‰Springçš„äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>Springäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºè¯´çš„æ˜¯ï¼Œå½“å¤šä¸ªäº‹åŠ¡åŒæ—¶å­˜åœ¨çš„æ—¶å€™ï¼ŒSpringå¦‚ä½•
å¤„ç†è¿™äº›äº‹åŠ¡çš„è¡Œä¸ºã€‚
â‘  PROPAGATION_REQUIREDï¼šå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°äº‹åŠ¡ï¼Œ
å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±åŠ å…¥è¯¥äº‹åŠ¡ï¼Œè¯¥è®¾ç½®æ˜¯æœ€å¸¸ç”¨çš„è®¾ç½®ã€‚
â‘¡ PROPAGATION_SUPPORTSï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±
åŠ å…¥è¯¥äº‹åŠ¡ï¼Œå¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ‰§è¡Œã€‚â€˜
â‘¢ PROPAGATION_MANDATORYï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œ
å°±åŠ å…¥è¯¥äº‹åŠ¡ï¼Œå¦‚æœå½“å‰ä¸å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚
â‘£ PROPAGATION_REQUIRES_NEWï¼šåˆ›å»ºæ–°äº‹åŠ¡ï¼Œæ— è®ºå½“å‰å­˜ä¸å­˜åœ¨äº‹
åŠ¡ï¼Œéƒ½åˆ›å»ºæ–°äº‹åŠ¡ã€‚
â‘¤ PROPAGATION_NOT_SUPPORTEDï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“
å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚
â‘¥ PROPAGATION_NEVERï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™
æŠ›å‡ºå¼‚å¸¸ã€‚
â‘¦ PROPAGATION_NESTEDï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚
å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æŒ‰REQUIREDå±æ€§æ‰§è¡Œã€‚</p>
<h4 id="-3-springä¸­çš„éš”ç¦»çº§åˆ«">ï¼ˆ 3 ï¼‰Springä¸­çš„éš”ç¦»çº§åˆ«ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>â‘ ISOLATION_DEFAULTï¼šè¿™æ˜¯ä¸ªPlatfromTransactionManageré»˜è®¤çš„
éš”ç¦»çº§åˆ«ï¼Œä½¿ç”¨æ•°æ®åº“é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚</p>
<h5 id="isolation_read_uncommittedè¯»æœªæäº¤å…è®¸å¦å¤–ä¸€ä¸ªäº‹åŠ¡å¯">â‘¡ISOLATION_READ_UNCOMMITTEDï¼šè¯»æœªæäº¤ï¼Œå…è®¸å¦å¤–ä¸€ä¸ªäº‹åŠ¡å¯</h5>
<h5 id="ä»¥çœ‹åˆ°è¿™ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®">ä»¥çœ‹åˆ°è¿™ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚</h5>
<h5 id="isolation_read_committedè¯»å·²æäº¤ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°">â‘¢ISOLATION_READ_COMMITTEDï¼šè¯»å·²æäº¤ï¼Œä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°</h5>
<h5 id="æ®æäº¤åæ‰èƒ½è¢«å¦ä¸€äº‹åŠ¡è¯»å–è€Œä¸”èƒ½çœ‹åˆ°è¯¥äº‹åŠ¡å¯¹å·²æœ‰è®°å½•çš„æ›´æ–°">æ®æäº¤åæ‰èƒ½è¢«å¦ä¸€äº‹åŠ¡è¯»å–ï¼Œè€Œä¸”èƒ½çœ‹åˆ°è¯¥äº‹åŠ¡å¯¹å·²æœ‰è®°å½•çš„æ›´æ–°ã€‚</h5>
<h5 id="isolation_repeatable_readå¯é‡å¤è¯»ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®">â‘£ISOLATION_REPEATABLE_READï¼šå¯é‡å¤è¯»ï¼Œä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®</h5>
<h5 id="æäº¤åæ‰èƒ½è¢«å¦ä¸€äº‹åŠ¡è¯»å–ä½†æ˜¯ä¸èƒ½çœ‹åˆ°è¯¥äº‹åŠ¡å¯¹å·²æœ‰è®°å½•çš„æ›´æ–°">æäº¤åæ‰èƒ½è¢«å¦ä¸€äº‹åŠ¡è¯»å–ï¼Œä½†æ˜¯ä¸èƒ½çœ‹åˆ°è¯¥äº‹åŠ¡å¯¹å·²æœ‰è®°å½•çš„æ›´æ–°ã€‚</h5>
<h5 id="isolation_serializableä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å®Œå…¨çœ‹ä¸åˆ°å…¶ä»–">â‘¤ISOLATION_SERIALIZABLEï¼šä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­å®Œå…¨çœ‹ä¸åˆ°å…¶ä»–</h5>
<h5 id="äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€åšçš„æ›´æ–°">äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€åšçš„æ›´æ–°ã€‚</h5>
<h3 id="5-13-è§£é‡Šä¸€ä¸‹springaopé‡Œé¢çš„å‡ ä¸ªåè¯äº†è§£">5 13 è§£é‡Šä¸€ä¸‹SpringAOPé‡Œé¢çš„å‡ ä¸ªåè¯ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>ï¼ˆ 1 ï¼‰åˆ‡é¢ï¼ˆAspectï¼‰ï¼šè¢«æŠ½å–çš„å…¬å…±æ¨¡å—ï¼Œå¯èƒ½ä¼šæ¨ªåˆ‡å¤šä¸ªå¯¹è±¡ã€‚åœ¨Spring
AOPä¸­ï¼Œåˆ‡é¢å¯ä»¥ä½¿ç”¨é€šç”¨ç±»ï¼ˆåŸºäºæ¨¡å¼çš„é£æ ¼ï¼‰æˆ–è€…åœ¨æ™®é€šç±»ä¸­
ä»¥@AspectJæ³¨è§£æ¥å®ç°ã€‚
ï¼ˆ 2 ï¼‰è¿æ¥ç‚¹ï¼ˆJoinpointï¼‰ï¼šæŒ‡æ–¹æ³•ï¼Œåœ¨SpringAOPä¸­ï¼Œä¸€ä¸ªè¿æ¥ç‚¹æ€»
æ˜¯ä»£è¡¨ä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œã€‚
ï¼ˆ 3 ï¼‰é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåœ¨åˆ‡é¢çš„æŸä¸ªç‰¹å®šçš„è¿æ¥ç‚¹ï¼ˆJoinpointï¼‰ä¸Šæ‰§è¡Œ
çš„åŠ¨ä½œã€‚é€šçŸ¥æœ‰å„ç§ç±»å‹ï¼Œå…¶ä¸­åŒ…æ‹¬â€œaroundâ€.â€œbeforeâ€å’Œâ€œafterâ€ç­‰é€šçŸ¥ã€‚
è®¸å¤šAOPæ¡†æ¶ï¼ŒåŒ…æ‹¬Springï¼Œéƒ½æ˜¯ä»¥æ‹¦æˆªå™¨åšé€šçŸ¥æ¨¡å‹ï¼Œå¹¶ç»´æŠ¤ä¸€ä¸ªä»¥è¿æ¥
ç‚¹ä¸ºä¸­å¿ƒçš„æ‹¦æˆªå™¨é“¾ã€‚
ï¼ˆ 4 ï¼‰åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼šåˆ‡å…¥ç‚¹æ˜¯æŒ‡ æˆ‘ä»¬è¦å¯¹å“ªäº›Joinpointè¿›è¡Œæ‹¦æˆª
çš„å®šä¹‰ã€‚é€šè¿‡åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼ŒæŒ‡å®šæ‹¦æˆªçš„æ–¹æ³•ï¼Œæ¯”å¦‚æŒ‡å®šæ‹¦æˆªadd*.search*ã€‚
ï¼ˆ 5 ï¼‰å¼•å…¥ï¼ˆIntroductionï¼‰ï¼šï¼ˆä¹Ÿè¢«ç§°ä¸ºå†…éƒ¨ç±»å‹å£°æ˜ï¼ˆinter-type
declarationï¼‰ï¼‰ã€‚å£°æ˜é¢å¤–çš„æ–¹æ³•æˆ–è€…æŸä¸ªç±»å‹çš„å­—æ®µã€‚Springå…è®¸å¼•å…¥æ–°çš„
æ¥å£ï¼ˆä»¥åŠä¸€ä¸ªå¯¹åº”çš„å®ç°ï¼‰åˆ°ä»»ä½•è¢«ä»£ç†çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¼•å…¥
æ¥ä½¿beanå®ç°IsModifiedæ¥å£ï¼Œä»¥ä¾¿ç®€åŒ–ç¼“å­˜æœºåˆ¶ã€‚
ï¼ˆ 6 ï¼‰ç›®æ ‡å¯¹è±¡ï¼ˆTargetObjectï¼‰ï¼šè¢«ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ‡é¢ï¼ˆaspectï¼‰æ‰€é€š
çŸ¥ï¼ˆadviseï¼‰çš„å¯¹è±¡ã€‚ä¹Ÿæœ‰äººæŠŠå®ƒå«åšè¢«é€šçŸ¥ï¼ˆadvicedï¼‰å¯¹è±¡ã€‚æ—¢ç„¶Spring
AOPæ˜¯é€šè¿‡è¿è¡Œæ—¶ä»£ç†å®ç°çš„ï¼Œè¿™ä¸ªå¯¹è±¡æ°¸è¿œæ˜¯ä¸€ä¸ªè¢«ä»£ç†ï¼ˆproxiedï¼‰å¯¹è±¡ã€‚
ï¼ˆ 7 ï¼‰ç»‡å…¥ï¼ˆWeavingï¼‰ï¼šæŒ‡æŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡æ¥åˆ›å»ºæ–°çš„ä»£ç†å¯¹è±¡çš„
è¿‡ç¨‹ã€‚Springæ˜¯åœ¨è¿è¡Œæ—¶å®Œæˆç»‡å…¥ã€‚</p>
<p>åˆ‡å…¥ç‚¹ï¼ˆpointcutï¼‰å’Œè¿æ¥ç‚¹ï¼ˆjoinpointï¼‰åŒ¹é…çš„æ¦‚å¿µæ˜¯AOPçš„å…³é”®ï¼Œè¿™
ä½¿å¾—AOPä¸åŒäºå…¶å®ƒä»…ä»…æä¾›æ‹¦æˆªåŠŸèƒ½çš„æ—§æŠ€æœ¯ã€‚åˆ‡å…¥ç‚¹ä½¿å¾—å®šä½é€šçŸ¥
ï¼ˆadviceï¼‰å¯ç‹¬ç«‹äºOOå±‚æ¬¡ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæä¾›å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„aroundé€š
çŸ¥å¯ä»¥è¢«åº”ç”¨åˆ°ä¸€ç»„æ¨ªè·¨å¤šä¸ªå¯¹è±¡ä¸­çš„æ–¹æ³•ä¸Šï¼ˆä¾‹å¦‚æœåŠ¡å±‚çš„æ‰€æœ‰ä¸šåŠ¡æ“ä½œï¼‰ã€‚</p>
<h3 id="5-14-springé€šçŸ¥æœ‰å“ªäº›ç±»å‹äº†è§£">5 14 Springé€šçŸ¥æœ‰å“ªäº›ç±»å‹ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>ï¼ˆ 1 ï¼‰å‰ç½®é€šçŸ¥ï¼ˆBeforeadviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹ï¼ˆjoinpointï¼‰ä¹‹å‰æ‰§è¡Œçš„
é€šçŸ¥ï¼Œä½†è¿™ä¸ªé€šçŸ¥ä¸èƒ½é˜»æ­¢è¿æ¥ç‚¹å‰çš„æ‰§è¡Œï¼ˆé™¤éå®ƒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼‰ã€‚
ï¼ˆ 2 ï¼‰è¿”å›åé€šçŸ¥ï¼ˆAfterreturningadviceï¼‰ï¼šåœ¨æŸè¿æ¥ç‚¹ï¼ˆjoinpointï¼‰
æ­£å¸¸å®Œæˆåæ‰§è¡Œçš„é€šçŸ¥ï¼šä¾‹å¦‚ï¼Œä¸€ä¸ªæ–¹æ³•æ²¡æœ‰æŠ›å‡ºä»»ä½•å¼‚å¸¸ï¼Œæ­£å¸¸è¿”å›ã€‚
ï¼ˆ 3 ï¼‰æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥ï¼ˆAfterthrowingadviceï¼‰ï¼šåœ¨æ–¹æ³•æŠ›å‡ºå¼‚å¸¸é€€å‡ºæ—¶
æ‰§è¡Œçš„é€šçŸ¥ã€‚
ï¼ˆ 4 ï¼‰åé€šçŸ¥ï¼ˆAfter(finally)adviceï¼‰ï¼šå½“æŸè¿æ¥ç‚¹é€€å‡ºçš„æ—¶å€™æ‰§è¡Œçš„é€šçŸ¥
ï¼ˆä¸è®ºæ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸é€€å‡ºï¼‰ã€‚
ï¼ˆ 5 ï¼‰ç¯ç»•é€šçŸ¥ï¼ˆAroundAdviceï¼‰ï¼šåŒ…å›´ä¸€ä¸ªè¿æ¥ç‚¹ï¼ˆjoinpointï¼‰çš„é€šçŸ¥ï¼Œ
å¦‚æ–¹æ³•è°ƒç”¨ã€‚è¿™æ˜¯æœ€å¼ºå¤§çš„ä¸€ç§é€šçŸ¥ç±»å‹ã€‚ç¯ç»•é€šçŸ¥å¯ä»¥åœ¨æ–¹æ³•è°ƒç”¨å‰åå®Œæˆ
è‡ªå®šä¹‰çš„è¡Œä¸ºã€‚å®ƒä¹Ÿä¼šé€‰æ‹©æ˜¯å¦ç»§ç»­æ‰§è¡Œè¿æ¥ç‚¹æˆ–ç›´æ¥è¿”å›å®ƒä»¬è‡ªå·±çš„è¿”å›å€¼æˆ–
æŠ›å‡ºå¼‚å¸¸æ¥ç»“æŸæ‰§è¡Œã€‚ç¯ç»•é€šçŸ¥æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§é€šçŸ¥ç±»å‹ã€‚å¤§éƒ¨åˆ†åŸºäºæ‹¦æˆªçš„
AOPæ¡†æ¶ï¼Œä¾‹å¦‚Nanningå’ŒJBoss 4 ï¼Œéƒ½åªæä¾›ç¯ç»•é€šçŸ¥ã€‚</p>
<h2 id="å…­springmvcæ¡†æ¶">å…­ï¼SpringMVCæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="6-1-ä»€ä¹ˆæ˜¯springmvcç®€å•ä»‹ç»ä¸‹ä½ å¯¹springmvcçš„ç†è§£äº†è§£">6 1 ä»€ä¹ˆæ˜¯SpringMVCï¼Ÿç®€å•ä»‹ç»ä¸‹ä½ å¯¹SpringMVCçš„ç†è§£?ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>SpringMVCæ˜¯ä¸€ä¸ªåŸºäºJavaçš„å®ç°äº†MVCè®¾è®¡æ¨¡å¼çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»
é‡çº§Webæ¡†æ¶ï¼Œé€šè¿‡æŠŠModelï¼ŒViewï¼ŒControlleråˆ†ç¦»ï¼Œå°†webå±‚è¿›è¡ŒèŒè´£
è§£è€¦ï¼ŒæŠŠå¤æ‚çš„webåº”ç”¨åˆ†æˆé€»è¾‘æ¸…æ™°çš„å‡ éƒ¨åˆ†ï¼Œç®€åŒ–å¼€å‘ï¼Œå‡å°‘å‡ºé”™ï¼Œæ–¹ä¾¿
ç»„å†…å¼€å‘äººå‘˜ä¹‹é—´çš„é…åˆã€‚</p>
<h3 id="6-2-springmvcçš„æµç¨‹å¿…ä¼š">6 2 SpringMVCçš„æµç¨‹ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>ï¼ˆ 1 ï¼‰ç”¨æˆ·å‘é€è¯·æ±‚è‡³å‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼›
ï¼ˆ 2 ï¼‰ DispatcherServletæ”¶åˆ°è¯·æ±‚åï¼Œè°ƒç”¨HandlerMappingå¤„ç†å™¨æ˜ 
å°„å™¨ï¼Œè¯·æ±‚è·å–Handleï¼›
ï¼ˆ 3 ï¼‰å¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®è¯·æ±‚urlæ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„
ç†å™¨æ‹¦æˆªå™¨(å¦‚æœæœ‰åˆ™ç”Ÿæˆ)ä¸€å¹¶è¿”å›ç»™DispatcherServletï¼›
ï¼ˆ 4 ï¼‰DispatcherServlet è°ƒç”¨ HandlerAdapterå¤„ç†å™¨é€‚é…å™¨ï¼›
ï¼ˆ 5 ï¼‰HandlerAdapter ç»è¿‡é€‚é…è°ƒç”¨ å…·ä½“å¤„ç†å™¨(Handlerï¼Œä¹Ÿå«åç«¯æ§
åˆ¶å™¨)ï¼›</p>
<p>ï¼ˆ 6 ï¼‰Handleræ‰§è¡Œå®Œæˆè¿”å›ModelAndViewï¼›
ï¼ˆ 7 ï¼‰HandlerAdapterå°†Handleræ‰§è¡Œç»“æœModelAndViewè¿”å›ç»™
DispatcherServletï¼›
ï¼ˆ 8 ï¼‰DispatcherServletå°†ModelAndViewä¼ ç»™ViewResolverè§†å›¾è§£æ
å™¨è¿›è¡Œè§£æï¼›
ï¼ˆ 9 ï¼‰ViewResolverè§£æåè¿”å›å…·ä½“Viewï¼›
ï¼ˆ 10 ï¼‰DispatcherServletå¯¹Viewè¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†
å›¾ä¸­ï¼‰
ï¼ˆ 11 ï¼‰DispatcherServletå“åº”ç”¨æˆ·ã€‚</p>
<h3 id="6-3-springmvcçš„ä¸»è¦ç»„ä»¶å¿…ä¼š">6 3 SpringMVCçš„ä¸»è¦ç»„ä»¶ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h4 id="-1-å‰ç«¯æ§åˆ¶å™¨dispatcherservletä¸éœ€è¦ç¨‹åºå‘˜å¼€å‘">ï¼ˆ 1 ï¼‰å‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼ˆä¸éœ€è¦ç¨‹åºå‘˜å¼€å‘ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>ä½œç”¨ï¼šæ¥æ”¶è¯·æ±‚.å“åº”ç»“æœï¼Œç›¸å½“äºè½¬å‘å™¨ï¼Œæœ‰äº†DispatcherServlet å°±å‡å°‘äº†
å…¶å®ƒç»„ä»¶ä¹‹é—´çš„è€¦åˆåº¦ã€‚</p>
<h4 id="-2-å¤„ç†å™¨æ˜ å°„å™¨handlermappingä¸éœ€è¦ç¨‹åºå‘˜å¼€å‘">ï¼ˆ 2 ï¼‰å¤„ç†å™¨æ˜ å°„å™¨HandlerMappingï¼ˆä¸éœ€è¦ç¨‹åºå‘˜å¼€å‘ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>ä½œç”¨ï¼šæ ¹æ®è¯·æ±‚çš„URLæ¥æŸ¥æ‰¾Handler</p>
<h4 id="-3-å¤„ç†å™¨é€‚é…å™¨handleradapter">ï¼ˆ 3 ï¼‰å¤„ç†å™¨é€‚é…å™¨HandlerAdapter&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>æ³¨æ„ï¼šåœ¨ç¼–å†™Handlerçš„æ—¶å€™è¦æŒ‰ç…§HandlerAdapterè¦æ±‚çš„è§„åˆ™å»ç¼–å†™ï¼Œè¿™
æ ·é€‚é…å™¨HandlerAdapteræ‰å¯ä»¥æ­£ç¡®çš„å»æ‰§è¡ŒHandlerã€‚</p>
<h4 id="-4-å¤„ç†å™¨handleréœ€è¦ç¨‹åºå‘˜å¼€å‘">ï¼ˆ 4 ï¼‰å¤„ç†å™¨Handlerï¼ˆéœ€è¦ç¨‹åºå‘˜å¼€å‘ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h4 id="-5-è§†å›¾è§£æå™¨viewresolverä¸éœ€è¦ç¨‹åºå‘˜å¼€å‘">ï¼ˆ 5 ï¼‰è§†å›¾è§£æå™¨ViewResolverï¼ˆä¸éœ€è¦ç¨‹åºå‘˜å¼€å‘ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>ä½œç”¨ï¼šè¿›è¡Œè§†å›¾çš„è§£æï¼Œæ ¹æ®è§†å›¾é€»è¾‘åè§£ææˆçœŸæ­£çš„è§†å›¾ï¼ˆviewï¼‰</p>
<h4 id="-6-è§†å›¾viewéœ€è¦ç¨‹åºå‘˜å¼€å‘jsp">ï¼ˆ 6 ï¼‰è§†å›¾Viewï¼ˆéœ€è¦ç¨‹åºå‘˜å¼€å‘jspï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>Viewæ˜¯ä¸€ä¸ªæ¥å£ï¼Œ å®ƒçš„å®ç°ç±»æ”¯æŒä¸åŒçš„è§†å›¾ç±»å‹ï¼ˆjspï¼Œfreemarkerï¼Œpdf
ç­‰ç­‰ï¼‰</p>
<h3 id="6-4-springmvcå’Œstruts-2-çš„åŒºåˆ«æœ‰å“ªäº›å¿…é—®">6 4 SpringMVCå’ŒStruts 2 çš„åŒºåˆ«æœ‰å“ªäº›?ï¼ˆå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>ï¼ˆ 1 ï¼‰SpringMVCçš„å…¥å£æ˜¯ä¸€ä¸ªservletå³å‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatchServletï¼‰ï¼Œ
è€Œstruts 2 å…¥å£æ˜¯ä¸€ä¸ªfilterè¿‡è™‘å™¨ï¼ˆStrutsPrepareAndExecuteFilterï¼‰ã€‚
ï¼ˆ 2 ï¼‰SpringMVCæ˜¯åŸºäºæ–¹æ³•å¼€å‘(ä¸€ä¸ªurlå¯¹åº”ä¸€ä¸ªæ–¹æ³•)ï¼Œè¯·æ±‚å‚æ•°ä¼ é€’
åˆ°æ–¹æ³•çš„å½¢å‚ï¼Œå¯ä»¥è®¾è®¡ä¸ºå•ä¾‹æˆ–å¤šä¾‹(å»ºè®®å•ä¾‹)ï¼Œstruts 2 æ˜¯åŸºäºç±»å¼€å‘ï¼Œä¼ 
é€’å‚æ•°æ˜¯é€šè¿‡ç±»çš„å±æ€§ï¼Œåªèƒ½è®¾è®¡ä¸ºå¤šä¾‹ã€‚
ï¼ˆ 3 ï¼‰Strutsé‡‡ç”¨å€¼æ ˆå­˜å‚¨è¯·æ±‚å’Œå“åº”çš„æ•°æ®ï¼Œé€šè¿‡OGNLå­˜å–æ•°æ®ï¼Œ</p>
<p>SpringMVCé€šè¿‡å‚æ•°è§£æå™¨æ˜¯å°†requestè¯·æ±‚å†…å®¹è§£æï¼Œå¹¶ç»™æ–¹æ³•å½¢å‚èµ‹å€¼ï¼Œ
å°†æ•°æ®å’Œè§†å›¾å°è£…æˆModelAndViewå¯¹è±¡ï¼Œæœ€ååˆå°†ModelAndViewä¸­çš„æ¨¡
å‹æ•°æ®é€šè¿‡requesåŸŸä¼ è¾“åˆ°é¡µé¢ã€‚Jspè§†å›¾è§£æå™¨é»˜è®¤ä½¿ç”¨jstlã€‚</p>
<h3 id="6-5-springmvcæ€ä¹ˆå’Œajaxç›¸äº’è°ƒç”¨çš„å¿…ä¼š">6 5 SpringMVCæ€ä¹ˆå’ŒAjaxç›¸äº’è°ƒç”¨çš„ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>é€šè¿‡Jacksonæ¡†æ¶å°±å¯ä»¥æŠŠJavaé‡Œé¢çš„å¯¹è±¡ç›´æ¥è½¬åŒ–æˆJså¯ä»¥è¯†åˆ«çš„Json
å¯¹è±¡ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ ï¼š
ï¼ˆ 1 ï¼‰åŠ å…¥Jackson.jar
ï¼ˆ 2 ï¼‰åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®jsonçš„æ˜ å°„
ï¼ˆ 3 ï¼‰åœ¨æ¥å—Ajaxæ–¹æ³•é‡Œé¢å¯ä»¥ç›´æ¥è¿”å›Object,Listç­‰,ä½†æ–¹æ³•å‰é¢è¦åŠ ä¸Š
@ResponseBodyæ³¨è§£ã€‚</p>
<h3 id="6-6-å¦‚ä½•è§£å†³postè¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜getçš„åˆå¦‚ä½•å¤„ç†å‘¢äº†è§£">6 6 å¦‚ä½•è§£å†³Postè¯·æ±‚ä¸­æ–‡ä¹±ç é—®é¢˜ï¼ŒGetçš„åˆå¦‚ä½•å¤„ç†å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h4 id="-1-è§£å†³postè¯·æ±‚ä¹±ç é—®é¢˜">ï¼ˆ 1 ï¼‰è§£å†³postè¯·æ±‚ä¹±ç é—®é¢˜ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>åœ¨web.xmlä¸­é…ç½®ä¸€ä¸ªCharacterEncodingFilterè¿‡æ»¤å™¨ï¼Œè®¾ç½®æˆutf- 8 ï¼›
&lt;&lt;ffiilltteerr&gt;-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
&lt;p&lt;ainraitm-p-anraamme&gt;&gt;encoding&lt;/param-name&gt;
&lt;&lt;p/ianriat-mp-avraalmue&gt;&gt;utf- 8 &lt;/param-value&gt;
&lt;/filter&gt;
&lt;fi&lt;ltfeirlt-emr-anpapmineg&gt;&gt;CharacterEncodingFilter&lt;/filter-name&gt;
&lt;/&lt;filuterlr--pmaattpeprnin&gt;g/&gt;*&lt;/url-pattern&gt;
</code></pre><h4 id="-2-getè¯·æ±‚ä¸­æ–‡å‚æ•°å‡ºç°ä¹±ç è§£å†³æ–¹æ³•æœ‰ä¸¤ä¸ª">ï¼ˆ 2 ï¼‰getè¯·æ±‚ä¸­æ–‡å‚æ•°å‡ºç°ä¹±ç è§£å†³æ–¹æ³•æœ‰ä¸¤ä¸ªï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>ä¿®æ”¹tomcaté…ç½®æ–‡ä»¶æ·»åŠ ç¼–ç ä¸å·¥ç¨‹ç¼–ç ä¸€è‡´ï¼Œå¦‚ä¸‹ï¼š
&lt;ConnectorURIEncoding=&ldquo;utf- 8 &ldquo;connectionTimeout=&rdquo; 20000 &ldquo;port
=&rdquo; 8080 &ldquo;protocol=&ldquo;HTTP/ 1. 1 &ldquo;redirectPort=&rdquo; 8443 &ldquo;/&gt;
å¦å¤–ä¸€ç§æ–¹æ³•å¯¹å‚æ•°è¿›è¡Œé‡æ–°ç¼–ç ï¼š</p>
<p>StringuserName=newString(request.getParamter(&ldquo;userName&rdquo;).get
Bytes(&ldquo;ISO 8859 - 1 &ldquo;),&ldquo;utf- 8 &ldquo;)
ISO 8859 - 1 æ˜¯tomcaté»˜è®¤ç¼–ç ï¼Œéœ€è¦å°†tomcatç¼–ç åçš„å†…å®¹æŒ‰utf- 8 ç¼–
ç ã€‚</p>
<h3 id="6-7-springmvcå¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›å¿…é—®">6 7 SpringMVCå¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿï¼ˆå¿…é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>@RequestMappingï¼šç”¨äºå¤„ç†è¯·æ±‚ url æ˜ å°„çš„æ³¨è§£ï¼Œå¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚
ç”¨äºç±»ä¸Šï¼Œåˆ™è¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚</p>
<p>@RequestBodyï¼šæ³¨è§£å®ç°æ¥æ”¶httpè¯·æ±‚çš„jsonæ•°æ®ï¼Œå°†jsonè½¬æ¢ä¸ºjava
å¯¹è±¡ã€‚</p>
<p>@ResponseBodyï¼šæ³¨è§£å®ç°å°†conreolleræ–¹æ³•è¿”å›å¯¹è±¡è½¬åŒ–ä¸ºjsonå¯¹è±¡
å“åº”ç»™å®¢æˆ·ã€‚</p>
<h3 id="6-8-springmvcé‡Œé¢æ‹¦æˆªå™¨æ˜¯æ€ä¹ˆå†™çš„äº†è§£">6 8 SpringMVCé‡Œé¢æ‹¦æˆªå™¨æ˜¯æ€ä¹ˆå†™çš„ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>æœ‰ä¸¤ç§å†™æ³•,ä¸€ç§æ˜¯å®ç°HandlerInterceptoræ¥å£ï¼Œå¦å¤–ä¸€ç§æ˜¯ç»§æ‰¿é€‚é…å™¨
ç±»ï¼Œæ¥ç€åœ¨æ¥å£æ–¹æ³•å½“ä¸­ï¼Œå®ç°å¤„ç†é€»è¾‘ï¼›ç„¶ååœ¨SpringMVCçš„é…ç½®æ–‡ä»¶ä¸­é…
ç½®æ‹¦æˆªå™¨å³å¯ï¼š</p>
<!-- raw HTML omitted -->
<p><a class="link" href="mvc:interceptors" >mvc:interceptors</a></p>
<!-- raw HTML omitted -->
<p>&lt;beanid=&ldquo;myInterceptor&rdquo;
class=&ldquo;com.zwp.action.MyHandlerInterceptor&rdquo;&gt;<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><a class="link" href="mvc:interceptor" >mvc:interceptor</a>
<a class="link" href="mvc:mappingpath=%22/modelMap.do%22/" >mvc:mappingpath="/modelMap.do"/</a>
&lt;beanclass=&ldquo;com.zwp.action.MyHandlerInterceptorAdapter&rdquo;/&gt;
&lt;/mvc:interceptor&gt;
&lt;/mvc:interceptors&gt;</p>
<h2 id="ä¸ƒsaasé¡¹ç›®">ä¸ƒï¼Saasé¡¹ç›®&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h2>
<h3 id="7-1-ä»‹ç»è¯æœ¯">7 1 ä»‹ç»è¯æœ¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="æˆ‘åšçš„æ˜¯ä¸€ä¸ªxxxçš„å›½é™…è´§è¿å¹³å°-æ»¡è¶³å›½é™…è´§è¿ä¼ä¸šçš„åŸºç¡€æ•°æ®ç®¡ç†">æˆ‘åšçš„æ˜¯ä¸€ä¸ªXXXçš„å›½é™…è´§è¿å¹³å°ï¼Œ æ»¡è¶³å›½é™…è´§è¿ä¼ä¸šçš„åŸºç¡€æ•°æ®ç®¡ç†ã€</h5>
<h5 id="ä¸šåŠ¡è¿‡ç¨‹ç®¡ç†è¾…åŠ©å†³ç­–è´¢åŠ¡ç®¡ç†ç­‰è¦æ±‚åŒ…æ‹¬æ¨¡å—æµ·è¿ç©ºè¿æµ·ç©ºè”">ä¸šåŠ¡è¿‡ç¨‹ç®¡ç†ã€è¾…åŠ©å†³ç­–ã€è´¢åŠ¡ç®¡ç†ç­‰è¦æ±‚ï¼ˆåŒ…æ‹¬æ¨¡å—æµ·è¿ã€ç©ºè¿ã€æµ·ç©ºè”</h5>
<h5 id="è¿å®ç°æ¥å—å§”æ‰˜è¿›ä»“é€šçŸ¥è®¢ä»“æŠ¥å…³è´¹ç”¨ç»“ç®—ç­‰ä¸€ç³»åˆ—æµç¨‹çš„é«˜">è¿ï¼‰ï¼›å®ç°æ¥å—å§”æ‰˜ã€è¿›ä»“é€šçŸ¥ã€è®¢ä»“ã€æŠ¥å…³ã€è´¹ç”¨ç»“ç®—ç­‰ä¸€ç³»åˆ—æµç¨‹çš„é«˜</h5>
<h5 id="åº¦é›†æˆå¤šç•Œé¢æ•°æ®å…±äº«å¯¹åŒä¸€ç¥¨è´§æ•°æ®åŸºæœ¬å¯ä»¥åœ¨åŒä¸€å±å¹•å†…å®Œæˆæ— ">åº¦é›†æˆï¼Œå¤šç•Œé¢æ•°æ®å…±äº«ï¼Œå¯¹åŒä¸€ç¥¨è´§æ•°æ®åŸºæœ¬å¯ä»¥åœ¨åŒä¸€å±å¹•å†…å®Œæˆï¼Œæ— </h5>
<h5 id="éœ€é¢‘ç¹åˆ‡æ¢ç”»é¢æ“ä½œæ–¹ä¾¿å¤§å¤§æé«˜æ•ˆç‡ç³»ç»Ÿæ¨¡å—ä¸»è¦åŒ…å«">éœ€é¢‘ç¹åˆ‡æ¢ç”»é¢ï¼Œæ“ä½œæ–¹ä¾¿ï¼Œå¤§å¤§æé«˜æ•ˆç‡ã€‚ç³»ç»Ÿæ¨¡å—ä¸»è¦åŒ…å«ï¼š</h5>
<h5 id="åŸºç¡€ä¿¡æ¯ç®¡ç†ç³»ç»Ÿç®¡ç†è´§è¿ç®¡ç†æŠ¥è¡¨ç®¡ç†ç»Ÿè®¡åˆ†æè´¢åŠ¡ç®¡ç†ä¸š">åŸºç¡€ä¿¡æ¯ç®¡ç†ï¼Œç³»ç»Ÿç®¡ç†ï¼Œè´§è¿ç®¡ç†ï¼ŒæŠ¥è¡¨ç®¡ç†ï¼Œç»Ÿè®¡åˆ†æï¼Œè´¢åŠ¡ç®¡ç†ï¼Œä¸š</h5>
<pre tabindex="0"><code>åŠ¡å¤„ç†ï¼Œè°ƒåº¦ç®¡ç†ç­‰ã€‚ æˆ‘ä»¬é¡¹ç›®å‰ç«¯ä¸»è¦ä½¿ç”¨adminLTE+ZtreeæŠ€æœ¯ï¼Œå
ç«¯ä½¿ç”¨ssmé›†æˆæ¡†æ¶ã€‚å®‰å…¨æ¡†æ¶æˆ‘ä»¬ä½¿ç”¨shiroæ¡†æ¶åŸºäºRBACçš„è®¾è®¡æ€æƒ³
è¿›è¡Œå®ç°æƒé™ç®¡ç†ã€‚å‡ºè´§å•ï¼Œè´­é”€åˆåŒçš„å¯¼å…¥å¯¼å‡ºæˆ‘ä»¬ä½¿ç”¨POIæŠ€æœ¯è¿›è¡Œå®
ç°ã€‚ä¸ºäº†é™ä½é¡¹ç›®è€¦åˆåº¦ï¼Œä¾¿äºåæœŸæ‰©å±•ï¼Œæˆ‘ä»¬è¿™é‡Œå¼•å…¥SOAæ€æƒ³ï¼Œä½¿ç”¨
äº†DubboæœåŠ¡ä¸­é—´ä»¶ã€‚
</code></pre><h3 id="7-2-åè¯ä¸æ¦‚å¿µ">7 2 åè¯ä¸æ¦‚å¿µ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<pre tabindex="0"><code>ï¬ SaaSï¼ˆSoftware-as-a-Serviceï¼‰ï¼Œå³è½¯ä»¶å³æœåŠ¡ã€‚æä¾›ç»™æ¶ˆè´¹è€…å®Œ
æ•´çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥ä»è½¯ä»¶æœåŠ¡å•†å¤„ä»¥ç§Ÿç”¨æˆ–è´­ä¹°ç­‰æ–¹å¼è·å–è½¯ä»¶åº”
ç”¨ï¼Œç»„ç»‡ç”¨æˆ·å³å¯é€šè¿‡ Internet è¿æ¥åˆ°è¯¥åº”ç”¨ï¼ˆé€šå¸¸ä½¿ç”¨ Web æµè§ˆå™¨ï¼‰ã€‚
æ‰€æœ‰åŸºç¡€ç»“æ„.ä¸­é—´ä»¶.åº”ç”¨è½¯ä»¶å’Œåº”ç”¨æ•°æ®éƒ½ä½äºæœåŠ¡æä¾›å•†çš„æ•°æ®ä¸­å¿ƒ
å†…ã€‚æœåŠ¡æä¾›å•†è´Ÿè´£ç®¡ç†ç¡¬ä»¶å’Œè½¯ä»¶ï¼Œå¹¶æ ¹æ®é€‚å½“çš„æœåŠ¡åè®®ç¡®ä¿åº”ç”¨å’Œæ•°
æ®çš„å¯ç”¨æ€§å’Œå®‰å…¨æ€§ã€‚SaaS è®©ç»„ç»‡èƒ½å¤Ÿé€šè¿‡æœ€ä½å‰æœŸæˆæœ¬çš„åº”ç”¨å¿«é€Ÿå»ºæˆ
æŠ•äº§ã€‚
ï¬ SaaS è½¯ä»¶å°±é€‚ç”¨å¯¹è±¡è€Œè¨€ï¼Œå¯ä»¥åˆ’åˆ†ä¸ºé’ˆå¯¹ä¸ªäººçš„ä¸é’ˆå¯¹ä¼ä¸šçš„é¢
</code></pre><p>å‘ä¸ªäººçš„ SaaS äº§å“ï¼šåœ¨çº¿æ–‡æ¡£ï¼Œè´¦åŠ¡ç®¡ç†ï¼Œæ–‡ä»¶ç®¡ç†ï¼Œæ—¥ç¨‹è®¡åˆ’.ç…§ç‰‡ç®¡
ç†.è”ç³»äººç®¡ç†ï¼Œç­‰ç­‰äº‘ç±»å‹çš„æœåŠ¡ã€‚è€Œé¢å‘ä¼ä¸šçš„ SaaS äº§å“ä¸»è¦åŒ…æ‹¬ï¼š
CRMï¼ˆå®¢æˆ·å…³ç³»ç®¡ç†ï¼‰.ERPï¼ˆä¼ä¸šèµ„æºè®¡åˆ’ç®¡ç†ï¼‰.çº¿ä¸Šè§†é¢‘æˆ–è€…ä¸ç¾¤ç»„é€š
è¯ä¼šè®®.HRMï¼ˆäººåŠ›èµ„æºç®¡ç†ï¼‰.OA(åŠå…¬ç³»ç»Ÿ).å¤–å‹¤ç®¡ç†.è´¢åŠ¡ç®¡ç†.å®¡æ‰¹ç®¡ç†
ç­‰ã€‚
ï¬ SaaSä¸ä¼ ç»Ÿè½¯ä»¶ç›¸æ¯”ï¼Œa.èƒ½å¤Ÿé™ä½ä¼ä¸šæˆæœ¬ï¼šæŒ‰éœ€è´­ä¹°ï¼Œå³ç§Ÿå³ç”¨ï¼Œ
æ— éœ€å…³æ³¨è½¯ä»¶çš„å¼€å‘ç»´æŠ¤ã€‚b.è½¯ä»¶æ›´æ–°è¿­ä»£å¿«é€Ÿï¼šå’Œä¼ ç»Ÿè½¯ä»¶ç›¸æ¯”ï¼Œç”±äº
saaséƒ¨ç½²åœ¨äº‘ç«¯ï¼Œä½¿å¾—è½¯ä»¶çš„æ›´æ–°è¿­ä»£é€Ÿåº¦åŠ å¿«ã€‚c.æ”¯æŒè¿œç¨‹åŠå…¬ï¼šå°†æ•°æ®
å­˜å‚¨åˆ°äº‘åï¼Œç”¨æˆ·å³å¯é€šè¿‡ä»»ä½•è¿æ¥åˆ° Internet çš„è®¡ç®—æœºæˆ–ç§»åŠ¨è®¾å¤‡è®¿é—®
å…¶ä¿¡æ¯ã€‚
ï¬ PaaSï¼ˆPlatform-as-a-Serviceï¼‰ï¼Œå³å¹³å°å³æœåŠ¡ã€‚æä¾›ç»™æ¶ˆè´¹è€…çš„
æœåŠ¡æ˜¯æŠŠå®¢æˆ·é‡‡ç”¨æä¾›çš„å¼€å‘è¯­è¨€å’Œå·¥å…·ï¼ˆä¾‹å¦‚ Javaï¼Œpython,.Net ç­‰ï¼‰
å¼€å‘çš„æˆ–æ”¶è´­çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°ä¾›åº”å•†çš„äº‘è®¡ç®—åŸºç¡€è®¾æ–½ä¸Šå»ã€‚å®¢æˆ·ä¸éœ€è¦
ç®¡ç†æˆ–æ§åˆ¶åº•å±‚çš„äº‘åŸºç¡€è®¾æ–½ï¼ŒåŒ…æ‹¬ç½‘ç»œ.æœåŠ¡å™¨.æ“ä½œç³»ç»Ÿ.å­˜å‚¨ç­‰ï¼Œä½†å®¢æˆ·
èƒ½æ§åˆ¶éƒ¨ç½²çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯èƒ½æ§åˆ¶è¿è¡Œåº”ç”¨ç¨‹åºçš„æ‰˜ç®¡ç¯å¢ƒé…ç½®ã€‚
ï¬ IaaSï¼ˆInfrastructureasaServiceï¼‰ï¼Œå³åŸºç¡€è®¾æ–½å³æœåŠ¡ã€‚æä¾›ç»™
æ¶ˆè´¹è€…çš„æœåŠ¡æ˜¯å¯¹æ‰€æœ‰è®¡ç®—åŸºç¡€è®¾æ–½çš„åˆ©ç”¨ï¼ŒåŒ…æ‹¬å¤„ç† CPU.å†…å­˜.å­˜å‚¨.ç½‘ç»œ
å’Œå…¶å®ƒåŸºæœ¬çš„è®¡ç®—èµ„æºï¼Œç”¨æˆ·èƒ½å¤Ÿéƒ¨ç½²å’Œè¿è¡Œä»»æ„è½¯ä»¶ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿå’Œåº”
ç”¨ç¨‹åºã€‚æ¶ˆè´¹è€…ä¸ç®¡ç†æˆ–æ§åˆ¶ä»»ä½•äº‘è®¡ç®—åŸºç¡€è®¾æ–½ï¼Œä½†èƒ½æ§åˆ¶æ“ä½œç³»ç»Ÿçš„é€‰
æ‹©.å­˜å‚¨ç©ºé—´.éƒ¨ç½²çš„åº”ç”¨ï¼Œä¹Ÿæœ‰å¯èƒ½è·å¾—æœ‰é™åˆ¶çš„ç½‘ç»œç»„ä»¶ï¼ˆä¾‹å¦‚è·¯ç”±å™¨.é˜²
ç«å¢™.è´Ÿè½½å‡è¡¡å™¨ç­‰ï¼‰çš„æ§åˆ¶ã€‚</p>
<h3 id="7-3-è´§è¿ç®¡ç†ä¸šåŠ¡è®²è§£">7 3 è´§è¿ç®¡ç†ä¸šåŠ¡è®²è§£ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="æˆ‘ä»¬é¡¹ç›®ä¸­è´Ÿè´£çš„ä¸šåŠ¡é€»è¾‘ä¸å¤šå°±æ˜¯ä¸€äº›åŸºæœ¬æŠ€æœ¯çš„ä½¿ç”¨ä¸»è¦å¤æ‚çš„åœ°">æˆ‘ä»¬é¡¹ç›®ä¸­è´Ÿè´£çš„ä¸šåŠ¡é€»è¾‘ä¸å¤šï¼Œå°±æ˜¯ä¸€äº›åŸºæœ¬æŠ€æœ¯çš„ä½¿ç”¨ã€‚ä¸»è¦å¤æ‚çš„åœ°</h5>
<h5 id="æ–¹å°±æ˜¯è´§è¿ç®¡ç†è¿™ä¸ªæ¨¡å—ä¸»è¦åŒ…å«è´­é”€åˆåŒå‡ºè´§è¡¨åˆåŒç®¡ç†å‡ºå£æŠ¥è¿">æ–¹å°±æ˜¯è´§è¿ç®¡ç†ã€‚è¿™ä¸ªæ¨¡å—ä¸»è¦åŒ…å«ï¼šè´­é”€åˆåŒï¼Œå‡ºè´§è¡¨ï¼ŒåˆåŒç®¡ç†ï¼Œå‡ºå£æŠ¥è¿ï¼Œ</h5>
<h5 id="è£…ç®±ç®¡ç†å§”æ‰˜ç®¡ç†å‘ç¥¨ç®¡ç†è´¢åŠ¡ç®¡ç†ç­‰è¯´ä¸å…¨ä¹Ÿè¡Œä½†æ˜¯æ ‡é»‘çš„ä¸€å®šè¦">è£…ç®±ç®¡ç†ï¼Œå§”æ‰˜ç®¡ç†ï¼Œå‘ç¥¨ç®¡ç†ï¼Œè´¢åŠ¡ç®¡ç†ç­‰(è¯´ä¸å…¨ä¹Ÿè¡Œï¼Œä½†æ˜¯æ ‡é»‘çš„ä¸€å®šè¦</h5>
<h5 id="è¯´-æˆ‘ç®€å•è¯´è¯´è¿™å—çš„ä¸šåŠ¡">è¯´)ã€‚ æˆ‘ç®€å•è¯´è¯´è¿™å—çš„ä¸šåŠ¡ï¼š</h5>
<h5 id="å…¬å¸é”€å”®å’Œæµ·å¤–å®¢æˆ·ç­¾è®¢è®¢å•åˆåŒå®¢æˆ·è®¢å•ä¸­çš„è´§ç‰©å…¬å¸å°±è”ç³»è¿™">å…¬å¸é”€å”®å’Œæµ·å¤–å®¢æˆ·ç­¾è®¢è®¢å•ï¼ˆåˆåŒï¼‰ï¼Œå®¢æˆ·è®¢å•ä¸­çš„è´§ç‰©ï¼Œå…¬å¸å°±è”ç³»è¿™</h5>
<h5 id="äº›å¤šä¸ªå‚å®¶æ¥ç”Ÿäº§å’Œç”Ÿäº§å‚å®¶ç­¾è®¢åˆåŒè¿™ä¸ªåˆåŒå°±å«è´­é”€åˆåŒè´­">äº›ï¼ˆå¤šä¸ªï¼‰å‚å®¶æ¥ç”Ÿäº§ï¼Œå’Œç”Ÿäº§å‚å®¶ç­¾è®¢åˆåŒï¼Œè¿™ä¸ªåˆåŒå°±å«â€œè´­é”€åˆåŒâ€ã€‚è´­</h5>
<h5 id="é”€åˆåŒçš„å†…å®¹ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆè´­é”€åˆåŒçš„ä¸»ä¿¡æ¯å’Œå¤šä¸ªè´§ç‰©çš„ä¿¡æ¯å’Œå¤š">é”€åˆåŒçš„å†…å®¹ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œè´­é”€åˆåŒçš„ä¸»ä¿¡æ¯ï¼Œå’Œå¤šä¸ªè´§ç‰©çš„ä¿¡æ¯ï¼Œå’Œå¤š</h5>
<h5 id="ä¸ªé™„ä»¶çš„ä¿¡æ¯é™„ä»¶å®é™…å°±æ˜¯è´§ç‰©-è´­é”€åˆåŒæ‰“å°å‡ºåå°†æ¯å¼ çº¸äº¤ç»™å¯¹åº”">ä¸ªé™„ä»¶çš„ä¿¡æ¯ã€‚ï¼ˆé™„ä»¶å®é™…å°±æ˜¯è´§ç‰©ï¼‰ è´­é”€åˆåŒæ‰“å°å‡ºåï¼Œå°†æ¯å¼ çº¸äº¤ç»™å¯¹åº”</h5>
<h5 id="ç”Ÿäº§å‚å®¶çš„é”€å”®ä»£è¡¨å…¬å¸-è´­é”€åˆåŒæ‰“å°è¦æ±‚å¯ä»¥æ¯é¡µåªæ‰“å°ä¸€æ¬¾è´§ç‰©">ç”Ÿäº§å‚å®¶çš„é”€å”®ä»£è¡¨ï¼ˆå…¬å¸ï¼‰ è´­é”€åˆåŒæ‰“å°è¦æ±‚ï¼Œå¯ä»¥æ¯é¡µåªæ‰“å°ä¸€æ¬¾è´§ç‰©ï¼Œ</h5>
<h5 id="ä¹Ÿå¯ä»¥æ‰“å°ä¸¤æ¬¾è´§ç‰©ç”¨æˆ·å¯ä»¥è‡ªå·±é€‰æ‹©-å¦‚æœæ¯é¡µæ‰“å°ä¸¤æ¬¾è´§ç‰©å¿…é¡»æ˜¯åŒ">ä¹Ÿå¯ä»¥æ‰“å°ä¸¤æ¬¾è´§ç‰©ã€‚ç”¨æˆ·å¯ä»¥è‡ªå·±é€‰æ‹©ã€‚ å¦‚æœæ¯é¡µæ‰“å°ä¸¤æ¬¾è´§ç‰©ï¼Œå¿…é¡»æ˜¯åŒ</h5>
<h5 id="ä¸€ä¸ªç”Ÿäº§å‚å®¶å¦‚æœä¸æ˜¯åŒä¸€ä¸ªç”Ÿäº§å‚å®¶å¿…é¡»å¦èµ·ä¸€é¡µè¿›è¡Œæ‰“å°çš„æ—¶å€™æˆ‘ä»¬">ä¸€ä¸ªç”Ÿäº§å‚å®¶ï¼Œå¦‚æœä¸æ˜¯åŒä¸€ä¸ªç”Ÿäº§å‚å®¶ï¼Œå¿…é¡»å¦èµ·ä¸€é¡µã€‚è¿›è¡Œæ‰“å°çš„æ—¶å€™æˆ‘ä»¬</h5>
<p>å¯ä»¥é€‰æ‹©æ˜¯PDFæ‰“å°ï¼Œè¿˜æ˜¯wordï¼ŒExcelæ‰“å°ã€‚åœ¨æŸ¥è¯¢è´­é”€åˆåŒæ€»é‡‘é¢æ—¶ï¼Œå°±
éœ€è¦å…³è”åŠ è½½è´­é”€åˆåŒä¸‹çš„æ‰€æœ‰è´§ç‰©ï¼Œå¹¶è¦åŠ è½½æ‰€æœ‰è´§ç‰©ä¸‹çš„æ‰€æœ‰é™„ä»¶ï¼Œè¿™æ ·å¯
èƒ½å®ç°è´­é”€åˆåŒæ€»é‡‘é¢æŸ¥è¯¢æ¶ˆè€—æ—¶é—´å¤ªå¤šï¼Œè€Œç”¨æˆ·ç­‰ä¸èµ·ï¼Œæ­¤æ—¶å°±å¯ä»¥åœ¨å¹³æ—¶æ·»
åŠ è´§ç‰©æ—¶ï¼Œæ·»åŠ é™„ä»¶æ—¶ï¼Œåˆ†åˆ«è®¡ç®—å‡ºè´§ç‰©æ€»é‡‘é¢ï¼Œé™„ä»¶æ€»é‡‘é¢ ï¼Œå†æ›´æ–°è´­é”€åˆ
åŒæ€»é‡‘é¢ ï¼Œè¿™æ ·å°±ç›¸å½“äºå°†ä¸€æ¬¡é›†ä¸­è®¡ç®—çš„å·¥ä½œ é‡åˆ†æ•£åˆ°å¹³æ—¶çš„å¤šæ¬¡è®¡ç®—è¿‡ç¨‹
ä¸­ï¼Œæ‰€ä»¥æŸ¥è¯¢è´­é”€åˆåŒæ€»é‡‘é¢æ—¶é€Ÿåº¦å°±ä¼šå¾ˆå¿«ã€‚
è´­é”€åˆåŒæ¶‰åŠçš„è¡¨æœ‰ï¼šè´­é”€åˆåŒè¡¨ï¼Œè´­é”€åˆåŒè´§ç‰©è¡¨ï¼Œè´­é”€åˆåŒé™„ä»¶ï¼ŒæŠ¥è¿
å•ï¼Œç”Ÿäº§å‚å®¶ç­‰è¡¨ã€‚è´­é”€åˆåŒ(ä¸€)å’Œè´­é”€åˆåŒè´§ç‰©(å¤š)è¡¨æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚è´­é”€
åˆåŒè´§ç‰©å’ŒåˆåŒé™„ä»¶ä¹Ÿæ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ è´§ç‰©(å¤š)å’Œå‚å®¶(ä¸€)æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ï¼Œ
è´§ç‰©å’Œé™„ä»¶æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚</p>
<h5 id="é¡¹ç›®ä¸­ä¸é”™çš„è®¾è®¡æŠ€å·§">é¡¹ç›®ä¸­ä¸é”™çš„è®¾è®¡æŠ€å·§ï¼š</h5>
<h5 id="å› ä¸ºè´§è¿ç®¡ç†æ¶‰åŠçš„è¡¨å…³ç³»æ¯”è¾ƒå¤šå¤šè¡¨è”æŸ¥å®¹æ˜“é€ æˆä¸€äº›å†—ä½™æ•°æ®åŒæ—¶">å› ä¸ºè´§è¿ç®¡ç†æ¶‰åŠçš„è¡¨å…³ç³»æ¯”è¾ƒå¤šï¼Œå¤šè¡¨è”æŸ¥å®¹æ˜“é€ æˆä¸€äº›å†—ä½™æ•°æ®ï¼ŒåŒæ—¶</h5>
<h5 id="ä¼šé™ä½æŸ¥è¯¢æ•ˆç‡åœ¨åšæŠ¥è¿è¿™å—æˆ‘ä»¬é‡‡å–çš„ä¸¤ä¸ªç­–ç•¥é’ˆå¯¹äºä¸€å¯¹ä¸€æˆ‘ä»¬é‡‡å–çš„">ä¼šé™ä½æŸ¥è¯¢æ•ˆç‡ã€‚åœ¨åšæŠ¥è¿è¿™å—æˆ‘ä»¬é‡‡å–çš„ä¸¤ä¸ªç­–ç•¥ï¼Œé’ˆå¯¹äºä¸€å¯¹ä¸€æˆ‘ä»¬é‡‡å–çš„</h5>
<h5 id="æ˜¯å…±äº«ä¸»é”®å¤šä¸ªè¡¨å…±ç”¨ä¸€ä¸ªä¸»é”®ä¸»é”®ç›¸åŒä¸€ä¸ªæ˜¯ä¸€å¯¹å¤šæˆ‘ä»¬é‡‡å–æ‰“æ–­è®¾">æ˜¯å…±äº«ä¸»é”®(å¤šä¸ªè¡¨å…±ç”¨ä¸€ä¸ªä¸»é”®ï¼Œä¸»é”®ç›¸åŒ)ï¼Œä¸€ä¸ªæ˜¯ä¸€å¯¹å¤šï¼Œæˆ‘ä»¬é‡‡å–æ‰“æ–­è®¾</h5>
<p>è®¡(åœ¨è¡¨å’Œè¡¨ä¸€çš„ä¸€æ–¹åˆ›å»ºä¸€ä¸ªidåˆ—è¡¨)æ¥å®ç°è·³è·ƒæŸ¥è¯¢çš„æ–¹å¼æ¥è¿›è¡Œå¤„ç†ã€‚
ç‰ˆæœ¬äºŒï¼š
æˆ‘ä»¬é¡¹ç›®ä¸­è´Ÿè´£çš„ä¸šåŠ¡é€»è¾‘ä¸å¤šï¼Œå°±æ˜¯ä¸€äº›åŸºæœ¬æŠ€æœ¯çš„ä½¿ç”¨ã€‚ä¸»è¦å¤æ‚çš„åœ°
æ–¹å°±æ˜¯è´§è¿ç®¡ç†ã€‚è¿™ä¸ªæ¨¡å—ä¸»è¦åŒ…å«ï¼šè´­é”€åˆåŒï¼Œå‡ºè´§è¡¨ï¼ŒåˆåŒç®¡ç†ï¼Œå‡ºå£æŠ¥è¿ï¼Œ
è£…ç®±ç®¡ç†ï¼Œå§”æ‰˜ç®¡ç†ï¼Œå‘ç¥¨ç®¡ç†ï¼Œè´¢åŠ¡ç®¡ç†ç­‰(è¯´ä¸å…¨ä¹Ÿè¡Œï¼Œä½†æ˜¯æ ‡é»‘çš„ä¸€å®šè¦
è¯´)ã€‚è¿™è¾¹å…ˆç¡®è®¤ä¹°å–æ–¹æ˜¯å¦ç­¾è®¢äº†è´­é”€åˆåŒï¼Œè´­é”€åˆåŒæäº¤åæˆ‘ä»¬è¿™è¾¹ä¼šç”Ÿæˆ
åˆåŒåˆ—è¡¨ã€‚åœ¨åˆåŒåˆ—è¡¨é‡Œè¾¹æˆ‘ä»¬å¯ä»¥å‹¾é€‰ä¹°å–åŒæ–¹ç¡®è®¤çš„åˆåŒï¼Œç„¶åé€‰æ‹©æŠ¥è¿ï¼Œ
è¿›è¡Œç»Ÿä¸€é›†è£…ç®±è¿›è¡Œå‘è´§ã€‚å‘è´§æ–¹ä¼šæ”¶åˆ°å§”æ‰˜å…¬å¸ç»™æˆ‘æˆ‘ä»¬å‘çš„ä¸€ä¸ªå§”æ‰˜å•ï¼Œç¡®
è®¤å¥½å§”æ‰˜å…¬å¸åŠå§”æ‰˜äº§å“ä¿¡æ¯åŠå”›å¤´ï¼Œå‘è´§æ—¶é—´ï¼Œç„¶åå¼€å§‹å‘è´§ï¼Œå½“å‘è´§åè¿™è¾¹
ä¼šæœ‰ä¸€ä¸ªå‘ç¥¨ç”Ÿæˆï¼Œè´¢åŠ¡ä¼šæ ¹æ®å‘ç¥¨è¿›è¡Œæ”¶è´§æ–¹å‚¬å•è¿›è¡Œå°¾æ¬¾è¡¥ç¼´ã€‚
å¯¹åº”çš„è¡¨å…³ç³»ï¼š</p>
<h5 id="è´­é”€åˆåŒåˆ—è¡¨å±•ç¤º">è´­é”€åˆåŒåˆ—è¡¨å±•ç¤ºï¼š</h5>
<h5 id="å‡ºå£æŠ¥è¿å•">å‡ºå£æŠ¥è¿å•ï¼š</h5>
<h5 id="æŠ¥è¿å•è¡¨é€šè¿‡ç‚¹å‡»æŠ¥è¿å•çš„æŸ¥çœ‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å³ä¸Šæ–¹æœ‰ä¸ªå¯¼å‡º">æŠ¥è¿å•è¡¨ï¼š&lt;é€šè¿‡ç‚¹å‡»æŠ¥è¿å•çš„æŸ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å³ä¸Šæ–¹æœ‰ä¸ªå¯¼å‡ºï¼Œ</h5>
<h5 id="æˆ‘ä»¬å¯ä»¥æŒ‰ç…§æ¨¡æ¿è¿›è¡Œå¯¼å‡º">æˆ‘ä»¬å¯ä»¥æŒ‰ç…§æ¨¡æ¿è¿›è¡Œå¯¼å‡º&gt;</h5>
<h5 id="åœ¨è´­é”€åˆåŒåˆ—è¡¨é‡Œè¾¹æˆ‘ä»¬åŒ…å«çš„æ“ä½œæœ‰ç¼–è¾‘è´§ç‰©è´§ç‰©ä¸Šä¼ è´§ç‰©é€šè¿‡ç‚¹">åœ¨è´­é”€åˆåŒåˆ—è¡¨é‡Œè¾¹æˆ‘ä»¬åŒ…å«çš„æ“ä½œæœ‰ç¼–è¾‘è´§ç‰©ï¼Œè´§ç‰©ï¼Œä¸Šä¼ è´§ç‰©ã€‚é€šè¿‡ç‚¹</h5>
<h5 id="å‡»è´§ç‰©æˆ‘ä»¬å¯ä»¥è¿›å…¥è´§ç‰©è¯¦æƒ…é¡µé¢ä¸Šè¾¹æ˜¯ä¸€äº›å®¢æˆ·å’Œå¤‡æ³¨è´§æœŸç­‰ä¿¡æ¯ä¸‹è¾¹æ˜¾">å‡»è´§ç‰©æˆ‘ä»¬å¯ä»¥è¿›å…¥è´§ç‰©è¯¦æƒ…é¡µé¢ã€‚ä¸Šè¾¹æ˜¯ä¸€äº›å®¢æˆ·å’Œå¤‡æ³¨è´§æœŸç­‰ä¿¡æ¯ï¼Œä¸‹è¾¹æ˜¾</h5>
<h5 id="ç¤ºçš„å°±æ˜¯è¿™ä¸ªåˆåŒé‡Œè¾¹åŒ…å«çš„å…·ä½“ä¿¡æ¯åœ¨è´§ç‰©åˆ—è¡¨ä¿¡æ¯çš„æ“ä½œé‡Œè¾¹æˆ‘ä»¬æœ‰ä¸€ä¸ª">ç¤ºçš„å°±æ˜¯è¿™ä¸ªåˆåŒé‡Œè¾¹åŒ…å«çš„å…·ä½“ä¿¡æ¯ã€‚åœ¨è´§ç‰©åˆ—è¡¨ä¿¡æ¯çš„æ“ä½œé‡Œè¾¹æˆ‘ä»¬æœ‰ä¸€ä¸ª</h5>
<h5 id="é™„ä»¶çš„æ“ä½œé€šè¿‡ç‚¹å‡»æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å½“å‰è´§ç‰©å¯¹æ¥çš„é™„ä»¶ä¿¡æ¯é™„ä»¶ä¸»è¦åŒ…å«">é™„ä»¶çš„æ“ä½œï¼Œé€šè¿‡ç‚¹å‡»ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å½“å‰è´§ç‰©å¯¹æ¥çš„é™„ä»¶ä¿¡æ¯ï¼Œé™„ä»¶ä¸»è¦åŒ…å«</h5>
<h5 id="çš„æ˜¯å¯¹å½“å‰è´§ç‰©çš„ä¸€äº›åŒ…è£…æ–¹å¼ç‰¹æ®Šè¦æ±‚ä»·æ ¼æ€»ä»·ç”Ÿäº§å‚å®¶ç­‰å½“æ–°æ·»">çš„æ˜¯å¯¹å½“å‰è´§ç‰©çš„ä¸€äº›åŒ…è£…æ–¹å¼ï¼Œç‰¹æ®Šè¦æ±‚ï¼Œä»·æ ¼ï¼Œæ€»ä»·ï¼Œç”Ÿäº§å‚å®¶ç­‰ã€‚å½“æ–°æ·»</h5>
<h5 id="åŠ äº†é™„ä»¶ä¿¡æ¯æ•´ä½“çš„è´§ç‰©ä»·æ ¼éƒ½ä¼šéšç€å‘ç”Ÿæ”¹å˜æˆ‘ä»¬åœ¨é™„ä»¶ä¿å­˜çš„åŒæ—¶ä¼šè°ƒ">åŠ äº†é™„ä»¶ä¿¡æ¯ï¼Œæ•´ä½“çš„è´§ç‰©ä»·æ ¼éƒ½ä¼šéšç€å‘ç”Ÿæ”¹å˜ï¼Œæˆ‘ä»¬åœ¨é™„ä»¶ä¿å­˜çš„åŒæ—¶ä¼šè°ƒ</h5>
<h5 id="å–è´§ç‰©ä¿¡æ¯åˆ—è¡¨è¿›è¡Œæ›´æ–°æ–°çš„æ•°æ®">å–è´§ç‰©ä¿¡æ¯åˆ—è¡¨ï¼Œè¿›è¡Œæ›´æ–°æ–°çš„æ•°æ®ã€‚</h5>
<h5 id="åœ¨åˆåŒç®¡ç†é‡Œè¾¹æˆ‘ä»¬å¯ä»¥é€šè¿‡å‹¾é€‰åˆåŒæ¥æ·»åŠ æŠ¥è¿å•åœ¨æŠ¥è¿å•é‡Œè¾¹ç¡®è®¤">åœ¨åˆåŒç®¡ç†é‡Œè¾¹æˆ‘ä»¬å¯ä»¥é€šè¿‡å‹¾é€‰åˆåŒï¼Œæ¥æ·»åŠ æŠ¥è¿å•ï¼Œåœ¨æŠ¥è¿å•é‡Œè¾¹ç¡®è®¤</h5>
<p>å¥½å”›(mai)å¤´ï¼Œæ”¶è´§åœ°å€ï¼Œè¿è¾“æ–¹å¼ç­‰ã€‚é€šè¿‡ç‚¹å‡»ä¿å­˜ç”ŸæˆæŠ¥è¿å•ï¼ŒåŒæ—¶ä¿®æ”¹åˆ
åŒçš„çŠ¶æ€ã€‚æŠŠå¯¹åº”çš„åˆåŒä»åˆ—è¡¨é‡Œè¾¹ç§»é™¤ã€‚</p>
<h5 id="ä¿æŒå‡ºå£æŠ¥è¿å•çš„æµç¨‹">ä¿æŒå‡ºå£æŠ¥è¿å•çš„æµç¨‹ï¼š</h5>
<h5 id="1-åŸºç¡€ä¿¡æ¯ç®¡ç†äº¤é€šå·¥å…·è¾…åŠ©å·¥å…·ç™»è®°é©¾é©¶äººå‘˜ä¿¡æ¯å®¢æˆ·ä¿¡">1 .åŸºç¡€ä¿¡æ¯ç®¡ç†ï¼šäº¤é€šå·¥å…·ï¼ˆè¾…åŠ©å·¥å…·ï¼‰ç™»è®°ã€é©¾é©¶äººå‘˜ä¿¡æ¯ã€å®¢æˆ·ä¿¡</h5>
<h5 id="æ¯å…¬å¸èŒå‘˜ä¿¡æ¯æ‰¿è¿è´§ç‰©ä¿¡æ¯ä»“åº“ä¿¡æ¯è®¡é‡å•ä½ä¿¡æ¯ç­‰">æ¯ã€å…¬å¸èŒå‘˜ä¿¡æ¯ã€æ‰¿è¿è´§ç‰©ä¿¡æ¯ã€ä»“åº“ä¿¡æ¯ã€è®¡é‡å•ä½ä¿¡æ¯ç­‰ã€‚</h5>
<h5 id="2-ç³»ç»Ÿç®¡ç†æ›´æ”¹å¯†ç æ•°æ®å¤‡ä»½æ•°æ®æ¢å¤æ¸…é™¤ä¸šåŠ¡æ•°æ®æ“ä½œå‘˜">2 .ç³»ç»Ÿç®¡ç†ï¼šæ›´æ”¹å¯†ç ã€æ•°æ®å¤‡ä»½ã€æ•°æ®æ¢å¤ã€æ¸…é™¤ä¸šåŠ¡æ•°æ®ã€æ“ä½œå‘˜</h5>
<h5 id="æ—¥å¿—åŠç³»ç»Ÿæƒé™">æ—¥å¿—åŠç³»ç»Ÿæƒé™ã€‚</h5>
<h5 id="3-ä¸šåŠ¡å¤„ç†æ¥å•ç™»è®°è¿å•ç”Ÿæˆè¿è´¹æ¸…å•äº¤é€šå·¥å…·å®‰æ’è·¯çº¿ç¡®">3 .ä¸šåŠ¡å¤„ç†ï¼šæ¥å•ç™»è®°ã€è¿å•ç”Ÿæˆã€è¿è´¹æ¸…å•ã€äº¤é€šå·¥å…·å®‰æ’ã€è·¯çº¿ç¡®</h5>
<h5 id="è®¤é€è´§ç®¡ç†æ¥è´§ç®¡ç†ä¸šåŠ¡ç»“ç®—é¢„æ”¶ç®¡ç†å«ä»˜ç®¡ç†è´§åˆ°ä»˜æ¬¾è¿è´¹">è®¤ã€é€è´§ç®¡ç†ã€æ¥è´§ç®¡ç†ã€ä¸šåŠ¡ç»“ç®—ï¼ˆé¢„æ”¶ç®¡ç†ã€å«ä»˜ç®¡ç†ã€è´§åˆ°ä»˜æ¬¾è¿è´¹</h5>
<h5 id="ç»“ç®—å§”æ‰˜ç»“è´§æ¬¾å®ç»“ç¡®è®¤å›å•ç®¡ç†ç­‰å†…å®¹">ç»“ç®—ã€å§”æ‰˜ç»“è´§æ¬¾å®ç»“ç¡®è®¤ã€å›å•ç®¡ç†ï¼‰ç­‰å†…å®¹ã€‚</h5>
<h5 id="4-è´¢åŠ¡ç®¡ç†åº”æ”¶è¿è´¹æ ¸è®¡åº”ä»˜è¿è´¹æ ¸è®¡ä¸šåŠ¡ç»“ç®—å®¡æ ¸å†…éƒ¨èµ„é‡‘">4 .è´¢åŠ¡ç®¡ç†ï¼šåº”æ”¶è¿è´¹æ ¸è®¡ã€åº”ä»˜è¿è´¹æ ¸è®¡ã€ä¸šåŠ¡ç»“ç®—å®¡æ ¸ã€å†…éƒ¨èµ„é‡‘</h5>
<h5 id="æµè½¬ç­‰">æµè½¬ç­‰ã€‚</h5>
<h5 id="5-ç»Ÿè®¡åˆ†æå•è¯æŸ¥è¯¢å®¢æˆ·ä¸šåŠ¡è®°å½•é‡‘é¢ç»Ÿè®¡è¿è´¹æŸ¥è¯¢å¹´åº¦">5 .ç»Ÿè®¡åˆ†æï¼šå•è¯æŸ¥è¯¢ã€å®¢æˆ·ä¸šåŠ¡è®°å½•ï¼ˆé‡‘é¢ï¼‰ç»Ÿè®¡ã€è¿è´¹æŸ¥è¯¢ã€å¹´åº¦</h5>
<h5 id="ä¸šåŠ¡ç»Ÿè®¡ç­‰">ä¸šåŠ¡ç»Ÿè®¡ç­‰ã€‚</h5>
<h3 id="7-4-å¼€å‘ç¯å¢ƒä¸æŠ€æœ¯">7 4 å¼€å‘ç¯å¢ƒä¸æŠ€æœ¯ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>åç«¯æ¡†æ¶é‡‡ç”¨ Spring+SpringMVC+Mybatis+Dubbo+ä¸ƒç‰›äº‘+POI+
å‰ç«¯æ¡†æ¶é‡‡ç”¨ AdminLTEæŠ€æœ¯ï¼Œ(AdminLTEæ˜¯ä¸€æ¬¾å»ºç«‹bootstrapå’Œjquery
ä¹‹ä¸Šçš„å¼€æºçš„æ¨¡æ¿ä¸»é¢˜å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—å“åº”çš„ã€å¯é‡å¤ä½¿ç”¨ çš„ç»„ä»¶ï¼Œå¹¶
å†…ç½®äº†å¤šä¸ªæ¨¡æ¿é¡µé¢ï¼›åŒæ—¶è‡ªé€‚åº”å¤šç§å±å¹•åˆ†è¾¨ç‡ï¼Œå…¼å®¹ PC å’Œç§»åŠ¨ç«¯ã€‚é€šè¿‡
AdminLTEï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿ çš„åˆ›å»ºä¸€ä¸ªå“åº”å¼çš„ Html 5 ç½‘ç«™ã€‚)è¿˜é‡‡ç”¨Ztree
æŠ€æœ¯(å› ä¸ºä»–æ˜¯ä¾é  jQuery å®ç°çš„å¤šåŠŸèƒ½â€œæ ‘æ’ä»¶â€ã€‚åŒæ—¶å®ƒä¹Ÿæ˜¯å¼€æºå…è´¹çš„ï¼Œ
å…¼å®¹ä¸åŒçš„æµè§ˆå™¨&lt;IEã€FireFoxã€Chromeã€Operaã€Safari&gt;ï¼Œæ”¯æŒjsonæ•°æ®
æ ¼å¼ï¼Œæ”¯æŒé™æ€å’Œajaxå¼‚æ­¥åŠ è½½èŠ‚ç‚¹æ•°æ®ã€‚).
æˆ‘ä»¬é¡¹ç›®ä¸­ä½¿ç”¨PD(PowerDesigner)å»ºæ¨¡å·¥å…·è¿›è¡Œå»ºè¡¨ï¼Œæ–¹ä¾¿çœäº‹ï¼Œä¾¿äº
å¼€å‘ã€‚æ•´ä¸ªé¡¹ç›®ä¸­æ¶‰åŠåˆ°åˆ†é¡µçš„åœ°æ–¹ï¼Œæˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„pageBeanå’ŒpageResult
åšçš„(å¯¹è±¡ä¸­è¦å®šä¹‰ currentPage,pageSize,count,totalPage,List<!-- raw HTML omitted -->ç­‰å±æ€§ï¼Œ
å¹¶åœ¨ dao ä¸­ç¼–å†™ç›¸åº”çš„ä»£ç æŸ¥ è¯¢å‡ºåˆ†é¡µç»“æœå°è£…åˆ° PageBean ä¸­ã€‚)ï¼Œåæ¥
åšäº†è°ƒæ•´ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†mybatisçš„pageHelperåˆ†é¡µæ’ä»¶ï¼Œç›´æ¥åœ¨pomé‡Œè¾¹è¿›
è¡Œé…ç½®å°±è§£å†³äº†è¿™ä¸ªåˆ†é¡µçš„é—®é¢˜ã€‚
å› ä¸ºåšçš„é¡¹ç›®æ˜¯æ¶‰åŠæµ·å¤–è¿è¾“çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¸Šä¼ ç…§ç‰‡ç»™æµ·å…³å’Œå®¢æˆ·è¿›è¡ŒæŸ¥
çœ‹ã€‚æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨çš„æ˜¯ä¸ƒç‰›äº‘è¿›è¡Œå›¾ç‰‡ä¸Šä¼ å’Œå›¾ç‰‡å±•ç¤ºçš„ã€‚ç¡®ä¿äº†ä¿¡æ¯çš„å®‰å…¨å’Œ
èŠ‚çœå¼€å‘æˆæœ¬ã€‚é€šè¿‡å…¬å¸è¿›è¡Œæ³¨å†Œä¸ƒç‰›äº‘è´¦å·ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶æä¾›å®¢æˆ·ç«¯ä¸Šä¼ æ‰€
éœ€è¦çš„å‡­è¯(ç©ºé—´ï¼ŒåŸŸåï¼ŒaccessKeyï¼ŒSecretKey)ç»“åˆä¸ƒç‰›äº‘æä¾›SDKè¿›è¡Œæ“
ä½œã€‚SDKé‡Œè¾¹æœ‰å¯¹åº”çš„ä»£ç ï¼Œæˆ‘ä»¬ç›´æ¥æ‹·è´å°±å¥½ã€‚</p>
<h3 id="7-5-é¡¹ç›®äº®ç‚¹è®¾è®¡">7 5 é¡¹ç›®äº®ç‚¹è®¾è®¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="å¤šç§Ÿæˆ·ç®¡ç†å¤šç§Ÿæˆ·æ˜¯ä¸€ç§æ¶æ„ç›®çš„æ˜¯ä¸ºäº†è®©å¤šç”¨æˆ·ç¯å¢ƒä¸‹ä½¿ç”¨åŒä¸€å¥—ç¨‹">å¤šç§Ÿæˆ·ç®¡ç†(å¤šç§Ÿæˆ·æ˜¯ä¸€ç§æ¶æ„ï¼Œç›®çš„æ˜¯ä¸ºäº†è®©å¤šç”¨æˆ·ç¯å¢ƒä¸‹ä½¿ç”¨åŒä¸€å¥—ç¨‹</h5>
<h5 id="åºä¸”ä¿è¯ç”¨æˆ·é—´æ•°æ®éš”ç¦»é‚£ä¹ˆé‡ç‚¹å°±å¾ˆæµ…æ˜¾æ˜“æ‡‚äº†å¤šç§Ÿæˆ·çš„é‡ç‚¹å°±æ˜¯åŒä¸€">åºï¼Œä¸”ä¿è¯ç”¨æˆ·é—´æ•°æ®éš”ç¦»ã€‚é‚£ä¹ˆé‡ç‚¹å°±å¾ˆæµ…æ˜¾æ˜“æ‡‚äº†ï¼Œå¤šç§Ÿæˆ·çš„é‡ç‚¹å°±æ˜¯åŒä¸€</h5>
<h5 id="å¥—ç¨‹åºä¸‹å®ç°å¤šç”¨æˆ·æ•°æ®çš„éš”ç¦»--æˆ‘ä»¬é‡‡å–çš„ç¬¬äºŒç§æ–¹æ¡ˆå…±äº«æ•°æ®åº“ç‹¬ç«‹">å¥—ç¨‹åºä¸‹å®ç°å¤šç”¨æˆ·æ•°æ®çš„éš”ç¦» ) æˆ‘ä»¬é‡‡å–çš„ç¬¬äºŒç§æ–¹æ¡ˆï¼Œå…±äº«æ•°æ®åº“ã€ç‹¬ç«‹</h5>
<p>Schemaã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ä¸ºå®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„ç§Ÿæˆ·æä¾›äº†ä¸€å®šç¨‹åº¦çš„é€»è¾‘æ•°æ®
éš”ç¦»ï¼Œå¹¶ä¸æ˜¯å®Œå…¨éš”ç¦»ï¼› æ¯ä¸ªæ•°æ®åº“å¯æ”¯æŒæ›´å¤šçš„ç§Ÿæˆ·æ•°é‡ã€‚
æˆ‘ä»¬æ•°æ®åº“è¡¨è®¾è®¡é‡‡ç”¨çš„æ˜¯PowerDesignerå»ºæ¨¡å·¥å…·ã€‚ä½¿ç”¨ä»–çš„ä¼˜åŠ¿æ˜¯ä¸
ç”¨åœ¨ä½¿ç”¨ createtable ç­‰è¯­å¥åˆ›å»ºè¡¨ç»“æ„ï¼Œæ•°æ®åº“è®¾è®¡äººå‘˜åªå…³æ³¨å¦‚ä½•è¿›è¡Œæ•°
æ®å»ºæ¨¡å³å¯ï¼Œå°†æ¥çš„æ•°æ®åº“è¯­å¥ï¼Œ å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ.
è§£å†³å¤šç§Ÿæˆ·æ•°æ®åº“è®¾è®¡æœ‰ 3 ä¸­æ–¹æ¡ˆï¼š 1 .ç‹¬ç«‹æ•°æ®åº“ 2 .å…±äº«æ•°æ®åº“ã€ç‹¬ç«‹
Schema 3 .å…±äº«æ•°æ®åº“ã€å…±äº«æ•°æ®è¡¨
åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶çš„RBAC çš„è®¾è®¡æ€è·¯ (é¡¹ç›®ä¸­è®¾è®¡çš„æƒé™ç®¡ç†ï¼ŒSaaS
ç®¡ç†åŸºæœ¬æ‰€æœ‰åŠŸèƒ½éƒ½èƒ½æ“ä½œç®¡ç†ï¼Œä½†æ˜¯ä¸èƒ½å¯¹ç§Ÿæˆ·çš„å…·ä½“ä¸šåŠ¡è¿›è¡Œç®¡ç†ã€‚)
å…³äºé¡¹ç›®ä¸­çš„æƒé™æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶çš„RBAC çš„è®¾è®¡æ€è·¯ï¼Œ
å‰ç«¯æˆ‘ä»¬è¿™è¾¹åšçš„å¤„ç†æ˜¯é€šè¿‡åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å…·å¤‡å¯¹åº”çš„æƒé™æ¥åŠ¨æ€å±•ç¤ºèœå•åˆ—
è¡¨ï¼Œåœ¨æœ‰çš„èœå•åŠŸèƒ½é‡Œè¾¹æˆ‘ä»¬ä¹Ÿä¼šæ ¹æ®ä¸åŒä¼ä¸šçš„ç§Ÿæˆ·ç”¨æˆ·æ¥æ˜¾ç¤ºç»†ç²’åº¦æ§åˆ¶çš„
ç»“æœã€‚æ¯”å¦‚ï¼šåœ¨åŒä¸€ä¸ªé¡µé¢æ˜¯å¦å…·æœ‰ä¿®æ”¹å’Œåˆ é™¤çš„åŠŸèƒ½ã€‚
é¡¹ç›®ä¸­æˆ‘ä»¬æ—¥å¿—ç»Ÿè®¡é‡‡ç”¨çš„æ˜¯Springçš„Aopï¼Œé€šè¿‡åœ¨
applicationContext.xmlé‡Œè¾¹è¿›è¡Œé…ç½®å¼€å¯æ³¨è§£æ‰«æï¼Œé€šè¿‡é…ç½®åˆ‡é¢ç±»ï¼Œå®ç°
å¯¹æŒ‡å®šä¸šåŠ¡è¿›è¡Œæ—¥å¿—ä¿å­˜ã€‚å¸¸ç”¨çš„æ³¨è§£æœ‰ï¼š@Before :å‰ç½®é€šçŸ¥
@AfterReturning:åç½®é€šçŸ¥ @Around :ç¯ç»•é€šçŸ¥ @AfterThrowing:å¼‚å¸¸æŠ›
å‡ºé€šçŸ¥ @After :æœ€ç»ˆé€šçŸ¥ã€‚ä¸»è¦ç”¨åœ¨ç”¨æˆ·ï¼Œå®¢æˆ·å¯¹ä¿¡æ¯è¿›è¡Œæ“ä½œæ—¶ï¼Œæ–¹ä¾¿è¿›</p>
<h5 id="è¡ŒæŸ¥çœ‹">è¡ŒæŸ¥çœ‹ã€‚</h5>
<h3 id="7-6-é¡¹ç›®æŠ€æœ¯ä¸ä¸šåŠ¡">7 6 é¡¹ç›®æŠ€æœ¯ä¸ä¸šåŠ¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h4 id="7-6-1-åˆ†é¡µæŸ¥è¯¢ä¸šåŠ¡">7 6 1 åˆ†é¡µæŸ¥è¯¢ä¸šåŠ¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p><strong>7. 6. 1. 1 ä¼ ç»Ÿåˆ†é¡µ</strong>
æˆ‘ä»¬ä¹‹å‰åˆ†é¡µæ˜¯ä½¿ç”¨ä¸€ä¸ª PageBean å¯¹è±¡å°è£…åˆ†é¡µæ•°æ®çš„ã€‚å¯¹è±¡ä¸­è¦å®šä¹‰
currentPage,pageSize,count,totalPage,List<!-- raw HTML omitted -->ç­‰å±æ€§ï¼Œå¹¶åœ¨ daoä¸­ç¼–å†™ç›¸
åº”çš„ä»£ç æŸ¥è¯¢å‡ºåˆ†é¡µç»“æœå°è£…åˆ° PageBean ä¸­ã€‚
<strong>7. 6. 1. 2 PageHelper</strong>
PageHelperæ˜¯å›½å†…éå¸¸ä¼˜ç§€çš„ä¸€æ¬¾å¼€æºçš„ mybatisåˆ†é¡µæ’ä»¶ï¼Œå®ƒæ”¯æŒåŸº
æœ¬ä¸»æµä¸å¸¸ç”¨çš„æ•°æ®åº“ï¼Œä¾‹å¦‚ MySQL.oracle.mariaDB.DB 2 .SQLite.Hsqldb
ç­‰ã€‚
PageHelper.startPage é™æ€æ–¹æ³•è°ƒç”¨ï¼šåœ¨éœ€è¦è¿›è¡Œåˆ†é¡µçš„ MyBatisæŸ¥è¯¢
æ–¹æ³•å‰è°ƒç”¨ PageHelper.startPageé™æ€æ–¹æ³•å³å¯ï¼Œç´§è·Ÿåœ¨è¿™ä¸ªæ–¹æ³•åçš„ç¬¬ä¸€
ä¸ª MyBatisæŸ¥è¯¢æ–¹æ³•ä¼šè¢«è¿›è¡Œåˆ†é¡µã€‚
ä¾‹ï¼š//è·å–ç¬¬ 1 é¡µï¼Œ 10 æ¡å†…å®¹ï¼Œé»˜è®¤æŸ¥è¯¢æ€»æ•° count
PageHelper.startPage( 1 , 10 );
//ç´§è·Ÿç€çš„ç¬¬ä¸€ä¸ª select æ–¹æ³•ä¼šè¢«åˆ†é¡µ
List<!-- raw HTML omitted -->list=countryMapper.selectIf( 1 );</p>
<h4 id="7-6-2-æƒé™">7 6 2 æƒé™&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="-saas-å¹³å°ç®¡ç†å‘˜è´Ÿè´£å¹³å°çš„æ—¥å¸¸ç»´æŠ¤å’Œç®¡ç†åŒ…æ‹¬ç”¨æˆ·æ—¥å¿—çš„">ï¬ SAAS å¹³å°ç®¡ç†å‘˜ï¼šè´Ÿè´£å¹³å°çš„æ—¥å¸¸ç»´æŠ¤å’Œç®¡ç†ï¼ŒåŒ…æ‹¬ç”¨æˆ·æ—¥å¿—çš„</h5>
<h5 id="ç®¡ç†ç§Ÿæˆ·è´¦å·å®¡æ ¸ç§Ÿæˆ·çŠ¶æ€ç®¡ç†ç§Ÿæˆ·è´¹ç”¨çš„ç®¡ç†è¦æ³¨æ„çš„æ˜¯å¹³å°ç®¡ç†å‘˜">ç®¡ç†.ç§Ÿæˆ·è´¦å·å®¡æ ¸.ç§Ÿæˆ·çŠ¶æ€ç®¡ç†.ç§Ÿæˆ·è´¹ç”¨çš„ç®¡ç†ï¼Œè¦æ³¨æ„çš„æ˜¯å¹³å°ç®¡ç†å‘˜</h5>
<h5 id="ä¸èƒ½å¯¹ç§Ÿæˆ·çš„å…·ä½“ä¸šåŠ¡è¿›è¡Œç®¡ç†">ä¸èƒ½å¯¹ç§Ÿæˆ·çš„å…·ä½“ä¸šåŠ¡è¿›è¡Œç®¡ç†ã€‚</h5>
<pre tabindex="0"><code>ï¬ ä¼ä¸šç§Ÿæˆ·ï¼šæŒ‡è®¿é—® SaaS å¹³å°çš„ç”¨æˆ·ä¼ä¸šï¼Œåœ¨ SaaS å¹³å°ä¸­å„ç§Ÿæˆ·
ä¹‹é—´ä¿¡æ¯æ˜¯ç‹¬ç«‹çš„ã€‚
ï¬ ç§Ÿæˆ·ç®¡ç†å‘˜ï¼šä¸ºç§Ÿæˆ·è§’è‰²åˆ†é…æƒé™å’Œç›¸å…³ç³»ç»Ÿç®¡ç†.ç»´æŠ¤ã€‚
ï¬ ç§Ÿæˆ·ç”¨æˆ·ï¼šéœ€å¯¹ç§Ÿæˆ·ç”¨æˆ·è¿›è¡Œè§’è‰²åˆ†é…ï¼Œç§Ÿæˆ·ç”¨æˆ·åªèƒ½è®¿é—®æˆæƒçš„
æ¨¡å—ä¿¡æ¯ã€‚
</code></pre><h4 id="7-6-3-åŠ¨æ€æ„é€ èœå•">7 6 3 åŠ¨æ€æ„é€ èœå•&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="-1-æ ¹æ®ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢æ¨¡å—">ï¬ 1. æ ¹æ®ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢æ¨¡å—ã€‚</h5>
<pre tabindex="0"><code>ï¬ 2 .SaaS ç®¡ç†å‘˜ï¼Œç§Ÿæˆ·ä¼ä¸šç®¡ç†å‘˜ç›´æ¥æŸ¥è¯¢å³å¯ã€‚
ï¬ 3. æ™®é€šç”¨æˆ·ï¼Œé€šè¿‡ç”¨æˆ·çš„è§’è‰²ä»¥åŠè§’è‰²å’Œæ¨¡å—ä¹‹é—´çš„å…³è”å…³ç³»æŸ¥è¯¢ã€‚
ï¬ 4. å°†æ¨¡å—ä¿¡æ¯ä¿å­˜åˆ° session ä¸­ã€‚
ï¬ 5. é¡µé¢åŠ¨æ€æ‹¼æ¥èœå•ã€‚
</code></pre><h4 id="7-6-4-shiro">7 6 4 Shiro&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ç™»å½•æ–¹å¼">ç™»å½•æ–¹å¼</h5>
<h5 id="ä½¿ç”¨æ­¥éª¤">ä½¿ç”¨æ­¥éª¤</h5>
<p>ç¬¬ä¸€æ­¥ï¼šåœ¨mavençˆ¶å·¥ç¨‹ä¸­çš„pom.xmlä¸­å¯¼å…¥åæ ‡ï¼›
ç¬¬äºŒæ­¥ï¼šé…ç½®springä¸­æä¾›çš„shiroè¿‡æ»¤å™¨ ï¼ˆä¸€å½“åçš„è¿‡æ»¤å™¨ï¼‰ï¼›
ç¬¬ä¸‰æ­¥ï¼šåœ¨ springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä»£ç†æ–¹å¼ï¼›
ç¬¬å››æ­¥ï¼šåˆ›å»ºshiroçš„springé…ç½®æ–‡ä»¶ï¼›
ç¬¬äº”æ­¥ï¼šè‡ªå®šä¹‰realmåŸŸï¼›
ç¬¬å…­æ­¥ï¼šè‡ªå®šä¹‰å¯†ç æ¯”è¾ƒå™¨ï¼›
ç¬¬ä¸ƒæ­¥ï¼šé¡µé¢ä½¿shiroæ ‡ç­¾ï¼Œ/home/title.jspä¸»èœå•ã€‚
(spring+shiroå®ç°è·¯å¾„ <a class="link" href="https://www.cnblogs.com/jpfss/p/"  target="_blank" rel="noopener"
    >https://www.cnblogs.com/jpfss/p/</a> 8352031 .html)
æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­é€šè¿‡é…ç½®shiroçš„åæ ‡ï¼Œé…ç½®shiroçš„è¿‡æ»¤å™¨(shiro çš„ filterå¿…é¡»
åœ¨ springmvc çš„å­—ç¬¦é›† filter ä¹‹å‰)ï¼Œç„¶åå†åˆ›å»ºä¸ªapplication-shiro.xml
çš„é…ç½®æ–‡ä»¶ã€‚åœ¨é‡Œè¾¹é…ç½®å¥½å¯†ç æ¯”è¾ƒå™¨ï¼Œé…ç½®ç¼“å­˜ï¼Œé…ç½®å¯†ç åŠ å¯†ç®—æ³•ï¼Œé…ç½®å¥½
å“ªäº›èµ„æºæ˜¯åŒ¿åè®¿é—®(anon)çš„ï¼Œå“ªäº›èµ„æºæ˜¯éœ€è¦è®¤è¯(authc)çš„ã€‚ç„¶åé€šè¿‡é…ç½®
realmæ¥å®ç°è®¤è¯å’ŒæˆæƒåŠŸèƒ½ã€‚ç„¶åæ ¹æ®ç”¨æˆ·çš„çº§åˆ«ï¼ŒæŸ¥è¯¢å½“å‰ç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰
çš„è§’è‰²ï¼Œæ ¹æ®è§’è‰²åœ¨å‰ç«¯è¿›è¡Œé¡µé¢åŠ¨æ€æ‹¼æ¥ã€‚ä½†æ˜¯ä¸åŒçš„ç”¨æˆ·é™¤äº†å±•èœå•ä¸ä¸€è‡´
å¤–ï¼Œè¿˜æœ‰å¯¹åº”èœå•çš„åŠŸèƒ½ä¹Ÿä¸ä¸€æ ·ã€‚æ¯”å¦‚ï¼šå¦‚æœæ˜¯è´§è¿SaaSçš„ç®¡ç†å‘˜ï¼Œå¯ä»¥æŸ¥
çœ‹æ‰€æœ‰åŠŸèƒ½ï¼Œå¦‚æœæ˜¯ç§Ÿæˆ·çš„å‘˜å·¥ï¼Œé‚£ä¹ˆå¯èƒ½åªæœ‰æŸ¥çœ‹çš„åŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦è¿›è¡Œ
ç»†ç²’åº¦æ§åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å†shiroå¯¹åº”çš„é…ç½®æ–‡ä»¶é‡Œè¾¹é…ç½®(é€šè¿‡é…ç½®åŒ¿åå’Œ
å—ä¿æŠ¤çš„ï¼Œç„¶åé…ç½®å¯¹åº”çš„urlè·¯å¾„)ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨shiroæ ‡ç­¾æ¥è¿›è¡Œç»†åŒ–åŠŸèƒ½ã€‚
æ¯”å¦‚ï¼šåœ¨ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œé€šè¿‡é…ç½®<a class="link" href="shiro:hasPermissionname=%22abc%22" >shiro:hasPermissionname="abc"</a> æ ‡ç­¾
&lt;æ‹¥æœ‰æƒé™èµ„æºabc&gt;ã€‚
æ¯”å¦‚è¿˜æœ‰å…¶ä»–æ ‡ç­¾ï¼š</p>
<p><a class="link" href="shiro:principal" >shiro:principal</a> æ˜¾ç¤ºç”¨æˆ·èº«ä»½åç§°
<a class="link" href="shiro:authenticated" >shiro:authenticated</a> ç™»å½•ä¹‹å
<a class="link" href="shiro:notAuthenticated" >shiro:notAuthenticated</a>ä¸åœ¨ç™»å½•çŠ¶æ€æ—¶
<a class="link" href="shiro:guest" >shiro:guest</a> ç”¨æˆ·åœ¨æ²¡æœ‰RememberMeæ—¶
<a class="link" href="shiro:user" >shiro:user</a> ç”¨æˆ·åœ¨RememberMeæ—¶
&lt;shiro:hasAnyRolesname=&ldquo;abc, 123 &ldquo;&gt; åœ¨æœ‰abcæˆ–è€… 123 è§’è‰²æ—¶
<a class="link" href="shiro:hasRolename=%22abc%22" >shiro:hasRolename="abc"</a> æ‹¥æœ‰è§’è‰²abc
<a class="link" href="shiro:lacksRolename=%22abc%22" >shiro:lacksRolename="abc"</a> æ²¡æœ‰è§’è‰²abc
<a class="link" href="shiro:hasPermissionname=%22abc%22" >shiro:hasPermissionname="abc"</a> æ‹¥æœ‰æƒé™èµ„æºabc
<a class="link" href="shiro:lacksPermissionname=%22abc%22" >shiro:lacksPermissionname="abc"</a> æ²¡æœ‰abcæƒé™èµ„æº
<a class="link" href="shiro:principalproperty=%22username%22/" >shiro:principalproperty="username"/</a> æ˜¾ç¤ºç”¨æˆ·èº«ä»½ä¸­çš„å±æ€§å€¼
<strong>è®¤è¯çš„æµç¨‹æ˜¯ï¼š</strong></p>
<pre tabindex="0"><code>1 ã€åˆ›å»ºtokenä»¤ç‰Œï¼Œtokenä¸­æœ‰ç”¨
æˆ·æäº¤çš„è®¤è¯ä¿¡æ¯å³è´¦å·å’Œå¯†ç 
2 ã€æ‰§è¡Œsubject.login(token)ï¼Œæœ€
ç»ˆAuç”±thseenctuicraittyoMraè¿›nè¡Œagè®¤eè¯ré€šè¿‡
3 ã€ Authenticatorçš„å®ç°
ModularRealmAuthenticatorè°ƒç”¨
rè´¦eaå·lmå’Œå¯†ä»ç inï¼Œiè¿™é…é‡Œç½®ä½¿æ–‡ç”¨ä»¶çš„å–æ˜¯ç”¨Iæˆ·niçœŸReå®açš„lm
ï¼ˆshiroè‡ªå¸¦ï¼‰
4 ã€ IniRealmå…ˆæ ¹æ®tokenä¸­çš„è´¦
å·ç»™å»Moindiuä¸­laæ‰¾rRè¯¥eaè´¦lmå·Aï¼Œuå¦‚thæœenæ‰¾ticä¸aåˆ°toåˆ™r
è¿”é…å›å¯†ç nuæˆllåŠŸï¼Œåˆ™å¦‚è®¤æœè¯æ‰¾é€šåˆ°è¿‡åˆ™ã€‚åŒ¹é…å¯†ç ï¼ŒåŒ¹
</code></pre><h5 id="æˆæƒçš„æµç¨‹æ˜¯">æˆæƒçš„æµç¨‹æ˜¯ï¼š</h5>
<p><strong>Shiroçš„ç¼“å­˜</strong>
ä¸ºäº†æé«˜è®¤è¯å’Œæˆæƒè®¿é—®çš„æ•ˆç‡ï¼Œæˆ‘ä»¬è¿™è¾¹åŠ å…¥äº†shiroè‡ªå¸¦çš„Ehcacheã€‚
shiroæ¯æ¬¡æˆæƒéƒ½ä¼šé€šè¿‡realmè·å–æƒé™ä¿¡æ¯ï¼Œä¸ºäº†æé«˜è®¿é—®é€Ÿåº¦éœ€è¦æ·»åŠ ç¼“å­˜ï¼Œ
ç¬¬ä¸€æ¬¡ä»realmä¸­è¯»å–æƒé™æ•°æ®ï¼Œä¹‹åä¸å†è¯»å–ï¼Œè¿™é‡ŒShiroå’ŒEhcacheæ•´åˆã€‚
å¼•å…¥shiroçš„coreå’ŒehcacheJaråŒ…ã€‚åœ¨shiroçš„xmlé…ç½®æ–‡ä»¶é‡Œè¾¹å¼•å…¥ ç¼“å­˜
çš„é…ç½®ã€‚æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­é…ç½®çš„æ˜¯shiro-ehcache.xmlã€‚é‡Œè¾¹ä¸»è¦é…ç½®äº†ä¸€äº›å›ºå®š
å‚æ•°ï¼Œè¿˜é…ç½®äº†ç¼“å­˜æŒä¹…åŒ–çš„ç›®å½•(åºåˆ—åŒ–åœ°å€)ã€‚&lt;å¦‚æœé…ç½®äº†ç¼“å­˜ï¼Œé‚£ä¹ˆåœ¨ç”¨
æˆ·ä¿®æ”¹æƒé™åï¼Œæˆ‘ä»¬è¿™è¾¹ä¸€èˆ¬éƒ½è¦å†™ä¸€ä¸ªæ¸…é™¤ç¼“å­˜çš„æ–¹æ³•ã€‚&gt;</p>
<h5 id="1-æ‰§è¡Œ">1 ã€æ‰§è¡Œ</h5>
<pre tabindex="0"><code>sauteb&#34;j)ect.isPermitted(&#34;user:cre
</code></pre><pre tabindex="0"><code>è¿‡Modu^2 lã€arsReecaulrmitAyMutahnoargizeerré€šè¿›
è¡Œæˆæƒ
3 ã€
Mreoadlmulaè·rRå–eæƒalé™mä¿¡Auæ¯thorizerè°ƒç”¨
4 ã€
ModularRealmAuthorizerå†é€š
è¿‡é™å­—peç¬¦rmä¸²iï¼Œssæ ¡ioéªŒnRæ˜¯eså¦oåŒ¹lveé…rè§£ææƒ
</code></pre><h3 id="7-7-dubbo">7 7 Dubbo&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="7-7-1-dubboçš„é¡¹ç›®æ¶æ„">7 7 1 Dubboçš„é¡¹ç›®æ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>1 ) è¡¨ç°å±‚æ‹†åˆ†æˆä¸€ä¸ªå•ç‹¬çš„waråŒ…
2 ) æœåŠ¡å±‚æ‹†åˆ†æˆä¸€ä¸ªå•ç‹¬çš„waråŒ…
3 )webå±‚å’ŒserviceæœåŠ¡å±‚é€šè¿‡dubboxæœåŠ¡æ²»ç†ä¸­é—´ä»¶è¿œç¨‹è°ƒç”¨
1 .rpc è¿œç¨‹è°ƒç”¨ hessain 2 äºŒè¿›åˆ¶åºåˆ—åŒ–
2 .nioå¼‚æ­¥é€šä¿¡ netty
4 ï¼‰DubboæœåŠ¡æ²»ç†ç‰¹æ€§æè¿°
é€æ˜è¿œç¨‹è°ƒç”¨å°±åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨è¿œç¨‹æ–¹æ³•ï¼›åªéœ€ç®€å•é…ç½®ï¼Œæ²¡
æœ‰ä»»ä½•APIä¾µå…¥ï¼›
è´Ÿè½½å‡è¡¡æœºåˆ¶ Clientç«¯LBï¼Œå¯åœ¨å†…ç½‘æ›¿ä»£F 5 ç­‰ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨ï¼›
å®¹é”™é‡è¯•æœºåˆ¶ æœåŠ¡Mockæ•°æ®ï¼Œé‡è¯•æ¬¡æ•°ã€è¶…æ—¶æœºåˆ¶ç­‰ï¼›
è‡ªåŠ¨æ³¨å†Œå‘ç° æ³¨å†Œä¸­å¿ƒåŸºäºæ¥å£åæŸ¥è¯¢æœåŠ¡æä¾›è€…çš„IPåœ°å€ï¼Œå¹¶ä¸”èƒ½
å¤Ÿå¹³æ»‘æ·»åŠ æˆ–åˆ é™¤æœåŠ¡æä¾›è€…ï¼›
æ€§èƒ½æ—¥å¿—ç›‘æ§Monitorç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡è°ƒå’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒï¼›
æœåŠ¡æ²»ç†ä¸­å¿ƒè·¯ç”±è§„åˆ™ï¼ŒåŠ¨æ€é…ç½®ï¼ŒæœåŠ¡é™çº§ï¼Œè®¿é—®æ§åˆ¶ï¼Œæƒé‡è°ƒæ•´ï¼Œ
è´Ÿè½½å‡è¡¡ï¼Œç­‰æ‰‹åŠ¨é…ç½®ã€‚
è‡ªåŠ¨æ²»ç†ä¸­å¿ƒæ— ï¼Œæ¯”å¦‚ï¼šç†”æ–­é™æµæœºåˆ¶ã€è‡ªåŠ¨æƒé‡è°ƒæ•´ç­‰ï¼›
5 ï¼‰ <!-- raw HTML omitted -->
&lt;dubbo:protocolname=&ldquo;dubbo&quot;port=&rdquo; 20881 &ldquo;&gt;&lt;/dubbo:protocol&gt;</p>
<!-- raw HTML omitted -->
<p><a class="link" href="dubbo:applicationname=%22pyg-manager-service%22/" >dubbo:applicationname="pyg-manager-service"/</a></p>
<!-- raw HTML omitted -->
<p>&lt;dubbo:registryaddress=&ldquo;zookeeper:// 192. 168. 25. 128 : 2181 &ldquo;/&gt;</p>
<!-- raw HTML omitted -->
<p><a class="link" href="dubbo:annotationpackage=%22com.pyg.manager.service.impl%22/" >dubbo:annotationpackage="com.pyg.manager.service.impl"/</a>
6 ï¼‰é»˜è®¤ä½¿ç”¨Dubboåè®®
è¿æ¥ä¸ªæ•°ï¼šå•è¿æ¥
è¿æ¥æ–¹å¼ï¼šé•¿è¿æ¥
ä¼ è¾“åè®®ï¼šTCP
ä¼ è¾“æ–¹å¼ï¼šNIOå¼‚æ­¥ä¼ è¾“
åºåˆ—åŒ–ï¼šHessianäºŒè¿›åˆ¶åºåˆ—åŒ–
é€‚ç”¨èŒƒå›´ï¼šä¼ å…¥ä¼ å‡ºå‚æ•°æ•°æ®åŒ…è¾ƒå°ï¼ˆå»ºè®®å°äº 100 Kï¼‰ï¼Œæ¶ˆè´¹è€…æ¯”æ
ä¾›è€…ä¸ªæ•°å¤šï¼Œå•ä¸€æ¶ˆè´¹è€…æ— æ³•å‹æ»¡æä¾›è€…ï¼Œå°½é‡ä¸è¦ä½¿ç”¨dubboåè®®ä¼ è¾“å¤§æ–‡
ä»¶æˆ–è¶…å¤§å­—ç¬¦ä¸²
ä½¿ç”¨åœºæ™¯ï¼šå¸¸è§„è¿œç¨‹æœåŠ¡æ–¹æ³•è°ƒç”¨
ä»ä¸Šé¢çš„é€‚ç”¨èŒƒå›´æ€»ç»“ï¼Œdubboé€‚åˆå°æ•°æ®é‡å¤§å¹¶å‘çš„æœåŠ¡è°ƒç”¨ï¼Œä»¥åŠæ¶ˆ
è´¹è€…æœºå™¨è¿œå¤§äºç”Ÿäº§è€…æœºå™¨æ•°çš„æƒ…å†µï¼Œä¸é€‚åˆä¼ è¾“å¤§æ•°æ®é‡çš„æœåŠ¡æ¯”å¦‚æ–‡ä»¶ã€è§†
é¢‘ç­‰ï¼Œé™¤éè¯·æ±‚é‡å¾ˆä½ã€‚</p>
<h4 id="7-7-2-ä»€ä¹ˆæ˜¯dubbo">7 7 2 ä»€ä¹ˆæ˜¯dubbo?&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>å·¥ä½œåœ¨soaé¢å‘æœåŠ¡åˆ†å¸ƒå¼æ¡†æ¶ä¸­çš„æœåŠ¡ç®¡ç†ä¸­é—´ä»¶ã€‚Dubboæ˜¯ä¸€ä¸ªåˆ†å¸ƒ
å¼æœåŠ¡æ¡†æ¶ï¼Œè‡´åŠ›äºæä¾›é«˜æ€§èƒ½å’Œé€æ˜åŒ–çš„RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æ–¹æ¡ˆï¼Œä»¥åŠSOA</p>
<h5 id="æœåŠ¡æ²»ç†æ–¹æ¡ˆ">æœåŠ¡æ²»ç†æ–¹æ¡ˆã€‚</h5>
<h5 id="å®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯æŒ‰ç…§åˆ†å±‚çš„æ–¹å¼æ¥æ¶æ„ä½¿ç”¨è¿™ç§æ–¹å¼å¯ä»¥ä½¿å„ä¸ªå±‚ä¹‹é—´è§£">å®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯æŒ‰ç…§åˆ†å±‚çš„æ–¹å¼æ¥æ¶æ„ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼å¯ä»¥ä½¿å„ä¸ªå±‚ä¹‹é—´è§£</h5>
<p>è€¦åˆï¼ˆæˆ–è€…æœ€å¤§é™åº¦åœ°æ¾è€¦åˆï¼‰ã€‚ä»æœåŠ¡æ¨¡å‹çš„è§’åº¦æ¥çœ‹ï¼ŒDubboé‡‡ç”¨çš„æ˜¯ä¸€
ç§éå¸¸ç®€å•çš„æ¨¡å‹ï¼Œè¦ä¹ˆæ˜¯æä¾›æ–¹æä¾›æœåŠ¡ï¼Œè¦ä¹ˆæ˜¯æ¶ˆè´¹æ–¹æ¶ˆè´¹æœåŠ¡ï¼Œæ‰€ä»¥åŸºäº
è¿™ä¸€ç‚¹å¯ä»¥æŠ½è±¡å‡ºæœåŠ¡æä¾›æ–¹ï¼ˆProviderï¼‰å’ŒæœåŠ¡æ¶ˆè´¹æ–¹ï¼ˆConsumerï¼‰ä¸¤ä¸ªè§’
è‰²ã€‚å…³äºæ³¨å†Œä¸­å¿ƒã€åè®®æ”¯æŒã€æœåŠ¡ç›‘æ§ç­‰å†…å®¹ã€‚
Dubboä½¿ç”¨çš„æ˜¯ç¼ºçœåè®®ï¼Œ é‡‡ç”¨é•¿è¿æ¥å’Œnioå¼‚æ­¥é€šä¿¡ï¼Œ é€‚åˆå°æ•°æ®é‡
å¤§å¹¶å‘çš„æœåŠ¡è°ƒç”¨ï¼Œä»¥åŠæœåŠ¡æ¶ˆè´¹è€…æœºå™¨æ•°è¿œå¤§äºæœåŠ¡æä¾›è€…æœºå™¨æ•°çš„æƒ…å†µã€‚
åä¹‹ï¼Œdubboç¼ºçœåè®®ä¸é€‚åˆä¼ é€å¤§æ•°æ®é‡çš„æœåŠ¡ï¼Œæ¯”å¦‚ä¼ æ–‡ä»¶ï¼Œä¼ è§†é¢‘ç­‰ï¼Œ
é™¤éè¯·æ±‚é‡å¾ˆä½ã€‚</p>
<h4 id="7-7-3-dubboçš„å®ç°åŸç†å›¾å¦‚ä¸‹">7 7 3 Dubboçš„å®ç°åŸç†å›¾å¦‚ä¸‹&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h4 id="7-7-4-èŠ‚ç‚¹è§’è‰²è¯´æ˜">7 7 4 èŠ‚ç‚¹è§’è‰²è¯´æ˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<pre tabindex="0"><code>Provider: æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ã€‚
</code></pre><pre tabindex="0"><code>Consumer:è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ã€‚
Registry: æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒã€‚
Monitor:ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡è°ƒå’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒã€‚
Container: æœåŠ¡è¿è¡Œå®¹å™¨ã€‚
</code></pre><h4 id="7-7-5-è°ƒç”¨å…³ç³»è¯´æ˜">7 7 5 è°ƒç”¨å…³ç³»è¯´æ˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="1-æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨åŠ è½½è¿è¡ŒæœåŠ¡æä¾›è€…">1. æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…ã€‚</h5>
<h5 id="2-æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡">2. æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</h5>
<h5 id="3-æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶å‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡">3. æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚</h5>
<h5 id="4-æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…å¦‚æœæœ‰å˜æ›´æ³¨å†Œä¸­å¿ƒå°†">4. æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†</h5>
<h5 id="åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…">åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚</h5>
<h5 id="5-æœåŠ¡æ¶ˆè´¹è€…ä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­åŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•é€‰ä¸€å°æä¾›">5. æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›</h5>
<h5 id="è€…è¿›è¡Œè°ƒç”¨å¦‚æœè°ƒç”¨å¤±è´¥å†é€‰å¦ä¸€å°è°ƒç”¨">è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚</h5>
<h5 id="6-æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…åœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´å®šæ—¶æ¯åˆ†é’Ÿ">6. æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿ</h5>
<h5 id="å‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒ">å‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚</h5>
<h4 id="7-7-6-åœ¨å®é™…å¼€å‘çš„åœºæ™¯ä¸­åº”è¯¥å¦‚ä½•é€‰æ‹©rpcæ¡†æ¶">7 7 6 åœ¨å®é™…å¼€å‘çš„åœºæ™¯ä¸­åº”è¯¥å¦‚ä½•é€‰æ‹©RPCæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<pre tabindex="0"><code>1. SpringCloud ï¼š Springå…¨å®¶æ¡¶ï¼Œç”¨èµ·æ¥å¾ˆèˆ’æœï¼Œåªæœ‰ä½ æƒ³ä¸åˆ°ï¼Œæ²¡æœ‰
å®ƒåšä¸åˆ°ã€‚å¯æƒœå› ä¸ºå‘å¸ƒçš„æ¯”è¾ƒæ™šï¼Œå›½å†…è¿˜æ²¡å‡ºç°æ¯”è¾ƒæˆåŠŸçš„æ¡ˆä¾‹ï¼Œå¤§éƒ¨
åˆ†éƒ½æ˜¯è¯•æ°´ï¼Œä¸è¿‡æ¯•ç«Ÿæœ‰Springä½œèƒŒæ™¯ï¼Œè¿˜æ˜¯æ¯”è¾ƒçœ‹å¥½ã€‚
2. Dubboxï¼š ç›¸å¯¹äºDubboæ”¯æŒäº†RESTï¼Œä¼°è®¡æ˜¯å¾ˆå¤šå…¬å¸é€‰æ‹©Dubbox
çš„ä¸€ä¸ªé‡è¦åŸå› ä¹‹ä¸€ï¼Œä½†å¦‚æœä½¿ç”¨Dubboçš„RPCè°ƒç”¨æ–¹å¼ï¼ŒæœåŠ¡é—´ä»
</code></pre><h5 id="ç„¶ä¼šå­˜åœ¨apiå¼ºä¾èµ–å„æœ‰åˆ©å¼Šæ‡‚çš„å–èˆå§">ç„¶ä¼šå­˜åœ¨APIå¼ºä¾èµ–ï¼Œå„æœ‰åˆ©å¼Šï¼Œæ‡‚çš„å–èˆå§ã€‚</h5>
<ol start="3">
<li><strong>Thriftï¼š</strong> å¦‚æœä½ æ¯”è¾ƒé«˜å†·ï¼Œå®Œå…¨å¯ä»¥åŸºäºThriftè‡ªå·±æä¸€å¥—æŠ½è±¡çš„è‡ªå®š
ä¹‰æ¡†æ¶å§ã€‚</li>
<li><strong>Hessianï¼š</strong> å¦‚æœæ˜¯åˆåˆ›å…¬å¸æˆ–ç³»ç»Ÿæ•°é‡è¿˜æ²¡æœ‰è¶…è¿‡ 5 ä¸ªï¼Œæ¨èé€‰æ‹©è¿™ä¸ªï¼Œ
æ¯•ç«Ÿåœ¨å¼€å‘é€Ÿåº¦.è¿ç»´æˆæœ¬.ä¸Šæ‰‹éš¾åº¦ç­‰éƒ½æ˜¯æ¯”è¾ƒè½»é‡.ç®€å•çš„ï¼Œå³ä½¿åœ¨ä»¥å
è¿ç§»è‡³SOAï¼Œä¹Ÿæ˜¯æ— ç¼è¿ç§»ã€‚
<strong>rpcx/gRPCï¼š</strong> åœ¨æœåŠ¡æ²¡æœ‰å‡ºç°ä¸¥é‡æ€§èƒ½çš„é—®é¢˜ä¸‹ï¼Œæˆ–æŠ€æœ¯æ ˆæ²¡æœ‰å˜æ›´çš„æƒ…å†µ
ä¸‹ï¼Œå¯èƒ½ä¸€ç›´ä¸ä¼šå¼•å…¥ï¼Œå³ä½¿å¼•å…¥ä¹Ÿåªæ˜¯å°éƒ¨åˆ†æ¨¡å—ä¼˜åŒ–ä½¿ç”¨ã€‚</li>
</ol>
<h4 id="7-7-7-dubboé¢è¯•é—®é¢˜æ±‡æ€»">7 7 7 Dubboé¢è¯•é—®é¢˜æ±‡æ€»ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p><strong>7. 7. 7. 1 ä»€ä¹ˆæ˜¯ç¼ºçœåè®®ï¼Ÿ</strong></p>
<p>ç¼ºçœåè®®åŸºäºnettyå’Œhessinaäº¤äº’ï¼Œä¼ è¾“æ–¹å¼æ˜¯nioï¼Œåºåˆ—åŒ–æ˜¯hissian
äºŒè¿›åˆ¶åºåˆ—åŒ–ï¼Œä¼ è¯´åè®®tcpï¼Œè¿æ¥æ–¹å¼é•¿è¿æ¥ã€‚è¿æ¥ä¸ªæ•°å•é“¾æ¥ã€‚é€‚ç”¨èŒƒå›´ï¼Œ
ä¼ å…¥ä¼ å‡ºå‚æ•°æ•°æ®åŒ…è¾ƒå°ï¼ˆå®˜æ–¹å»ºè®®å°ä¸ 100 Kï¼‰ï¼Œæ¶ˆè´¹è€…æ¯”æä¾›è€…ä¸ªæ•°å¤šï¼Œä½¿
ç”¨åœºæ™¯ï¼Œå¸¸è§„çš„è¿œç¨‹æœåŠ¡æ–¹æ³•è°ƒç”¨ã€‚</p>
<p><strong>7. 7. 7. 2 ä¸ºä»€ä¹ˆä¸èƒ½ä¼ å¤§åŒ…</strong></p>
<p>å› dubboåè®®é‡‡ç”¨å•ä¸€é•¿è¿æ¥ï¼Œå¦‚æœæ¯æ¬¡è¯·æ±‚çš„æ•°æ®åŒ…å¤§å°ä¸º 500 KByteï¼Œå‡
è®¾ç½‘ç»œä¸ºåƒå…†ç½‘å¡( 1024 Mbit= 128 MByte)ï¼Œæ¯æ¡è¿æ¥æœ€å¤§ 7 MByte(ä¸åŒçš„ç¯å¢ƒ
å¯èƒ½ä¸ä¸€æ ·ï¼Œä¾›å‚è€ƒ)ï¼Œ</p>
<h5 id="å•ä¸ªæœåŠ¡æä¾›è€…çš„tpsæ¯ç§’å¤„ç†äº‹åŠ¡æ•°æœ€å¤§ä¸º">å•ä¸ªæœåŠ¡æä¾›è€…çš„TPS(æ¯ç§’å¤„ç†äº‹åŠ¡æ•°)æœ€å¤§ä¸ºï¼š</h5>
<pre tabindex="0"><code>128 MByte/ 500 KByte= 262 ã€‚
å•ä¸ªæ¶ˆè´¹è€…è°ƒç”¨å•ä¸ªæœåŠ¡æä¾›è€…çš„TPS(æ¯ç§’å¤„ç†äº‹åŠ¡æ•°)æœ€å¤§ä¸ºï¼š
7 MByte/ 500 KByte= 14 ã€‚
å¦‚æœèƒ½æ¥å—ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ï¼Œå¦åˆ™ç½‘ç»œå°†æˆä¸ºç“¶é¢ˆã€‚
</code></pre><p><strong>7. 7. 7. 3 Dubboä¸­çš„zookeeperåšæ³¨å†Œä¸­å¿ƒï¼Œå¦‚æœæ³¨å†Œä¸­å¿ƒé›†ç¾¤éƒ½
æŒ‚æ‰ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…è¿˜èƒ½é€šä¿¡å—ï¼Ÿ</strong></p>
<p>å¯ä»¥é€šä¿¡ï¼Œå¯åŠ¨dubboæ—¶ï¼Œæ¶ˆè´¹è€…ä¼šä»zkæ‹‰å»æ³¨å†Œçš„ç”Ÿäº§è€…çš„åœ°å€æ¥å£ç­‰
æ•°æ®ï¼Œç¼“å­˜åœ¨æœ¬åœ°ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶ï¼ŒæŒ‰ç…§æœ¬åœ°å‚¨å­˜çš„åœ°å€è¿›è¡Œè°ƒç”¨ã€‚
æ³¨å†Œä¸­å¿ƒå¯¹ç­‰é›†ç¾¤ï¼Œä»»æ„ä¸€å°å®•æœºåï¼Œå°†ä¼šåˆ‡åˆ°å¦ä¸€å°ï¼Œ æ³¨å†Œä¸­å¿ƒå…¨éƒ¨å®•
æœºåï¼Œ æœåŠ¡çš„æä¾›è€…å’Œæ¶ˆè´¹è€…ä»èƒ½å¤Ÿé€šè¿‡æœ¬åœ°ç¼“å­˜é€šè®¯ï¼Œ æœåŠ¡æä¾›è€…æ— çŠ¶æ€ï¼Œ
ä»»æ„ä¸€å°å®•æœºåï¼Œä¸å½±å“ä½¿ç”¨ï¼ŒæœåŠ¡æä¾›è€…å…¨éƒ¨å®•æœºï¼ŒæœåŠ¡æ¶ˆè´¹è€…ä¼šæ— æ³•ä½¿ç”¨å¹¶
ä¸”æ— é™æ¬¡é‡è¿ç­‰å¾…æœåŠ¡è€…å›å¤ï¼Œ æŒ‚æ‰ä¸æ˜¯è¦ç´§çš„ï¼Œä½†å‰ææ˜¯ä½ æ²¡æœ‰å¢åŠ æ–°çš„æœ
åŠ¡ï¼Œå¦‚æœè¦è°ƒç”¨æ–°çš„æœåŠ¡ï¼Œåˆ™æ˜¯ä¸èƒ½åŠåˆ°çš„</p>
<p><strong>7. 7. 7. 4 dubboæœåŠ¡çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Ÿ</strong></p>
<pre tabindex="0"><code>A. RandomloadBalcance éšæœºæŒ‰æƒé‡è®¾ç½®éšæœºæ¦‚ç‡ã€‚åœ¨ä¸€ä¸ªç•Œé¢ä¸Šç¢°
æ’çš„æ¦‚ç‡é«˜ï¼Œå•æ¡ç”¨é‡è¶Šå¤§åˆ†å¸ƒè¶Šå‡åŒ€ï¼Œè€Œä¸”æŒ‰æ¦‚ç‡ä½¿ç”¨æƒé‡åä¹Ÿæ¯”è¾ƒå‡åŒ€
æœ‰åˆ©äºåŠ¨æ€è°ƒæ•´æä¾›æƒé‡è€…ã€‚
B.roundRobinLoadBalanceè½®å¾ªï¼ŒæŒ‰å…¬çº¦åçš„æƒé‡è®¾ç½®è½®è®­æ¯”ç‡ï¼Œå­˜
åœ¨æ…¢çš„æä¾›è€…ç´¯ç§¯å»è¯·æ±‚é—®é¢˜.
</code></pre><h5 id="ä¾‹å¦‚ç¬¬äºŒå°æœºå™¨å¾ˆæ…¢ä½†æ˜¯æ²¡æŒ‚æ¯å½“è¯·æ±‚è°ƒç”¨åˆ°ç¬¬äºŒå°æ—¶å°±å¡åœ¨é‚£ä¹…è€Œ">ä¾‹å¦‚ï¼Œç¬¬äºŒå°æœºå™¨å¾ˆæ…¢ä½†æ˜¯æ²¡æŒ‚ã€‚æ¯å½“è¯·æ±‚è°ƒç”¨åˆ°ç¬¬äºŒå°æ—¶å°±å¡åœ¨é‚£ï¼Œä¹…è€Œ</h5>
<h5 id="ä¹…ä¹‹æ‰€æœ‰çš„è¯·æ±‚éƒ½å¡åœ¨è°ƒåˆ°ç¬¬äºŒå°ä¸Š">ä¹…ä¹‹ï¼Œæ‰€æœ‰çš„è¯·æ±‚éƒ½å¡åœ¨è°ƒåˆ°ç¬¬äºŒå°ä¸Š</h5>
<p>C. leastActiveLoadBalance
æœ€å°‘æ´»è·ƒè°ƒç”¨æ•°ï¼Œç›¸åŒæ´»è·ƒæ•°çš„éšæœºï¼Œæ´»è·ƒæ•°æŒ‡è°ƒç”¨å‰åè®¡æ•°å·®ï¼Œä½¿æ…¢çš„æœº
å™¨æ”¶åˆ°æ›´å°‘ï¼Œå› ä¸ºè¶Šæ…¢çš„æä¾›è€…çš„è°ƒç”¨å‰åè®¡æ•°å·®ä¼šè¶Šå¤§
ä¾‹å¦‚ï¼Œæ¯ä¸ªæœåŠ¡ç»´æŠ¤ä¸€ä¸ªæ´»è·ƒæ•°è®¡æ•°å™¨ã€‚å½“Aæœºå™¨å¼€å§‹å¤„ç†è¯·æ±‚ï¼Œè¯¥è®¡æ•°å™¨
åŠ  1 ï¼Œæ­¤æ—¶Aè¿˜æœªå¤„ç†å®Œæˆ(è‹¥å¤„ç†å®Œæ¯•åˆ™è®¡æ•°å™¨å‡ 1 )ã€‚è€ŒBæœºå™¨æ¥å—åˆ°è¯·æ±‚å
å¾ˆå¿«å¤„ç†å®Œæ¯•ã€‚é‚£ä¹ˆA,Bçš„æ´»è·ƒæ•°åˆ†åˆ«æ˜¯ 1 ï¼Œ 0 ã€‚å½“åˆäº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„è¯·æ±‚ï¼Œåˆ™
é€‰æ‹©Bæœºå™¨å»æ‰§è¡Œ(Bæ´»è·ƒæ•°æœ€å°)ï¼Œè¿™æ ·ä½¿æ…¢çš„æœºå™¨Aæ”¶åˆ°å°‘çš„è¯·æ±‚ã€‚
D.ä¸€è‡´æ€§hash
ç›¸åŒå‚æ•°çš„è¯·æ±‚æ€»æ˜¯å‘é€åˆ°åŒä¸€ä¸ªæä¾›è€…ï¼Œ å½“æŸä¸€å°æä¾›è€…æŒ‚äº†ï¼ŒåŸæœ¬å‘
å¾€è¯¥æä¾›è€…çš„è¯·æ±‚ï¼ŒåŸºäºè™šæ‹ŸèŠ‚ç‚¹ï¼Œå¹³æ‘Šåˆ°å…¶ä»–æä¾›è€… ä¸ä¼šå¼•èµ·å‰§çƒˆå˜åŠ¨ã€‚ç¼º
çœå€¼å¯¹ç¬¬ä¸€ä¸ªå‚æ•°hashï¼Œ å¦‚æœè¦ä¿®æ”¹è¯·é…ç½®:
&lt;dubbo:parameterkey=â€hash.argumentsâ€ valueâ€ 0 , 1 â€/&gt;
ç¼ºçœç”¨ 160 ä»½è™šæ‹ŸèŠ‚ç‚¹ ã€‚ å¦‚æœè¦ä¿®æ”¹ è¯·é…ç½®
&lt;dubbo:parameterkey=â€hash.nodesâ€ value=â€ 320 â€&gt;</p>
<p><strong>7. 7. 7. 5 Dubbo åœ¨å®‰å…¨æœºåˆ¶æ–¹é¢æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</strong></p>
<p>Dubboé€šè¿‡tokenä»¤ç‰Œé˜²æ­¢ç”¨æˆ·ç»•è¿‡æ³¨å†Œä¸­å¿ƒç›´è¿ã€‚ç„¶åå†æ³¨å†Œä¸­å¿ƒä¸Šç®¡
ç†æˆæƒï¼Œdubboè¿˜æä¾›æœåŠ¡é»‘ç™½åå•ï¼Œ æ¥æ§åˆ¶æœåŠ¡æ‰€å…è®¸çš„è°ƒç”¨æ–¹ã€‚</p>
<p><strong>7. 7. 7. 6 dubboé“¾æ¥æ³¨å†Œä¸­å¿ƒå’Œç›´è¿æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>åœ¨å¼€å‘çº§æµ‹è¯•ç¯å¢ƒä¸‹ï¼Œç»å¸¸éœ€è¦ç»•è¿‡æ³¨å†Œä¸­å¿ƒï¼Œåªæµ‹è¯•åˆ¶å®šæœåŠ¡æä¾›è€…ï¼Œ
è¿™æ—¶å€™å¯èƒ½éœ€è¦ç‚¹å¯¹ç‚¹ç›´è¿ã€‚
ç‚¹å¯¹ç‚¹ç›´è¿æ–¹å¼ :å°†ä»¥æœåŠ¡æ¥å£ä¸ºå•ä½ï¼Œå¿½ç•¥æ³¨å†Œä¸­å¿ƒå‡ºçš„æä¾›è€…åˆ—è¡¨ã€‚
æ³¨å†Œä¸­å¿ƒ:åŠ¨æ€çš„æ³¨å†Œå’Œå‘ç°æœåŠ¡ï¼Œä½¿æœåŠ¡çš„ä½ç½®é€æ˜ï¼Œå¹¶é€šè¿‡åœ¨æ¶ˆè´¹æ–¹è·å–
æœåŠ¡æä¾›æ–¹åœ°å€åˆ—è¡¨ï¼Œå®ç°è½¯è´Ÿè½½å‡è¡¡å’Œfailoverã€‚æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°
å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚
æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›
è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ï¼Œæ³¨å†Œä¸­å¿ƒè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†ŒäºæŸ¥
æ‰¾ï¼Œç›¸å½“äºç›®å½•æœåŠ¡ï¼Œ æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒè¿›è¡Œäº¤äº’ï¼Œ
æ³¨å†Œä¸­å¿ƒä¸è½¬å‘è¯·æ±‚ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å‘æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ï¼Œ å¹¶æ ¹
æ®è½¯è´Ÿè½½ç®—æ³•ç›´æ¥è°ƒç”¨æä¾›è€….æ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡æä¾›è€…ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ä¸‰è€…ä¹‹é—´å‡
ä¸ºé•¿è¿æ¥ã€‚ ç›‘æ§ä¸­å¿ƒé™¤å¤–ï¼Œæ³¨å†Œä¸­å¿ƒé€šè¿‡é•¿è¿æ¥æ„ŸçŸ¥æœåŠ¡æä¾›è€…çš„å­˜åœ¨ï¼ŒæœåŠ¡
æä¾›è€…å®•æœºï¼Œæ³¨å†Œä¸­å¿ƒå°†ç«‹å³æ¨é€äº‹ä»¶é€šçŸ¥æ¶ˆè´¹è€…,æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒå…¨éƒ¨å®•
æœºï¼Œä¸å½±å“å·²è¿è¡Œçš„æä¾›è€…å’Œæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…åœ¨æœ¬åœ°ç¼“å­˜äº†æä¾›è€…åˆ—è¡¨
æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒéƒ½æ˜¯å¯é€‰çš„ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å¯ä»¥ç›´è¿æœåŠ¡æä¾›è€…ã€‚</p>
<p><strong>7. 7. 7. 7 dubboæœåŠ¡é›†ç¾¤çš„å®¹é”™æ¨¡å¼</strong></p>
<p>åœ¨é›†ç¾¤è°ƒç”¨å¤±è´¥æ—¶ï¼ŒDubbo æä¾›äº†å¤šç§å®¹é”™æ–¹æ¡ˆï¼Œç¼ºçœä¸º failoveré‡è¯•ã€‚
å¯ä»¥è‡ªè¡Œæ‰©å±•é›†ç¾¤å®¹é”™ç­–ç•¥
1 .FailoverCluster(é»˜è®¤)
å¤±è´¥è‡ªåŠ¨åˆ‡æ¢ï¼Œå½“å‡ºç°å¤±è´¥ï¼Œé‡è¯•å…¶å®ƒæœåŠ¡å™¨ã€‚(ç¼ºçœ)é€šå¸¸ç”¨äºè¯»æ“ä½œï¼Œ</p>
<p>ä½†é‡è¯•ä¼šå¸¦æ¥æ›´é•¿å»¶è¿Ÿã€‚å¯é€šè¿‡retries=&rdquo; 2 &ldquo;æ¥è®¾ç½®é‡è¯•æ¬¡æ•°(ä¸å«ç¬¬ä¸€æ¬¡)ã€‚
&lt;dubbo:serviceretries=&rdquo; 2 &ldquo;cluster=&ldquo;failover&rdquo;/&gt;æˆ–ï¼š
&lt;dubbo:referenceretries=&rdquo; 2 &ldquo;cluster=&ldquo;failover&rdquo;/&gt;
cluster=&ldquo;failover&quot;å¯ä»¥ä¸ç”¨å†™,å› ä¸ºé»˜è®¤å°±æ˜¯failover
2 .FailfastCluster
å¿«é€Ÿå¤±è´¥ï¼Œåªå‘èµ·ä¸€æ¬¡è°ƒç”¨ï¼Œå¤±è´¥ç«‹å³æŠ¥é”™ã€‚é€šå¸¸ç”¨äºéå¹‚ç­‰æ€§çš„å†™æ“
ä½œï¼Œæ¯”å¦‚æ–°å¢è®°å½•ã€‚
dubbo:servicecluster=&ldquo;failfast&rdquo;/&gt;
æˆ–:<a class="link" href="dubbo:referencecluster=%22failfast%22/" >dubbo:referencecluster="failfast"/</a> cluster=&ldquo;failfast&quot;å’Œ æŠŠ
cluster=&ldquo;failover&rdquo;ã€retries=&rdquo; 0 &ldquo;æ˜¯ä¸€æ ·çš„æ•ˆæœ,retries=&rdquo; 0 &ldquo;å°±æ˜¯ä¸é‡è¯•
3 .å¤±è´¥å®‰å…¨ï¼Œå‡ºç°å¼‚å¸¸æ—¶ï¼Œç›´æ¥å¿½ç•¥ã€‚é€šå¸¸ç”¨äºå†™å…¥å®¡è®¡æ—¥å¿—ç­‰æ“ä½œã€‚
<a class="link" href="dubbo:servicecluster=%22failsafe%22/" >dubbo:servicecluster="failsafe"/</a>
æˆ–ï¼š<a class="link" href="dubbo:referencecluster=%22failsafe%22/" >dubbo:referencecluster="failsafe"/</a>
4 .å¤±è´¥è‡ªåŠ¨æ¢å¤ï¼Œåå°è®°å½•å¤±è´¥è¯·æ±‚ï¼Œå®šæ—¶é‡å‘ã€‚é€šå¸¸ç”¨äºæ¶ˆæ¯é€šçŸ¥æ“ä½œã€‚
<a class="link" href="dubbo:servicecluster=%22failback%22/" >dubbo:servicecluster="failback"/</a> æˆ–ï¼š
<a class="link" href="dubbo:referencecluster=%22failback%22/" >dubbo:referencecluster="failback"/</a>
5 .å¹¶è¡Œè°ƒç”¨å¤šä¸ªæœåŠ¡å™¨ åªè¦æœ‰ä¸€ä¸ªæˆåŠŸå³è¿”å›ï¼Œ é€šå¸¸ç”¨äºå®æ—¶æ€§è¦æ±‚è¾ƒ
é«˜çš„è¯»æ“ä½œï¼Œä½†éœ€è¦æµªè´¹æ›´å¤šæœåŠ¡å™¨èµ„æºï¼Œé€šè¿‡forks=â€œ 2 â€æ¥è®¾ç½®æœ€å¤§
å¹¶è¡Œæ•°ã€‚
6 .å¹¿æ’­è°ƒç”¨æ‰€æœ‰æä¾›è€… ï¼Œé€ä¸ªè°ƒç”¨ï¼Œä»»æ„ä¸€å°æŠ¥é”™åˆ™æŠ¥é”™ï¼ˆ 2. 1. 0 å¼€å§‹æ”¯
æŒï¼‰ï¼Œ é€šå¸¸ç”¨äºé€šçŸ¥æ‰€æœ‰æä¾›è€…æ›´æ–°ç¼“å­˜æˆ–æ—¥å¿—ç­‰æœ¬åœ°èµ„æºä¿¡æ¯ã€‚</p>
<h5 id="åœ¨é¡¹ç›®å¼€å‘ä¸­æˆ‘ä»¬é¡¹ç›®æ¡†æ¶å·²ç»ç”±æˆ‘ä»¬é¡¹ç›®ç»ç†æ­å»ºå¥½äº†æˆ‘ä»¬åœ¨ä½¿ç”¨">åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é¡¹ç›®æ¡†æ¶å·²ç»ç”±æˆ‘ä»¬é¡¹ç›®ç»ç†æ­å»ºå¥½äº†ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨</h5>
<h5 id="ä¸­åªç”¨åœ¨æœåŠ¡æ–¹å’Œæ¶ˆè´¹æ–¹é…ç½®å¥½éœ€è¦æš´éœ²çš„æ¥å£åœ¨æ¶ˆè´¹ç”¨é€šè¿‡">ä¸­åªç”¨åœ¨æœåŠ¡æ–¹å’Œæ¶ˆè´¹æ–¹é…ç½®å¥½éœ€è¦æš´éœ²çš„æ¥å£ï¼Œåœ¨æ¶ˆè´¹ç”¨é€šè¿‡</h5>
<pre tabindex="0"><code>@Reference æ³¨è§£è¿›è¡Œå¼•å…¥æœåŠ¡ã€‚
</code></pre><h3 id="7-8-zookeeper">7 8 Zookeeper&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>ZooKeeperæ˜¯ä¸€ç§ä¸ºåˆ†å¸ƒå¼åº”ç”¨æ‰€è®¾è®¡çš„é«˜å¯ç”¨.é«˜æ€§èƒ½ä¸”ä¸€è‡´çš„å¼€æºåè°ƒ
æœåŠ¡ï¼Œå®ƒæä¾›äº†ä¸€é¡¹åŸºæœ¬æœåŠ¡ï¼š <strong>åˆ†å¸ƒå¼é”æœåŠ¡</strong> ã€‚ç”±äºZooKeeperçš„å¼€æºç‰¹æ€§ï¼Œ
åæ¥æˆ‘ä»¬çš„å¼€å‘è€…åœ¨åˆ†å¸ƒå¼é”çš„åŸºç¡€ä¸Šï¼Œæ‘¸ç´¢äº†å‡ºäº†å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•ï¼š <strong>é…ç½®ç»´æŠ¤.
ç»„æœåŠ¡.åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—.åˆ†å¸ƒå¼é€šçŸ¥/åè°ƒ</strong> ç­‰ã€‚
åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­Zookeeperä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œä»–çš„ä¸»è¦ä»»åŠ¡æ˜¯è´Ÿè´£åœ°å€
çš„æ³¨å†Œä»¥åŠæŸ¥æ‰¾ï¼Œç›¸å½“äºä¸€ä¸ªæœåŠ¡ç›®å½•ï¼ŒæœåŠ¡çš„æä¾›è€…ä¸æœåŠ¡çš„æ¶ˆè´¹è€…åªåœ¨å¯åŠ¨
æ—¶ä¸æ³¨å†Œä¸­å¿ƒè¿›è¡Œäº¤äº’ï¼Œæ³¨å†Œä¸­å¿ƒä¹Ÿä¸ä¼šè½¬å‘è¯·æ±‚ï¼Œæ‰€ä»¥ç›¸å¯¹è€Œè¨€å‹åŠ›è¾ƒå°ã€‚
Zookeeperè¯ç”Ÿçš„èƒŒæ™¯ï¼š</p>
<h5 id="è°ƒç”¨å…³ç³»-1-è¯´-æ˜æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨åŠ è½½">è°ƒç”¨å…³ç³» 1 è¯´. æ˜æœ:åŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œ</h5>
<h5 id="è¿è¡ŒæœåŠ¡-2-æ-ä¾›æœè€…åŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶å‘æ³¨">è¿è¡ŒæœåŠ¡ 2 æ. ä¾›æœè€…åŠ¡ã€‚æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨</h5>
<h5 id="å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡">å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</h5>
<h5 id="å†Œä¸­å¿ƒè®¢3-é˜…è‡ªæœå·±åŠ¡æ‰€æ¶ˆéœ€è´¹çš„è€…æœåœ¨åŠ¡å¯åŠ¨æ—¶å‘æ³¨">å†Œä¸­å¿ƒè®¢^3 .é˜…è‡ªæœå·±åŠ¡æ‰€æ¶ˆéœ€è´¹çš„è€…æœåœ¨åŠ¡å¯ã€‚åŠ¨æ—¶ï¼Œå‘æ³¨</h5>
<h5 id="å€åˆ—è¡¨ç»™4-æ¶ˆè´¹æ³¨è€…å†Œä¸­å¦‚å¿ƒæœè¿”æœ‰å›å˜æœæ›´åŠ¡ææ³¨ä¾›å†Œè€…ä¸­åœ°å¿ƒ">å€åˆ—è¡¨ç»™^4 .æ¶ˆè´¹æ³¨è€…å†Œï¼Œä¸­å¦‚å¿ƒæœè¿”æœ‰å›å˜æœæ›´åŠ¡ï¼Œææ³¨ä¾›å†Œè€…ä¸­åœ°å¿ƒ</h5>
<h5 id="å°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…">å°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚</h5>
<h5 id="åˆ—è¡¨ä¸­5-åŸº-äºæœè½¯åŠ¡è´Ÿæ¶ˆè½½è´¹å‡è€…è¡¡ç®—ä»æ³•æä¾›é€‰è€…ä¸€åœ°å°å€æ">åˆ—è¡¨ä¸­ï¼Œ^5 åŸº. äºæœè½¯åŠ¡è´Ÿæ¶ˆè½½è´¹å‡è€…è¡¡ï¼Œç®—ä»æ³•æï¼Œä¾›é€‰è€…ä¸€åœ°å°å€æ</h5>
<h5 id="ä¾›è€…è¿›è¡Œ-6-è°ƒç”¨å°è°ƒå¦‚ç”¨æœè°ƒæœç”¨åŠ¡å¤±æ¶ˆè´¥è´¹å†è€…é€‰å’Œå¦æä¸€ä¾›">ä¾›è€…è¿›è¡Œ 6 .è°ƒç”¨å°ï¼Œè°ƒå¦‚ç”¨æœã€‚è°ƒæœç”¨åŠ¡å¤±æ¶ˆè´¥è´¹ï¼Œå†è€…é€‰å’Œå¦æä¸€ä¾›</h5>
<h5 id="è€…åœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´">è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œ</h5>
<h5 id="å®šå¿ƒæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­">å®šå¿ƒæ—¶ã€‚æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­</h5>
<p>å…¶å®é™¤äº†Zookeeperå®ç°äº†åˆ†å¸ƒå¼é”ä»¥å¤–è¿˜æœ‰Googleçš„Chubbyä¹Ÿæ˜¯åˆ†
å¸ƒå¼é”çš„å®ç°è€…ï¼ŒChubbyæ˜¯Googeleçš„é—­æºç¨‹åºï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸äº†ï¼Œè€Œ
Zookeeperæ˜¯é›…è™æ¨¡ä»¿Chubbyå¼€å‘å‡ºæ¥å¹¶æçŒ®ç»™Apacheçš„ï¼Œæ‰€ä»¥æ‰å¯ä»¥ä½¿
ç”¨åˆ°è¿™ä¹ˆä¼˜ç§€çš„å¼€æºç¨‹åºå»æ„å»ºæˆ‘ä»¬çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</p>
<h4 id="7-8-1-zookeeperæ˜¯å¦‚ä½•å®ç°é…ç½®ç»´æŠ¤ç»„æœåŠ¡åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ç­‰ç­‰æœåŠ¡çš„å‘¢">7 8 1 Zookeeperæ˜¯å¦‚ä½•å®ç°é…ç½®ç»´æŠ¤.ç»„æœåŠ¡.åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ç­‰ç­‰æœåŠ¡çš„å‘¢ï¼Ÿ&hellip;..</h4>
<p>é¦–å…ˆZookeeperåœ¨å®ç°è¿™äº›æœåŠ¡ä¹‹å‰ï¼Œä»–è®¾è®¡äº†ä¸€ç§æ–°çš„æ•°æ®ç»“æ„-Znode,
ç„¶ååœ¨è¿™ä¸ªæ•°æ®ç»“æ„çš„åŸºç¡€ä¹‹ä¸Šå®šä¹‰äº†ä¸€äº›å¯¹æ•°æ®ç»“æ„æ“ä½œçš„æ–¹æ³•ï¼Œå¦å¤–
Zookeeperè¿˜è®¾è®¡äº†ä¸€ç§é€šçŸ¥æœºåˆ¶-Watcheræœºåˆ¶ã€‚é€šè¿‡æ–°çš„æ•°æ®ç»“æ„-Znode</p>
<ul>
<li>æ“ä½œZnodeçš„æ–¹æ³• +Watcheræœºåˆ¶å®ç°äº†ä¸Šè¿°æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æœåŠ¡ã€‚</li>
</ul>
<h4 id="7-8-2-ç®€è¿°ä¸€ä¸‹ä½ å¯¹znodeçš„ç†è§£">7 8 2 ç®€è¿°ä¸€ä¸‹ä½ å¯¹Znodeçš„ç†è§£&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>é¦–å…ˆè·Ÿä½ è¯´ä¸€ä¸‹Znodeçš„ç»“æ„è·Ÿæˆ‘ä»¬æ—¥å¸¸ä¸­çš„Windowç¯å¢ƒä¸­çš„æ–‡ä»¶ç›®å½•
ç»“æ„å¾ˆåƒï¼Œä¸‹é¢æ”¾å¼ æˆªå›¾</p>
<p>æ˜¯ä¸æ˜¯å¾ˆç›¸ä¼¼ï¼ŒZookeeperä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆ ï¼‰è¢«ç§°ä¸ºZnodeã€‚
è™½ç„¶ä»–ä»¬å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯ä»–ä»¬ä¹Ÿæœ‰ <strong>ä¸åŒä¹‹å¤„ã€‚
( 1 )å¼•ç”¨æ–¹å¼ï¼š</strong>
Znodeé€šè¿‡è·¯å¾„è¿›è¡Œå¼•ç”¨ï¼Œå°±åƒLinuxä¸­çš„æ–‡ä»¶è·¯å¾„ã€‚å¹¶ä¸”è·¯å¾„éƒ½æ˜¯ç»
å¯¹è·¯å¾„ï¼Œå› æ­¤ä»–ä»¬éƒ½å¿…é¡»ç”¨â€œ/â€æ¥å¼€å¤´ï¼Œé™¤æ­¤ä»¥å¤–ä»–ä»¬éƒ½å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¹Ÿå°±
æ˜¯æ¯ä¸€ä¸ªè·¯å¾„éƒ½åªæœ‰ä¸€ç§è¡¨ç¤ºï¼Œå¹¶ä¸”è¿™äº›è·¯å¾„ä¸å¯ä»¥æ”¹å˜ã€‚åœ¨Zookeeperä¸­ï¼Œ
è¿™äº›è·¯å¾„æ˜¯æœ‰Unicodeå­—ç¬¦ä¸²ç»„æˆï¼ŒåŠ å…¥ä¸€äº›é™åˆ¶ï¼Œæ¯”å¦‚ï¼šå­—ç¬¦ä¸²â€œ/zookeeperâ€
å°±ç”¨ä»¥ä¿å­˜ç®¡ç†ä¿¡æ¯(å…³é”®é…é¢ä¿¡æ¯ç­‰)
<strong>( 2 )Znodeç»“æ„</strong>
Znodeç»“æ„å…¼å…·äº†æ–‡ä»¶å’Œç›®å½•ä¸¤ç§ç‰¹ç‚¹ï¼Œæ—¢å¯ä»¥ä¿å­˜æ•°æ®.ç»´æŠ¤æ•°æ®ï¼Œåˆ
å¯ä»¥å‘ç›®å½•ä¸€æ ·ä½œä¸ºè·¯å¾„è¡¨ç¤ºçš„ä¸€éƒ¨åˆ†ã€‚Znodeä¸»è¦æ˜¯ç”± 3 ä¸ªéƒ¨åˆ†ç»„æˆï¼š
1 Stat:è¿™ä¸ªè¡¨ç¤ºçŠ¶æ€ä¿¡æ¯ï¼Œç”¨äºæè¿°è¿™ä¸ªZnodeçš„ç‰ˆæœ¬.æƒé™ç­‰ä¿¡
æ¯
2 Data:è¿™ä¸ªè¡¨ç¤ºä¸å½“å‰Znodeç›¸å…³è”çš„æ•°æ®
3 Children:è¿™ä¸ªè¡¨ç¤ºå½“å‰Znodeä¸‹çš„å­èŠ‚ç‚¹</p>
<h5 id="-3-æ•°æ®è®¿é—®">( 3 )æ•°æ®è®¿é—®</h5>
<p>ZooKeeperä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®è¦è¢«åŸå­æ€§çš„æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´è¯»æ“
ä½œå°†è·å–ä¸èŠ‚ç‚¹ç›¸å…³çš„æ‰€æœ‰æ•°æ®ï¼Œå†™æ“ä½œä¹Ÿå°†æ›¿æ¢æ‰èŠ‚ç‚¹çš„æ‰€æœ‰æ•°æ®ã€‚å¦å¤–ï¼Œæ¯
ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ‹¥æœ‰è‡ªå·±çš„ <strong>ACL(è®¿é—®æ§åˆ¶åˆ—è¡¨)</strong> ï¼Œè¿™ä¸ªåˆ—è¡¨è§„å®šäº†ç”¨æˆ·çš„æƒé™ï¼Œå³é™
å®šäº†ç‰¹å®šç”¨æˆ·å¯¹ç›®æ ‡èŠ‚ç‚¹å¯ä»¥æ‰§è¡Œçš„æ“ä½œã€‚
<strong>( 4 )èŠ‚ç‚¹ç±»å‹</strong>
ZooKeeperä¸­çš„èŠ‚ç‚¹æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºä¸´æ—¶èŠ‚ç‚¹å’Œæ°¸ä¹…èŠ‚ç‚¹ã€‚èŠ‚ç‚¹çš„ç±»å‹
åœ¨åˆ›å»ºæ—¶å³è¢«ç¡®å®šï¼Œå¹¶ä¸”ä¸èƒ½æ”¹å˜ã€‚</p>
<p>(^1) ä¸´æ—¶èŠ‚ç‚¹ï¼šä¸´æ—¶èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸä¾èµ–äºåˆ›å»ºå®ƒä»¬çš„ä¼šè¯ã€‚ä¸€æ—¦ä¼š
è¯(Session)ç»“æŸï¼Œä¸´æ—¶èŠ‚ç‚¹å°†è¢«è‡ªåŠ¨åˆ é™¤ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ é™¤ã€‚è™½ç„¶
æ¯ä¸ªä¸´æ—¶çš„Znodeéƒ½ä¼šç»‘å®šåˆ°ä¸€ä¸ªå®¢æˆ·ç«¯ä¼šè¯ï¼Œä½†ä»–ä»¬å¯¹æ‰€æœ‰çš„å®¢æˆ·ç«¯
è¿˜æ˜¯å¯è§çš„ã€‚å¦å¤–ï¼ŒZooKeeperçš„ä¸´æ—¶èŠ‚ç‚¹ä¸å…è®¸æ‹¥æœ‰å­èŠ‚ç‚¹ã€‚
2 æ°¸ä¹…èŠ‚ç‚¹ï¼šæ°¸ä¹…èŠ‚ç‚¹çš„ç”Ÿå‘½å‘¨æœŸä¸ä¾èµ–äºä¼šè¯ï¼Œå¹¶ä¸”åªæœ‰åœ¨å®¢æˆ·
ç«¯æ˜¾ç¤ºæ‰§è¡Œåˆ é™¤æ“ä½œçš„æ—¶å€™ï¼Œä»–ä»¬æ‰èƒ½è¢«åˆ é™¤ã€‚
<strong>( 5 )é¡ºåºèŠ‚ç‚¹</strong>
å½“åˆ›å»ºZnodeçš„æ—¶å€™ï¼Œç”¨æˆ·å¯ä»¥è¯·æ±‚åœ¨ZooKeeperçš„è·¯å¾„ç»“å°¾æ·»åŠ ä¸€
ä¸ªé€’å¢çš„è®¡æ•°ã€‚è¿™ä¸ªè®¡æ•°å¯¹äºæ­¤èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ¥è¯´æ˜¯å”¯ä¸€çš„ï¼Œå®ƒçš„æ ¼å¼ä¸º
ZooKeeperè™½ç„¶å¯ä»¥å…³è”ä¸€äº›æ•°æ®ï¼Œä½†å¹¶æ²¡æœ‰è¢«è®¾è®¡ä¸ºå¸¸è§„çš„æ•°æ®åº“æˆ–è€…å¤§æ•°
æ®æ±‡å­˜é›†å‚¨ä½ï¼Œç½®ç›¸ç­‰åç­‰çš„ã€‚æ˜¯è¿™ï¼Œäº›å®ƒæ•°ç”¨æ®æ¥çš„ç®¡å…±ç†åŒè°ƒç‰¹åº¦æ€§æ•°å°±æ®æ˜¯ï¼Œå®ƒæ¯”ä»¬å¦‚éƒ½åˆ†æ˜¯å¸ƒå¾ˆå¼å°åº”çš„ç”¨æ•°ä¸­æ®çš„ï¼Œé…é€šç½®å¸¸æ–‡ä»¥ä»¶Kä¿¡Bæ¯ä¸º.å¤§çŠ¶å°æ€å•ä¿¡ä½æ¯ã€‚.
ZooKeeperçš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½è¢«è®¾è®¡ä¸ºä¸¥æ ¼æ£€æŸ¥å¹¶é™åˆ¶æ¯ä¸ªZnodeçš„æ•°æ®å¤§å°è‡³å¤š
1 Mï¼Œä½†å¸¸è§„ä½¿ç”¨ä¸­åº”è¯¥è¿œå°äºæ­¤å€¼ã€‚</p>
<p>&ldquo;% 10 d&rdquo;( 10 ä½æ•°å­—ï¼Œæ²¡æœ‰æ•°å€¼çš„æ•°ä½ç”¨ 0 è¡¥å……ï¼Œä¾‹å¦‚&rdquo; 0000000001 &ldquo;)ã€‚å½“è®¡æ•°
å€¼å¤§äº 232 - 1 æ—¶ï¼Œè®¡æ•°å™¨å°†æº¢å‡ºã€‚
<strong>( 6 )è§‚å¯Ÿ</strong>
å®¢æˆ·ç«¯å¯ä»¥åœ¨èŠ‚ç‚¹ä¸Šè®¾ç½®watchï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç›‘è§†å™¨ã€‚å½“èŠ‚ç‚¹çŠ¶æ€å‘ç”Ÿ
æ”¹å˜æ—¶(Znodeçš„å¢.åˆ .æ”¹)å°†ä¼šè§¦å‘watchæ‰€å¯¹åº”çš„æ“ä½œã€‚å½“watchè¢«è§¦å‘æ—¶ï¼Œ
ZooKeeperå°†ä¼šå‘å®¢æˆ·ç«¯å‘é€ä¸”ä»…å‘é€ä¸€æ¡é€šçŸ¥ï¼Œå› ä¸ºwatchåªèƒ½è¢«è§¦å‘ä¸€æ¬¡ï¼Œ
è¿™æ ·å¯ä»¥å‡å°‘ç½‘ç»œæµé‡</p>
<h4 id="7-8-3-zookeeperè§’è‰²è¯´æ˜">7 8 3 Zookeeperè§’è‰²è¯´æ˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>é¢†å¯¼è€…ï¼ˆleaderï¼‰ï¼Œè´Ÿè´£è¿›è¡ŒæŠ•ç¥¨çš„å‘èµ·å’Œå†³è®®ï¼Œæ›´æ–°ç³»ç»ŸçŠ¶æ€
å­¦ä¹ è€…ï¼ˆlearnerï¼‰ï¼ŒåŒ…æ‹¬è·Ÿéšè€…ï¼ˆfollowerï¼‰å’Œè§‚å¯Ÿè€…ï¼ˆobserverï¼‰ï¼Œfollower
ç”¨äºæ¥å—å®¢æˆ·ç«¯è¯·æ±‚å¹¶æƒ³å®¢æˆ·ç«¯è¿”å›ç»“æœï¼Œåœ¨é€‰ä¸»è¿‡ç¨‹ä¸­å‚ä¸æŠ•ç¥¨
Observerå¯ä»¥æ¥å—å®¢æˆ·ç«¯è¿æ¥ï¼Œå°†å†™è¯·æ±‚è½¬å‘ç»™leaderï¼Œä½†observerä¸å‚
åŠ æŠ•ç¥¨è¿‡ç¨‹ï¼ŒåªåŒæ­¥leaderçš„çŠ¶æ€ï¼Œobserverçš„ç›®çš„æ˜¯ä¸ºäº†æ‰©å±•ç³»ç»Ÿï¼Œæé«˜è¯»
å–é€Ÿåº¦
å®¢æˆ·ç«¯ï¼ˆclientï¼‰ï¼Œè¯·æ±‚å‘èµ·æ–¹</p>
<h4 id="7-8-4-è§’è‰²è°ƒç”¨å…³ç³»è¯´æ˜">7 8 4 è§’è‰²è°ƒç”¨å…³ç³»è¯´æ˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h4 id="7-8-5-zookeeperçš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆ">7 8 5 Zookeeperçš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>Zookeeperçš„æ ¸å¿ƒæ˜¯åŸå­å¹¿æ’­ï¼Œè¿™ä¸ªæœºåˆ¶ä¿è¯äº†å„ä¸ªServerä¹‹é—´çš„åŒæ­¥ã€‚
å®ç°è¿™ä¸ªæœºåˆ¶çš„åè®®å«åšZabåè®®ã€‚Zabåè®®æœ‰ä¸¤ç§æ¨¡å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ¢å¤æ¨¡
å¼ï¼ˆé€‰ä¸»ï¼‰å’Œå¹¿æ’­æ¨¡å¼ï¼ˆåŒæ­¥ï¼‰ã€‚å½“æœåŠ¡å¯åŠ¨æˆ–è€…åœ¨é¢†å¯¼è€…å´©æºƒåï¼ŒZabå°±è¿›å…¥
äº†æ¢å¤æ¨¡å¼ï¼Œå½“é¢†å¯¼è€…è¢«é€‰ä¸¾å‡ºæ¥ï¼Œä¸”å¤§å¤šæ•°Serverå®Œæˆäº†å’Œleaderçš„çŠ¶æ€åŒ
æ­¥ä»¥åï¼Œæ¢å¤æ¨¡å¼å°±ç»“æŸäº†ã€‚çŠ¶æ€åŒæ­¥ä¿è¯äº†leaderå’ŒServerå…·æœ‰ç›¸åŒçš„ç³»ç»Ÿ
çŠ¶æ€ã€‚</p>
<h4 id="7-8-6-zookeeperä¸­çš„æ¯ä¸ªserveræœ‰å‡ ç§çŠ¶æ€">7 8 6 Zookeeperä¸­çš„æ¯ä¸ªServeræœ‰å‡ ç§çŠ¶æ€ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<pre tabindex="0"><code>æ¯ä¸ªServeråœ¨å·¥ä½œè¿‡ç¨‹ä¸­æœ‰ä¸‰ç§çŠ¶æ€ï¼š
LOOKINGï¼šå½“å‰Serverä¸çŸ¥é“leaderæ˜¯è°ï¼Œæ­£åœ¨æœå¯»
LEADINGï¼šå½“å‰Serverå³ä¸ºé€‰ä¸¾å‡ºæ¥çš„leader
FOLLOWINGï¼šleaderå·²ç»é€‰ä¸¾å‡ºæ¥ï¼Œå½“å‰Serverä¸ä¹‹åŒæ­¥
</code></pre><h4 id="7-8-7-zookeeperçš„èŠ‚ç‚¹æ•°æ®æ“ä½œæµç¨‹">7 8 7 Zookeeperçš„èŠ‚ç‚¹æ•°æ®æ“ä½œæµç¨‹&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<ol>
<li>åœ¨Clientå‘Follwerå‘å‡ºä¸€ä¸ªå†™çš„è¯·æ±‚
2 .FollweræŠŠè¯·æ±‚å‘é€ç»™Leader
3 .Leaderæ¥æ”¶åˆ°ä»¥åå¼€å§‹å‘èµ·æŠ•ç¥¨å¹¶é€šçŸ¥Follwerè¿›è¡ŒæŠ•ç¥¨
4 .FollweræŠŠæŠ•ç¥¨ç»“æœå‘é€ç»™Leader
5 .Leaderå°†ç»“æœæ±‡æ€»åå¦‚æœéœ€è¦å†™å…¥ï¼Œåˆ™å¼€å§‹å†™å…¥åŒæ—¶æŠŠå†™å…¥æ“ä½œé€šçŸ¥ç»™
Leaderï¼Œç„¶åcommit;
6 .FollweræŠŠè¯·æ±‚ç»“æœè¿”å›ç»™Client</li>
</ol>
<h4 id="7-8-8-ä¸ºä»€ä¹ˆzookeeperé›†ç¾¤çš„æ•°ç›®ä¸€èˆ¬ä¸ºå¥‡æ•°ä¸ª">7 8 8 ä¸ºä»€ä¹ˆzookeeperé›†ç¾¤çš„æ•°ç›®ï¼Œä¸€èˆ¬ä¸ºå¥‡æ•°ä¸ªï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="1-å®¹é”™">1 .å®¹é”™</h5>
<h5 id="ç”±äºåœ¨å¢åˆ æ”¹æ“ä½œä¸­éœ€è¦åŠæ•°ä»¥ä¸ŠæœåŠ¡å™¨é€šè¿‡æ¥åˆ†æä»¥ä¸‹æƒ…å†µ">ç”±äºåœ¨å¢åˆ æ”¹æ“ä½œä¸­éœ€è¦åŠæ•°ä»¥ä¸ŠæœåŠ¡å™¨é€šè¿‡ï¼Œæ¥åˆ†æä»¥ä¸‹æƒ…å†µã€‚</h5>
<h5 id="2-å°æœåŠ¡å™¨-è‡³å°‘-2-å°æ­£å¸¸è¿è¡Œæ‰è¡Œ-2-çš„åŠæ•°ä¸º-1-åŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º-2-">2 å°æœåŠ¡å™¨ ï¼Œè‡³å°‘ 2 å°æ­£å¸¸è¿è¡Œæ‰è¡Œï¼ˆ 2 çš„åŠæ•°ä¸º 1 ï¼ŒåŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º 2 ï¼‰ï¼Œ</h5>
<h5 id="æ­£å¸¸è¿è¡Œ-1-å°æœåŠ¡å™¨éƒ½ä¸å…è®¸æŒ‚æ‰">æ­£å¸¸è¿è¡Œ 1 å°æœåŠ¡å™¨éƒ½ä¸å…è®¸æŒ‚æ‰</h5>
<h5 id="3-å°æœåŠ¡å™¨-è‡³å°‘-2-å°æ­£å¸¸è¿è¡Œæ‰è¡Œ-3-çš„åŠæ•°ä¸º-1-5-åŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º-2-">3 å°æœåŠ¡å™¨ ï¼Œè‡³å°‘ 2 å°æ­£å¸¸è¿è¡Œæ‰è¡Œï¼ˆ 3 çš„åŠæ•°ä¸º 1. 5 ï¼ŒåŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º 2 ï¼‰ï¼Œ</h5>
<h5 id="æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸-1-å°æœåŠ¡å™¨æŒ‚æ‰">æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸ 1 å°æœåŠ¡å™¨æŒ‚æ‰</h5>
<h5 id="4-å°æœåŠ¡å™¨-è‡³å°‘-3-å°æ­£å¸¸è¿è¡Œæ‰è¡Œ-4-çš„åŠæ•°ä¸º-2-åŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º-3-">4 å°æœåŠ¡å™¨ ï¼Œè‡³å°‘ 3 å°æ­£å¸¸è¿è¡Œæ‰è¡Œï¼ˆ 4 çš„åŠæ•°ä¸º 2 ï¼ŒåŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º 3 ï¼‰ï¼Œ</h5>
<h5 id="æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸-1-å°æœåŠ¡å™¨æŒ‚æ‰-1">æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸ 1 å°æœåŠ¡å™¨æŒ‚æ‰</h5>
<h5 id="5-å°æœåŠ¡å™¨-è‡³å°‘-3-å°æ­£å¸¸è¿è¡Œæ‰è¡Œ-5-çš„åŠæ•°ä¸º-2-5-åŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º-3-">5 å°æœåŠ¡å™¨ ï¼Œè‡³å°‘ 3 å°æ­£å¸¸è¿è¡Œæ‰è¡Œï¼ˆ 5 çš„åŠæ•°ä¸º 2. 5 ï¼ŒåŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º 3 ï¼‰ï¼Œ</h5>
<h5 id="æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸-2-å°æœåŠ¡å™¨æŒ‚æ‰">æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸ 2 å°æœåŠ¡å™¨æŒ‚æ‰</h5>
<h5 id="6-å°æœåŠ¡å™¨-è‡³å°‘-3-å°æ­£å¸¸è¿è¡Œæ‰è¡Œ-6-çš„åŠæ•°ä¸º-3-åŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º-4-">6 å°æœåŠ¡å™¨ ï¼Œè‡³å°‘ 3 å°æ­£å¸¸è¿è¡Œæ‰è¡Œï¼ˆ 6 çš„åŠæ•°ä¸º 3 ï¼ŒåŠæ•°ä»¥ä¸Šæœ€å°‘ä¸º 4 ï¼‰ï¼Œ</h5>
<h5 id="æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸-2-å°æœåŠ¡å™¨æŒ‚æ‰-1">æ­£å¸¸è¿è¡Œå¯ä»¥å…è®¸ 2 å°æœåŠ¡å™¨æŒ‚æ‰</h5>
<h5 id="é€šè¿‡ä»¥ä¸Šå¯ä»¥å‘ç°-3-å°æœåŠ¡å™¨å’Œ-4-å°æœåŠ¡å™¨éƒ½æœ€å¤šå…è®¸-1-å°æœåŠ¡å™¨æŒ‚æ‰">é€šè¿‡ä»¥ä¸Šå¯ä»¥å‘ç°ï¼Œ 3 å°æœåŠ¡å™¨å’Œ 4 å°æœåŠ¡å™¨éƒ½æœ€å¤šå…è®¸ 1 å°æœåŠ¡å™¨æŒ‚æ‰ï¼Œ</h5>
<h5 id="5-å°æœåŠ¡å™¨å’Œ-6-å°æœåŠ¡å™¨éƒ½æœ€å¤šå…è®¸-2-å°æœåŠ¡å™¨æŒ‚æ‰">5 å°æœåŠ¡å™¨å’Œ 6 å°æœåŠ¡å™¨éƒ½æœ€å¤šå…è®¸ 2 å°æœåŠ¡å™¨æŒ‚æ‰</h5>
<h5 id="ä½†æ˜¯æ˜æ˜¾-4-å°æœåŠ¡å™¨æˆæœ¬é«˜äº-3-å°æœåŠ¡å™¨æˆæœ¬-6-å°æœåŠ¡å™¨æˆæœ¬é«˜äº-5-æœåŠ¡">ä½†æ˜¯æ˜æ˜¾ 4 å°æœåŠ¡å™¨æˆæœ¬é«˜äº 3 å°æœåŠ¡å™¨æˆæœ¬ï¼Œ 6 å°æœåŠ¡å™¨æˆæœ¬é«˜äº 5 æœåŠ¡</h5>
<h5 id="å™¨æˆæœ¬è¿™æ˜¯ç”±äºåŠæ•°ä»¥ä¸ŠæŠ•ç¥¨é€šè¿‡å†³å®šçš„">å™¨æˆæœ¬ã€‚è¿™æ˜¯ç”±äºåŠæ•°ä»¥ä¸ŠæŠ•ç¥¨é€šè¿‡å†³å®šçš„ã€‚</h5>
<h5 id="2-é˜²è„‘è£‚">2 .é˜²è„‘è£‚</h5>
<p>ä¸€ä¸ªzookeeperé›†ç¾¤ä¸­ï¼Œå¯ä»¥æœ‰å¤šä¸ªfollower.observeræœåŠ¡å™¨ï¼Œä½†æ˜¯å¿…
éœ€åªèƒ½æœ‰ä¸€ä¸ªleaderæœåŠ¡å™¨ã€‚
å¦‚æœleaderæœåŠ¡å™¨æŒ‚æ‰äº†ï¼Œå‰©ä¸‹çš„æœåŠ¡å™¨é›†ç¾¤ä¼šé€šè¿‡åŠæ•°ä»¥ä¸ŠæŠ•ç¥¨é€‰å‡ºä¸€
ä¸ªæ–°çš„leaderæœåŠ¡å™¨ã€‚</p>
<h5 id="é›†ç¾¤äº’ä¸é€šè®¯æƒ…å†µ">é›†ç¾¤äº’ä¸é€šè®¯æƒ…å†µï¼š</h5>
<h5 id="ä¸€ä¸ªé›†ç¾¤-3-å°æœåŠ¡å™¨-å…¨éƒ¨è¿è¡Œæ­£å¸¸ä½†æ˜¯å…¶ä¸­-1-å°è£‚å¼€äº†å’Œå¦å¤–-2-å°">ä¸€ä¸ªé›†ç¾¤ 3 å°æœåŠ¡å™¨ ï¼Œå…¨éƒ¨è¿è¡Œæ­£å¸¸ï¼Œä½†æ˜¯å…¶ä¸­ 1 å°è£‚å¼€äº†ï¼Œå’Œå¦å¤– 2 å°</h5>
<p>æ— æ³•é€šè®¯ã€‚ 3 å°æœºå™¨é‡Œé¢ 2 å°æ­£å¸¸è¿è¡Œè¿‡åŠç¥¨å¯ä»¥é€‰å‡ºä¸€ä¸ªleaderã€‚
<strong>ä¸€ä¸ªé›†ç¾¤ 4 å°æœåŠ¡å™¨</strong> ï¼Œå…¨éƒ¨è¿è¡Œæ­£å¸¸ï¼Œä½†æ˜¯å…¶ä¸­ 2 å°è£‚å¼€äº†ï¼Œå’Œå¦å¤– 2 å°
æ— æ³•é€šè®¯ã€‚ 4 å°æœºå™¨é‡Œé¢ 2 å°æ­£å¸¸å·¥ä½œæ²¡æœ‰è¿‡åŠç¥¨ä»¥ä¸Šè¾¾åˆ° 3 ï¼Œæ— æ³•é€‰å‡ºleader
æ­£å¸¸è¿è¡Œã€‚
<strong>ä¸€ä¸ªé›†ç¾¤ 5 å°æœåŠ¡å™¨</strong> ï¼Œå…¨éƒ¨è¿è¡Œæ­£å¸¸ï¼Œä½†æ˜¯å…¶ä¸­ 2 å°è£‚å¼€äº†ï¼Œå’Œå¦å¤– 3 å°
æ— æ³•é€šè®¯ã€‚ 5 å°æœºå™¨é‡Œé¢ 3 å°æ­£å¸¸è¿è¡Œè¿‡åŠç¥¨å¯ä»¥é€‰å‡ºä¸€ä¸ªleaderã€‚
<strong>ä¸€ä¸ªé›†ç¾¤ 6 å°æœåŠ¡å™¨</strong> ï¼Œå…¨éƒ¨è¿è¡Œæ­£å¸¸ï¼Œä½†æ˜¯å…¶ä¸­ 3 å°è£‚å¼€äº†ï¼Œå’Œå¦å¤– 3 å°
æ— æ³•é€šè®¯ã€‚ 6 å°æœºå™¨é‡Œé¢ 3 å°æ­£å¸¸å·¥ä½œæ²¡æœ‰è¿‡åŠç¥¨ä»¥ä¸Šè¾¾åˆ° 4 ï¼Œæ— æ³•é€‰å‡ºleader
æ­£å¸¸è¿è¡Œã€‚
é€šè¿‡ä»¥ä¸Šåˆ†æå¯ä»¥çœ‹å‡ºï¼Œä¸ºä»€ä¹ˆzookeeperé›†ç¾¤æ•°é‡æ€»æ˜¯å•å‡ºç°ï¼Œä¸»è¦åŸ
å› è¿˜æ˜¯åœ¨äºç¬¬ 2 ç‚¹ï¼Œé˜²è„‘è£‚ï¼Œå¯¹äºç¬¬ 1 ç‚¹ï¼Œæ— éæ˜¯æ­£æœ¬æ§åˆ¶ï¼Œä½†æ˜¯ä¸å½±å“é›†ç¾¤
æ­£å¸¸è¿è¡Œã€‚ä½†æ˜¯å‡ºç°ç¬¬ 2 ç§è£‚çš„æƒ…å†µï¼Œzookeeperé›†ç¾¤å°±æ— æ³•æ­£å¸¸è¿è¡Œäº†ã€‚</p>
<h4 id="7-8-9-ç»å…¸å®ä¾‹zookeeperåˆ†å¸ƒå¼é”çš„åº”ç”¨åœºæ™¯">7 8 9 ç»å…¸å®ä¾‹ï¼šZookeeperåˆ†å¸ƒå¼é”çš„åº”ç”¨åœºæ™¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="èƒŒæ™¯">èƒŒæ™¯ï¼š</h5>
<p>åœ¨åˆ†å¸ƒå¼é”æœåŠ¡ä¸­ï¼Œæœ‰ä¸€ç§æœ€å…¸å‹åº”ç”¨åœºæ™¯ï¼Œå°±æ˜¯ <strong>é€šè¿‡å¯¹é›†ç¾¤è¿›è¡ŒMaster
é€‰ä¸¾</strong> ï¼Œ <strong>æ¥è§£å†³</strong> åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ <strong>å•ç‚¹æ•…éšœ</strong> ã€‚ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å•ç‚¹æ•…éšœï¼šé€šå¸¸
åˆ†å¸ƒå¼ç³»ç»Ÿé‡‡ç”¨ä¸»ä»æ¨¡å¼ï¼Œå°±æ˜¯ä¸€ä¸ªä¸»æ§æœºè¿æ¥å¤šä¸ªå¤„ç†èŠ‚ç‚¹ã€‚ä¸»èŠ‚ç‚¹è´Ÿè´£åˆ†å‘
ä»»åŠ¡ï¼Œä»èŠ‚ç‚¹è´Ÿè´£å¤„ç†ä»»åŠ¡ï¼Œå½“æˆ‘ä»¬çš„ä¸»èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œé‚£ä¹ˆæ•´ä¸ªç³»ç»Ÿå°±éƒ½ç˜«
ç—ªäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠè¿™ç§æ•…éšœå«ä½œå•ç‚¹æ•…éšœã€‚å¦‚ä¸‹å›¾ 1. 1 å’Œ 1. 2 æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>1. 1 ä¸»ä»æ¨¡å¼åˆ†å¸ƒå¼ç³»ç»Ÿ 1. 2 å•ç‚¹æ•…éšœ
</code></pre><h5 id="ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆ">ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆ</h5>
<p>ä¼ ç»Ÿæ–¹å¼æ˜¯é‡‡ç”¨ä¸€ä¸ª <strong>å¤‡ç”¨èŠ‚ç‚¹</strong> ï¼Œè¿™ä¸ªå¤‡ç”¨èŠ‚ç‚¹ <strong>å®šæœŸç»™</strong> å½“å‰ä¸»èŠ‚ <strong>ç‚¹å‘</strong> é€ <strong>pi</strong> ng
åŒ…ï¼Œ <strong>ä¸»èŠ‚ç‚¹æ”¶åˆ°pingåŒ…</strong> ä»¥åå‘å¤‡ç”¨èŠ‚ <strong>ç‚¹å‘</strong> é€å›å¤ <strong>Ack</strong> ï¼Œå½“å¤‡ç”¨èŠ‚ç‚¹æ”¶åˆ°å›å¤çš„
æ—¶å€™å°±ä¼šè®¤ä¸ºå½“å‰ä¸»èŠ‚ç‚¹è¿˜æ´»ç€ï¼Œè®©ä»–ç»§ç»­æä¾›æœåŠ¡ã€‚å¦‚å›¾ 1. 3 æ‰€ç¤º</p>
<pre tabindex="0"><code>1. 3 ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆ
</code></pre><h5 id="å½“ä¸»èŠ‚ç‚¹æŒ‚äº†è¿™æ—¶å€™å¤‡ç”¨èŠ‚ç‚¹æ”¶ä¸åˆ°å›å¤äº†ç„¶åä»–å°±è®¤ä¸ºä¸»èŠ‚ç‚¹æŒ‚äº†æ¥æ›¿ä»–">å½“ä¸»èŠ‚ç‚¹æŒ‚äº†ï¼Œè¿™æ—¶å€™å¤‡ç”¨èŠ‚ç‚¹æ”¶ä¸åˆ°å›å¤äº†ï¼Œç„¶åä»–å°±è®¤ä¸ºä¸»èŠ‚ç‚¹æŒ‚äº†æ¥æ›¿ä»–</h5>
<h5 id="æˆä¸ºä¸»èŠ‚ç‚¹å¦‚ä¸‹å›¾-1-4-æ‰€ç¤º">æˆä¸ºä¸»èŠ‚ç‚¹å¦‚ä¸‹å›¾ 1. 4 æ‰€ç¤º</h5>
<h5 id="1-4-ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆ">1. 4 ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆ</h5>
<h5 id="ä½†æ˜¯è¿™ç§æ–¹å¼å°±æ˜¯æœ‰ä¸€ä¸ªéšæ‚£å°±æ˜¯ç½‘ç»œé—®é¢˜æ¥çœ‹ä¸€ç½‘ç»œé—®é¢˜ä¼šé€ æˆ">ä½†æ˜¯è¿™ç§æ–¹å¼å°±æ˜¯æœ‰ä¸€ä¸ªéšæ‚£ï¼Œå°±æ˜¯ç½‘ç»œé—®é¢˜ï¼Œæ¥çœ‹ä¸€ç½‘ç»œé—®é¢˜ä¼šé€ æˆ</h5>
<h5 id="ä»€ä¹ˆåæœå¦‚ä¸‹å›¾-1-5-æ‰€ç¤º">ä»€ä¹ˆåæœï¼Œå¦‚ä¸‹å›¾ 1. 5 æ‰€ç¤º</h5>
<pre tabindex="0"><code>1. 5 ç½‘ç»œæ•…éšœ
</code></pre><h5 id="ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆæ€»ç»“">ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆæ€»ç»“ï¼š</h5>
<h5 id="ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„ä¸»èŠ‚ç‚¹çš„å¹¶æ²¡æœ‰æŒ‚åªæ˜¯åœ¨å›å¤çš„æ—¶å€™ç½‘ç»œå‘ç”Ÿæ•…éšœè¿™æ ·">ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„ä¸»èŠ‚ç‚¹çš„å¹¶æ²¡æœ‰æŒ‚ï¼Œåªæ˜¯åœ¨å›å¤çš„æ—¶å€™ç½‘ç»œå‘ç”Ÿæ•…éšœï¼Œè¿™æ ·</h5>
<h5 id="æˆ‘ä»¬çš„å¤‡ç”¨èŠ‚ç‚¹åŒæ ·æ”¶ä¸åˆ°å›å¤å°±ä¼šè®¤ä¸ºä¸»èŠ‚ç‚¹æŒ‚äº†ç„¶åå¤‡ç”¨èŠ‚ç‚¹å°†ä»–çš„">æˆ‘ä»¬çš„å¤‡ç”¨èŠ‚ç‚¹åŒæ ·æ”¶ä¸åˆ°å›å¤ï¼Œå°±ä¼šè®¤ä¸ºä¸»èŠ‚ç‚¹æŒ‚äº†ï¼Œç„¶åå¤‡ç”¨èŠ‚ç‚¹å°†ä»–çš„</h5>
<p>Masterå®ä¾‹å¯åŠ¨èµ·æ¥ï¼Œè¿™æ ·æˆ‘ä»¬çš„åˆ†å¸ƒå¼ç³»ç»Ÿå½“ä¸­å°±æœ‰äº†ä¸¤ä¸ªä¸»èŠ‚ç‚¹ä¹Ÿå°±æ˜¯-
åŒMasterï¼Œå‡ºç°Masterä»¥åæˆ‘ä»¬çš„ä»èŠ‚ç‚¹å°±ä¼šå°†å®ƒæ‰€åšçš„äº‹ä¸€éƒ¨åˆ†æ±‡æŠ¥ç»™äº†
ä¸»èŠ‚ç‚¹ï¼Œä¸€éƒ¨åˆ†æ±‡æŠ¥ç»™äº†ä»èŠ‚ç‚¹ï¼Œè¿™æ ·æœåŠ¡å°±å…¨ä¹±äº†ã€‚
<strong>Zookeeperè§£å†³æ–¹æ¡ˆï¼š
Masterå¯åŠ¨ï¼š</strong>
åœ¨å¼•å…¥äº†Zookeeperä»¥åæˆ‘ä»¬å¯åŠ¨äº†ä¸¤ä¸ªä¸»èŠ‚ç‚¹ï¼Œ&ldquo;ä¸»èŠ‚ç‚¹-A&quot;å’Œ&quot;ä¸»èŠ‚ç‚¹-B&rdquo;
ä»–ä»¬å¯åŠ¨ä»¥åï¼Œéƒ½å‘ZooKeeperå»æ³¨å†Œä¸€ä¸ªèŠ‚ç‚¹ã€‚æˆ‘ä»¬å‡è®¾&quot;ä¸»èŠ‚ç‚¹-A&quot;æ‰€æ³¨å†Œ
åœ°èŠ‚ç‚¹æ˜¯&quot;master- 00001 &ldquo;ï¼Œ&ldquo;ä¸»èŠ‚ç‚¹-B&quot;æ‰€æ³¨å†Œçš„èŠ‚ç‚¹æ˜¯&quot;master- 00002 &ldquo;ï¼Œæ³¨å†Œ
å®Œä»¥åè¿›è¡Œé€‰ä¸¾ï¼Œ <strong>ç¼–å·æœ€å°çš„èŠ‚ç‚¹å°†åœ¨é€‰ä¸¾ä¸­è·èƒœ</strong> è·å¾— <strong>â€œé”â€å¹¶ä¸”</strong> æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œ
ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„&quot;ä¸»èŠ‚ç‚¹-A&quot;å°†ä¼šè·å¾—â€œé”â€æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œç„¶å&quot;ä¸»èŠ‚ç‚¹-B&quot;å°†è¢« <strong>é˜»å¡</strong>
æˆä¸ºä¸€ä¸ª <strong>å¤‡ç”¨èŠ‚ç‚¹</strong> ã€‚é‚£ä¹ˆï¼Œé€šè¿‡è¿™ç§æ–¹å¼å°±å®Œæˆäº†å¯¹ä¸¤ä¸ªMasterè¿›ç¨‹çš„è°ƒåº¦ã€‚
å¦‚å›¾ 2. 1 æ‰€ç¤º</p>
<p><strong>2. 1 ZookeeperMasteré€‰ä¸¾
(1) Masteræ•…éšœ</strong>
å¦‚æœ <strong>&ldquo;ä¸»èŠ‚ç‚¹-A&quot;æŒ‚äº†</strong> ï¼Œè¿™æ—¶å€™ <strong>ä»–</strong> æ‰€ <strong>æ³¨å†Œçš„èŠ‚ç‚¹</strong> å°†è¢« <strong>è‡ªåŠ¨åˆ é™¤</strong> ï¼Œ
<strong>ZooKeeperä¼š</strong> è‡ªåŠ¨æ„ŸçŸ¥èŠ‚ç‚¹çš„å˜åŒ–ï¼Œç„¶å <strong>å†æ¬¡å‘å‡ºé€‰ä¸¾</strong> ï¼Œè¿™æ—¶å€™ <strong>&ldquo;ä¸»èŠ‚ç‚¹-B</strong> &ldquo;å°†
åœ¨é€‰ä¸¾ä¸­ <strong>è·èƒœ</strong> ï¼Œæ›¿ä»£&quot;ä¸»èŠ‚ç‚¹-A&rdquo; <strong>æˆä¸ºä¸»èŠ‚ç‚¹ã€‚å¦‚å›¾ 2. 2 æ‰€ç¤º</strong></p>
<p><strong>2. 2 Masteræ•…éšœ
(2) Masteræ¢å¤
å¦‚æœ</strong> â€œä¸»èŠ‚ç‚¹ <strong>- A</strong> â€ <strong>æ¢å¤äº†</strong> ï¼Œä»–ä¼š <strong>å†æ¬¡</strong> å‘ZooKeeper <strong>æ³¨å†Œ</strong> ä¸€ä¸ª <strong>èŠ‚ç‚¹</strong> ï¼Œè¿™
æ—¶å€™ä»–æ³¨å†Œçš„èŠ‚ç‚¹å°†ä¼šæ˜¯&rdquo; <strong>master- 00003 &ldquo;</strong> ï¼Œ <strong>ZooKeeperä¼š</strong> æ„ŸçŸ¥èŠ‚ç‚¹çš„å˜åŒ– <strong>å†
æ¬¡å‘åŠ¨é€‰ä¸¾</strong> ï¼Œç”±äº <strong>ç¼–å·æœ€å°çš„èŠ‚ç‚¹å°†åœ¨é€‰ä¸¾ä¸­è·èƒœ</strong> è·å¾— <strong>â€œé”â€å¹¶ä¸”</strong> æˆä¸ºä¸»èŠ‚ç‚¹ï¼Œ
è¿™æ—¶å€™&rdquo; <strong>ä¸»èŠ‚ç‚¹-B</strong> &ldquo;åœ¨é€‰ä¸¾ä¸­ <strong>ä¼šå†æ¬¡è·èƒœ</strong> ç»§ç»­æ‹…ä»»&quot;ä¸»èŠ‚ç‚¹&rdquo;ï¼Œ <strong>&ldquo;ä¸»èŠ‚ç‚¹-A&quot;ä¼š</strong> æ‹…ä»» <strong>å¤‡
ç”¨èŠ‚ç‚¹</strong> ã€‚å¦‚å›¾ 2. 3 æ‰€ç¤ºï¼š</p>
<pre tabindex="0"><code>2. 3 Masteræ¢å¤
</code></pre><h3 id="7-9-poi">7 9 POI&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="7-9-1-poiçš„ä»‹ç»">7 9 1 POIçš„ä»‹ç»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<pre tabindex="0"><code>POIæ˜¯ç”¨JAVAè¯­è¨€ç¼–å†™çš„å…è´¹çš„å¼€æºçš„è·¨å¹³å°APIï¼Œå¯ä»¥å¯¹å¾®è½¯çš„wordã€
Excelã€PPTè¿›è¡Œæ“ä½œã€‚
</code></pre><p><strong>7. 9. 2 POIé¡¹ç›®ä¸­çš„ä½¿ç”¨ï¼Œä¸»è¦ç”¨åœ¨å“ªäº›åœ°æ–¹ï¼Ÿ&lt;é¡¹ç›®ä¸­ä¸»
è¦ä½¿ç”¨åœ¨å‡ºè´§è¡¨æ‰“å°ï¼ŒåˆåŒä¸Šä¼ ï¼Œé”€å”®æŠ¥è¡¨ç­‰&gt;</strong></p>
<h3 id="7-9-3-excelæŠ¥è¡¨å¯¼å‡ºæµç¨‹">7 9 3 ExcelæŠ¥è¡¨å¯¼å‡ºæµç¨‹ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>1 .åˆ›å»ºå·¥ä½œç°¿(HSSFWorkbook)&lt;å·¥ä½œç°¿è¿™å—æˆ‘ä»¬éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œæ™®é€šå¤„ç†
Excelæˆ‘ä»¬åˆ†ä¸ºExcel 03 (HSSF)ç‰ˆå’Œ 07 (XSSF)ç‰ˆæœ¬ä»¥ä¸Šï¼Œå¯¹äºå¤§æ•°æ®å¤„ç†æˆ‘ä»¬ä½¿
ç”¨SXSSFï¼Œæ¯”å¦‚ä¸€ä¸ªExcelæœ‰ 40 å¤šåˆ—&gt;</p>
<p>2 .åˆ›å»ºå·¥ä½œè¡¨(createSheet())
3 .è®¾ç½®ä¸€äº›å‚æ•°(sheet.setColumnWidth( 0 , 2 * 256 );)è®¾ç½®åˆ—å®½ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼š</p>
<ul>
<li>256 ï¼Œå› ä¸ºåœ¨HSSFWorkbookçš„åº•å±‚æºç é‡Œè¾¹å¯¹åˆ—è®¾ç½®çš„æ–¹æ³•é‡Œè¾¹ï¼Œåšçš„å¤„
ç†æ˜¯äºŒç™¾äº”åå…­åˆ†ä¹‹ä¸€( 1 / 256 )ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è®¾ç½®åˆ—å®½çš„æ—¶å€™ï¼Œä¹˜ä»¥ 256 å°±æ˜¯æˆ‘
ä»¬æƒ³è¦çš„å€¼ã€‚
4 .æ ¹æ®é¡¹ç›®éœ€æ±‚æˆ‘ä»¬å¯èƒ½è¦éœ€è¦è®¾ç½®æ ‡é¢˜ï¼Œè®¾ç½®è¡Œé«˜(setHeightInPoints())ï¼Œè®¾
ç½®å•å…ƒæ ¼å¯¹è±¡ï¼Œè®¾ç½®å¯¹è±¡é‡Œè¾¹çš„å†…å®¹ã€‚è¿˜æœ‰å°±æ˜¯åˆå¹¶å•å…ƒæ ¼ï¼Œæ¨ªå‘åˆå¹¶å•å…ƒæ ¼
(sheet.addMergedRegion)ç­‰ã€‚
5 .æŠŠåœ¨åå°æŸ¥è¯¢çš„æ•°æ®å¡«å……åˆ°å¯¹åº”Excelè¡¨æ ¼é‡Œè¾¹ã€‚
6 .å®ç°æ–‡ä»¶ä¸‹è½½ï¼Œå¯¼å‡ºåˆ°åˆ¶å®šè·¯å¾„ã€‚
7 ï¼Œæ ¹æ®å®¢æˆ·æä¾›çš„æ¨¡æ¿å’Œè¦æ±‚åšæ ·å¼çš„è°ƒæ•´ï¼Œæ¯”å¦‚ï¼šå¤§æ ‡é¢˜ï¼Œå°æ ‡é¢˜ï¼Œå­—ä½“ï¼Œ
å±…ä¸­è®¾ç½®ç­‰ã€‚
å› ä¸ºä¸åŒä¼ä¸šå¯¹å¯¼å‡ºçš„è¡¨æ ¼è¦æ±‚ä¸ä¸€ç›´ï¼Œä¸ºäº†ä¾¿äºå¿«é€Ÿå¼€å‘ï¼Œæˆ‘ä»¬åœ¨å…¬å¸ä¸€èˆ¬é‡‡
å–çš„æ˜¯æ¨¡æ¿æ‰“å°ã€‚å…·ä½“çš„å®ç°æ€è·¯æ˜¯ï¼šåœ¨åå°æŸ¥è¯¢è¦å¯¼å…¥çš„æ•°æ®ï¼Œåˆ¶ä½œæ¨¡ç‰ˆæ–‡ä»¶
ï¼ˆæ¨¡ç‰ˆæ–‡ä»¶çš„è·¯å¾„ï¼‰å¯¼å…¥ï¼ˆåŠ è½½ï¼‰æ¨¡ç‰ˆæ–‡ä»¶ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå·¥ä½œç°¿ è¯»å–å·¥ä½œè¡¨
è¯»å–è¡Œ è¯»å–å•å…ƒæ ¼ è¯»å–å•å…ƒæ ¼æ ·å¼ è®¾ç½®å•å…ƒæ ¼å†…å®¹ å…¶ä»–å•å…ƒæ ¼å°±å¯ä»¥ä½¿ç”¨
è¯»åˆ°çš„æ ·å¼äº† ã€‚
é’ˆå¯¹äºExcelçš„ç™¾ä¸‡çº§åˆ«æŠ¥è¡¨æ•°æ®å¯¼å‡ºï¼Œæˆ‘ä»¬ä½¿ç”¨POIæä¾›çš„SXSSFWorkå¤„ç†
å¤§æ•°æ®é‡ã€‚ä½†æ˜¯ä»–ä¸æ”¯æŒæ¨¡æ¿æ‰“å°ã€‚</li>
</ul>
<h3 id="7-9-4-ç™¾ä¸‡çº§æ•°æ®å¯¼å‡º">7 9 4 ç™¾ä¸‡çº§æ•°æ®å¯¼å‡º&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="é’ˆå¯¹äºå¤§å®—è´¸æ˜“æˆ‘ä»¬æ¶‰åŠçš„æ•°æ®é‡æ¯”è¾ƒå¤§æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨poiç»™æˆ‘ä»¬æä¾›">é’ˆå¯¹äºå¤§å®—è´¸æ˜“æˆ‘ä»¬ï¼Œæ¶‰åŠçš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬è¿™é‡Œé‡‡ç”¨POIç»™æˆ‘ä»¬æä¾›</h5>
<p>çš„æ”¯æŒ 07 ç‰ˆæœ¬çš„SXSSFWorkå¯¹è±¡å®ç°å¯¼å…¥å¯¼å‡ºï¼Œä½†æ˜¯è¿™ä¸ªä¹Ÿæœ‰ä¸€ä¸ªä¸å¥½çš„åœ°</p>
<h5 id="æ–¹å°±æ˜¯ä¸èƒ½ä½¿ç”¨æ¨¡æ¿æ‰“å°ä¸èƒ½ä½¿ç”¨å¤ªå¤šçš„æ ·å¼éœ€è¦åœ¨åå°æ ¹æ®å®¢æˆ·éœ€æ±‚è¿›è¡Œ">æ–¹å°±æ˜¯ä¸èƒ½ä½¿ç”¨æ¨¡æ¿æ‰“å°ï¼Œä¸èƒ½ä½¿ç”¨å¤ªå¤šçš„æ ·å¼ã€‚éœ€è¦åœ¨åå°æ ¹æ®å®¢æˆ·éœ€æ±‚è¿›è¡Œ</h5>
<p>è®¾ç½®ã€‚ä¸ºäº†æ¯”è¾ƒPOIé‡Œè¾¹çš„XSSFworkå’ŒSXSSFworkæˆ‘ä»¬è¿™é‡Œå¯ä»¥å€ŸåŠ©å·¥å…·
Jvisualvmè¿›è¡Œæµ‹è¯„åœ¨å®ç°å¤§æ•°æ®é‡å¯¼å‡ºçš„æ—¶å€™ï¼Œè¿›è¡Œç³»ç»Ÿç›‘æ§ï¼Œæ¯”å¦‚ï¼šCPUåˆ©
ç”¨ç‡ï¼Œgcç›‘æ§ï¼Œå †åˆ©ç”¨ç‡ï¼Œå†…å­˜åˆ©ç”¨ç‡ï¼Œç±»ç›‘æ§ï¼Œçº¿ç¨‹ç›‘æ§ã€‚
ä½†æ˜¯åœ¨ä½¿ç”¨SXSSFWorkè¿›è¡Œå¯¼å…¥çš„æ—¶å€™ï¼Œå› ä¸ºæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œç»å¸¸ä¼šé€ æˆå†…å­˜
æº¢å‡ºï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨ POI åŸºäºäº‹ä»¶æ¨¡å¼è§£ææ¡ˆä¾‹æä¾›çš„ Excel æ–‡ä»¶ ã€‚å…¶å®POI
é‡Œè¾¹æä¾›äº†ä¸¤ç§æ¨¡å¼ï¼Œç”¨æˆ·æ¨¡å¼(ç³»ç»Ÿé»˜è®¤)å’Œäº‹ä»¶æ¨¡å¼ã€‚ è¿™ä¸¤ä¸ªçš„åŒºåˆ«æ˜¯ï¼šç”¨
æˆ·æ¨¡å¼ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å†…å®¹åˆ°å†…å­˜ï¼Œç„¶åç€ä¸ªè§£æã€‚äº‹ä»¶æ¨¡å¼æ˜¯ä¸€è¾¹åŠ è½½ä¸€è¾¹è§£
æã€‚
ä½¿ç”¨è¿™ä¸ªè¿›è¡Œå¯¼å…¥æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸¤ä¸ªè§£æå™¨ï¼Œä¸€ä¸ªæ˜¯Excelè§£æå™¨ï¼Œè¿™
ä¸ªå…¬å¸ç›´æ¥å°è£…å¥½çš„ï¼Œæ‹¿è¿‡æ¥ç›´æ¥ç”¨ã€‚è¿˜æœ‰ä¸€ä¸ªæ˜¯sheetçš„è§£æå™¨ã€‚Sheetè§£æ
å™¨æ˜¯åŸºäºSAXè§£æ(SAXæä¾›äº†ä¸€ç§ä»XMLæ–‡æ¡£ä¸­è¯»å–æ•°æ®çš„æœºåˆ¶ã€‚å®ƒé€è¡Œæ‰«
ææ–‡æ¡£ï¼Œä¸€è¾¹æ‰«æä¸€è¾¹è§£æã€‚ç”±äºåº”ç”¨ç¨‹åº åªæ˜¯åœ¨è¯»å–æ•°æ®æ—¶æ£€æŸ¥æ•°æ®ï¼Œå› æ­¤
ä¸éœ€è¦å°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¿™å¯¹äºå¤§å‹æ–‡æ¡£çš„è§£ææ˜¯ä¸ªå·¨å¤§ä¼˜åŠ¿ )è¿›è¡Œå®ç°
çš„ã€‚æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªè§£æå™¨é‡Œè¾¹å®šä¹‰å¼€å§‹è¡Œå’Œç»“æŸè¡Œï¼Œåˆ›å»ºè§£æè¡Œçš„æ–¹æ³•ï¼Œåœ¨æ–¹
æ³•é‡Œè¾¹é€šè¿‡switch{case}è¯­å¥æ ¹æ®è¦å¯¼å…¥çš„ä¿¡æ¯ç¡®å®šå€¼ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨çš„æ¯ä¸€åˆ—
çš„è¡¨ç¤ºç¬¦(æ¯”å¦‚ï¼šA,Bï¼ŒCç­‰)è¿›è¡Œæ•°æ®å¤„ç†ã€‚</p>
<p>åŸç†åˆ†æï¼šä¸»è¦åŸç†æ˜¯å€ŸåŠ©ä¸´æ—¶å­˜å‚¨ç©ºé—´ç”Ÿæˆ excel åœ¨å®ä¾‹åŒ– SXSSFWork è¿™
ä¸ªå¯¹è±¡æ—¶ï¼Œå¯ä»¥æŒ‡å®šåœ¨å†…å­˜ä¸­æ‰€äº§ç”Ÿçš„ POI å¯¼å‡ºç›¸å…³å¯¹è±¡çš„æ•°é‡ï¼ˆé»˜è®¤ 100 ï¼‰ï¼Œ
ä¸€æ—¦ å†…å­˜ä¸­çš„å¯¹è±¡çš„ä¸ªæ•°è¾¾åˆ°è¿™ä¸ªæŒ‡å®šå€¼æ—¶ï¼Œå°±å°†å†…å­˜ä¸­çš„è¿™äº›å¯¹è±¡çš„å†…å®¹å†™
å…¥åˆ°ç£ç›˜ä¸­ï¼ˆXML çš„æ–‡ä»¶æ ¼å¼ï¼‰ï¼Œå°±å¯ä»¥ å°†è¿™äº›å¯¹è±¡ä»å†…å­˜ä¸­é”€æ¯ï¼Œä»¥ååª</p>
<p>è¦è¾¾åˆ°è¿™ä¸ªå€¼ï¼Œå°±ä¼šä»¥ç±»ä¼¼çš„å¤„ç†æ–¹å¼å¤„ç†ï¼Œç›´è‡³ Excel å¯¼å‡ºå®Œæˆã€‚</p>
<h2 id="7-10-webserviceæŠ€æœ¯ä½¿ç”¨">7 10 WebServiceæŠ€æœ¯ä½¿ç”¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="7-10-1-æŠ€æœ¯æè¿°">7 10 1 æŠ€æœ¯æè¿°&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>webServiceæ˜¯è¿™é¡¹æŠ€æœ¯æŒ‡çš„æ˜¯åœ¨è‡ªå·±ç½‘ç«™è°ƒç”¨å…¶ä»–ç½‘ç«™æˆ–è€…ç¨‹åºã€‚
webServiceæŒ‡çš„æ˜¯ä¸€å¥—è§„èŒƒæˆ–è€…æœåŠ¡ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¾¿äºæˆ‘ä»¬è·¨åº”ç”¨ï¼Œè·¨ç½‘ç«™è¿›
è¡Œè°ƒç”¨ã€‚å®ƒçº¦å®šäº†ä¸åŒç¨‹åºä¹‹é—´çš„è§„èŒƒï¼ŒåŸºäºxmlå½¢å¼è¿›è¡Œæ•°æ®é€šä¿¡ã€‚æˆ‘ä»¬åœ¨
é¡¹ç›®å¼€å‘ä¸­ä½¿ç”¨çš„æ˜¯åŸºäºwebServiceçš„ä¸€å¥—æ¡†æ¶CXFï¼ŒCxf æ˜¯åŸºäº SOA æ€»
çº¿ç»“æ„ï¼Œä¾é  spring å®Œæˆæ¨¡å—çš„é›†æˆï¼Œå®ç° SOA æ–¹å¼ã€‚ çµæ´»çš„éƒ¨ç½²: å¯ä»¥
è¿è¡Œåœ¨ Tomcat,Jboss,Jetty(å†…ç½®),weblogic ä¸Šé¢ã€‚
åœ¨å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸åŒå…¬å¸ç³»ç»Ÿä¹‹é—´çš„è¿œç¨‹æœåŠ¡è°ƒç”¨ã€‚è¿œç¨‹è°ƒç”¨æŠ€æœ¯éå¸¸
å¤šï¼Œå¦‚rmiã€nettyã€minaã€hessianã€dubboã€Motanã€springcloudã€webservice
ç­‰ç­‰ã€‚ä½†æ˜¯æˆ‘ä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢webServiceçš„ï¼Œä¸»è¦åŸå› æœ‰ 4 ç‚¹ï¼š
1 .webserviceæŠ€æœ¯æ˜¯å»ºç«‹åœ¨http+xmlåŸºç¡€ä¹‹ä¸Šçš„ï¼Œéå¸¸çš„è½»é‡çº§ã€‚
2 .webserviceæŠ€æœ¯å¯é€šè¿‡wsdlæ¥å®šä¹‰è°ƒç”¨å…³ç³»ï¼ŒåŒæ–¹ç³»ç»Ÿå¯æ ¹æ®wsdlå¿«
é€Ÿçš„è¿›è¡Œå¼€å‘å¯¹æ¥ã€‚
3 .webserviceæ˜¯ä¸€ç§æ ‡å‡†ï¼Œæœ‰å„ç§è¯­è¨€å¯¹å®ƒçš„å®ç°ï¼Œæ”¯æŒå¼‚æ„ç³»ç»Ÿä¹‹é—´çš„å¯¹
æ¥ã€‚
4 .å¿…è¦æƒ…å†µä¸‹ï¼Œè¿˜å¯ä»¥ä½¿ç”¨httpclientä½œä¸ºå®¢æˆ·ç«¯è¿›è¡Œè°ƒç”¨ï¼Œä»¥é™ä½ä¾èµ–ã€‚</p>
<h3 id="7-10-2-é¢è¯•é—®é¢˜æ±‡æ€»">7 10 2 é¢è¯•é—®é¢˜æ±‡æ€»ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h3 id="7-10-3-webserviceçš„ä¸‰å¤§è§„èŒƒæ˜¯ä»€ä¹ˆ">7 10 3 webServiceçš„ä¸‰å¤§è§„èŒƒæ˜¯ä»€ä¹ˆï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="åˆ†åˆ«æŒ‡çš„æ˜¯jax-wsjax-rsjax-wssaajåºŸå¼ƒ">åˆ†åˆ«æŒ‡çš„æ˜¯JAX-WSï¼ŒJAX-RSï¼ŒJAX-WS&amp;SAAJ(åºŸå¼ƒ)</h5>
<p>JAX-RS æ˜¯ä¸€ä¸ª Java ç¼–ç¨‹è¯­è¨€æ¥å£ï¼Œè¢«è®¾è®¡ç”¨æ¥ç®€åŒ–ä½¿ç”¨ REST æ¶æ„çš„åº”ç”¨
ç¨‹åºçš„å¼€å‘ã€‚å€ŸåŠ©Jax-RSè§„èŒƒæä¾›ä¸€äº›æ³¨è§£å’Œé…ç½®æ–¹å¼ï¼šå¿«é€Ÿçš„æ­å»ºä¸€ä¸ªç¬¦åˆ
Restfulé£æ ¼çš„åº”ç”¨ã€‚å€ŸåŠ©Jax-RSè§„èŒƒæä¾›çš„å·¥å…·ç±»ï¼Œæ–¹ä¾¿çš„è°ƒç”¨ç¬¦åˆJax-RS
çš„åº”ç”¨ã€‚</p>
<h3 id="7-10-4-é™¤äº†webserviceè¿˜æœ‰ä»€ä¹ˆæŠ€æœ¯å¯ä»¥å®ç°å†…éƒ¨ç¨‹åºè°ƒç”¨å…¶ä»–ç½‘ç«™æœåŠ¡">7 10 4 é™¤äº†webServiceï¼Œè¿˜æœ‰ä»€ä¹ˆæŠ€æœ¯å¯ä»¥å®ç°å†…éƒ¨ç¨‹åºè°ƒç”¨å…¶ä»–ç½‘ç«™æœåŠ¡ï¼Ÿ&hellip;</h3>
<p>ç›®å‰è¿˜æœ‰Httpclientã€Dubbo&lt;ä¸»è¦åº”ç”¨äºå†…éƒ¨ç³»ç»Ÿè®¿é—®&gt;ã€RMIã€Scoketã€‚
HttpClient
HttpClient æ˜¯ ApacheJakartaCommon ä¸‹çš„å­é¡¹ç›®ï¼Œç”¨æ¥æä¾›é«˜æ•ˆçš„ã€
æœ€æ–°çš„ã€åŠŸèƒ½ä¸°å¯Œçš„æ”¯æŒ HTTP åè®®çš„å®¢æˆ·ç«¯ç¼–ç¨‹å·¥å…·åŒ…ï¼Œå¹¶ä¸”å®ƒæ”¯æŒ HTTP
åè®®æœ€æ–°çš„ç‰ˆæœ¬å’Œå»ºè®®ã€‚ä¸»è¦åœ¨è°ƒç”¨ä¸€äº›å¯¹å¤–çš„APIæ¥å£è¿›è¡Œä½¿ç”¨ã€‚
WebService
WebServiceæä¾›çš„æœåŠ¡æ˜¯åŸºäºwebå®¹å™¨çš„ï¼Œåº•å±‚ä½¿ç”¨httpåè®®ï¼Œç±»ä¼¼ä¸€
ä¸ªè¿œç¨‹çš„æœåŠ¡æä¾›è€…ï¼Œæ¯”å¦‚å¤©æ°”é¢„æŠ¥æœåŠ¡ï¼Œå¯¹å„åœ°å®¢æˆ·ç«¯æä¾›å¤©æ°”é¢„æŠ¥ï¼Œæ˜¯
ä¸€ç§è¯·æ±‚åº”ç­”çš„æœºåˆ¶ï¼Œæ˜¯è·¨ç³»ç»Ÿè·¨å¹³å°çš„ã€‚å°±æ˜¯é€šè¿‡ä¸€ä¸ªservletï¼Œæä¾›æœåŠ¡å‡º
å»ã€‚
é¦–å…ˆå®¢æˆ·ç«¯ä»æœåŠ¡å™¨çš„åˆ°WebServiceçš„WSDLï¼ŒåŒæ—¶åœ¨å®¢æˆ·ç«¯å£°ç§°ä¸€ä¸ªä»£
ç†ç±»(ProxyClass) è¿™ä¸ªä»£ç†ç±»è´Ÿè´£ä¸WebServiceæœåŠ¡å™¨è¿›è¡ŒRequest å’Œ
Response å½“ä¸€ä¸ªæ•°æ®ï¼ˆXMLæ ¼å¼çš„ï¼‰è¢«å°è£…æˆSOAPæ ¼å¼çš„æ•°æ®æµå‘é€åˆ°æœ</p>
<p>åŠ¡å™¨ç«¯çš„æ—¶å€™ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªè¿›ç¨‹å¯¹è±¡å¹¶ä¸”æŠŠæ¥æ”¶åˆ°è¿™ä¸ªRequestçš„SOAPåŒ…
è¿›è¡Œè§£æï¼Œç„¶åå¯¹äº‹ç‰©è¿›è¡Œå¤„ç†ï¼Œå¤„ç†ç»“æŸä»¥åå†å¯¹è¿™ä¸ªè®¡ç®—ç»“æœè¿›è¡ŒSOAP
åŒ…è£…ï¼Œç„¶åæŠŠè¿™ä¸ªåŒ…ä½œä¸ºä¸€ä¸ªResponseå‘é€ç»™å®¢æˆ·ç«¯çš„ä»£ç†ç±»(ProxyClass)ï¼Œ
åŒæ ·åœ°ï¼Œè¿™ä¸ªä»£ç†ç±»ä¹Ÿå¯¹è¿™ä¸ªSOAPåŒ…è¿›è¡Œè§£æå¤„ç†ï¼Œç»§è€Œè¿›è¡Œåç»­æ“ä½œã€‚è¿™
å°±æ˜¯WebServiceçš„ä¸€ä¸ªè¿è¡Œè¿‡ç¨‹ã€‚
WebServiceå¤§ä½“ä¸Šåˆ†ä¸º 5 ä¸ªå±‚æ¬¡:
1 .Httpä¼ è¾“ä¿¡é“
2 .XMLçš„æ•°æ®æ ¼å¼
3 .SOAPå°è£…æ ¼å¼
4 .WSDLçš„æè¿°æ–¹å¼ ä»ä¸‹å¾€ä¸Šçœ‹è¿™ä¸ªè¯´æ˜ä¹¦ã€‚
5 .UDDI UDDIæ˜¯ä¸€ç§ç›®å½•æœåŠ¡ï¼Œä¼ä¸šå¯ä»¥ä½¿ç”¨å®ƒå¯¹Webservicesè¿›è¡Œæ³¨
å†Œå’Œæœç´¢</p>
<h3 id="7-10-5-å¦‚ä½•ä»¥javaçš„å½¢å¼å¯åŠ¨å½“å‰webåº”ç”¨">7 10 5 å¦‚ä½•ä»¥JAVAçš„å½¢å¼å¯åŠ¨å½“å‰webåº”ç”¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="1-åˆ›å»ºå·¥å‚">1 .åˆ›å»ºå·¥å‚</h5>
<h5 id="2-åˆ¶å®šæ¥å£">2 .åˆ¶å®šæ¥å£</h5>
<h5 id="3-åˆ¶å®šäº¤äº’å¯¹è±¡">3 .åˆ¶å®šäº¤äº’å¯¹è±¡</h5>
<h5 id="4-é…ç½®æ—¥å¿—è¾“å‡º">4 .é…ç½®æ—¥å¿—è¾“å‡º</h5>
<h5 id="5-å¯åŠ¨æœåŠ¡">5 .å¯åŠ¨æœåŠ¡</h5>
<h3 id="7-10-6-è¿œç¨‹é€šä¿¡çš„å‡ ç§é€‰æ‹©rpcwebservicermijmsçš„åŒºåˆ«">7 10 6 è¿œç¨‹é€šä¿¡çš„å‡ ç§é€‰æ‹©ï¼ˆRPCï¼ŒWebserviceï¼ŒRMIï¼ŒJMSçš„åŒºåˆ«ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<pre tabindex="0"><code>RMIï¼ˆRemoteMethodInvocationï¼‰
</code></pre><p>RMIé‡‡ç”¨stubs å’Œ skeletons æ¥è¿›è¡Œè¿œç¨‹å¯¹è±¡(remoteobject)çš„é€šè®¯ã€‚
stub å……å½“è¿œç¨‹å¯¹è±¡çš„å®¢æˆ·ç«¯ä»£ç†ï¼Œæœ‰ç€å’Œè¿œç¨‹å¯¹è±¡ç›¸åŒçš„è¿œç¨‹æ¥å£ï¼Œè¿œç¨‹å¯¹è±¡
çš„è°ƒç”¨å®é™…æ˜¯é€šè¿‡è°ƒç”¨è¯¥å¯¹è±¡çš„å®¢æˆ·ç«¯ä»£ç†å¯¹è±¡stubæ¥å®Œæˆçš„ï¼Œé€šè¿‡è¯¥æœºåˆ¶
RMIå°±å¥½æ¯”å®ƒæ˜¯æœ¬åœ°å·¥ä½œï¼Œé‡‡ç”¨tcp/ipåè®®ï¼Œå®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨æœåŠ¡ç«¯ä¸Šçš„ä¸€äº›
æ–¹æ³•ã€‚ä¼˜ç‚¹æ˜¯å¼ºç±»å‹ï¼Œç¼–è¯‘æœŸå¯æ£€æŸ¥é”™è¯¯ï¼Œç¼ºç‚¹æ˜¯åªèƒ½åŸºäºJAVAè¯­è¨€ï¼Œå®¢æˆ·æœº
ä¸æœåŠ¡å™¨ç´§è€¦åˆã€‚
JMSï¼ˆJavaMessagingServiceï¼‰
JMSæ˜¯Javaçš„æ¶ˆæ¯æœåŠ¡ï¼ŒJMSçš„å®¢æˆ·ç«¯ä¹‹é—´å¯ä»¥é€šè¿‡JMSæœåŠ¡è¿›è¡Œå¼‚æ­¥çš„
æ¶ˆæ¯ä¼ è¾“ã€‚JMSæ”¯æŒä¸¤ç§æ¶ˆæ¯æ¨¡å‹ï¼šPoint-to-Poinï¼ˆt P 2 Pï¼‰å’ŒPublish/Subscribe
ï¼ˆPub/Subï¼‰ï¼Œå³ç‚¹å¯¹ç‚¹å’Œå‘å¸ƒè®¢é˜…æ¨¡å‹ã€‚</p>
<h3 id="7-10-7-åœ¨é¡¹ç›®ä¸­å¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›">7 10 7 åœ¨é¡¹ç›®ä¸­å¸¸ç”¨çš„æ³¨è§£æœ‰å“ªäº›ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>@path æ³¨è§£çš„å€¼æ˜¯ä¸€ä¸ªç›¸å¯¹çš„URIè·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„æŒ‡å®šäº†è¯¥Javaç±»çš„ä½ç½®ã€‚
è¯·æ±‚æ–¹å¼ï¼š@get|@post|@delete|@put
@Consumes æ³¨è§£æ˜¯ç”¨æ¥æŒ‡å®šèµ„æºèƒ½å¤Ÿæ¥å—çš„å®¢æˆ·å‘é€çš„ MIME åª’ä½“ç±»å‹ã€‚
å½“å‰è¯·æ±‚é“¾æ¥æ‰€æ¥å—æ•°æ®çš„æ ¼å¼ xml/json
@Producesæ³¨è§£ç”¨æ¥æŒ‡å®šèµ„æºèƒ½å¤Ÿç”Ÿæˆå¹¶å‘é€ç»™å®¢æˆ·ç«¯çš„ MIME åª’ä½“ç±»å‹ï¼Œ
å½“å‰è¯·æ±‚é“¾æ¥å“åº”æ•°æ®çš„æ ¼å¼ xml/json
@xmlRootElement(name=â€â€) ç”Ÿæˆxmlæ ¹èŠ‚ç‚¹çš„åç§°ã€‚</p>
<h3 id="7-10-8-webserviceçš„ä¸‰è¦ç´ æ˜¯ä»€ä¹ˆ">7 10 8 webServiceçš„ä¸‰è¦ç´ æ˜¯ä»€ä¹ˆï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p><strong>SOAPï¼ŒWSDLï¼ŒUDDI</strong>
SOAP: åŸºäº HTTP åè®®ï¼Œé‡‡ç”¨ XML æ ¼å¼ï¼Œç”¨æ¥ä¼ é€’ä¿¡æ¯çš„æ ¼å¼ã€‚
WSDL: ç”¨æ¥æè¿°å¦‚ä½•è®¿é—®å…·ä½“çš„æœåŠ¡ã€‚</p>
<h5 id="uddi-ç”¨æˆ·è‡ªå·±å¯ä»¥æŒ‰-uddiæ ‡å‡†æ­å»º-uddi-æœåŠ¡å™¨ç”¨æ¥ç®¡ç†åˆ†å‘æŸ¥">UDDI: ç”¨æˆ·è‡ªå·±å¯ä»¥æŒ‰ UDDIæ ‡å‡†æ­å»º UDDI æœåŠ¡å™¨ï¼Œç”¨æ¥ç®¡ç†ï¼Œåˆ†å‘ï¼ŒæŸ¥</h5>
<p>è¯¢ WebServiceã€‚å…¶ä»–ç”¨æˆ·å¯ä»¥ è‡ªå·±æ³¨å†Œå‘å¸ƒ WebService è°ƒç”¨ã€‚</p>
<h3 id="7-10-9-é¡¹ç›®ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨cxfè¿›è¡Œå¤–éƒ¨æ¥å£è°ƒç”¨çš„">7 10 9 é¡¹ç›®ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨CXFè¿›è¡Œå¤–éƒ¨æ¥å£è°ƒç”¨çš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>1 .åˆ›å»ºå·¥ç¨‹ï¼Œå¯¼å…¥xcfçš„åæ ‡(ç™¾åº¦ç›´æ¥æœç´¢spring+cxfæ•´åˆçš„mavençš„pom
æ–‡ä»¶å°±å¯ä»¥æ‰¾åˆ°)
2 .ç¼–å†™é…ç½®æ–‡ä»¶web.xmlï¼Œåœ¨æ–‡ä»¶é‡Œè¾¹æ·»åŠ cxfçš„æ ¸å¿ƒæ§åˆ¶å™¨ã€‚ç›®çš„æ˜¯é€šè¿‡cxf
æ ¸å¿ƒæ§åˆ¶å™¨å¸®æˆ‘ä»¬è¿›è¡Œè½¬å‘ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä¸€èˆ¬éƒ½ä¼šè¿›è¡ŒæŒ‡å®šæ‹¦æˆªï¼Œæ¯”å¦‚ï¼š/ws/*
3 .ç¼–å†™æœåŠ¡å‘å¸ƒç±»(JAXRSServerFactoryBean)
4 .æ¥å£è°ƒç”¨(WebClient.create())
æˆ‘ä»¬åœ¨å…¬å¸å†™æ¥å£æ˜¯åœ¨pomå¼•å…¥xcfåæ ‡ï¼Œé…ç½®å¥½å¼•å…¥è·¯å¾„ï¼Œç›´æ¥è°ƒå–æ¥å£å°±
å¥½äº†ã€‚æˆ‘ä»¬ä¸€èˆ¬æŒ‰ç…§æµ·å…³æä¾›çš„æ¥å£æ–‡æ¡£ï¼Œæ ¹æ®é‡Œè¾¹çš„å¼€å‘è§„èŒƒè¿›è¡Œå¼€å‘å°±å¯ä»¥
äº†ã€‚å¯¹åº”çš„æ–‡æ¡£é‡Œè¾¹ä¼šç»™æˆ‘ä»¬æä¾›ï¼š 1 .è¯·æ±‚çš„è·¯å¾„å’Œæ–¹å¼ã€‚ 2 .è¯·æ±‚çš„å‚æ•°ã€‚åŒæ—¶
ç»™æˆ‘æä¾›äº†Demoä¾›æˆ‘ä»¬å‚è€ƒã€‚ä»¥æŠ¥è¿å•ä¸ºä¾‹ï¼Œè°ƒç”¨æŠ¥è¿å•ä¸šåŠ¡æ‰§è¡Œæ­¥éª¤æ˜¯ï¼š 1.
æ ¹æ®æŠ¥è¿å•idæŸ¥è¯¢æŠ¥è¿å•ï¼› 2 .æ ¹æ®æŠ¥è¿å•idæŸ¥è¯¢æŠ¥è¿å•†å“ï¼› 3 .è½¬ä¸ºå®šä¹‰å¥½çš„
Resultä¼ é€’å¯¹è±¡çš„ç±»å‹ï¼› 4 .è°ƒç”¨webServiceè¿›è¡ŒæŠ¥è¿ï¼› 5 .æŸ¥è¯¢æŠ¥è¿ç»“æœï¼› 6 .æ ¹
æ®æŠ¥è¿ç»“æœæ›´æ–°æŠ¥è¿å•å’ŒæŠ¥è¿è´§ç‰©ï¼›</p>
<h2 id="7-11-echartsåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨">7 11 echartsåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<p>Echartsæ˜¯ç™¾åº¦çš„å‰ç«¯å›¢é˜Ÿå¼€å‘çš„ä¸€æ¬¾å¼€æºçš„åŸºäºjsæŠ¥è¡¨çš„ç»„ä»¶ï¼Œå…¼å®¹IE 8 ä»¥ä¸Š
çš„ç‰ˆæœ¬ï¼ŒChrome(è°·æ­Œ),Firefox(ç«ç‹)ï¼ŒSafari(è‹¹æœæ‰‹æœº)ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®æˆ‘ä»¬åœ¨
é¡¹ç›®ä¸­éœ€è¦å±•ç¤ºçš„å›¾å½¢æ ·å¼ç›´æ¥åœ¨ç™¾åº¦APIé‡Œè¾¹æ‹·è´å¯¹åº”çš„optionã€‚æˆ‘ä»¬åœ¨é¡¹
ç›®ä¸­ä¸»è¦åº”ç”¨äºç”Ÿäº§å‚å®¶é”€å”®ç»Ÿè®¡ï¼Œå•†å“é”€å”®ç»Ÿè®¡ï¼Œåœ¨çº¿äººæ•°ç»Ÿè®¡ã€‚</p>
<h2 id="7-12-quartzçš„åº”ç”¨">7 12 Quartzçš„åº”ç”¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<p>1 .é¡¹ç›®ä¸­çš„å®šæ—¶ä»»åŠ¡æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨Quartzæˆ–è€…SpringTaskè¿›è¡Œå®ç°ã€‚æˆ‘ä»¬
é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯Quartzï¼Œæ˜¯ä¸€ä¸ªå®Œå…¨ç”± Java ç¼–å†™çš„å¼€æºä»»åŠ¡è°ƒåº¦çš„æ¡†æ¶ï¼Œé€š
è¿‡è§¦å‘å™¨è®¾ç½®ä½œä¸šå®šæ—¶è¿è¡Œè§„åˆ™ï¼Œæ§åˆ¶ ä½œä¸šçš„è¿è¡Œæ—¶é—´ã€‚å…¶ä¸­ quartz é›†ç¾¤é€š
è¿‡æ•…éšœåˆ‡æ¢å’Œè´Ÿè½½å¹³è¡¡çš„åŠŸèƒ½ï¼Œèƒ½ç»™è°ƒåº¦å™¨å¸¦æ¥é«˜å¯ç”¨æ€§å’Œä¼¸ ç¼©æ€§ã€‚ä¸»è¦ç”¨æ¥
æ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼Œå¦‚ï¼šå®šæ—¶å‘é€ä¿¡æ¯ã€å®šæ—¶ç”ŸæˆæŠ¥è¡¨ç­‰ç­‰ã€‚
2 .Quartzåœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ã€‚
æ­å»ºç¯å¢ƒ(å¼•å…¥Quartzåæ ‡)
é…ç½®ä¸€ä¸ªç±»ï¼Œé…ç½®å®šæ—¶ä»»åŠ¡æ‰§è¡Œçš„æ–¹æ³•
å°†æ­¤ç±»äº¤ç»™springè¿›è¡Œç®¡ç†
é…ç½®Quartzå’Œspringæ•´åˆ
æˆ‘ä»¬åœ¨å¼€å‘ä¸­ç»å¸¸ä¸ºå¦‚ä½•å‡†ç¡®çš„å®šä½å¥½æ—¶é—´ï¼Œæˆ‘ä»¬è¿™é‡Œå¯ä»¥ä½¿ç”¨
cron.qqe 2 .com åœ¨çº¿cronè¡¨è¾¾å¼ç”Ÿæˆã€‚Cronä»–æ˜¯æŒ‰ç…§&lt;ç§’ï¼Œåˆ†é’Ÿï¼Œå°æ—¶ï¼Œæ—¥ï¼Œ
æœˆï¼Œå‘¨ï¼Œå¹´&gt;è¿›è¡Œç®—çš„ã€‚</p>
<p>Quartzå’ŒSpringTaskçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å®ç°ï¼ŒTaskæ³¨è§£å®ç°æ–¹å¼ï¼Œæ¯”è¾ƒç®€å•ã€‚Quartzéœ€è¦æ‰‹åŠ¨é…ç½®Jobsã€‚
ä»»åŠ¡æ‰§è¡Œï¼ŒTaské»˜è®¤å•çº¿ç¨‹ä¸²è¡Œæ‰§è¡Œä»»åŠ¡ï¼Œå¤šä»»åŠ¡æ—¶è‹¥æŸä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œ
åç»­ä»»åŠ¡ä¼šæ— æ³•åŠæ—¶æ‰§è¡Œã€‚Quartzé‡‡ç”¨å¤šçº¿ç¨‹ï¼Œæ— è¿™ä¸ªé—®é¢˜ã€‚
è°ƒåº¦ï¼ŒTaské‡‡ç”¨é¡ºåºæ‰§è¡Œï¼Œè‹¥å½“å‰è°ƒåº¦å ç”¨æ—¶é—´è¿‡é•¿ï¼Œä¸‹ä¸€ä¸ªè°ƒåº¦æ— æ³•åŠæ—¶æ‰§
è¡Œï¼›
Quartzé‡‡ç”¨å¼‚æ­¥ï¼Œä¸‹ä¸€ä¸ªè°ƒåº¦æ—¶é—´åˆ°è¾¾æ—¶ï¼Œä¼šå¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œè°ƒåº¦ï¼Œä¸ä¼šå‘ç”Ÿ
é˜»å¡é—®é¢˜ï¼Œä½†è°ƒåº¦è¿‡å¤šæ—¶å¯èƒ½å¯¼è‡´æ•°æ®å¤„ç†å¼‚å¸¸
éƒ¨ç½²ï¼ŒQuartzå¯ä»¥é‡‡ç”¨é›†ç¾¤æ–¹å¼ï¼Œåˆ†å¸ƒå¼éƒ¨ç½²åˆ°å¤šå°æœºå™¨ï¼Œåˆ†é…æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚</p>
<h2 id="7-13-pdfå¯¼å‡º">7 13 PDFå¯¼å‡º&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<p><strong>7. 13. 1 å¸¸ç”¨çš„pdfæŠ€æœ¯æœ‰å“ªäº›ï¼Ÿ</strong>
1 .iTextPDFï¼šiText æ˜¯è‘—åçš„å¼€æ”¾é¡¹ç›®ï¼Œæ˜¯ç”¨äºç”Ÿæˆ PDF æ–‡æ¡£çš„ä¸€ä¸ª java
ç±»åº“ã€‚é€šè¿‡ iText ä¸ä»…å¯ä»¥ç”Ÿæˆ PDF æˆ– rtf çš„æ–‡æ¡£ï¼Œè€Œä¸”å¯ä»¥å°† XMLã€Html
æ–‡ä»¶è½¬åŒ–ä¸º PDF æ–‡ä»¶ã€‚
Openofficeï¼šopenoffice æ˜¯å¼€æºè½¯ä»¶ä¸”èƒ½åœ¨ windows å’Œ linux å¹³å°ä¸‹è¿
è¡Œï¼Œå¯ä»¥çµæ´»çš„å°† wordæˆ–è€… Excel è½¬åŒ–ä¸º PDF æ–‡æ¡£ã€‚
JasperReportï¼šæ˜¯ä¸€ä¸ªå¼ºå¤§ã€çµæ´»çš„æŠ¥è¡¨ç”Ÿæˆå·¥å…·ï¼Œèƒ½å¤Ÿå±•ç¤ºä¸°å¯Œçš„é¡µé¢å†…å®¹ï¼Œ
å¹¶å°†ä¹‹è½¬æ¢æˆ PDF ã€‚
æˆ‘ä»¬å¼€å‘ä¸­ä¸€èˆ¬é€‰ç”¨çš„æ˜¯JasperReportæŠ€æœ¯ï¼Œè¿™ä¸ªæŠ€æœ¯å®Œå…¨ç”±Javaå†™æˆï¼Œ
åŒæ—¶è¿˜æœ‰å¯¹åº”çš„å·¥å…·JaspersoftStudio ï¼Œåœ¨çº¿ç¼–è¾‘å¾ˆæ–¹ä¾¿ã€‚æ”¯æŒå¤šç§è¡¨æ ¼çš„è¾“
å‡ºï¼ŒåŒæ—¶æ”¯æŒå¤šç§æ•°æ®æºï¼Œé€šè¿‡ JASPER æ–‡ä»¶åŠæ•°æ®æºï¼ŒJASPER å°±èƒ½ç”Ÿæˆæœ€
ç»ˆç”¨æˆ·æƒ³è¦çš„æ–‡æ¡£æ ¼å¼ã€‚</p>
<p><strong>7. 13. 2 JasperReport çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ï¼Ÿ</strong>
è®¾è®¡ï¼ˆDesignï¼‰é˜¶æ®µã€æ‰§è¡Œï¼ˆExecutionï¼‰é˜¶æ®µä»¥åŠè¾“å‡ºï¼ˆExportï¼‰é˜¶æ®µã€‚
è®¾è®¡é˜¶æ®µå°±æ˜¯åˆ›å»ºæ¨¡æ¿ï¼Œæ¨¡æ¿åˆ›å»ºå®Œæˆæˆ‘ä»¬ä¿å­˜ä¸ºJRXML æ–‡ä»¶ï¼ˆJR ä»£è¡¨
JasperReportsï¼‰,å…¶å®å°±æ˜¯ä¸€ä¸ª XML æ–‡ä»¶ã€‚
æ‰§è¡Œé˜¶æ®µç¼–è¯‘æˆå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶(å³.Jasperæ–‡ä»¶)ç»“åˆæ•°æ®è¿›è¡Œæ‰§è¡Œï¼Œè¿›è¡Œ
æ•°æ®å¡«å……ã€‚
è¾“å‡ºé˜¶æ®µï¼ˆExportï¼‰ï¼šæ•°æ®å¡«å……ç»“æŸï¼Œå¯ä»¥æŒ‡å®šè¾“å‡ºä¸ºå¤šç§å½¢å¼çš„æŠ¥è¡¨ã€‚</p>
<p><strong>7. 13. 3 JasperReport çš„æ‰§è¡Œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ</strong>
JRXML:æŠ¥è¡¨å¡«å……æ¨¡æ¿ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ª XML.
Jasper:ç”± JRXML æ¨¡æ¿ç¼–è¯‘ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç”¨äºä»£ç å¡«å……æ•°æ®ã€‚
Jrprint:å½“ç”¨æ•°æ®å¡«å……å®Œ Jasperåç”Ÿæˆçš„æ–‡ä»¶ï¼Œç”¨äºè¾“å‡ºæŠ¥è¡¨ã€‚
Exporter:å†³å®šè¦è¾“å‡ºçš„æŠ¥è¡¨ä¸ºä½•ç§æ ¼å¼ï¼ŒæŠ¥è¡¨è¾“å‡ºçš„ç®¡ç†ç±»ã€‚
Jasperreport å¯ä»¥è¾“å‡ºå¤šç§æ ¼å¼çš„æŠ¥è¡¨æ–‡ä»¶ï¼Œå¸¸è§çš„æœ‰ Html,PDF,xlsç­‰
<strong>7. 13. 4 åœ¨é¡¹ç›®ä¸­PDFå¯¼å‡ºçš„ä½¿ç”¨ï¼Ÿ</strong>
æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å…ˆ 1 .å¯¼å…¥åæ ‡ï¼Œ 2 .å¼•å…¥æ¨¡æ¿ï¼ŒæŠŠç¼–è¯‘å¥½çš„æ¨¡æ¿å¼•å…¥åˆ°å½“å‰å·¥ç¨‹ä¸­ã€‚
3 .é…ç½®æ§åˆ¶å™¨æ–¹æ³•( 1 .åŠ è½½æ¨¡æ¿æ–‡ä»¶ï¼Œ 2 .æ„å»ºæ–‡ä»¶è¾“å…¥æµï¼› 3 .åˆ›å»º JasperPrint å¯¹
è±¡ï¼› 4 .å†™å…¥ pdf æ–‡æ¡£è¾“å‡º )ã€‚å¯¼å…¥å¯¼å‡ºçš„æµç¨‹ä¸€èˆ¬éƒ½æ˜¯å›ºå®šçš„æ ¼å¼ï¼Œæˆ‘è‡ªå·±å†™
äº†ä¸ªæ–‡æ¡£ï¼Œå½“æˆ‘ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä¼šæ‹¿å‡ºæ¥æŒ‰ç…§ä¸Šè¾¹çš„æ­¥éª¤è¿›è¡Œæ“ä½œå®Œæˆã€‚</p>
<p>1 .å¼•å…¥ jasperæ–‡ä»¶
2 .æ„é€ æ•°æ®</p>
<p>a.æŠ¥è¿å•æ•°æ®
b.æŠ¥è¿è´§ç‰©åˆ—è¡¨(é€šè¿‡ list é›†åˆåˆ›å»º javaBean çš„æ•°æ®æºå¯¹è±¡)</p>
<h2 id="7-14-rabbitmq">7 14 RabbitMQ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<h3 id="7-14-1-ä»€ä¹ˆæ˜¯rabbitmq">7 14 1 ä»€ä¹ˆæ˜¯RabbitMQï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>RabbitMQæ˜¯ä¸€æ¬¾å¼€æºçš„ï¼ŒErlangç¼–å†™çš„ï¼ŒåŸºäºAMQPåè®®çš„ï¼Œæ¶ˆæ¯ä¸­é—´
ä»¶ã€‚</p>
<h3 id="7-14-2-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨rabbitmqrabbitæœ‰ä»€ä¹ˆä¼˜ç‚¹">7 14 2 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨RabbitMQï¼ŸRabbitæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="è§£è€¦å¼‚æ­¥å‰Šå³°">è§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ã€‚</h5>
<h3 id="7-14-3-rabbitmqæœ‰ä»€ä¹ˆç¼ºç‚¹">7 14 3 RabbitMQæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="é™ä½äº†ç³»ç»Ÿçš„ç¨³å®šæ€§æœ¬æ¥ç³»ç»Ÿè¿è¡Œå¥½å¥½çš„ç°åœ¨ä½ éè¦åŠ å…¥ä¸ªæ¶ˆæ¯é˜Ÿåˆ—è¿›">é™ä½äº†ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼šæœ¬æ¥ç³»ç»Ÿè¿è¡Œå¥½å¥½çš„ï¼Œç°åœ¨ä½ éè¦åŠ å…¥ä¸ªæ¶ˆæ¯é˜Ÿåˆ—è¿›</h5>
<h5 id="å»é‚£æ¶ˆæ¯é˜Ÿåˆ—æŒ‚äº†ä½ çš„ç³»ç»Ÿä¸æ˜¯å‘µå‘µäº†å› æ­¤ç³»ç»Ÿå¯ç”¨æ€§ä¼šé™ä½">å»ï¼Œé‚£æ¶ˆæ¯é˜Ÿåˆ—æŒ‚äº†ï¼Œä½ çš„ç³»ç»Ÿä¸æ˜¯å‘µå‘µäº†ã€‚å› æ­¤ï¼Œç³»ç»Ÿå¯ç”¨æ€§ä¼šé™ä½ã€‚</h5>
<h5 id="å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§åŠ å…¥äº†æ¶ˆæ¯é˜Ÿåˆ—è¦å¤šè€ƒè™‘å¾ˆå¤šæ–¹é¢çš„é—®é¢˜æ¯”å¦‚">å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼šåŠ å…¥äº†æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¦å¤šè€ƒè™‘å¾ˆå¤šæ–¹é¢çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š</h5>
<h5 id="ä¸€è‡´æ€§é—®é¢˜å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹å¦‚ä½•ä¿è¯æ¶ˆæ¯å¯é æ€§ä¼ è¾“ç­‰å› æ­¤">ä¸€è‡´æ€§é—®é¢˜ã€å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ã€å¦‚ä½•ä¿è¯æ¶ˆæ¯å¯é æ€§ä¼ è¾“ç­‰ã€‚å› æ­¤ï¼Œ</h5>
<h5 id="éœ€è¦è€ƒè™‘çš„ä¸œè¥¿æ›´å¤šå¤æ‚æ€§å¢å¤§">éœ€è¦è€ƒè™‘çš„ä¸œè¥¿æ›´å¤šï¼Œå¤æ‚æ€§å¢å¤§ã€‚</h5>
<h3 id="7-14-4-rabbitmqçš„å·¥ä½œæ¨¡å¼">7 14 4 RabbitMQçš„å·¥ä½œæ¨¡å¼ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="7-ç§--1-ç®€å•æ¨¡å¼-2-å·¥ä½œè€…æ¨¡å¼-3-å¹¿æ’­æ¨¡å¼-4-è·¯ç”±æ¨¡å¼-5-é€šé…ç¬¦æ¨¡å¼">7 ç§ ï¼Œ 1 .ç®€å•æ¨¡å¼ 2 .å·¥ä½œè€…æ¨¡å¼ 3 .å¹¿æ’­æ¨¡å¼ 4 .è·¯ç”±æ¨¡å¼ 5 .é€šé…ç¬¦æ¨¡å¼</h5>
<h5 id="6-rpc-7-æ¶ˆæ¯ç¡®è®¤æ¨¡å¼">6 .RPC 7 .æ¶ˆæ¯ç¡®è®¤æ¨¡å¼</h5>
<h5 id="ç®€å•æ¨¡å¼">ç®€å•æ¨¡å¼</h5>
<h5 id="ä¸€ä¸ªç”Ÿäº§è€…ä¸€ä¸ªæ¶ˆè´¹è€…">ä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ¶ˆè´¹è€…ã€‚</h5>
<p><strong>workæ¨¡å¼(å¸¸ç”¨)</strong></p>
<h5 id="ä¸€ä¸ªç”Ÿäº§è€…å¤šä¸ªæ¶ˆè´¹è€…æ¯ä¸ªæ¶ˆè´¹è€…è·å–åˆ°çš„æ¶ˆæ¯å”¯ä¸€">ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…è·å–åˆ°çš„æ¶ˆæ¯å”¯ä¸€ã€‚</h5>
<h5 id="è®¢é˜…æ¨¡å¼">è®¢é˜…æ¨¡å¼</h5>
<h5 id="ä¸€ä¸ªç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šè¢«å¤šä¸ªæ¶ˆè´¹è€…è·å–">ä¸€ä¸ªç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šè¢«å¤šä¸ªæ¶ˆè´¹è€…è·å–ã€‚</h5>
<h5 id="è·¯ç”±æ¨¡å¼">è·¯ç”±æ¨¡å¼</h5>
<p>å‘é€æ¶ˆæ¯åˆ°äº¤æ¢æœºå¹¶ä¸”è¦æŒ‡å®šè·¯ç”±key ï¼Œæ¶ˆè´¹è€…å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœºæ—¶éœ€
è¦æŒ‡å®šè·¯ç”±keyã€‚
<strong>topicæ¨¡å¼(å¸¸ç”¨)</strong>
å°†è·¯ç”±é”®å’ŒæŸæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­¤æ—¶é˜Ÿåˆ—éœ€è¦ç»‘å®šåœ¨ä¸€ä¸ªæ¨¡å¼ä¸Šï¼Œâ€œ#â€åŒ¹é…
ä¸€ä¸ªè¯æˆ–å¤šä¸ªè¯ï¼Œâ€œ*â€åªåŒ¹é…ä¸€ä¸ªè¯ã€‚</p>
<h3 id="7-14-5-å¦‚ä½•ä¿è¯rabbitmqé«˜å¯ç”¨">7 14 5 å¦‚ä½•ä¿è¯RabbitMQé«˜å¯ç”¨ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>æ­å»ºRabbitMQé›†ç¾¤ã€‚ä¸€èˆ¬å°å‹ï¼Œä¸­å‹é¡¹ç›®æ­å»º 3 å°å¤Ÿç”¨äº†ã€‚æ•°æ®é‡åœ¨ 500
ä¸‡å†…ã€‚</p>
<h3 id="7-14-6-å¦‚ä½•ä¿è¯rabbitmqæ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹">7 14 6 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="å…ˆè¯´ä¸ºä»€ä¹ˆä¼šé‡å¤æ¶ˆè´¹æ­£å¸¸æƒ…å†µä¸‹æ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯çš„æ—¶å€™æ¶ˆè´¹å®Œæ¯•">å…ˆè¯´ä¸ºä»€ä¹ˆä¼šé‡å¤æ¶ˆè´¹ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯çš„æ—¶å€™ï¼Œæ¶ˆè´¹å®Œæ¯•</h5>
<h5 id="åä¼šå‘é€ä¸€ä¸ªç¡®è®¤æ¶ˆæ¯ç»™æ¶ˆæ¯é˜Ÿåˆ—æ¶ˆæ¯é˜Ÿåˆ—å°±çŸ¥é“è¯¥æ¶ˆæ¯è¢«æ¶ˆè´¹äº†å°±ä¼šå°†">åï¼Œä¼šå‘é€ä¸€ä¸ªç¡®è®¤æ¶ˆæ¯ç»™æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å°±çŸ¥é“è¯¥æ¶ˆæ¯è¢«æ¶ˆè´¹äº†ï¼Œå°±ä¼šå°†</h5>
<h5 id="è¯¥æ¶ˆæ¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ é™¤">è¯¥æ¶ˆæ¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚</h5>
<h5 id="ä½†æ˜¯å› ä¸ºç½‘ç»œä¼ è¾“ç­‰ç­‰æ•…éšœç¡®è®¤ä¿¡æ¯æ²¡æœ‰ä¼ é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—å¯¼è‡´æ¶ˆæ¯é˜Ÿåˆ—">ä½†æ˜¯å› ä¸ºç½‘ç»œä¼ è¾“ç­‰ç­‰æ•…éšœï¼Œç¡®è®¤ä¿¡æ¯æ²¡æœ‰ä¼ é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯¼è‡´æ¶ˆæ¯é˜Ÿåˆ—</h5>
<h5 id="ä¸çŸ¥é“è‡ªå·±å·²ç»æ¶ˆè´¹è¿‡è¯¥æ¶ˆæ¯äº†å†æ¬¡å°†æ¶ˆæ¯åˆ†å‘ç»™å…¶ä»–çš„æ¶ˆè´¹è€…">ä¸çŸ¥é“è‡ªå·±å·²ç»æ¶ˆè´¹è¿‡è¯¥æ¶ˆæ¯äº†ï¼Œå†æ¬¡å°†æ¶ˆæ¯åˆ†å‘ç»™å…¶ä»–çš„æ¶ˆè´¹è€…ã€‚</h5>
<h5 id="é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ä¸€ä¸ªè§£å†³æ€è·¯æ˜¯ä¿è¯æ¶ˆæ¯çš„å”¯ä¸€æ€§å°±ç®—æ˜¯å¤šæ¬¡ä¼ è¾“ä¸">é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œä¸€ä¸ªè§£å†³æ€è·¯æ˜¯ï¼šä¿è¯æ¶ˆæ¯çš„å”¯ä¸€æ€§ï¼Œå°±ç®—æ˜¯å¤šæ¬¡ä¼ è¾“ï¼Œä¸</h5>
<h5 id="è¦è®©æ¶ˆæ¯çš„å¤šæ¬¡æ¶ˆè´¹å¸¦æ¥å½±å“ä¿è¯æ¶ˆæ¯ç­‰å¹‚æ€§">è¦è®©æ¶ˆæ¯çš„å¤šæ¬¡æ¶ˆè´¹å¸¦æ¥å½±å“ï¼Œä¿è¯æ¶ˆæ¯ç­‰å¹‚æ€§ã€‚</h5>
<h5 id="æ¯”å¦‚åœ¨å†™å…¥æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®åšå”¯ä¸€æ ‡ç¤ºæ¶ˆè´¹æ¶ˆæ¯æ—¶æ ¹æ®å”¯ä¸€æ ‡è¯†åˆ¤æ–­">æ¯”å¦‚ï¼šåœ¨å†™å…¥æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®åšå”¯ä¸€æ ‡ç¤ºï¼Œæ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼Œæ ¹æ®å”¯ä¸€æ ‡è¯†åˆ¤æ–­</h5>
<h5 id="æ˜¯å¦æ¶ˆè´¹è¿‡">æ˜¯å¦æ¶ˆè´¹è¿‡ã€‚</h5>
<h3 id="7-14-7-å¦‚ä½•ä¿è¯rabbitmqæ¶ˆæ¯å¯é ä¼ è¾“">7 14 7 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯å¯é ä¼ è¾“ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="æ¶ˆæ¯ä¸å¯é çš„æƒ…å†µå¯èƒ½æ˜¯æ¶ˆæ¯ä¸¢å¤±åŠ«æŒç­‰åŸå› ä¸¢å¤±åˆåˆ†ä¸ºç”Ÿäº§è€…ä¸¢å¤±">æ¶ˆæ¯ä¸å¯é çš„æƒ…å†µå¯èƒ½æ˜¯æ¶ˆæ¯ä¸¢å¤±ï¼ŒåŠ«æŒç­‰åŸå› ã€‚ä¸¢å¤±åˆåˆ†ä¸ºï¼šç”Ÿäº§è€…ä¸¢å¤±</h5>
<h5 id="æ¶ˆæ¯æ¶ˆæ¯åˆ—è¡¨ä¸¢å¤±æ¶ˆæ¯æ¶ˆè´¹è€…ä¸¢å¤±æ¶ˆæ¯">æ¶ˆæ¯ã€æ¶ˆæ¯åˆ—è¡¨ä¸¢å¤±æ¶ˆæ¯ã€æ¶ˆè´¹è€…ä¸¢å¤±æ¶ˆæ¯ã€‚</h5>
<h5 id="ç”Ÿäº§è€…ä¸¢å¤±æ¶ˆæ¯">ç”Ÿäº§è€…ä¸¢å¤±æ¶ˆæ¯</h5>
<p>ä»ç”Ÿäº§è€…å¼„ä¸¢æ•°æ®è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼ŒRabbitMQæä¾›transactionå’Œconfirm
æ¨¡å¼æ¥ç¡®ä¿ç”Ÿäº§è€…ä¸ä¸¢æ¶ˆæ¯ã€‚
transactionæ¨¡å¼ï¼šå‘é€æ¶ˆæ¯å‰ï¼Œå¼€å¯äº‹åŠ¡ï¼ˆchannel.txSelect()ï¼‰,ç„¶åå‘é€
æ¶ˆæ¯ï¼Œå¦‚æœå‘é€è¿‡ç¨‹ä¸­å‡ºç°ä»€ä¹ˆå¼‚å¸¸ï¼Œäº‹åŠ¡å°±ä¼šå›æ»šï¼ˆchannel.txRollback()ï¼‰,
å¦‚æœå‘é€æˆåŠŸåˆ™æäº¤äº‹åŠ¡ï¼ˆchannel.txCommit()ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹å¼æœ‰ä¸ªç¼ºç‚¹ï¼Œ
ååé‡ä¸‹é™ã€‚
confirmæ¨¡å¼ï¼šä¸€æ—¦channelè¿›å…¥confirmæ¨¡å¼ï¼Œæ‰€æœ‰åœ¨è¯¥ä¿¡é“ä¸Šå‘å¸ƒçš„æ¶ˆ
æ¯éƒ½å°†ä¼šè¢«æŒ‡æ´¾ä¸€ä¸ªå”¯ä¸€çš„IDï¼ˆä» 1 å¼€å§‹ï¼‰ï¼Œä¸€æ—¦æ¶ˆæ¯è¢«æŠ•é€’åˆ°æ‰€æœ‰åŒ¹é…çš„é˜Ÿ
åˆ—ä¹‹åã€‚RabbitMQå°±ä¼šå‘é€ä¸€ä¸ªACKç»™ç”Ÿäº§è€…ï¼ˆåŒ…å«æ¶ˆæ¯çš„å”¯ä¸€IDï¼‰ï¼Œè¿™å°±
ä½¿å¾—ç”Ÿäº§è€…çŸ¥é“æ¶ˆæ¯å·²ç»æ­£ç¡®åˆ°è¾¾ç›®çš„é˜Ÿåˆ—äº†.å¦‚æœrabbitMQæ²¡èƒ½å¤„ç†è¯¥æ¶ˆ
æ¯ï¼Œåˆ™ä¼šå‘é€ä¸€ä¸ªNackæ¶ˆæ¯ç»™ä½ ï¼Œä½ å¯ä»¥è¿›è¡Œé‡è¯•æ“ä½œã€‚
<strong>æ¶ˆæ¯é˜Ÿåˆ—ä¸¢æ•°æ®</strong>
æ¶ˆæ¯æŒä¹…åŒ–ã€‚å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—ä¸¢æ•°æ®çš„æƒ…å†µï¼Œä¸€èˆ¬æ˜¯å¼€å¯æŒä¹…åŒ–ç£ç›˜çš„é…ç½®ã€‚
è¿™ä¸ªæŒä¹…åŒ–é…ç½®å¯ä»¥å’Œconfirmæœºåˆ¶é…åˆä½¿ç”¨ï¼Œä½ å¯ä»¥åœ¨æ¶ˆæ¯æŒä¹…åŒ–ç£ç›˜åï¼Œ
å†ç»™ç”Ÿäº§è€…å‘é€ä¸€ä¸ªAckä¿¡å·ã€‚è¿™æ ·ï¼Œå¦‚æœæ¶ˆæ¯æŒä¹…åŒ–ç£ç›˜ä¹‹å‰ï¼ŒrabbitMQé˜µ</p>
<p>äº¡äº†ï¼Œé‚£ä¹ˆç”Ÿäº§è€…æ”¶ä¸åˆ°Ackä¿¡å·ï¼Œç”Ÿäº§è€…ä¼šè‡ªåŠ¨é‡å‘ã€‚é‚£ä¹ˆå¦‚ä½•æŒä¹…åŒ–å‘¢ï¼Ÿ
è¿™é‡Œé¡ºä¾¿è¯´ä¸€ä¸‹å§ï¼Œå…¶å®ä¹Ÿå¾ˆå®¹æ˜“ï¼Œå°±ä¸‹é¢ä¸¤æ­¥ï¼š</p>
<ol>
<li>å°†queueçš„æŒä¹…åŒ–æ ‡è¯†durableè®¾ç½®ä¸ºtrue,åˆ™ä»£è¡¨æ˜¯ä¸€ä¸ªæŒä¹…çš„é˜Ÿåˆ—ã€‚</li>
<li>å‘é€æ¶ˆæ¯çš„æ—¶å€™å°†deliveryMode= 2 ã€‚
è¿™æ ·è®¾ç½®ä»¥åï¼Œå³ä½¿rabbitMQæŒ‚äº†ï¼Œé‡å¯åä¹Ÿèƒ½æ¢å¤æ•°æ®ã€‚
<strong>æ¶ˆè´¹è€…ä¸¢å¤±æ¶ˆæ¯</strong>
æ¶ˆè´¹è€…ä¸¢æ•°æ®ä¸€èˆ¬æ˜¯å› ä¸ºé‡‡ç”¨äº†è‡ªåŠ¨ç¡®è®¤æ¶ˆæ¯æ¨¡å¼ï¼Œæ”¹ä¸ºæ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯å³
å¯ï¼æ¶ˆè´¹è€…åœ¨æ”¶åˆ°æ¶ˆæ¯ä¹‹åï¼Œå¤„ç†æ¶ˆæ¯ä¹‹å‰ï¼Œä¼šè‡ªåŠ¨å›å¤RabbitMQå·²æ”¶åˆ°æ¶ˆ
æ¯ã€‚å¦‚æœè¿™æ—¶å¤„ç†æ¶ˆæ¯å¤±è´¥ï¼Œå°±ä¼šä¸¢å¤±è¯¥æ¶ˆæ¯ã€‚
è§£å†³æ–¹æ¡ˆï¼šå¤„ç†æ¶ˆæ¯æˆåŠŸåï¼Œæ‰‹åŠ¨å›å¤ç¡®è®¤æ¶ˆæ¯ã€‚</li>
</ol>
<h3 id="7-14-8-å¦‚ä½•ä¿è¯rabbitmqæ¶ˆæ¯çš„é¡ºåºæ€§">7 14 8 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯çš„é¡ºåºæ€§ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="å•çº¿ç¨‹æ¶ˆè´¹ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§å¯¹æ¶ˆæ¯è¿›è¡Œç¼–å·æ¶ˆè´¹è€…å¤„ç†æ¶ˆæ¯æ˜¯æ ¹æ®ç¼–">å•çº¿ç¨‹æ¶ˆè´¹ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§ã€‚å¯¹æ¶ˆæ¯è¿›è¡Œç¼–å·ï¼Œæ¶ˆè´¹è€…å¤„ç†æ¶ˆæ¯æ˜¯æ ¹æ®ç¼–</h5>
<h5 id="å·å¤„ç†æ¶ˆæ¯">å·å¤„ç†æ¶ˆæ¯ã€‚</h5>
<p><strong>7. 14. 9 å¦‚ä½•ç¡®ä¿æ¶ˆæ¯æ­£ç¡®åœ°å‘é€è‡³RabbitMQï¼Ÿå¦‚ä½•ç¡®ä¿æ¶ˆæ¯æ¥æ”¶
æ–¹æ¶ˆè´¹äº†æ¶ˆæ¯ï¼Ÿ
å‘é€æ–¹ç¡®è®¤æ¨¡å¼</strong>
å°†ä¿¡é“è®¾ç½®æˆconfirmæ¨¡å¼ï¼ˆå‘é€æ–¹ç¡®è®¤æ¨¡å¼ï¼‰ï¼Œåˆ™æ‰€æœ‰åœ¨ä¿¡é“ä¸Šå‘å¸ƒçš„æ¶ˆ
æ¯éƒ½ä¼šè¢«æŒ‡æ´¾ä¸€ä¸ªå”¯ä¸€çš„IDã€‚ä¸€æ—¦æ¶ˆæ¯è¢«æŠ•é€’åˆ°ç›®çš„é˜Ÿåˆ—åï¼Œæˆ–è€…æ¶ˆæ¯è¢«å†™å…¥
ç£ç›˜åï¼ˆå¯æŒä¹…åŒ–çš„æ¶ˆæ¯ï¼‰ï¼Œä¿¡é“ä¼šå‘é€ä¸€ä¸ªç¡®è®¤ç»™ç”Ÿäº§è€…ï¼ˆåŒ…å«æ¶ˆæ¯å”¯ä¸€IDï¼‰ã€‚
å¦‚æœRabbitMQå‘ç”Ÿå†…éƒ¨é”™è¯¯ä»è€Œå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±ï¼Œä¼šå‘é€ä¸€æ¡nackï¼ˆnot
acknowledgedï¼Œæœªç¡®è®¤ï¼‰æ¶ˆæ¯ã€‚å‘é€æ–¹ç¡®è®¤æ¨¡å¼æ˜¯å¼‚æ­¥çš„ï¼Œç”Ÿäº§è€…åº”ç”¨ç¨‹åºåœ¨</p>
<h5 id="ç­‰å¾…ç¡®è®¤çš„åŒæ—¶å¯ä»¥ç»§ç»­å‘é€æ¶ˆæ¯å½“ç¡®è®¤æ¶ˆæ¯åˆ°è¾¾ç”Ÿäº§è€…åº”ç”¨ç¨‹åºç”Ÿäº§è€…">ç­‰å¾…ç¡®è®¤çš„åŒæ—¶ï¼Œå¯ä»¥ç»§ç»­å‘é€æ¶ˆæ¯ã€‚å½“ç¡®è®¤æ¶ˆæ¯åˆ°è¾¾ç”Ÿäº§è€…åº”ç”¨ç¨‹åºï¼Œç”Ÿäº§è€…</h5>
<h5 id="åº”ç”¨ç¨‹åºçš„å›è°ƒæ–¹æ³•å°±ä¼šè¢«è§¦å‘æ¥å¤„ç†ç¡®è®¤æ¶ˆæ¯">åº”ç”¨ç¨‹åºçš„å›è°ƒæ–¹æ³•å°±ä¼šè¢«è§¦å‘æ¥å¤„ç†ç¡®è®¤æ¶ˆæ¯ã€‚</h5>
<h5 id="æ¥æ”¶æ–¹ç¡®è®¤æœºåˆ¶">æ¥æ”¶æ–¹ç¡®è®¤æœºåˆ¶</h5>
<h5 id="æ¶ˆè´¹è€…æ¥æ”¶æ¯ä¸€æ¡æ¶ˆæ¯åéƒ½å¿…é¡»è¿›è¡Œç¡®è®¤æ¶ˆæ¯æ¥æ”¶å’Œæ¶ˆæ¯ç¡®è®¤æ˜¯ä¸¤ä¸ªä¸åŒ">æ¶ˆè´¹è€…æ¥æ”¶æ¯ä¸€æ¡æ¶ˆæ¯åéƒ½å¿…é¡»è¿›è¡Œç¡®è®¤ï¼ˆæ¶ˆæ¯æ¥æ”¶å’Œæ¶ˆæ¯ç¡®è®¤æ˜¯ä¸¤ä¸ªä¸åŒ</h5>
<p>æ“ä½œï¼‰ã€‚åªæœ‰æ¶ˆè´¹è€…ç¡®è®¤äº†æ¶ˆæ¯ï¼ŒRabbitMQæ‰èƒ½å®‰å…¨åœ°æŠŠæ¶ˆæ¯ä»é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚
è¿™é‡Œå¹¶æ²¡æœ‰ç”¨åˆ°è¶…æ—¶æœºåˆ¶ï¼ŒRabbitMQä»…é€šè¿‡Consumerçš„è¿æ¥ä¸­æ–­æ¥ç¡®è®¤æ˜¯
å¦éœ€è¦é‡æ–°å‘é€æ¶ˆæ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è¿æ¥ä¸ä¸­æ–­ï¼ŒRabbitMQç»™äº†Consumer
è¶³å¤Ÿé•¿çš„æ—¶é—´æ¥å¤„ç†æ¶ˆæ¯ã€‚ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚
ä¸‹é¢ç½—åˆ—å‡ ç§ç‰¹æ®Šæƒ…å†µ
å¦‚æœæ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œåœ¨ç¡®è®¤ä¹‹å‰æ–­å¼€äº†è¿æ¥æˆ–å–æ¶ˆè®¢é˜…ï¼ŒRabbitMQä¼š
è®¤ä¸ºæ¶ˆæ¯æ²¡æœ‰è¢«åˆ†å‘ï¼Œç„¶åé‡æ–°åˆ†å‘ç»™ä¸‹ä¸€ä¸ªè®¢é˜…çš„æ¶ˆè´¹è€…ã€‚ï¼ˆå¯èƒ½å­˜åœ¨æ¶ˆæ¯é‡
å¤æ¶ˆè´¹çš„éšæ‚£ï¼Œéœ€è¦å»é‡ï¼‰ã€‚
å¦‚æœæ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯å´æ²¡æœ‰ç¡®è®¤æ¶ˆæ¯ï¼Œè¿æ¥ä¹Ÿæœªæ–­å¼€ï¼Œåˆ™RabbitMQè®¤
ä¸ºè¯¥æ¶ˆè´¹è€…ç¹å¿™ï¼Œå°†ä¸ä¼šç»™è¯¥æ¶ˆè´¹è€…åˆ†å‘æ›´å¤šçš„æ¶ˆæ¯ã€‚</p>
<h3 id="7-14-10-rabbitmqæ¶ˆæ¯å †ç§¯å¤„ç†">7 14 10 RabbitMQæ¶ˆæ¯å †ç§¯å¤„ç†&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="1-å¢åŠ æ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŠ›ä¾‹å¦‚ä¼˜åŒ–ä»£ç æˆ–å‡å°‘å‘å¸ƒé¢‘ç‡">1. å¢åŠ æ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŠ›(ä¾‹å¦‚ä¼˜åŒ–ä»£ç )ï¼Œæˆ–å‡å°‘å‘å¸ƒé¢‘ç‡ã€‚</h5>
<h5 id="2-è€ƒè™‘ä½¿ç”¨é˜Ÿåˆ—æœ€å¤§é•¿åº¦é™åˆ¶">2. è€ƒè™‘ä½¿ç”¨é˜Ÿåˆ—æœ€å¤§é•¿åº¦é™åˆ¶ã€‚</h5>
<h5 id="3-ç»™æ¶ˆæ¯è®¾ç½®å¹´é¾„è¶…æ—¶å°±ä¸¢å¼ƒ">3. ç»™æ¶ˆæ¯è®¾ç½®å¹´é¾„ï¼Œè¶…æ—¶å°±ä¸¢å¼ƒã€‚</h5>
<ol start="4">
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œrabbitmqæ¶ˆè´¹è€…ä¸ºå•çº¿ç¨‹ä¸²è¡Œæ¶ˆè´¹ï¼Œè®¾ç½®å¹¶å‘æ¶ˆè´¹ä¸¤ä¸ªå…³
é”®å±æ€§concurrentConsumerså’ŒprefetchCountoncurrentConsumersè®¾ç½®
çš„æ˜¯å¯¹æ¯ä¸ªlisteneråœ¨åˆå§‹åŒ–çš„æ—¶å€™è®¾ç½®çš„å¹¶å‘æ¶ˆè´¹è€…çš„ä¸ªæ•°ï¼ŒprefetchCount</li>
</ol>
<p>æ˜¯æ¯æ¬¡ä¸€æ¬¡æ€§ä»brokeré‡Œé¢å–çš„å¾…æ¶ˆè´¹çš„æ¶ˆæ¯çš„ä¸ªæ•°ã€‚
5. å»ºç«‹æ–°çš„queueï¼Œæ¶ˆè´¹è€…åŒæ—¶è®¢é˜…æ–°æ—§queueï¼Œé‡‡ç”¨è®¢é˜…æ¨¡å¼ã€‚
6. ç”Ÿäº§è€…ç«¯ç¼“å­˜æ•°æ®ï¼Œåœ¨mqè¢«æ¶ˆè´¹å®Œåå†å‘é€åˆ°mqï¼Œæ‰“ç ´å‘é€å¾ªç¯æ¡
ä»¶ï¼Œè®¾ç½®åˆé€‚çš„qoså€¼ï¼Œå½“qoså€¼è¢«ç”¨å…‰ï¼Œè€Œæ–°çš„ackæ²¡æœ‰è¢«mqæ¥æ”¶æ—¶ï¼Œå°±
å¯ä»¥è·³å‡ºå‘é€å¾ªç¯ï¼Œå»æ¥æ”¶æ–°çš„æ¶ˆæ¯ï¼›æ¶ˆè´¹è€…ä¸»åŠ¨blockæ¥æ”¶è¿›ç¨‹ï¼Œæ¶ˆè´¹è€…æ„Ÿå—
åˆ°æ¥æ”¶æ¶ˆæ¯è¿‡å¿«æ—¶ä¸»åŠ¨blockï¼Œåˆ©ç”¨blockå’Œunblockæ–¹æ³•è°ƒèŠ‚æ¥æ”¶é€Ÿç‡ï¼Œå½“
æ¥æ”¶çº¿ç¨‹è¢«blockæ—¶ï¼Œè·³å‡ºå‘é€å¾ªç¯ã€‚</p>
<h3 id="7-14-11-rabbitmqæ¶ˆæ¯ä¸¢å¤±è§£å†³æ–¹æ¡ˆ">7 14 11 RabbitMQæ¶ˆæ¯ä¸¢å¤±è§£å†³æ–¹æ¡ˆ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="æ¶ˆæ¯æŒä¹…åŒ–">æ¶ˆæ¯æŒä¹…åŒ–</h5>
<pre tabindex="0"><code>Exchange è®¾ç½®æŒä¹…åŒ–ï¼šdurable:trueã€‚
ueueè®¾ç½®æŒä¹…åŒ–ï¼›MessageæŒä¹…åŒ–å‘é€ã€‚
ACKç¡®è®¤æœºåˆ¶
æ¶ˆæ¯å‘é€ç¡®è®¤ã€‚
æ¯æ¥æ”¶æ‰‹åŠ¨ç¡®è®¤ACKã€‚
</code></pre><h3 id="7-14-12-rabbitmqå®•æœºäº†æ€ä¹ˆå¤„ç†">7 14 12 RabbitMQå®•æœºäº†æ€ä¹ˆå¤„ç†&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>RabbitMQæä¾›äº†æŒä¹…åŒ–çš„æœºåˆ¶ï¼Œå°†å†…å­˜ä¸­çš„æ¶ˆæ¯æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¸Šï¼Œå³ä½¿é‡
å¯RabbitMQï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚
æŒä¹…åŒ–é˜Ÿåˆ—å’ŒéæŒä¹…åŒ–é˜Ÿåˆ—çš„åŒºåˆ«æ˜¯ï¼ŒæŒä¹…åŒ–é˜Ÿåˆ—ä¼šè¢«ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œå›ºå®š
å¹¶æŒä¹…çš„å­˜å‚¨ï¼Œå½“RabbitæœåŠ¡é‡å¯åï¼Œè¯¥é˜Ÿåˆ—ä¼šä¿æŒåŸæ¥çš„çŠ¶æ€åœ¨RabbitMQ
ä¸­è¢«ç®¡ç†ï¼Œè€ŒéæŒä¹…åŒ–é˜Ÿåˆ—ä¸ä¼šè¢«ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼ŒRabbitæœåŠ¡é‡å¯åé˜Ÿåˆ—å°±ä¼š</p>
<h5 id="æ¶ˆå¤±">æ¶ˆå¤±ã€‚</h5>
<h5 id="éæŒä¹…åŒ–æ¯”æŒä¹…åŒ–çš„ä¼˜åŠ¿å°±æ˜¯ç”±äºéæŒä¹…åŒ–ä¸éœ€è¦ä¿å­˜åœ¨ç£ç›˜ä¸­æ‰€ä»¥ä½¿">éæŒä¹…åŒ–æ¯”æŒä¹…åŒ–çš„ä¼˜åŠ¿å°±æ˜¯ï¼Œç”±äºéæŒä¹…åŒ–ä¸éœ€è¦ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œæ‰€ä»¥ä½¿</h5>
<h5 id="ç”¨é€Ÿåº¦å°±æ¯”æŒä¹…åŒ–é˜Ÿåˆ—å¿«å³æ˜¯éæŒä¹…åŒ–çš„æ€§èƒ½è¦é«˜äºæŒä¹…åŒ–">ç”¨é€Ÿåº¦å°±æ¯”æŒä¹…åŒ–é˜Ÿåˆ—å¿«ã€‚å³æ˜¯éæŒä¹…åŒ–çš„æ€§èƒ½è¦é«˜äºæŒä¹…åŒ–ã€‚</h5>
<h5 id="è€ŒæŒä¹…åŒ–çš„ä¼˜ç‚¹å°±æ˜¯ä¼šä¸€ç›´å­˜åœ¨ä¸ä¼šéšæœåŠ¡çš„é‡å¯æˆ–æœåŠ¡å™¨çš„å®•æœºè€Œæ¶ˆ">è€ŒæŒä¹…åŒ–çš„ä¼˜ç‚¹å°±æ˜¯ä¼šä¸€ç›´å­˜åœ¨ï¼Œä¸ä¼šéšæœåŠ¡çš„é‡å¯æˆ–æœåŠ¡å™¨çš„å®•æœºè€Œæ¶ˆ</h5>
<h5 id="å¤±">å¤±ã€‚</h5>
<h3 id="7-14-13-rabbitmqçš„é›†ç¾¤">7 14 13 RabbitMQçš„é›†ç¾¤&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>Rabbitmqæœ‰ 3 ç§æ¨¡å¼ï¼Œä½†é›†ç¾¤æ¨¡å¼æœ‰ 2 ä¸­ï¼Œè¯¦æƒ…å¦‚ä¸‹ï¼š
<strong>å•ä¸€æ¨¡å¼</strong>
å³å•æœºæƒ…å†µä¸åšé›†ç¾¤ï¼Œå°±å•ç‹¬è¿è¡Œä¸€ä¸ªrabbitmqè€Œå·²ã€‚
<strong>æ™®é€šæ¨¡å¼</strong>
é»˜è®¤æ¨¡å¼ï¼Œä»¥ä¸¤ä¸ªèŠ‚ç‚¹ï¼ˆrabbit 01 ã€rabbit 02 ï¼‰ä¸ºä¾‹æ¥è¿›è¡Œè¯´æ˜ã€‚å¯¹äºQueue
æ¥è¯´ï¼Œæ¶ˆæ¯å®ä½“åªå­˜åœ¨äºå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹rabbit 01 ï¼ˆæˆ–è€…rabbit 02 ï¼‰ï¼Œrabbit 01
å’Œrabbit 02 ä¸¤ä¸ªèŠ‚ç‚¹ä»…æœ‰ç›¸åŒçš„å…ƒæ•°æ®ï¼Œå³é˜Ÿåˆ—çš„ç»“æ„ã€‚å½“æ¶ˆæ¯è¿›å…¥rabbit 01
èŠ‚ç‚¹çš„Queueåï¼Œconsumerä»èŠ‚ç‚¹æ¶ˆè´¹æ—¶ï¼ŒRabbitMQä¼šä¸´æ—¶åœ¨rabbit 01 ã€
rabbit 02 é—´è¿›è¡Œæ¶ˆæ¯ä¼ è¾“ï¼ŒæŠŠAä¸­çš„æ¶ˆæ¯å®ä½“å–å‡ºå¹¶ç»è¿‡Bå‘é€ç»™consumerã€‚
æ‰€ä»¥consumeråº”å°½é‡è¿æ¥æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»ä¸­å–æ¶ˆæ¯ã€‚å³å¯¹äºåŒä¸€ä¸ªé€»è¾‘é˜Ÿåˆ—ï¼Œ
è¦åœ¨å¤šä¸ªèŠ‚ç‚¹å»ºç«‹ç‰©ç†Queueã€‚å¦åˆ™æ— è®ºconsumerè¿rabbit 01 æˆ–rabbit 02 ï¼Œ
å‡ºå£æ€»åœ¨rabbit 01 ï¼Œä¼šäº§ç”Ÿç“¶é¢ˆã€‚å½“rabbit 01 èŠ‚ç‚¹æ•…éšœåï¼Œrabbit 02 èŠ‚ç‚¹æ— æ³•
å–åˆ°rabbit 01 èŠ‚ç‚¹ä¸­è¿˜æœªæ¶ˆè´¹çš„æ¶ˆæ¯å®ä½“ã€‚å¦‚æœåšäº†æ¶ˆæ¯æŒä¹…åŒ–ï¼Œé‚£ä¹ˆå¾—ç­‰
rabbit 01 èŠ‚ç‚¹æ¢å¤ï¼Œç„¶åæ‰å¯è¢«æ¶ˆè´¹ï¼›å¦‚æœæ²¡æœ‰æŒä¹…åŒ–çš„è¯ï¼Œå°±ä¼šäº§ç”Ÿæ¶ˆæ¯ä¸¢
å¤±çš„ç°è±¡ã€‚</p>
<h5 id="é•œåƒæ¨¡å¼">é•œåƒæ¨¡å¼</h5>
<p>æŠŠéœ€è¦çš„é˜Ÿåˆ—åšæˆé•œåƒé˜Ÿåˆ—ï¼Œå­˜åœ¨ä¸å¤šä¸ªèŠ‚ç‚¹å±äºRabbitMQçš„HAæ¡ˆã€‚
è¯¥æ¨¡å¼è§£å†³äº†æ™®é€šæ¨¡å¼ä¸­çš„é—®é¢˜ï¼Œå…¶å®è´¨å’Œæ™®é€šæ¨¡å¼ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ¶ˆæ¯å®ä½“ä¼š
ä¸»åŠ¨åœ¨é•œåƒèŠ‚ç‚¹é—´åŒæ­¥ï¼Œè€Œä¸æ˜¯åœ¨å®¢æˆ·ç«¯å–æ•°æ®æ—¶ä¸´æ—¶æ‹‰å–ã€‚è¯¥æ¨¡å¼å¸¦æ¥çš„å‰¯ä½œ
ç”¨ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œé™¤äº†é™ä½ç³»ç»Ÿæ€§èƒ½å¤–ï¼Œå¦‚æœé•œåƒé˜Ÿåˆ—æ•°é‡è¿‡å¤šï¼ŒåŠ ä¹‹å¤§é‡çš„æ¶ˆæ¯è¿›
å…¥ï¼Œé›†ç¾¤å†…éƒ¨çš„ç½‘ç»œå¸¦å®½å°†ä¼šè¢«è¿™ç§åŒæ­¥é€šè®¯å¤§å¤§æ¶ˆè€—æ‰ã€‚æ‰€ä»¥åœ¨å¯¹å¯é æ€§è¦æ±‚
è¾ƒé«˜çš„åœºåˆä¸­é€‚ç”¨ã€‚</p>
<h3 id="7-14-14-å¦‚ä½•è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜">7 14 14 å¦‚ä½•è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="1-2-pcä¸¤é˜¶æ®µæäº¤">1. 2 PCï¼šä¸¤é˜¶æ®µæäº¤</h5>
<h5 id="æ‰§è¡Œé˜¶æ®µ">æ‰§è¡Œé˜¶æ®µï¼š</h5>
<h5 id="å½“åˆ›å»ºè®¢å•æ—¶å‘æ‰€æœ‰å¾®æœåŠ¡å‘é€æ¶ˆæ¯å¯ä»¥å¼€å§‹æ‰§è¡Œäº†æ‰§è¡ŒæˆåŠŸåä¸ç›´æ¥">å½“åˆ›å»ºè®¢å•æ—¶ï¼Œå‘æ‰€æœ‰å¾®æœåŠ¡å‘é€æ¶ˆæ¯,å¯ä»¥å¼€å§‹æ‰§è¡Œäº†,æ‰§è¡ŒæˆåŠŸåï¼Œä¸ç›´æ¥</h5>
<h5 id="æäº¤è€Œæ˜¯è¿”å›ä¸€ä¸ªæ¶ˆæ¯å‘Šè¯‰æˆ‘æ‰§è¡ŒæˆåŠŸè¿˜æ˜¯æ‰§è¡Œå¤±è´¥">æäº¤,è€Œæ˜¯è¿”å›ä¸€ä¸ªæ¶ˆæ¯å‘Šè¯‰æˆ‘,æ‰§è¡ŒæˆåŠŸè¿˜æ˜¯æ‰§è¡Œå¤±è´¥ã€‚</h5>
<h5 id="ç¬¬äºŒé˜¶æ®µ">ç¬¬äºŒé˜¶æ®µï¼š</h5>
<h5 id="å¦‚æœæ‰€æœ‰äººéƒ½æ‰§è¡ŒæˆåŠŸå†å‘ä¸€ä¸ªæ¶ˆæ¯ä½ ä»¬å¯ä»¥æäº¤äº†">å¦‚æœæ‰€æœ‰äººéƒ½æ‰§è¡ŒæˆåŠŸ,å†å‘ä¸€ä¸ªæ¶ˆæ¯,ä½ ä»¬å¯ä»¥æäº¤äº†ï¼›</h5>
<h5 id="å¦‚æœç¬¬ä¸€é˜¶æ®µæœ‰äººæ‰§è¡Œå¤±è´¥ä½ å°±å‘Šè¯‰æ‰€æœ‰äººéƒ½å›æ»š">å¦‚æœç¬¬ä¸€é˜¶æ®µæœ‰äººæ‰§è¡Œå¤±è´¥,ä½ å°±å‘Šè¯‰æ‰€æœ‰äººéƒ½å›æ»šã€‚</h5>
<h5 id="ç¼ºç‚¹å½“é”å®šçš„è¡¨å¾ˆå¤šæ—¶æ€§èƒ½å·®">ç¼ºç‚¹ï¼šå½“é”å®šçš„è¡¨å¾ˆå¤šæ—¶,æ€§èƒ½å·®ã€‚</h5>
<p>3 .TCCï¼šè¡¥å¿æ€§äº‹åŠ¡(ä¸€èˆ¬é‡‡ç”¨)try-confirm-concel
æ¯ä¸ªæœåŠ¡æ‰§è¡Œå®Œåéƒ½æäº¤,é›†ä¸­è¿”å›ç»™è‡ªå·±,å¦‚æœéƒ½æ‰§è¡ŒæˆåŠŸäº†é‚£å°±ä¸ç®¡
å¦‚æœæäº¤å¤±è´¥,å°±é‡‡ç”¨å¤±è´¥æœåŠ¡çš„è¡¥å¿æ–¹æ³•å»è¡¥å¿,ä½†è‹¥è¡¥å¿æ–¹æ³•ä¹Ÿå¤±è´¥,é‚£ä½ è¿˜
éœ€è¦è¿›è¡Œé‡è¯•å†™é‡è¯•æ–¹æ³•æˆ–è€…äººå·¥ä»‹å…¥ã€‚
ä¼˜ç¼ºï¼šè§£å†³äº†æ€§èƒ½é—®é¢˜,ä½†æ˜¯ä¸šåŠ¡å¤æ‚,å†™ä¸€ä¸ªäº‹åŠ¡è¿˜éœ€è¦å†™è¡¥å¿æ–¹æ³•ã€‚</p>
<p>å¼‚æ­¥ç¡®ä¿ï¼šåˆ©ç”¨mqå®ç°åˆ†å¸ƒå¼äº‹åŠ¡ã€‚</p>
<h3 id="7-14-15-å¸¸è§çš„æ¶ˆæ¯ä¸­é—´">7 14 15 å¸¸è§çš„æ¶ˆæ¯ä¸­é—´&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>RocketMQ</strong>
é˜¿é‡Œç³»ä¸‹å¼€æºçš„ä¸€æ¬¾åˆ†å¸ƒå¼ã€é˜Ÿåˆ—æ¨¡å‹çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒåŸåMetaqï¼Œ 3. 0 ç‰ˆ
æœ¬åç§°æ”¹ä¸ºRocketMQï¼Œæ˜¯é˜¿é‡Œå‚ç…§kafkaè®¾è®¡æ€æƒ³ä½¿ç”¨javaå®ç°çš„ä¸€å¥—mqã€‚
åŒæ—¶å°†é˜¿é‡Œç³»å†…éƒ¨å¤šæ¬¾mqäº§å“ï¼ˆNotifyã€metaqï¼‰è¿›è¡Œæ•´åˆï¼Œåªç»´æŠ¤æ ¸å¿ƒåŠŸ
èƒ½ï¼Œå»é™¤äº†æ‰€æœ‰å…¶ä»–è¿è¡Œæ—¶ä¾èµ–ï¼Œä¿è¯æ ¸å¿ƒåŠŸèƒ½æœ€ç®€åŒ–ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šé…åˆé˜¿é‡Œä¸Š
è¿°å…¶ä»–å¼€æºäº§å“å®ç°ä¸åŒåœºæ™¯ä¸‹mqçš„æ¶æ„ï¼Œç›®å‰ä¸»è¦å¤šç”¨äºè®¢å•äº¤æ˜“ç³»ç»Ÿã€‚
<strong>RabbitMQ</strong>
ä½¿ç”¨Erlangç¼–å†™çš„ä¸€ä¸ªå¼€æºçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ¬èº«æ”¯æŒå¾ˆå¤šçš„åè®®ï¼šAMQPï¼Œ
XMPP,SMTP,STOMPï¼Œä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œä½¿çš„å®ƒå˜çš„éå¸¸é‡é‡çº§ï¼Œæ›´é€‚åˆäºä¼ä¸šçº§
çš„å¼€å‘ã€‚åŒæ—¶å®ç°äº†Brokeræ¶æ„ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ç”Ÿäº§è€…ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™é˜Ÿ
åˆ—ï¼Œæ¶ˆæ¯åœ¨å‘é€ç»™å®¢æˆ·ç«¯æ—¶å…ˆåœ¨ä¸­å¿ƒé˜Ÿåˆ—æ’é˜Ÿã€‚å¯¹è·¯ç”±(Routing)ï¼Œè´Ÿè½½å‡è¡¡(Load
balance)ã€æ•°æ®æŒä¹…åŒ–éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚å¤šç”¨äºè¿›è¡Œä¼ä¸šçº§çš„ESBæ•´åˆã€‚
<strong>ActiveMQ</strong>
Apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ã€‚ä½¿ç”¨Javaå®Œå…¨æ”¯æŒJMS 1. 1 å’ŒJ 2 EE 1. 4 è§„èŒƒçš„
JMSProviderå®ç°ï¼Œå°‘é‡ä»£ç å°±å¯ä»¥é«˜æ•ˆåœ°å®ç°é«˜çº§åº”ç”¨åœºæ™¯ã€‚å¯æ’æ‹”çš„ä¼ è¾“
åè®®æ”¯æŒï¼Œæ¯”å¦‚ï¼šin-VM,TCP,SSL,NIO,UDP,multicast,JGroupsandJXTA
transportsã€‚RabbitMQã€ZeroMQã€ActiveMQå‡æ”¯æŒå¸¸ç”¨çš„å¤šç§è¯­è¨€å®¢æˆ·ç«¯
C++ã€Javaã€.Net,ã€Pythonã€ Phpã€ Rubyç­‰ã€‚
<strong>Redis</strong></p>
<p>ä½¿ç”¨Cè¯­è¨€å¼€å‘çš„ä¸€ä¸ªKey-Valueçš„NoSQLæ•°æ®åº“ï¼Œå¼€å‘ç»´æŠ¤å¾ˆæ´»è·ƒï¼Œè™½
ç„¶å®ƒæ˜¯ä¸€ä¸ªKey-Valueæ•°æ®åº“å­˜å‚¨ç³»ç»Ÿï¼Œä½†å®ƒæœ¬èº«æ”¯æŒMQåŠŸèƒ½ï¼Œæ‰€ä»¥å®Œå…¨å¯
ä»¥å½“åšä¸€ä¸ªè½»é‡çº§çš„é˜Ÿåˆ—æœåŠ¡æ¥ä½¿ç”¨ã€‚å¯¹äºRabbitMQå’ŒRedisçš„å…¥é˜Ÿå’Œå‡ºé˜Ÿ
æ“ä½œï¼Œå„æ‰§è¡Œ 100 ä¸‡æ¬¡ï¼Œæ¯ 10 ä¸‡æ¬¡è®°å½•ä¸€æ¬¡æ‰§è¡Œæ—¶é—´ã€‚æµ‹è¯•æ•°æ®åˆ†ä¸º 128 Bytesã€
512 Bytesã€ 1 Kå’Œ 10 Kå››ä¸ªä¸åŒå¤§å°çš„æ•°æ®ã€‚å®éªŒè¡¨æ˜ï¼šå…¥é˜Ÿæ—¶ï¼Œå½“æ•°æ®æ¯”è¾ƒå°
æ—¶Redisçš„æ€§èƒ½è¦é«˜äºRabbitMQï¼Œè€Œå¦‚æœæ•°æ®å¤§å°è¶…è¿‡äº† 10 Kï¼ŒRedisåˆ™æ…¢çš„
æ— æ³•å¿å—ï¼›å‡ºé˜Ÿæ—¶ï¼Œæ— è®ºæ•°æ®å¤§å°ï¼ŒRediséƒ½è¡¨ç°å‡ºéå¸¸å¥½çš„æ€§èƒ½ï¼Œè€ŒRabbitMQ
çš„å‡ºé˜Ÿæ€§èƒ½åˆ™è¿œä½äºRedisã€‚
<strong>Kafka</strong>
Apache ä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œä½¿ç”¨ scalaå®ç°çš„ä¸€ä¸ªé«˜æ€§èƒ½åˆ†å¸ƒå¼
Publish/Subscribeæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿã€‚</p>
<h2 id="7-15-é¢è¯•é—®é¢˜æ±‡æ€»">7 15 é¢è¯•é—®é¢˜æ±‡æ€»ï¼š&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<h3 id="7-15-1-è¿™ä¸ªç³»ç»Ÿuiä½¿ç”¨ä»€ä¹ˆæ¡†æ¶éƒ½ç”¨åˆ°jqueryeasyuiçš„å“ªäº›ç»„ä»¶">7 15 1 è¿™ä¸ªç³»ç»ŸUIä½¿ç”¨ä»€ä¹ˆæ¡†æ¶ï¼Ÿéƒ½ç”¨åˆ°jqueryeasyuiçš„å“ªäº›ç»„ä»¶ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>ç³»ç»ŸUIä½¿ç”¨JqueryeasyUIï¼ŒåŠjqueryåº“ã€‚ç³»ç»Ÿæ¡†æ¶å¸ƒå±€ä½¿ç”¨layoutï¼Œ
ç³»ç»Ÿæ ‡ç­¾çª—å£é‡‡ç”¨tabsï¼Œæ•°æ®åˆ—è¡¨é‡‡ç”¨datagridï¼Œä¸‹æ‹‰åˆ—è¡¨combobox,ä¸‹æ‹‰
æ•°æ®è¡¨æ ¼combogridå¼¹å‡ºçª—å£ windowæ¶ˆæ¯æç¤ºï¼šmessageræ ‘æ§ä»¶ tree ç­‰ã€‚
<strong>7. 15. 2 æœ¬ç³»ç»Ÿajax+jsonå…·ä½“æ˜¯æ€ä¹ˆåšçš„ï¼Ÿactionçš„æ–¹æ³•è¿”å›çš„
jsonæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</strong>
ajax+jsonï¼šé¡µé¢é‡‡ç”¨ajaxæäº¤ï¼ŒæœåŠ¡ç«¯è¿”å›æ˜¯jsonï¼Œæ³¨æ„ï¼šé¡µé¢æäº¤çš„æ˜¯
key/valueä¸²ã€‚
é¡µé¢æäº¤ç»Ÿä¸€é‡‡ç”¨ajaxFormæäº¤æ–¹å¼ï¼Œå¼•ç”¨äº†ä¸€ä¸ªå«form.jsçš„è„šæœ¬ï¼Œå…¶</p>
<p>ä¸­ä½¿ç”¨äº†jqueryæä¾›formç»„ä»¶$(&quot;#form 1 &ldquo;).serialize() ï¼Œå†åŠ ä¸ŠäºŒæ¬¡å°è£…ï¼Œ
èµ·åˆ°äº†ç®€åŒ–å¼€å‘çš„ä½œç”¨ã€‚</p>
<h3 id="7-15-3-ç³»ç»Ÿå“ªäº›åœ°æ–¹ä½¿ç”¨åˆ°äº†json">7 15 3 ç³»ç»Ÿå“ªäº›åœ°æ–¹ä½¿ç”¨åˆ°äº†jsonï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>æ•°æ®åˆ—è¡¨æŸ¥è¯¢è¿”å›jsonï¼Œåœ¨é¡µé¢ä¸­ä½¿ç”¨jqerueasyuiçš„datagridè¿›è¡Œè§£æã€‚
æ‰€æœ‰æäº¤ç±»çš„actionæ–¹æ³•ç»Ÿä¸€è¿”å›json
å¼‚å¸¸å¤„ç†å™¨ä¼šå°†å¼‚å¸¸ä¿¡æ¯è½¬ä¸ºjson
ç³»ç»Ÿèœå•ä½¿ç”¨jsonæ•°æ®è¡¨ç¤ºã€‚
ä½¿ç”¨jsonç›®çš„ï¼šä½¿ç”¨jsonæ–¹ä¾¿å®¢æˆ·ç«¯é¡µé¢è§£ææ•°æ®ã€‚</p>
<h3 id="7-15-4-ä½ æ˜¯å¦‚ä½•å°†å¯¹è±¡è½¬æˆjsonæˆ–æ˜¯å°†jsonè½¬æˆå¯¹è±¡">7 15 4 ä½ æ˜¯å¦‚ä½•å°†å¯¹è±¡è½¬æˆJSONæˆ–æ˜¯å°†JSONè½¬æˆå¯¹è±¡ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>æˆ‘ä»¬é‡‡ç”¨çš„è§£æJSONçš„å·¥å…·æ˜¯ç°åœ¨å¹¿æ³›é‡‡ç”¨çš„æµè¡Œjsonå·¥å…·åŒ…&mdash;-é˜¿é‡Œå·´
å·´çš„fastJSON. å®ƒæä¾›äº†toJsonStringæ–¹æ³•å°†å¯¹è±¡æˆ–é›†åˆè½¬æ¢ä¸ºjsonå­—ç¬¦
ä¸² ï¼Œparseæ–¹æ³•ç”¨äºå°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡ï¼ˆMAPï¼‰.
parseArrayæ–¹æ³•ç”¨äºå°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºList é›†åˆ</p>
<h3 id="7-15-5-è¿™ä¸ªç³»ç»Ÿå¼‚å¸¸å¤„ç†æ˜¯æ€ä¹ˆåšçš„">7 15 5 è¿™ä¸ªç³»ç»Ÿå¼‚å¸¸å¤„ç†æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="åˆ†ä¸¤ä¸ªæ–¹é¢">åˆ†ä¸¤ä¸ªæ–¹é¢ï¼š</h5>
<h5 id="1-ç³»ç»Ÿå¼‚å¸¸ç±»å‹">1 ã€ç³»ç»Ÿå¼‚å¸¸ç±»å‹</h5>
<p>è‡ªå®šä¹‰äº†ä¸€ä¸ªç³»ç»Ÿå¼‚å¸¸ç±»ï¼Œç»§æ‰¿RuntimeExceptionï¼Œè¯¥å¼‚å¸¸ç±»éœ€è¦ç¼–å†™ä¸€ä¸ª
stringç±»å‹çš„å‚æ•°çš„çš„æ„é€ æ–¹æ³•ï¼Œæ„é€ æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚è¯¥å‚æ•°ä¸ºå¼‚
å¸¸çš„å…·ä½“ä¿¡æ¯ã€‚</p>
<p>2 ã€ç³»ç»Ÿå¼‚å¸¸çš„æ•è·å’Œè§£æ
daoå±‚å‡ºç°é”™è¯¯æŠ›ç»™bizã€bizå‡ºç°å¼‚å¸¸æŠ›ç»™actionã€actionæ•è·å¼‚å¸¸è¿›è¡Œè¾“å‡ºã€‚</p>
<h3 id="7-15-6-ä½ å¦‚ä½•ç†è§£å‰ç«¯éªŒè¯å’Œåç«¯éªŒè¯æ˜¯å¦‚ä½•å®ç°çš„">7 15 6 ä½ å¦‚ä½•ç†è§£å‰ç«¯éªŒè¯å’Œåç«¯éªŒè¯ï¼Œæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="å‰ç«¯éªŒè¯æ˜¯åœ¨å‰ç«¯æ‰€è¿›è¡Œçš„æ•°æ®æ ¡éªŒä¸»è¦ç”¨äºéç©ºéªŒè¯å’Œå¸¸ç”¨çš„æ ¼å¼éªŒ">å‰ç«¯éªŒè¯æ˜¯åœ¨å‰ç«¯æ‰€è¿›è¡Œçš„æ•°æ®æ ¡éªŒï¼Œä¸»è¦ç”¨äºéç©ºéªŒè¯å’Œå¸¸ç”¨çš„æ ¼å¼éªŒ</h5>
<p>è¯ã€‚æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯easyUIæä¾›çš„æ ¡éªŒæ§ä»¶(validatebox)å®ƒå¯¹å¸¸ç”¨çš„æ ¡éªŒè§„åˆ™è¿›
è¡Œäº†å°è£…ã€‚
åç«¯éªŒè¯æ˜¯åœ¨ä¸šåŠ¡é€»è¾‘å±‚ç¼–å†™çš„ç”¨äºæ ¡éªŒæ•°æ®çš„é€»è¾‘ã€‚é€šå¸¸ç”¨äºé‡å¤æ€§éªŒ
è¯ã€å…³è”æ•°æ®éªŒè¯ç­‰ã€‚
<strong>7. 15. 7 å¦‚æœæˆ‘è¦å®ç°æŸä¸ªæ•°æ®éç©ºéªŒè¯ï¼Œæ˜¯ä¸æ˜¯å†™äº†å‰ç«¯éªŒè¯å°±ä¸
ç”¨å†™åç«¯éªŒè¯äº†ï¼Ÿ</strong>
å¯¹äºä¸€äº›ç‰¹åˆ«é‡è¦çš„æ•°æ®ï¼Œæœ€å¥½æ˜¯å‰ç«¯åç«¯éƒ½éªŒè¯ï¼Œè¿™æ ·å¯ä»¥â€œåŒä¿é™©â€ï¼Œ
å¤§éƒ¨åˆ†çš„éæ³•è¯·æ±‚é€šè¿‡å‰ç«¯æ‹¦æˆªï¼Œå¯ä»¥é¿å…åç«¯æ‰¿è½½è¿‡å¤šçš„å‹åŠ›ã€‚ä½†æ˜¯å‰ç«¯éªŒè¯
æ˜¯â€œä¸æŠŠæ¡â€çš„ï¼Œæœ‰å¯èƒ½è¢«ç”¨æˆ·çš„æµè§ˆå™¨æ‰€å±è”½ï¼Œæ‰€ä»¥å¯¹äºé‡è¦çš„æ•°æ®åç«¯éªŒè¯
ä¹Ÿæ˜¯æœ‰å¿…è¦çš„ã€‚å¦å¤–æ¯”å¦‚é‡å¤æ€§éªŒè¯å’Œå…³è”æ€§éªŒè¯å‰ç«¯ä¹Ÿæ˜¯æ— æ³•å®ç°çš„ï¼Œåªèƒ½è¦
ç»™åç«¯æ¥åšã€‚
<strong>7. 15. 8 ä½ åœ¨ä½¿ç”¨ä¸‹æ‹‰åˆ—è¡¨æ•°æ®æ—¶ï¼Œå¦‚æœä¸‹æ‹‰åˆ—è¡¨æ•°æ®è¿‡å¤šï¼ˆ 100 æ¡
ä»¥ä¸Šï¼‰ï¼Œä½ æ˜¯å¦‚ä½•è®©ç”¨æˆ·å¾ˆå¿«æ‰¾åˆ°è¦é€‰æ‹©çš„æ•°æ®çš„å‘¢ï¼Ÿ</strong>
æœ‰ä¸€ç§å«åšè‡ªåŠ¨è¡¥å…¨çš„è§£å†³æ–¹æ¡ˆã€‚ç±»ä¼¼ä¸ç™¾åº¦æœç´¢é‚£æ ·çš„ï¼Œå½“ç”¨æˆ·è¾“å…¥æŸä¸ª
å­—ç¬¦åï¼Œä¸‹æ‹‰åˆ—è¡¨ä¼šè‡ªåŠ¨æ ¹æ®è¾“å…¥çš„æ•°æ®æ¨¡ç³Šæœç´¢å¹¶å±•ç¤ºæœç´¢çš„ç»“æœã€‚
æˆ‘åœ¨ERPä¸­é‡‡ç”¨çš„æ˜¯easyUIçš„comboboxå’Œcombogrid ç»„ä»¶,ä»–ä»¬æœ‰ä¸€ä¸ªå±
æ€§æ˜¯mode è®¾ç½®ä¸ºremoteï¼Œè¿™æ ·ç”¨æˆ·æ¯æ¬¡è¾“å…¥å­—ç¬¦å°±ä¼šè‡ªåŠ¨å‘åç«¯action
å‘é€å«qçš„å‚æ•°ã€‚åç«¯ä»£ç å°±å¯ä»¥æ ¹æ®è¿™ä¸ªå‚æ•°å€¼æ¥è¿›è¡Œæ¨¡ç³Šæœç´¢ã€‚</p>
<h4 id="7-15-9-æœ¬ç³»ç»Ÿé…ç½®ä¿¡æ¯æ˜¯å¦‚ä½•è§„èŒƒçš„">7 15 9 æœ¬ç³»ç»Ÿé…ç½®ä¿¡æ¯æ˜¯å¦‚ä½•è§„èŒƒçš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="æœ¬ç³»ç»Ÿä½¿ç”¨å›½é™…åŒ–é…ç½®æ–‡ä»¶æ–¹å¼å°†ç³»ç»Ÿä¸­æ‰€æœ‰å¼‚å¸¸ä¿¡æ¯æç¤ºä¿¡æ¯å…¨éƒ¨åœ¨">æœ¬ç³»ç»Ÿä½¿ç”¨å›½é™…åŒ–é…ç½®æ–‡ä»¶æ–¹å¼ï¼Œå°†ç³»ç»Ÿä¸­æ‰€æœ‰å¼‚å¸¸ä¿¡æ¯ã€æç¤ºä¿¡æ¯å…¨éƒ¨åœ¨</h5>
<h5 id="å›½é™…åŒ–é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®">å›½é™…åŒ–é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</h5>
<p>Javaä¸­å¯¹å›½é™…åŒ–æ”¯æŒï¼š
Javaå›½é™…åŒ–ä¸»è¦é€šè¿‡å¦‚ä¸‹ 3 ä¸ªç±»å®Œæˆ
java.util.ResourceBundle:ç”¨äºåŠ è½½ä¸€ä¸ªèµ„æº(é…ç½®æ–‡ä»¶)
java.util.Localeï¼šå¯¹åº”ä¸€ä¸ªç‰¹å®šçš„å›½å®¶/åŒºåŸŸã€è¯­è¨€ç¯å¢ƒã€‚
java.text.MessageFormatï¼šç”¨äºå°†æ¶ˆæ¯æ ¼å¼åŒ–</p>
<h4 id="7-15-10-ç³»ç»Ÿä¸­éƒ½åŒ…æ‹¬å“ªäº›ç³»ç»Ÿé…ç½®æ–¹å¼">7 15 10 ç³»ç»Ÿä¸­éƒ½åŒ…æ‹¬å“ªäº›ç³»ç»Ÿé…ç½®æ–¹å¼ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="1-å°†ç³»ç»Ÿä¸­å…·æœ‰ç›¸åŒç±»å‹çš„é…ç½®é¡¹ç»Ÿä¸€åœ¨æ•°æ®å­—å…¸è¡¨è¿›è¡Œé…ç½®">1 .å°†ç³»ç»Ÿä¸­å…·æœ‰ç›¸åŒç±»å‹çš„é…ç½®é¡¹ç»Ÿä¸€åœ¨æ•°æ®å­—å…¸è¡¨è¿›è¡Œé…ç½®ã€‚</h5>
<h5 id="2-å°†ç³»ç»Ÿçš„è¿è¡Œå‚æ•°ç»Ÿä¸€é…ç½®ç³»ç»Ÿå‚æ•°é…ç½®è¡¨ä¸­">2 .å°†ç³»ç»Ÿçš„è¿è¡Œå‚æ•°ç»Ÿä¸€é…ç½®ç³»ç»Ÿå‚æ•°é…ç½®è¡¨ä¸­ã€‚</h5>
<p>3 .å¯¹ç³»ç»Ÿæ‰€æœ‰æç¤ºä¿¡æ¯ï¼ˆæˆåŠŸã€å¼‚å¸¸ï¼‰ç»Ÿä¸€é…ç½®åœ¨message.propertiesæ–‡ä»¶ä¸­ã€‚
4 .å¯¹æ•°æ®çš„è¿æ¥å‚æ•°é…ç½®åœ¨db.propertiesä¸­
5 .æ—¥å¿—å‚æ•°é…ç½®åœ¨log 4 j.properties</p>
<h5 id="6-ç³»-ç»Ÿ-å…¬-å¼€-è®¿-é—®-åœ°-å€--æ— -éœ€-è¦-ç™»-å½•-å³-å¯-è®¿-é—®--é…-ç½®-åœ¨">6. ç³» ç»Ÿ å…¬ å¼€ è®¿ é—® åœ° å€ ï¼ˆ æ—  éœ€ è¦ ç™» å½• å³ å¯ è®¿ é—® ï¼‰ é… ç½® åœ¨</h5>
<p>anonymousActions.properties
7 .ç³»ç»Ÿå…¬å…±è®¿é—®åœ°å€ï¼ˆéœ€è¦ç™»å½•ä½†éœ€è¦æˆæƒæ‰å¯è®¿é—®ï¼‰é…ç½®åœ¨
commonActions.properties</p>
<h4 id="7-15-11-ä½ æ˜¯å¦‚ä½•å’Œæµ‹è¯•äººå‘˜é…åˆå·¥ä½œçš„">7 15 11 ä½ æ˜¯å¦‚ä½•å’Œæµ‹è¯•äººå‘˜é…åˆå·¥ä½œçš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="æ¯å¤©å®šæ—¶ç™»å½•é¡¹ç›®ç®¡ç†å¹³å°æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨çš„ç¦…é“æŸ¥çœ‹æœ‰æ²¡æœ‰è‡ªå·±åä¸‹">æ¯å¤©å®šæ—¶ç™»å½•é¡¹ç›®ç®¡ç†å¹³å°(æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨çš„ç¦…é“)ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰è‡ªå·±åä¸‹</h5>
<p>bugï¼Œå¦‚æœæœ‰æ ¹æ®æµ‹è¯•äººå‘˜æè¿°çš„æµ‹è¯•åœºæ™¯è¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœå­˜åœ¨bugä¼šåŠæ—¶ä¿®
æ”¹ï¼Œä¿®æ”¹å®Œæˆå°†bugæäº¤ã€‚å¦‚æœæ ¹æ®æµ‹è¯•äººå‘˜æè¿°çš„æµ‹è¯•åœºæ™¯è¿›è¡Œæµ‹è¯•ï¼Œbug
ä¸å­˜åœ¨ï¼Œå’Œæµ‹è¯•äººå‘˜æ²Ÿé€šä¸€æ ·ã€‚
å¦‚æœé‡åˆ°bugæ¥å›é©³å›ï¼Œæˆ‘å»ç°åœºå’Œæµ‹è¯•äººå‘˜è¿›è¡Œæ²Ÿé€šï¼Œé’ˆå¯¹æµ‹è¯•åœºæ™¯çœ‹
çœ‹åŒæ–¹æ˜¯å¦ä¸€è‡´ã€‚</p>
<h4 id="7-15-12-é¡¹ç›®ä¸­å¦‚ä½•è¿›è¡Œäº‹åŠ¡ç®¡ç†çš„">7 15 12 é¡¹ç›®ä¸­å¦‚ä½•è¿›è¡Œäº‹åŠ¡ç®¡ç†çš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>è¿™ä¸ªé¡¹ç›®çš„äº‹åŠ¡ç®¡ç†æ˜¯é€šè¿‡springçš„å£°æ˜å¼äº‹åŠ¡è¿›è¡Œç®¡ç†çš„ï¼Œå…·ä½“åšæ³•æ˜¯
ä½¿ç”¨springæä¾›çš„äº‹åŠ¡æ³¨è§£ï¼Œä¸ºServiceåˆ›å»ºä»£ç†å¯¹è±¡ï¼Œç”±ä»£ç†å¯¹è±¡è¿›è¡Œäº‹åŠ¡
æ§åˆ¶ã€‚</p>
<h4 id="7-15-13-è¿™ä¸ªé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°äº†å“ªäº›é—®é¢˜">7 15 13 è¿™ä¸ªé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°äº†å“ªäº›é—®é¢˜ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="é‡åˆ°çš„é—®é¢˜å¾ˆå¤šæœ‰æŠ€æœ¯æ–¹é¢çš„ä¹Ÿæœ‰éæŠ€æœ¯æ–¹é¢çš„">é‡åˆ°çš„é—®é¢˜å¾ˆå¤šï¼Œæœ‰æŠ€æœ¯æ–¹é¢çš„ï¼Œä¹Ÿæœ‰éæŠ€æœ¯æ–¹é¢çš„ï¼š</h5>
<h5 id="1-å¼€å‘å·¥ç¨‹å¸ˆçš„æŠ€æœ¯æ°´å¹³å‚å·®ä¸é½æœ‰äº›æŠ€æœ¯ç¨å·®çš„å·¥ç¨‹å¸ˆç»å¸¸ä¸èƒ½æŒ‰æ—¶">1 ã€å¼€å‘å·¥ç¨‹å¸ˆçš„æŠ€æœ¯æ°´å¹³å‚å·®ä¸é½ï¼Œæœ‰äº›æŠ€æœ¯ç¨å·®çš„å·¥ç¨‹å¸ˆç»å¸¸ä¸èƒ½æŒ‰æ—¶</h5>
<h5 id="å®Œæˆé¡¹ç›®ç»ç†åˆ†é…çš„ä»»åŠ¡è¿˜éœ€è¦å…¶ä»–äººå¸®å¿™å¯¼è‡´é¡¹ç›®è¿›åº¦ç¼“æ…¢">å®Œæˆé¡¹ç›®ç»ç†åˆ†é…çš„ä»»åŠ¡ï¼Œè¿˜éœ€è¦å…¶ä»–äººå¸®å¿™ï¼Œå¯¼è‡´é¡¹ç›®è¿›åº¦ç¼“æ…¢ã€‚</h5>
<pre tabindex="0"><code>2 ã€å’Œæµ‹è¯•äººå‘˜æ²Ÿé€šå›°éš¾ï¼Œæœ‰äº›æ—¶å€™æµ‹è¯•äººå‘˜ä¼šæäº¤ä¸€äº›bugï¼Œä½†åœ¨æˆ‘ä»¬å¼€
</code></pre><p>å‘çœ‹æ¥æ ¹æœ¬å°±ä¸æ˜¯bug
3 ã€äººå‘˜ä¸ç¨³å®šï¼Œå¦‚æœæœ‰äººç¦»èŒï¼Œæ–°æ‹›è¿›æ¥çš„äººä¸èƒ½ç«‹å³ä¸Šæ‰‹ï¼Œå¯¼è‡´é¡¹ç›®æ¨
è¿›ç¼“æ…¢</p>
<h4 id="7-15-14-ä»€ä¹ˆæ˜¯saasé¡¹ç›®">7 15 14 ä»€ä¹ˆæ˜¯SaaSé¡¹ç›®ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ç®€å•è¯´æ˜¯åœ¨çº¿ç³»ç»Ÿæ¨¡å¼å°±æ˜¯é€šè¿‡ç½‘ç»œé“¾æ¥è¿›è¡ŒæœåŠ¡è®¿é—®">ç®€å•è¯´æ˜¯åœ¨çº¿ç³»ç»Ÿæ¨¡å¼ã€‚å°±æ˜¯é€šè¿‡ç½‘ç»œé“¾æ¥è¿›è¡ŒæœåŠ¡è®¿é—®ã€‚</h5>
<h4 id="7-15-15-saasé¡¹ç›®çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆ">7 15 15 SaaSé¡¹ç›®çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ç›¸å¯¹äºä¾›åº”å•†çš„ä¼˜åŠ¿">ç›¸å¯¹äºä¾›åº”å•†çš„ä¼˜åŠ¿</h5>
<h5 id="1--ç¨³å¥çš„è¿è¥æ¨¡å¼ç”±åŸæ¥æŠŠä¸»è¦ç²¾åŠ›æ‰¾å®¢æˆ·è½¬å˜ä¸ºç ”å‘æœåŠ¡æ»¡è¶³å®¢">1 ) ç¨³å¥çš„è¿è¥æ¨¡å¼(ç”±åŸæ¥æŠŠä¸»è¦ç²¾åŠ›æ‰¾å®¢æˆ·è½¬å˜ä¸ºç ”å‘æœåŠ¡ï¼Œæ»¡è¶³å®¢</h5>
<h5 id="æˆ·éœ€æ±‚-2--é™ä½ç»´æŠ¤æˆæœ¬ä¼ ç»Ÿçš„é¡¹ç›®æ˜¯ä»¥äº§å“å¼€å‘ä¸ºä¸»ç»´æŠ¤æ˜¯ä¸€å¯¹å¤šçš„æ¨¡">æˆ·éœ€æ±‚ã€‚) 2 ) é™ä½ç»´æŠ¤æˆæœ¬(ä¼ ç»Ÿçš„é¡¹ç›®æ˜¯ä»¥äº§å“å¼€å‘ä¸ºä¸»ï¼Œç»´æŠ¤æ˜¯ä¸€å¯¹å¤šçš„æ¨¡</h5>
<h5 id="å¼ç»å¸¸éœ€è¦è¿ç»´äººå‘˜æ¥å›å¥”æ³¢åœ¨ä¸åŒå®¢æˆ·ä¹‹é—´">å¼ï¼Œç»å¸¸éœ€è¦è¿ç»´äººå‘˜æ¥å›å¥”æ³¢åœ¨ä¸åŒå®¢æˆ·ä¹‹é—´ã€‚)</h5>
<h5 id="3--è½¬å˜é”€å”®æ¨¡å¼">3 ) è½¬å˜é”€å”®æ¨¡å¼</h5>
<h4 id="7-15-16-saasé¡¹ç›®åˆé€‚ä»€ä¹ˆé¡¹ç›®">7 15 16 SaaSé¡¹ç›®åˆé€‚ä»€ä¹ˆé¡¹ç›®ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>é¢å‘ä¸ªäººçš„ SaaS äº§å“ï¼šåœ¨çº¿æ–‡æ¡£ï¼Œè´¦åŠ¡ç®¡ç†ï¼Œæ–‡ä»¶ç®¡ç†ï¼Œæ—¥ç¨‹è®¡åˆ’ã€ç…§ç‰‡
ç®¡ç†ã€è”ç³»äººç®¡ç†ï¼Œç­‰ç­‰äº‘ç±»å‹çš„ æœåŠ¡
é¢å‘ä¼ä¸šçš„ SaaS äº§å“ï¼šCRMï¼ˆå®¢æˆ·å…³ç³»ç®¡ç†ï¼‰ã€ERPï¼ˆä¼ä¸šèµ„æºè®¡åˆ’ç®¡ç†ï¼‰ã€
çº¿ä¸Šè§†é¢‘æˆ–è€…ä¸ç¾¤ç»„é€š è¯ä¼šè®®ã€HRMï¼ˆäººåŠ›èµ„æºç®¡ç†ï¼‰ã€OA(åŠå…¬ç³»ç»Ÿ)ã€å¤–å‹¤
ç®¡ç†ã€è´¢åŠ¡ç®¡ç†ã€å®¡æ‰¹ç®¡ç†ç­‰ã€‚</p>
<h2 id="å…«springbootæ¡†æ¶">å…«.SpringBootæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h2>
<h3 id="8-1-springbootæ˜¯ä»€ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©ä½¿springbootå¼€å‘å¿…ä¼š">8 1 SpringBootæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©ä½¿SpringBootå¼€å‘ï¼Ÿ(å¿…ä¼š)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<pre tabindex="0"><code>SpringBoot è¢«ç§°ä¸ºæ­å»ºç¨‹åºçš„è„šæ‰‹æ¶ã€‚å…¶æœ€ä¸»è¦ä½œç”¨å°±æ˜¯å¸®æˆ‘ä»¬å¿«é€Ÿçš„
</code></pre><p>æ„å»ºåºå¤§çš„springé¡¹ç›®ï¼Œå¹¶ä¸”å°½å¯èƒ½çš„å‡å°‘ä¸€åˆ‡xmlé…ç½®ï¼Œåšåˆ°å¼€ç®±å³ç”¨ï¼Œè¿…
é€Ÿä¸Šæ‰‹ï¼Œè®©æˆ‘ä»¬å…³æ³¨ä¸ä¸šåŠ¡è€Œéé…ç½®ã€‚
ä¼ ç»Ÿçš„Javaè¯­è¨€å¼€å‘ä¸€ç›´è¢«äººè®¤ä¸ºæ˜¯è‡ƒè‚¿å’Œéº»çƒ¦çš„ï¼Œä¸»è¦åŸå› æ˜¯ï¼š <strong>å¤æ‚çš„é…ç½®
å’Œä¸€ä¸ªæ··ä¹±çš„çš„ä¾èµ–ç®¡ç†</strong> ã€‚è€ŒSpringBoot ç®€åŒ–äº†åŸºäºSpringçš„åº”ç”¨å¼€å‘ï¼Œåª
éœ€è¦â€œrunâ€å°±èƒ½åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ã€ç”Ÿäº§çº§åˆ«çš„Springåº”ç”¨ã€‚SpringBootä¸º
Springå¹³å°åŠç¬¬ä¸‰æ–¹åº“æä¾›å¼€ç®±å³ç”¨çš„è®¾ç½®ï¼ˆæä¾›é»˜è®¤è®¾ç½®ï¼Œå­˜æ”¾é»˜è®¤é…ç½®çš„
åŒ…å°±æ˜¯å¯åŠ¨å™¨starterï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç®€å•çš„å¼€å§‹ã€‚å¤šæ•°SpringBootåº”ç”¨
åªéœ€è¦å¾ˆå°‘çš„Springé…ç½®ã€‚</p>
<h3 id="8-2-springbootå¸¸ç”¨çš„starteræœ‰å“ªäº›å¿…ä¼š">8 2 SpringBootå¸¸ç”¨çš„starteræœ‰å“ªäº›ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>1 .spring-boot-starter-web(åµŒå…¥tomcatå’Œwebå¼€å‘éœ€è¦servletä¸jspæ”¯æŒ)
2 .spring-boot-starter-data-jpa(æ•°æ®åº“æ”¯æŒ)
3 .spring-boot-starter-data-Redis(Redisæ•°æ®åº“æ”¯æŒ)
4 .spring-boot-starter-data-solr(solræœç´¢åº”ç”¨æ¡†æ¶æ”¯æŒ)
5 .mybatis-spring-boot-starter(ç¬¬ä¸‰æ–¹çš„mybatisé›†æˆstarter)</p>
<h3 id="8-3-springbootè‡ªåŠ¨é…ç½®çš„åŸç†é«˜è–ªå¸¸é—®">8 3 SpringBootè‡ªåŠ¨é…ç½®çš„åŸç†ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>1 .@EnableAutoConfigurationè¿™ä¸ªæ³¨é‡Šå‘Šè¯‰SpringBootâ€œçŒœâ€ä½ å°†å¦‚ä½•
æƒ³é…ç½®Spring,åŸºäºä½ å·²ç»æ·»åŠ jarä¾èµ–é¡¹ã€‚å¦‚æœspring-boot-starter-webå·²
ç»æ·»åŠ Tomcatå’ŒSpringMVC,è¿™ä¸ªæ³¨é‡Šè‡ªåŠ¨å°†å‡è®¾æ‚¨æ­£åœ¨å¼€å‘ä¸€ä¸ªwebåº”ç”¨
ç¨‹åºå¹¶æ·»åŠ ç›¸åº”çš„springè®¾ç½®ã€‚ä¼šè‡ªåŠ¨å»mavenä¸­è¯»å–æ¯ä¸ªstarterä¸­çš„
spring.factoriesæ–‡ä»¶ è¯¥æ–‡ä»¶é‡Œé…ç½®äº†æ‰€æœ‰éœ€è¦è¢«åˆ›å»ºspringå®¹å™¨ä¸­çš„bean</p>
<p>2 .ä½¿ç”¨@SpringBootApplicationæ³¨è§£ å¯ä»¥è§£å†³æ ¹ç±»æˆ–è€…é…ç½®ç±»ï¼ˆæˆ‘è‡ªå·±
çš„è¯´æ³•ï¼Œå°±æ˜¯mainæ‰€åœ¨ç±»ï¼‰å¤´ä¸Šæ³¨è§£è¿‡å¤šçš„é—®é¢˜ï¼Œä¸€ä¸ª@SpringBootApplic
ationç›¸å½“äº@Configuration,@EnableAutoConfigurationå’Œ@Component
Scanå¹¶å…·æœ‰ä»–ä»¬çš„é»˜è®¤å±æ€§å€¼ã€‚ <strong>Springbootè‡ªåŠ¨è£…é…æ³¨è§£æµç¨‹å¦‚ä¸‹ï¼š</strong></p>
<h3 id="8-4-springbootå¦‚ä½•æ·»åŠ ä¿®æ”¹ä»£ç è‡ªåŠ¨é‡å¯åŠŸèƒ½äº†è§£">8 4 SpringBootå¦‚ä½•æ·»åŠ ã€ä¿®æ”¹ä»£ç ã€‘è‡ªåŠ¨é‡å¯åŠŸèƒ½ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>æ·»åŠ å¼€å‘è€…å·¥å…·é›†=====spring-boot-devtools</p>
<h3 id="8-5-ä»€ä¹ˆæ˜¯springdataå¿…ä¼š">8 5 ä»€ä¹ˆæ˜¯SpringDataï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>SpringDataæ˜¯ä¸€ä¸ªç”¨äºç®€åŒ–æ•°æ®åº“è®¿é—®ï¼Œå¹¶æ”¯æŒäº‘æœåŠ¡çš„å¼€æºæ¡†æ¶ã€‚
ä¸»è¦ç›®æ ‡æ˜¯ä½¿å¾—æ•°æ®åº“çš„è®¿é—®å˜å¾—æ–¹ä¾¿å¿«æ·ï¼Œå¹¶æ”¯æŒmap-reduceæ¡†
æ¶å’Œäº‘è®¡ç®—æœºæ•°æ®æœåŠ¡ã€‚å®ƒæ”¯æŒåŸºäºå…³ç³»å‹æ•°æ®åº“çš„æ•°æ®æœåŠ¡ï¼Œå¦‚OracleRAC
ç­‰ã€‚å¯¹äºæ‹¥æœ‰æµ·é‡æ•°æ®çš„é¡¹ç›®ï¼Œå¯ä»¥ç”¨SpringDataæ¥ç®€åŒ–é¡¹ç›®çš„å¼€å‘ï¼Œå°±å¦‚
SpringFrameworkå¯¹JDBC,ORMçš„æ”¯æŒä¸€æ ·ï¼ŒSpringDataä¼šè®©æ•°æ®è®¿é—®å˜
å¾—æ›´åŠ æ–¹ä¾¿ã€‚</p>
<h3 id="8-6-springbootçš„æ ¸å¿ƒé…ç½®æ–‡æœ‰å“ªå‡ ä¸ªå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆäº†è§£">8 6 SpringBootçš„æ ¸å¿ƒé…ç½®æ–‡æœ‰å“ªå‡ ä¸ªï¼Ÿå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>SpringBoot çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶æ˜¯ <strong>application</strong> å’Œ <strong>bootstrap</strong> é…ç½®æ–‡ä»¶ã€‚
<strong>applicationé…ç½®æ–‡ä»¶</strong> è¿™ä¸ªå®¹æ˜“ç†è§£ï¼Œä¸»è¦ç”¨äº Springboot é¡¹ç›®çš„è‡ªåŠ¨åŒ–é…
ç½®ã€‚
<strong>bootstrapé…ç½®æ–‡ä»¶</strong> æœ‰ä»¥ä¸‹å‡ ä¸ªåº”ç”¨åœºæ™¯ã€‚
ä½¿ç”¨ SpringCloudConfig é…ç½®ä¸­å¿ƒæ—¶SpringBootï¼Œè¿™æ—¶éœ€è¦åœ¨ bootstrap
é…ç½®æ–‡ä»¶ä¸­æ·»åŠ è¿æ¥åˆ°é…ç½®ä¸­å¿ƒçš„é…ç½®å±æ€§æ¥åŠ è½½å¤–éƒ¨é…ç½®ä¸­å¿ƒçš„é…ç½®ä¿¡æ¯ï¼›
ä¸€äº›å›ºå®šçš„ä¸èƒ½è¢«è¦†ç›–çš„å±æ€§ï¼› ä¸€äº›åŠ å¯†/è§£å¯†çš„åœºæ™¯ï¼›</p>
<h3 id="8-7-springbootçš„é…ç½®æ–‡ä»¶æœ‰å“ªå‡ ç§æ ¼å¼å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å¿…ä¼š">8 7 SpringBootçš„é…ç½®æ–‡ä»¶æœ‰å“ªå‡ ç§æ ¼å¼?å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>.properties å’Œ .ymlï¼Œå®ƒä»¬çš„åŒºåˆ«ä¸»è¦æ˜¯ä¹¦å†™æ ¼å¼ä¸åŒã€‚</p>
<p><strong>1 ).properties</strong></p>
<pre tabindex="0"><code>app.user.name=javastack
</code></pre><p><strong>2 ).yml</strong></p>
<pre tabindex="0"><code>app:
user:
name:javastack
</code></pre><p>å¦å¤–ï¼Œ.yml æ ¼å¼ä¸æ”¯æŒ @PropertySource æ³¨è§£å¯¼å…¥é…ç½®ã€‚</p>
<h3 id="8-8-è¿è¡Œspringbootæœ‰å“ªå‡ ç§æ–¹å¼å¿…ä¼š">8 8 è¿è¡ŒSpringBootæœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="1-æ‰“åŒ…ç”¨å‘½ä»¤æˆ–è€…æ”¾åˆ°å®¹å™¨ä¸­è¿è¡Œ">1 ï¼‰æ‰“åŒ…ç”¨å‘½ä»¤æˆ–è€…æ”¾åˆ°å®¹å™¨ä¸­è¿è¡Œ</h5>
<pre tabindex="0"><code>2 ï¼‰ç”¨ Maven/Gradleæ’ä»¶è¿è¡Œ
3 ï¼‰ç›´æ¥æ‰§è¡Œmainæ–¹æ³•è¿è¡Œ
</code></pre><h3 id="8-9-å¦‚ä½•åœ¨springbootå¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç äº†è§£">8 9 å¦‚ä½•åœ¨SpringBootå¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€äº›ç‰¹å®šçš„ä»£ç ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>å¯ä»¥å®ç°æ¥å£ ApplicationRunner æˆ–è€… CommandLineRunnerï¼Œè¿™ä¸¤ä¸ª
æ¥å£å®ç°æ–¹å¼ä¸€æ ·ï¼Œå®ƒä»¬éƒ½åªæä¾›äº†ä¸€ä¸ªrun æ–¹æ³•ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼š
ç¬¬ä¸€ç§æ–¹æ³•å®ç°ApplicationRunneræ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š
pub@licOcvlaesrrsidMeyApplicationRunnerimplementsApplicationRunner{
publicvoidrun(ApplicationArgumentsargs)throwsException{
&ldquo;); System.out.println(&rdquo;##################ApplicationRunner###############
} }</p>
<p>ç¬¬äºŒç§æ–¹æ³•å®ç°CommandLineRunneræ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<p>@Component
pu@bliOcvcelarrsisdMeyCommandLineRunnerimplementsCommandLineRunner{
publicvoidrun(String&hellip;args)throwsException{
******&rdquo;); System.out.println(&rdquo;*************<em><strong><strong><strong><strong><strong><strong><strong>CommandLineRunner</strong></strong></strong></strong></strong></strong></strong></em>
} }</p>
<h3 id="8-10-springbootæœ‰å“ªå‡ ç§è¯»å–é…ç½®çš„æ–¹å¼äº†è§£">8 10 SpringBootæœ‰å“ªå‡ ç§è¯»å–é…ç½®çš„æ–¹å¼ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>SpringBoot è·å–æ–‡ä»¶æ€»çš„æ¥è¯´æœ‰ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ <strong>@Value æ³¨è§£</strong> ï¼Œ
<strong>@ConfigurationPropertiesæ³¨è§£</strong> å’Œ <strong>Environmentæ¥å£</strong> ã€‚è¿™ä¸‰ç§æ³¨è§£å¯ä»¥é…
åˆç€@PropertySourceæ¥ä½¿ç”¨ï¼Œ@PropertySourceä¸»è¦æ˜¯ç”¨æ¥æŒ‡å®šå…·ä½“çš„é…
ç½®æ–‡ä»¶ã€‚
<strong>@PropertySourceè§£æ</strong>
@Target(ElementType.TYPE)@Retention(RetentionPolicy.RUNTIME)@Documented@Repe
atable(ProSpterirntygSnoaumrcee(s).cdleasfasu)pltu&quot;b&quot;l;ic@interfacePropertySource{
String[]value();
bStoroinlegaennicgondoirnegR(e)sdoeufarcueltN&quot;o&quot;t;Found()defaultfalse;
} Class&lt;?extendsPropertySourceFactory&gt;factory()defaultPropertySourceFactory.class;</p>
<p>ï¬ <strong>encoding()ï¼š</strong> æŒ‡å®šç¼–ç ï¼Œå› ä¸ºpropertiesæ–‡ä»¶çš„ç¼–ç é»˜è®¤æ˜¯ios 8859 - 1 ï¼Œ
è¯»å–å‡ºæ¥æ˜¯ä¹±ç ã€‚
ï¬ <strong>factory()ï¼š</strong> è‡ªå®šä¹‰è§£ææ–‡ä»¶ç±»å‹ï¼Œå› ä¸ºè¯¥æ³¨è§£é»˜è®¤åªä¼šåŠ è½½propertiesæ–‡
ä»¶ï¼Œå¦‚æœæƒ³è¦æŒ‡å®šymlç­‰å…¶ä»–æ ¼å¼çš„æ–‡ä»¶éœ€è¦è‡ªå®šä¹‰å®ç°ã€‚</p>
<h4 id="ä¸€valueæ³¨è§£è¯»å–æ–‡ä»¶">ä¸€ã€@Valueæ³¨è§£è¯»å–æ–‡ä»¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>æ–°å»ºä¸¤ä¸ªé…ç½®æ–‡ä»¶config.propertieså’Œconfigs.propertiesï¼Œåˆ†åˆ«å†™å…¥å¦‚ä¸‹å†…
å®¹ï¼š
zzhhbbiinn..ccoonnffiigg..wweebb&ndash;ccoonnffiiggss..nagame=e 2 = 2 Javaæ—…é€”
zzhhbbiinn..ccoonnffiigg..wweebb&ndash;ccoonnffiiggss..nagame=e 1 = 8 Javaæ—…é€”</p>
<p>æ–°å¢ä¸€ä¸ªç±»ç”¨æ¥è¯»å–é…ç½®æ–‡ä»¶</p>
<p>@Configuration
@GePtrPorpoepretrytSieosu{rce(value = {&ldquo;classpath:config.properties&rdquo;},encoding=&ldquo;gbk&rdquo;)public class
@prVivaaltuee(S&quot;t$ri{nzghbnianm.coen;fig.web-configs.name}&rdquo;)
@Value(&quot;${zhbin.config.web-configs.age}&rdquo;)
ppruivbalitceSSttrriinngggaegteC;onfig(){
} returnname+&rdquo;&mdash;&ndash;&quot;+age;
}
å¦‚æœæƒ³è¦è¯»å–ymlæ–‡ä»¶ï¼Œåˆ™æˆ‘ä»¬éœ€è¦é‡å†™DefaultPropertySourceFactoryï¼Œè®©
å…¶åŠ è½½ymlæ–‡ä»¶ï¼Œç„¶ååœ¨æ³¨è§£@PropertySourceä¸Šè‡ªå®šfactoryã€‚ä»£ç å¦‚ä¸‹ï¼š
publicclassYmlConfigFactoryextendsDefaultPropertySourceFactory{
@puObvliecrrPidroepertySource<!-- raw HTML omitted -->createPropertySource(Stringname,EncodedResourceresource)
throwsIOESxtrcienpgtisoonur{ceName=name!=null?name:resource.getResource().getFilename();
if(!resource.getResource().exists()){
}reetlusernifn(esowuPrcroepNearmtiee.sePnrdospWerittyhS(o&rdquo;.uymrcle&rdquo;()s|o|usrocuerNceaNmaem,nee.ewndPsrWopiethrt(i&quot;e.ysa()m);l&rdquo;)){
PrerotuprenrtnieeswpPrrooppeerrttieiessFProrompYearmtySlo=ulrocaed(sYomulr(creesNoaumrcee,);propertiesFromYaml);
}else{
}returnsuper.createPropertySource(name,resource);
}privatePropertiesloadYml(EncodedResourceresource)throwsIOException{
YamlPropertiesFactoryBeanfactory=newYamlPropertiesFactoryBean();
ffaaccttoorryy..saeftteRrePsroouprecretsie(rseSseotu()r;ce.getResource());
} returnfactory.getObject();
}
<a class="link" href="mailto:YmlCon@figPFraocpteorrtyy.cSloaussr" >YmlCon@figPFraocpteorrtyy.cSloaussr</a>)ce(value= {&ldquo;classpath:config.properties&rdquo;},encoding=&ldquo;gbk&rdquo;,factory =</p>
<h4 id="äºŒenvironmentè¯»å–æ–‡ä»¶">äºŒã€Environmentè¯»å–æ–‡ä»¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="é…ç½®æ–‡ä»¶æˆ‘ä»¬ç»§ç»­ç”¨ä¸Šé¢çš„ä¸¤ä¸ªå®šä¹‰ä¸€ä¸ªç±»å»è¯»å–é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶æˆ‘ä»¬ç»§ç»­ç”¨ä¸Šé¢çš„ä¸¤ä¸ªï¼Œå®šä¹‰ä¸€ä¸ªç±»å»è¯»å–é…ç½®æ–‡ä»¶</h5>
<p>@Configuration
@PropertySource(value = {&ldquo;classpath:config.properties&rdquo;},encoding=&ldquo;gbk&rdquo;)public class</p>
<p>GetProperties{
@Autowired
EpnuvbilriocnSmtreinngtgenevtEirnovnCmoennfitg;(){
SSttrriinnggnagamee==enevnirvoirnomnmenetn.gt.egtePtrPorpoepretyrt(y&quot;z(&ldquo;hzbhibn.icno.cnofnigfi.gw.ewbe-bc-ocnofnigfisg.asg.nea&quot;m);e&rdquo;);
returnname+&rdquo;&mdash;&ndash;&quot;+age;
} }</p>
<h4 id="ä¸‰configurationpropertiesè¯»å–é…ç½®æ–‡ä»¶">ä¸‰ã€@ConfigurationPropertiesè¯»å–é…ç½®æ–‡ä»¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>@ConfigurationPropertieså¯ä»¥å°†é…ç½®æ–‡ä»¶ç›´æ¥æ˜ å°„æˆä¸€ä¸ªå®ä½“ç±»ï¼Œç„¶åæˆ‘ä»¬
å¯ä»¥ç›´æ¥æ“ä½œå®ä½“ç±»æ¥è·å–é…ç½®æ–‡ä»¶ç›¸å…³æ•°æ®ã€‚
æ–°å»ºä¸€ä¸ªymlæ–‡ä»¶ï¼Œå½“ç„¶propertiesæ–‡ä»¶ä¹Ÿæ²¡é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š
zhbinc:onfig:
web-ncoanmfeig:sJ:avaæ—…é€”
age: 20
æ–°å»ºå®ä½“ç±»ç”¨æ¥æ˜ å°„è¯¥é…ç½®ï¼š
@@CCoomnfpigounreantitonProperties(prefix=&ldquo;zhbin.config&rdquo;)@DatapublicclassStudentYml{</p>
<p>/p/riwvaetbeCWonefbigCsoåŠ¡nfå¿…igsä¸wé…eç½®bCæ–‡oä»¶nfiç›¸gså¯¹=åº”nï¼Œewå†™Wä¸ºeé©¼bå³°Coå‘½nåfigæ–¹s(å¼);
@Data
publicstaticclassWebConfigs{
pprriivvaatteeSSttrriinnggnaagme;e;
} }
ï¬ prefix=&ldquo;zhbin.config&quot;ç”¨æ¥æŒ‡å®šé…ç½®æ–‡ä»¶å‰ç¼€
å¦‚æœéœ€è¦è·å–listé›†åˆï¼Œåˆ™åšä»¥ä¸‹ä¿®æ”¹å³å¯ã€‚
zhbin:
config:
web&ndash;connafmiges::Javaæ—…é€”</p>
<pre tabindex="0"><code>age: 20
</code></pre><ul>
<li>agnea:m 2 e 0 : 2 Javaæ—…é€” 2</li>
</ul>
<p>@Component
@ConfigurationProperties(prefix=&ldquo;zhbin.config&rdquo;)@DatapublicclassStudentYml{
privateList<!-- raw HTML omitted -->webConfigs=newArrayList&lt;&gt;();
@Data
publicstaticclassWebConfigs{
pprriivvaatteeSSttrriinnggnaagme;e;
}
}
ï¬ <strong>æ·»åŠ æ—¥å¿—ä¾èµ–</strong></p>
<p>å‡å¦‚mavenä¾èµ–ä¸­æ·»åŠ äº†spring-boot-starter-loggingï¼š</p>
<h5 id="-çº§åˆ«æ§åˆ¶">ï¬ çº§åˆ«æ§åˆ¶</h5>
<p>æ‰€æœ‰æ”¯æŒçš„æ—¥å¿—è®°å½•ç³»ç»Ÿéƒ½å¯ä»¥åœ¨Springç¯å¢ƒä¸­è®¾ç½®è®°å½•çº§åˆ«ï¼ˆä¾‹å¦‚
åœ¨application.propertiesä¸­ï¼‰
æ ¼å¼ä¸ºï¼š&rsquo;logging.level.*=LEVEL&rsquo;
logging.levelï¼šæ—¥å¿—çº§åˆ«æ§åˆ¶å‰ç¼€ï¼Œ*ä¸ºåŒ…åæˆ–Loggerå
LEVELï¼šé€‰é¡¹TRACE,DEBUG,INFO,WARN,ERROR,FATAL,OFF
ä¸¾ä¾‹ï¼š
logging.level.com.dudu=DEBUGï¼šcom.dudu åŒ…ä¸‹æ‰€æœ‰ class ä»¥</p>
<h5 id="debugçº§åˆ«è¾“å‡º">DEBUGçº§åˆ«è¾“å‡º</h5>
<p>logging.level.root=WARNï¼šrootæ—¥å¿—ä»¥WARNçº§åˆ«è¾“å‡º
ï¬ <strong>è‡ªå®šä¹‰æ—¥å¿—é…ç½®</strong>
ç”±äºæ—¥å¿—æœåŠ¡ä¸€èˆ¬éƒ½åœ¨ApplicationContextåˆ›å»ºå‰å°±åˆå§‹åŒ–äº†ï¼Œå®ƒå¹¶
ä¸æ˜¯å¿…é¡»é€šè¿‡Springçš„é…ç½®æ–‡ä»¶æ§åˆ¶ã€‚å› æ­¤é€šè¿‡ç³»ç»Ÿå±æ€§å’Œä¼ ç»Ÿçš„Spring
Bootå¤–éƒ¨é…ç½®æ–‡ä»¶ä¾ç„¶å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæ—¥å¿—æ§åˆ¶å’Œç®¡ç†ã€‚
æ ¹æ®ä¸åŒçš„æ—¥å¿—ç³»ç»Ÿï¼Œä½ å¯ä»¥æŒ‰å¦‚ä¸‹è§„åˆ™ç»„ç»‡é…ç½®æ–‡ä»¶åï¼Œå°±èƒ½è¢«æ­£ç¡®
åŠ è½½ï¼š
Logbackï¼šlogback-spring.xml,logback-spring.groovy,logback.xml,
logback.groovy
Log 4 jï¼šlog 4 j-spring.properties,log 4 j-spring.xml,log 4 j.properties,
log 4 j.xml
Log 4 j 2 ï¼šlog 4 j 2 - spring.xml,log 4 j 2 .xml
JDK(JavaUtilLogging)ï¼šlogging.properties
SpringBootå®˜æ–¹æ¨èä¼˜å…ˆä½¿ç”¨å¸¦æœ‰-springçš„æ–‡ä»¶åä½œä¸ºä½ çš„æ—¥å¿—é…
ç½®ï¼ˆå¦‚ä½¿ç”¨ logback-spring.xmlï¼Œè€Œä¸æ˜¯ logback.xmlï¼‰ï¼Œå‘½åä¸º
logback-spring.xmlçš„æ—¥å¿—é…ç½®æ–‡ä»¶ï¼Œspringbootå¯ä»¥ä¸ºå®ƒæ·»åŠ ä¸€äº›spring
bootç‰¹æœ‰çš„é…ç½®é¡¹ï¼ˆä¸‹é¢ä¼šæåˆ°ï¼‰ã€‚</p>
<h3 id="8-11-springbootæ”¯æŒå“ªäº›æ—¥å¿—æ¡†æ¶æ¨èå’Œé»˜è®¤çš„æ—¥å¿—æ¡†æ¶æ˜¯å“ªä¸ªå¿…ä¼š">8 11 SpringBootæ”¯æŒå“ªäº›æ—¥å¿—æ¡†æ¶ï¼Ÿæ¨èå’Œé»˜è®¤çš„æ—¥å¿—æ¡†æ¶æ˜¯å“ªä¸ªï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;..</h3>
<p>SpringBootåœ¨æ‰€æœ‰å†…éƒ¨æ—¥å¿—ä¸­ä½¿ç”¨CommonsLoggingï¼Œä½†æ˜¯é»˜è®¤é…ç½®
ä¹Ÿæä¾›äº†å¯¹å¸¸ç”¨æ—¥å¿—çš„æ”¯æŒï¼Œå¦‚ï¼šJavaUtilLoggingï¼ŒLog 4 J,Log 4 J 2 å’Œ
Logbackã€‚æ¯ç§Loggeréƒ½å¯ä»¥é€šè¿‡é…ç½®ä½¿ç”¨æ§åˆ¶å°æˆ–è€…æ–‡ä»¶è¾“å‡ºæ—¥å¿—å†…å®¹ã€‚
ï¬ <strong>é»˜è®¤æ—¥å¿—Logback</strong>
SLF 4 Jâ€”â€”SimpleLoggingFacadeForJavaï¼Œå®ƒæ˜¯ä¸€ä¸ªé’ˆå¯¹äºå„ç±»
Javaæ—¥å¿—æ¡†æ¶çš„ç»Ÿä¸€FacadeæŠ½è±¡ã€‚Javaæ—¥å¿—æ¡†æ¶ä¼—å¤šâ€”â€”å¸¸ç”¨çš„æœ‰
java.util.logging,log 4 j,logbackï¼Œcommons-logging,Springæ¡†æ¶ä½¿ç”¨çš„æ˜¯
JakartaCommonsLoggingAPI(JCL)ã€‚è€ŒSLF 4 Jå®šä¹‰äº†ç»Ÿä¸€çš„æ—¥å¿—æŠ½è±¡æ¥å£ï¼Œ
è€ŒçœŸæ­£çš„æ—¥å¿—å®ç°åˆ™æ˜¯åœ¨è¿è¡Œæ—¶å†³å®šçš„â€”â€”å®ƒæä¾›äº†å„ç±»æ—¥å¿—æ¡†æ¶çš„bindingã€‚
Logbackæ˜¯log 4 jæ¡†æ¶çš„ä½œè€…å¼€å‘çš„æ–°ä¸€ä»£æ—¥å¿—æ¡†æ¶ï¼Œå®ƒæ•ˆç‡æ›´é«˜ã€èƒ½
å¤Ÿé€‚åº”è¯¸å¤šçš„è¿è¡Œç¯å¢ƒï¼ŒåŒæ—¶å¤©ç„¶æ”¯æŒSLF 4 Jã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpringBootä¼šç”¨Logbackæ¥è®°å½•æ—¥å¿—ï¼Œå¹¶ç”¨INFOçº§åˆ«
è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚åœ¨è¿è¡Œåº”ç”¨ç¨‹åºå’Œå…¶ä»–ä¾‹å­æ—¶ï¼Œä½ åº”è¯¥å·²ç»çœ‹åˆ°å¾ˆå¤šINFOçº§åˆ«
çš„æ—¥å¿—äº†ã€‚</p>
<h3 id="8-12-springbootå®ç°çƒ­éƒ¨ç½²æœ‰å“ªå‡ ç§æ–¹å¼å¿…ä¼š">8 12 SpringBootå®ç°çƒ­éƒ¨ç½²æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h4 id="1-æ¨¡æ¿çƒ­éƒ¨ç½²">1 ã€æ¨¡æ¿çƒ­éƒ¨ç½²&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>åœ¨SpringBootä¸­ï¼Œæ¨¡æ¿å¼•æ“çš„é¡µé¢é»˜è®¤æ˜¯å¼€å¯ç¼“å­˜çš„ï¼Œå¦‚æœä¿®æ”¹äº†é¡µ
é¢çš„å†…å®¹ï¼Œåˆ™åˆ·æ–°é¡µé¢æ˜¯å¾—ä¸åˆ°ä¿®æ”¹åçš„é¡µé¢çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨
application.propertiesä¸­å…³é—­æ¨¡ç‰ˆå¼•æ“çš„ç¼“å­˜ï¼Œå¦‚ä¸‹ï¼š</p>
<p><strong>Thymeleafçš„é…ç½®ï¼š</strong>
spring.thymeleaf.cache=false
<strong>FreeMarkerçš„é…ç½®ï¼š</strong>
spring.freemarker.cache=false
<strong>Groovyçš„é…ç½®ï¼š</strong>
spring.groovy.template.cache=false
<strong>Velocityçš„é…ç½®ï¼š</strong>
spring.velocity.cache=false</p>
<h4 id="2-ä½¿ç”¨è°ƒè¯•æ¨¡å¼debugå®ç°çƒ­éƒ¨ç½²">2 ã€ä½¿ç”¨è°ƒè¯•æ¨¡å¼Debugå®ç°çƒ­éƒ¨ç½²&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>æ­¤ç§æ–¹å¼ä¸ºæœ€ç®€å•æœ€å¿«é€Ÿçš„ä¸€ç§çƒ­éƒ¨ç½²æ–¹å¼ï¼Œè¿è¡Œç³»ç»Ÿæ—¶ä½¿ç”¨Debug
æ¨¡å¼ï¼Œæ— éœ€è£…ä»»ä½•æ’ä»¶å³å¯ï¼Œä½†æ˜¯æ— å‘å¯¹é…ç½®æ–‡ä»¶ï¼Œæ–¹æ³•åç§°æ”¹å˜ï¼Œå¢åŠ ç±»åŠæ–¹
æ³•è¿›è¡Œçƒ­éƒ¨ç½²ï¼Œä½¿ç”¨èŒƒå›´æœ‰é™ã€‚</p>
<h4 id="3-spring-boot-devtools">3 ã€spring-boot-devtools&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p>åœ¨SpringBoot é¡¹ç›®ä¸­æ·»åŠ  spring-boot-devtoolsä¾èµ–å³å¯å®ç°é¡µé¢
å’Œä»£ç çš„çƒ­éƒ¨ç½²ã€‚å¦‚ä¸‹ï¼š
<!-- raw HTML omitted -->
&laquo;garrtoiufapcItdId&raquo;osrpgr.sinpgri-nbgofroatm-deewvtoorokl.sb&lt;o/oatr&lt;ti/fgarcotIudp&gt;Id&gt;
<!-- raw HTML omitted -->
æ­¤ç§æ–¹å¼çš„ç‰¹ç‚¹æ˜¯ä½œç”¨èŒƒå›´å¹¿ï¼Œç³»ç»Ÿçš„ä»»ä½•å˜åŠ¨åŒ…æ‹¬é…ç½®æ–‡ä»¶ä¿®æ”¹ã€æ–¹
æ³•åç§°å˜åŒ–éƒ½èƒ½è¦†ç›–ï¼Œä½†æ˜¯åé—ç—‡ä¹Ÿéå¸¸æ˜æ˜¾ï¼Œå®ƒæ˜¯é‡‡ç”¨æ–‡ä»¶å˜åŒ–åé‡å¯çš„ç­–ç•¥
æ¥å®ç°äº†ï¼Œä¸»è¦æ˜¯èŠ‚çœäº†æˆ‘ä»¬æ‰‹åŠ¨ç‚¹å‡»é‡å¯çš„æ—¶é—´ï¼Œæé«˜äº†å®æ•ˆæ€§ï¼Œåœ¨ä½“éªŒä¸Šå›
ç¨å·®ã€‚
spring-boot-devtools é»˜è®¤å…³é—­äº†æ¨¡ç‰ˆç¼“å­˜ï¼Œå¦‚æœä½¿ç”¨è¿™ç§æ–¹å¼ä¸ç”¨</p>
<h5 id="å•ç‹¬é…ç½®å…³é—­æ¨¡ç‰ˆç¼“å­˜">å•ç‹¬é…ç½®å…³é—­æ¨¡ç‰ˆç¼“å­˜ã€‚</h5>
<h4 id="4-springloaded">4 ã€SpringLoaded&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>æ­¤ç§æ–¹å¼ä¸Debugæ¨¡å¼ç±»ä¼¼ï¼Œé€‚ç”¨èŒƒå›´æœ‰é™ï¼Œä½†æ˜¯ä¸ä¾èµ–äºDebugæ¨¡
å¼å¯åŠ¨ï¼Œé€šè¿‡SpringLoadedåº“æ–‡ä»¶å¯åŠ¨ï¼Œå³å¯åœ¨æ­£å¸¸æ¨¡å¼ä¸‹è¿›è¡Œå®æ—¶çƒ­éƒ¨ç½²ã€‚
æ­¤ç§éœ€è¦åœ¨ runconfrgration ä¸­è¿›è¡Œé…ç½®ã€‚</p>
<h4 id="5-jrebel">5 ã€JRebel&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>Jrebelæ˜¯Javaå¼€å‘æœ€å¥½çš„çƒ­éƒ¨ç½²å·¥å…·ï¼Œå¯¹SpringBoot æä¾›äº†æä½³çš„
æ”¯æŒï¼ŒJRebelä¸ºæ”¶è´¹è½¯ä»¶ï¼Œè¯•ç”¨æœŸ 14 å¤©ã€‚å¯ç›´æ¥é€šè¿‡æ’ä»¶å®‰è£…ã€‚</p>
<h3 id="8-13-ä½ å¦‚ä½•ç†è§£springbooté…ç½®åŠ è½½é¡ºåºäº†è§£">8 13 ä½ å¦‚ä½•ç†è§£SpringBooté…ç½®åŠ è½½é¡ºåºï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>åœ¨ SpringBoot é‡Œé¢ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥åŠ è½½é…ç½®ã€‚
1 ï¼‰propertiesæ–‡ä»¶ï¼›
2 ï¼‰YAMLæ–‡ä»¶ï¼›
3 ï¼‰ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼›
4 ï¼‰å‘½ä»¤è¡Œå‚æ•°ï¼› ç­‰ç­‰&hellip;&hellip;
æˆ‘ä»¬å¯ä»¥åœ¨ SpringBeans é‡Œé¢ç›´æ¥ä½¿ç”¨è¿™äº›é…ç½®æ–‡ä»¶ä¸­åŠ è½½çš„å€¼ï¼Œå¦‚ï¼š
1 ã€ä½¿ç”¨ @Value æ³¨è§£ç›´æ¥æ³¨å…¥å¯¹åº”çš„å€¼ï¼Œè¿™èƒ½è·å–åˆ° Spring ä¸­
Environment çš„å€¼ï¼›
2 ã€ä½¿ç”¨ @ConfigurationProperties æ³¨è§£æŠŠå¯¹åº”çš„å€¼ç»‘å®šåˆ°ä¸€ä¸ªå¯¹è±¡ï¼›
3 ã€ç›´æ¥è·å–æ³¨å…¥ Environment è¿›è¡Œè·å–ï¼›</p>
<h3 id="8-14-springbootå¦‚ä½•å®šä¹‰å¤šå¥—ä¸åŒç¯å¢ƒé…ç½®é«˜è–ªå¸¸é—®">8 14 SpringBootå¦‚ä½•å®šä¹‰å¤šå¥—ä¸åŒç¯å¢ƒé…ç½®ï¼Ÿï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¤šå¥—ä¸åŒç¯å¢ƒ(developmentã€testã€production)é…ç½®ï¼Œæˆ‘ä»¬åŸºäº
SpringBootçš„Profilesæ¥å®ç°ã€‚
<strong>profileé…ç½®æ–¹å¼æœ‰ä¸¤ç§ï¼š</strong>
Â·å¤šprofileæ–‡ä»¶æ–¹å¼ï¼šæä¾›å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¯ä¸ªä»£è¡¨ä¸€ç§ç¯å¢ƒã€‚
Â·application-dev.properties/yml å¼€å‘ç¯å¢ƒ
Â·application-test.properties/yml æµ‹è¯•ç¯å¢ƒ
Â·application-pro.properties/yml ç”Ÿäº§ç¯å¢ƒ
Â·ymlå¤šæ–‡æ¡£æ–¹å¼ï¼šåœ¨ymlä¸­ä½¿ç”¨ &mdash; åˆ†éš”ä¸åŒé…ç½®
<strong>profileæ¿€æ´»ä¸‰ç§æ–¹å¼ï¼š</strong>
Â·é…ç½®æ–‡ä»¶ï¼š å†é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼šspring.profiles.active=dev
Â·è™šæ‹Ÿæœºå‚æ•°ï¼šåœ¨VMoptions æŒ‡å®šï¼š-Dspring.profiles.active=dev
Â·å‘½ä»¤è¡Œå‚æ•°ï¼šjavaâ€“jarxxx.jar&ndash;spring.profiles.active=dev
ä½†æ˜¯è€ƒè™‘åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œç”Ÿäº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶çš„å®‰å…¨æ€§ï¼Œæ˜¾ç„¶æˆ‘ä»¬ä¸èƒ½ï¼Œ
ä¹Ÿä¸åº”è¯¥æŠŠç”Ÿäº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶æ”¾åˆ°é¡¹ç›®ä»“åº“Gitä¸­ï¼Œè¿›è¡Œç®¡ç†ã€‚ä¸€èˆ¬æˆ‘ä»¬å°†ç”Ÿ
äº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶æ”¾åˆ°ç”Ÿäº§ç¯å¢ƒçš„æœåŠ¡å™¨ä¸­ï¼Œä»¥å›ºå®šå‘½ä»¤æ‰§è¡Œå¯åŠ¨ï¼š
java -jar myboot.jar</p>
<ul>
<li>-spring.config.location=/xx/yy/xx/application-prod.propertiesã€‚æˆ–è€…ï¼Œä½¿
ç”¨Jenkinsåœ¨æ‰§è¡Œæ‰“åŒ…ï¼Œé…ç½®ä¸ŠmavenprofileåŠŸèƒ½ï¼Œä½¿ç”¨æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ã€‚
æœ€åä¸€ç§æ–¹å¼ï¼Œä½¿ç”¨é…ç½®ä¸­å¿ƒç®¡ç†é…ç½®æ–‡ä»¶;</li>
</ul>
<h3 id="8-15-springbootå¯ä»¥å…¼å®¹è€springé¡¹ç›®å—å¦‚ä½•åšäº†è§£">8 15 SpringBootå¯ä»¥å…¼å®¹è€Springé¡¹ç›®å—ï¼Œå¦‚ä½•åšï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<pre tabindex="0"><code>å¯ä»¥å…¼å®¹ï¼Œä½¿ç”¨ @ImportResource æ³¨è§£å¯¼å…¥è€Spring é¡¹ç›®é…ç½®æ–‡ä»¶ã€‚
</code></pre><h3 id="8-16-ä¿æŠ¤springbootåº”ç”¨æœ‰å“ªäº›æ–¹æ³•äº†è§£">8 16 ä¿æŠ¤SpringBootåº”ç”¨æœ‰å“ªäº›æ–¹æ³•ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h4 id="1-åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨https">1 .åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨HTTPS&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="ä¼ è¾“å±‚å®‰å…¨æ€§tlsæ˜¯httpsçš„å®˜æ–¹åç§°ä½ å¯èƒ½å¬è¯´è¿‡å®ƒç§°ä¸ºsslå®‰">ä¼ è¾“å±‚å®‰å…¨æ€§ï¼ˆTLSï¼‰æ˜¯HTTPSçš„å®˜æ–¹åç§°ï¼Œä½ å¯èƒ½å¬è¯´è¿‡å®ƒç§°ä¸ºSSLï¼ˆå®‰</h5>
<h5 id="å…¨å¥—æ¥å­—å±‚sslæ˜¯å·²å¼ƒç”¨çš„åç§°tlsæ˜¯ä¸€ç§åŠ å¯†åè®®å¯é€šè¿‡è®¡ç®—æœºç½‘ç»œ">å…¨å¥—æ¥å­—å±‚ï¼‰ï¼ŒSSLæ˜¯å·²å¼ƒç”¨çš„åç§°ï¼ŒTLSæ˜¯ä¸€ç§åŠ å¯†åè®®ï¼Œå¯é€šè¿‡è®¡ç®—æœºç½‘ç»œ</h5>
<h5 id="æä¾›å®‰å…¨é€šä¿¡å…¶ä¸»è¦ç›®æ ‡æ˜¯ç¡®ä¿è®¡ç®—æœºåº”ç”¨ç¨‹åºä¹‹é—´çš„éšç§å’Œæ•°æ®å®Œæ•´æ€§">æä¾›å®‰å…¨é€šä¿¡ã€‚å…¶ä¸»è¦ç›®æ ‡æ˜¯ç¡®ä¿è®¡ç®—æœºåº”ç”¨ç¨‹åºä¹‹é—´çš„éšç§å’Œæ•°æ®å®Œæ•´æ€§ã€‚</h5>
<h5 id="è¿‡å»tlssslè¯ä¹¦å¾ˆæ˜‚è´µè€Œä¸”httpsè¢«è®¤ä¸ºå¾ˆæ…¢ç°åœ¨æœºå™¨å˜å¾—æ›´">è¿‡å»ï¼ŒTLS/SSLè¯ä¹¦å¾ˆæ˜‚è´µï¼Œè€Œä¸”HTTPSè¢«è®¤ä¸ºå¾ˆæ…¢ï¼Œç°åœ¨æœºå™¨å˜å¾—æ›´</h5>
<p>å¿«ï¼Œå·²ç»è§£å†³äº†æ€§èƒ½é—®é¢˜ï¼ŒLet&rsquo;sEncryptæä¾›å…è´¹çš„TLSè¯ä¹¦,è¿™ä¸¤é¡¹å‘å±•æ”¹å˜
äº†æ¸¸æˆï¼Œå¹¶ä½¿TLSæˆä¸ºä¸»æµã€‚</p>
<h4 id="2-ä½¿ç”¨snykæ£€æŸ¥ä½ çš„ä¾èµ–å…³ç³»">2 .ä½¿ç”¨Snykæ£€æŸ¥ä½ çš„ä¾èµ–å…³ç³»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ä½ å¾ˆå¯èƒ½ä¸çŸ¥é“åº”ç”¨ç¨‹åºä½¿ç”¨äº†å¤šå°‘ç›´æ¥ä¾èµ–é¡¹è¿™é€šå¸¸æ˜¯æ­£ç¡®çš„å°½ç®¡ä¾">ä½ å¾ˆå¯èƒ½ä¸çŸ¥é“åº”ç”¨ç¨‹åºä½¿ç”¨äº†å¤šå°‘ç›´æ¥ä¾èµ–é¡¹ï¼Œè¿™é€šå¸¸æ˜¯æ­£ç¡®çš„ï¼Œå°½ç®¡ä¾</h5>
<h5 id="èµ–æ€§æ„æˆäº†æ•´ä¸ªåº”ç”¨ç¨‹åºçš„å¤§éƒ¨åˆ†æ”»å‡»è€…è¶Šæ¥è¶Šå¤šåœ°é’ˆå¯¹å¼€æºä¾èµ–é¡¹å› ä¸ºå®ƒ">èµ–æ€§æ„æˆäº†æ•´ä¸ªåº”ç”¨ç¨‹åºçš„å¤§éƒ¨åˆ†ã€‚æ”»å‡»è€…è¶Šæ¥è¶Šå¤šåœ°é’ˆå¯¹å¼€æºä¾èµ–é¡¹ï¼Œå› ä¸ºå®ƒ</h5>
<h5 id="ä»¬çš„é‡ç”¨ä¸ºæ¶æ„é»‘å®¢æä¾›äº†è®¸å¤šå—å®³è€…ç¡®ä¿åº”ç”¨ç¨‹åºçš„æ•´ä¸ªä¾èµ–å…³ç³»æ ‘ä¸­æ²¡æœ‰">ä»¬çš„é‡ç”¨ä¸ºæ¶æ„é»‘å®¢æä¾›äº†è®¸å¤šå—å®³è€…ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„æ•´ä¸ªä¾èµ–å…³ç³»æ ‘ä¸­æ²¡æœ‰</h5>
<h5 id="å·²çŸ¥çš„æ¼æ´éå¸¸é‡è¦">å·²çŸ¥çš„æ¼æ´éå¸¸é‡è¦ã€‚</h5>
<p>Snykæµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºæ„å»ºåŒ…ï¼Œæ ‡è®°é‚£äº›å·²çŸ¥æ¼æ´çš„ä¾èµ–é¡¹ã€‚å®ƒåœ¨ä»ªè¡¨æ¿
åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„è½¯ä»¶åŒ…ä¸­å­˜åœ¨çš„æ¼æ´åˆ—è¡¨ã€‚
æ­¤å¤–ï¼Œå®ƒè¿˜å°†å»ºè®®å‡çº§çš„ç‰ˆæœ¬æˆ–æä¾›è¡¥ä¸ï¼Œå¹¶æä¾›é’ˆå¯¹æºä»£ç å­˜å‚¨åº“çš„æ‹‰å–
è¯·æ±‚æ¥ä¿®å¤æ‚¨çš„å®‰å…¨é—®é¢˜ã€‚Snykè¿˜ç¡®ä¿åœ¨ä½ çš„å­˜å‚¨åº“ä¸Šæäº¤çš„ä»»ä½•æ‹‰å–è¯·æ±‚ï¼ˆé€š
è¿‡webhooksï¼‰æ—¶éƒ½æ˜¯é€šè¿‡è‡ªåŠ¨æµ‹è¯•çš„ï¼Œä»¥ç¡®ä¿å®ƒä»¬ä¸ä¼šå¼•å…¥æ–°çš„å·²çŸ¥æ¼æ´ã€‚</p>
<h4 id="3-å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬">3 .å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="å®šæœŸå‡çº§åº”ç”¨ç¨‹åºä¸­çš„ä¾èµ–é¡¹æœ‰å¤šç§åŸå› å®‰å…¨æ€§æ˜¯è®©æ‚¨æœ‰å‡çº§åŠ¨åŠ›çš„æœ€é‡">å®šæœŸå‡çº§åº”ç”¨ç¨‹åºä¸­çš„ä¾èµ–é¡¹æœ‰å¤šç§åŸå› ã€‚å®‰å…¨æ€§æ˜¯è®©æ‚¨æœ‰å‡çº§åŠ¨åŠ›çš„æœ€é‡</h5>
<p>è¦åŸå› ä¹‹ä¸€ã€‚è¯¥start.spring.ioèµ·å§‹é¡µé¢é‡‡ç”¨äº†æœ€æ–°çš„æ˜¥å­£ç‰ˆæœ¬çš„è½¯ä»¶åŒ…ï¼Œä»¥åŠ
ä¾èµ–å…³ç³»ï¼Œåœ¨å¯èƒ½çš„æƒ…å†µã€‚
åŸºç¡€æ¶æ„å‡çº§é€šå¸¸ä¸å¦‚ä¾èµ–é¡¹å‡çº§å…·æœ‰ç ´åæ€§ï¼Œå› ä¸ºåº“ä½œè€…å¯¹å‘åå…¼å®¹æ€§å’Œ
ç‰ˆæœ¬ä¹‹é—´çš„è¡Œä¸ºæ›´æ”¹çš„æ•æ„Ÿæ€§å„ä¸ç›¸åŒã€‚è¯è™½å¦‚æ­¤ï¼Œå½“ä½ åœ¨é…ç½®ä¸­å‘ç°å®‰å…¨æ¼æ´
æ—¶ï¼Œæ‚¨æœ‰ä¸‰ç§é€‰æ‹©ï¼šå‡çº§ï¼Œä¿®è¡¥ç¨‹åºæˆ–å¿½ç•¥ã€‚</p>
<h3 id="8-17-springboot-2-x-æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ä¸-1-xæœ‰ä»€ä¹ˆåŒºåˆ«äº†è§£">8 17 SpringBoot 2 .X æœ‰ä»€ä¹ˆæ–°ç‰¹æ€§ï¼Ÿä¸ 1 .Xæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>SpringBoot 2. 0 éœ€è¦Java 8 ä½œä¸ºæœ€ä½ç‰ˆæœ¬ã€‚è®¸å¤šç°æœ‰çš„APIå·²ç»æ›´æ–°ï¼Œ
ä»¥åˆ©ç”¨Java 8 çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šæ¥å£ä¸Šçš„é»˜è®¤æ–¹æ³•ï¼ŒåŠŸèƒ½å›è°ƒå’Œæ–°çš„APIï¼Œå¦‚
javax.timeã€‚å¦‚æœæ‚¨å½“å‰ä½¿ç”¨çš„æ˜¯Java 7 æˆ–æ›´æ—©ç‰ˆæœ¬ï¼Œé‚£ä¹ˆåœ¨å¼€å‘SpringBoot
2. 0 åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæ‚¨éœ€è¦å‡çº§JDKã€‚
SpringBoot 2. 0 ä¹Ÿè¿è¡Œè‰¯å¥½ï¼Œå¹¶ä¸”å·²ç»è¿‡JDK 9 çš„æµ‹è¯•ã€‚æˆ‘ä»¬æ‰€æœ‰çš„
jaréƒ½åœ¨æ¨¡å—ç³»ç»Ÿå…¼å®¹æ€§çš„æ¸…å•ä¸­é™„å¸¦è‡ªåŠ¨æ¨¡å—åç§°æ¡ç›®ã€‚</p>
<h5 id="-é…ç½®å˜æ›´">ï¬ é…ç½®å˜æ›´</h5>
<p>åœ¨ 2 .x ä¸­åºŸé™¤äº†ä¸€äº› 1 .x ä¸­çš„é…ç½®ï¼Œå¹¶å¢åŠ äº†è®¸å¤šæ–°é…ç½®ï¼Œ
ï¬ <strong>ä¾èµ– JDK ç‰ˆæœ¬å‡çº§</strong>
2 .x è‡³å°‘éœ€è¦ JDK 8 çš„æ”¯æŒï¼Œ 2 .x é‡Œé¢çš„è®¸å¤šæ–¹æ³•åº”ç”¨äº† JDK 8 çš„è®¸å¤šé«˜
çº§æ–°ç‰¹æ€§ï¼Œæ‰€ä»¥ä½ è¦å‡çº§åˆ° 2. 0 ç‰ˆæœ¬ï¼Œå…ˆç¡®è®¤ä½ çš„åº”ç”¨å¿…é¡»å…¼å®¹ JDK 8 ã€‚å¦å¤–ï¼Œ</p>
<p>2 .x å¼€å§‹äº†å¯¹ JDK 9 çš„æ”¯æŒã€‚
ï¬ <strong>ç¬¬ä¸‰æ–¹ç±»åº“å‡çº§</strong>
2 .x å¯¹ç¬¬ä¸‰æ–¹ç±»åº“å‡çº§äº†æ‰€æœ‰èƒ½å‡çº§çš„ç¨³å®šç‰ˆæœ¬ï¼Œä¸€äº›å€¼å¾—å…³æ³¨çš„ç±»åº“å‡
çº§æˆ‘ç»™åˆ—å‡ºæ¥äº†ã€‚
1 )SpringFramework 5 +
2 )Tomcat 8. 5 +
3 )Flyway 5 +
4 )Hibernate 5. 2 +
5 )Thymeleaf 3 +</p>
<p>ï¬ <strong>é…ç½®å±æ€§ç»‘å®š</strong></p>
<p>åœ¨ 1 .x ä¸­ï¼Œé…ç½®ç»‘å®šæ˜¯é€šè¿‡æ³¨è§£ @ConfigurationPropertiesæ¥æ³¨å…¥
åˆ° Springç¯å¢ƒå˜é‡ä¸­çš„ã€‚</p>
<p>åœ¨ 2 .x ä¸­ï¼Œé…ç½®ç»‘å®šåŠŸèƒ½æœ‰äº†äº›çš„æ”¹é€ ï¼Œåœ¨è°ƒæ•´äº† 1 .x ä¸­è®¸å¤šä¸ä¸€è‡´
åœ°æ–¹ä¹‹å¤–ï¼Œè¿˜æä¾›äº†ç‹¬ç«‹äºæ³¨è§£ä¹‹å¤–çš„ APIæ¥è£…é…é…ç½®å±æ€§ã€‚å¹¶å¢åŠ äº†å±æ€§æ¥
æºï¼Œè¿™æ ·ä½ å°±èƒ½çŸ¥é“è¿™äº›å±æ€§æ˜¯ä»å“ªä¸ªé…ç½®æ–‡ä»¶ä¸­åŠ è½½è¿›æ¥çš„ã€‚</p>
<h2 id="ä¹springcloudæ¡†æ¶">ä¹.SpringCloudæ¡†æ¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h2>
<h3 id="9-1-ä»€ä¹ˆæ˜¯springcloudæ¡†æ¶å¿…ä¼š">9 1 ä»€ä¹ˆæ˜¯SpringCloudæ¡†æ¶ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>SpringCloud æ˜¯ä¸€ç³»åˆ—æ¡†æ¶çš„æœ‰åºé›†åˆï¼Œå®ƒåˆ©ç”¨ SpringBoot çš„å¼€å‘ä¾¿åˆ©æ€§
ç®€åŒ–äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼€å‘ï¼Œæ¯”å¦‚æœåŠ¡å‘ç°.æœåŠ¡ç½‘å…³.æœåŠ¡è·¯ç”±.é“¾è·¯è¿½è¸ªç­‰ã€‚å…¶è®¾</strong></p>
<p><strong>è®¡ç›®çš„æ˜¯ä¸ºäº†ç®€åŒ– Spring åº”ç”¨çš„æ­å»ºå’Œå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶éµå¾ªâ€œçº¦å®šå¤§äºé…
ç½®â€åŸåˆ™ï¼Œé‡‡ç”¨ç‰¹å®šçš„æ–¹å¼è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘è€…æ— éœ€å®šä¹‰å¤§é‡çš„ XMLé…
ç½®</strong> ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpringBoot è‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸæˆä¸ºé¢†
å¯¼è€…ã€‚SpringCloudå¹¶ä¸é‡å¤é€ è½®å­ï¼Œè€Œæ˜¯å°†å¸‚é¢ä¸Šå¼€å‘å¾—æ¯”è¾ƒå¥½çš„æ¨¡å—é›†æˆ
è¿›å»ï¼Œè¿›è¡Œå°è£…ï¼Œä»è€Œå‡å°‘äº†å„æ¨¡å—çš„å¼€å‘æˆæœ¬ã€‚æ¢å¥è¯è¯´ï¼šSpringcloud æ
ä¾›äº†æ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿæ‰€éœ€çš„â€œå…¨å®¶æ¡¶â€ã€‚æ ¸å¿ƒç»„ä»¶å¦‚ä¸‹ï¼š
<strong>Eureka</strong> ï¼šå„ä¸ªæœåŠ¡å¯åŠ¨æ—¶ï¼ŒEurekaClientéƒ½ä¼šå°†æœåŠ¡æ³¨å†Œåˆ°Eureka
Serverï¼Œå¹¶ä¸”EurekaClientè¿˜å¯ä»¥åè¿‡æ¥ä»EurekaServeræ‹‰å–æ³¨å†Œè¡¨ï¼Œ
ä»è€ŒçŸ¥é“å…¶ä»–æœåŠ¡åœ¨å“ªé‡Œ
<strong>Ribbon</strong> ï¼šæœåŠ¡é—´å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼ŒåŸºäºRibbonåšè´Ÿè½½å‡è¡¡ï¼Œä»ä¸€ä¸ªæœåŠ¡
çš„å¤šå°æœºå™¨ä¸­é€‰æ‹©ä¸€å°
<strong>Feign</strong> ï¼šåŸºäºFeignçš„åŠ¨æ€ä»£ç†æœºåˆ¶ï¼Œæ ¹æ®æ³¨è§£å’Œé€‰æ‹©çš„æœºå™¨ï¼Œæ‹¼æ¥è¯·æ±‚
URLåœ°å€ï¼Œå‘èµ·è¯·æ±‚
<strong>Hystrix</strong> ï¼šå‘èµ·è¯·æ±‚æ˜¯é€šè¿‡Hystrixçš„çº¿ç¨‹æ± æ¥èµ°çš„ï¼Œä¸åŒçš„æœåŠ¡èµ°ä¸åŒçš„
çº¿ç¨‹æ± ï¼Œå®ç°äº†ä¸åŒæœåŠ¡è°ƒç”¨çš„éš”ç¦»ï¼Œé¿å…äº†æœåŠ¡é›ªå´©çš„é—®é¢˜
<strong>Zuul</strong> ï¼šå¦‚æœå‰ç«¯.ç§»åŠ¨ç«¯è¦è°ƒç”¨åç«¯ç³»ç»Ÿï¼Œç»Ÿä¸€ä»Zuulç½‘å…³è¿›å…¥ï¼Œç”±Zuul
ç½‘å…³è½¬å‘è¯·æ±‚ç»™å¯¹åº”çš„æœåŠ¡</p>
<h3 id="9-2-æ ¸å¿ƒç»„ä»¶è®²è§£é«˜è–ªå¸¸é—®">9 2 æ ¸å¿ƒç»„ä»¶è®²è§£ï¼šï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h4 id="9-2-1-eurekaæœåŠ¡ä¸­å¿ƒå¿…ä¼š">9 2 1 Eureka(æœåŠ¡ä¸­å¿ƒ)ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ä½œç”¨å®ç°æœåŠ¡æ²»ç†æœåŠ¡æ³¨å†Œä¸å‘ç°">ä½œç”¨ï¼šå®ç°æœåŠ¡æ²»ç†ï¼ˆæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼‰</h5>
<p>ç®€ä»‹ï¼šSpringCloudEurekaæ˜¯SpringCloudNetflixé¡¹ç›®ä¸‹çš„æœåŠ¡æ²»ç†æ¨¡
å—ã€‚
ç”±ä¸¤ä¸ªç»„ä»¶ç»„æˆï¼šEurekaæœåŠ¡ç«¯å’ŒEurekaå®¢æˆ·ç«¯ã€‚
EurekaæœåŠ¡ç«¯ç”¨ä½œæœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚æ”¯æŒé›†ç¾¤éƒ¨ç½²ã€‚
Eurekaå®¢æˆ·ç«¯æ˜¯ä¸€ä¸ªjavaå®¢æˆ·ç«¯ï¼Œç”¨æ¥å¤„ç†æœåŠ¡æ³¨å†Œä¸å‘ç°ã€‚
åœ¨åº”ç”¨å¯åŠ¨æ—¶ï¼ŒEurekaå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯æ³¨å†Œè‡ªå·±çš„æœåŠ¡ä¿¡æ¯ï¼ŒåŒæ—¶å°†æœåŠ¡
ç«¯çš„æœåŠ¡ä¿¡æ¯ç¼“å­˜åˆ°æœ¬åœ°ã€‚å®¢æˆ·ç«¯ä¼šå’ŒæœåŠ¡ç«¯å‘¨æœŸæ€§çš„è¿›è¡Œå¿ƒè·³äº¤äº’ï¼Œä»¥æ›´æ–°æœ
åŠ¡ç§Ÿçº¦å’ŒæœåŠ¡ä¿¡æ¯ã€‚</p>
<h4 id="9-2-2-ribbonè´Ÿè½½å‡è¡¡å·¥å…·äº†è§£">9 2 2 Ribbon(è´Ÿè½½å‡è¡¡å·¥å…·)ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p><strong>ä½œç”¨ï¼šRibbonï¼Œä¸»è¦æä¾›å®¢æˆ·ä¾§çš„è½¯ä»¶è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</strong>
ç®€ä»‹ï¼šSpringCloudRibbonæ˜¯ä¸€ä¸ªåŸºäºHTTPå’ŒTCPçš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡
å·¥å…·ï¼Œå®ƒåŸºäºNetflixRibbonå®ç°ã€‚é€šè¿‡Sçš„å°è£…ï¼Œå¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°å°†é¢å‘
æœåŠ¡çš„RESTæ¨¡ç‰ˆè¯·æ±‚è‡ªåŠ¨è½¬æ¢æˆå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡è°ƒç”¨ã€‚
æ³¨æ„çœ‹ä¸Šå›¾ï¼Œå…³é”®ç‚¹å°±æ˜¯å°†å¤–ç•Œçš„restè°ƒç”¨ï¼Œæ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥è½¬æ¢ä¸ºå¾®
æœåŠ¡è°ƒç”¨ã€‚Ribbonæœ‰æ¯”è¾ƒå¤šçš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œä»¥åä¸“é—¨è®²è§£ã€‚</p>
<h4 id="9-2-3-hystrixç†”æ–­å™¨å¿…ä¼š">9 2 3 Hystrix(ç†”æ–­å™¨)ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ä½œç”¨æ–­è·¯å™¨ä¿æŠ¤ç³»ç»Ÿæ§åˆ¶æ•…éšœèŒƒå›´">ä½œç”¨ï¼šæ–­è·¯å™¨ï¼Œä¿æŠ¤ç³»ç»Ÿï¼Œæ§åˆ¶æ•…éšœèŒƒå›´ã€‚</h5>
<h5 id="ç®€ä»‹ä¸ºäº†ä¿è¯å…¶é«˜å¯ç”¨å•ä¸ªæœåŠ¡é€šå¸¸ä¼šé›†ç¾¤éƒ¨ç½²ç”±äºç½‘ç»œåŸå› æˆ–è€…è‡ª">ç®€ä»‹ï¼šä¸ºäº†ä¿è¯å…¶é«˜å¯ç”¨ï¼Œå•ä¸ªæœåŠ¡é€šå¸¸ä¼šé›†ç¾¤éƒ¨ç½²ã€‚ç”±äºç½‘ç»œåŸå› æˆ–è€…è‡ª</h5>
<h5 id="èº«çš„åŸå› æœåŠ¡å¹¶ä¸èƒ½ä¿è¯-100-å¯ç”¨å¦‚æœå•ä¸ªæœåŠ¡å‡ºç°é—®é¢˜è°ƒç”¨è¿™ä¸ªæœåŠ¡">èº«çš„åŸå› ï¼ŒæœåŠ¡å¹¶ä¸èƒ½ä¿è¯ 100 %å¯ç”¨ï¼Œå¦‚æœå•ä¸ªæœåŠ¡å‡ºç°é—®é¢˜ï¼Œè°ƒç”¨è¿™ä¸ªæœåŠ¡</h5>
<p>å°±ä¼šå‡ºç°çº¿ç¨‹é˜»å¡ï¼Œæ­¤æ—¶è‹¥æœ‰å¤§é‡çš„è¯·æ±‚æ¶Œå…¥ï¼ŒServletå®¹å™¨çš„çº¿ç¨‹èµ„æºä¼šè¢«æ¶ˆ
è€—å®Œæ¯•ï¼Œå¯¼è‡´æœåŠ¡ç˜«ç—ªã€‚æœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¾èµ–æ€§ï¼Œæ•…éšœä¼šä¼ æ’­ï¼Œä¼šå¯¹æ•´ä¸ªå¾®æœ
åŠ¡ç³»ç»Ÿé€ æˆç¾éš¾æ€§çš„ä¸¥é‡åæœï¼Œè¿™å°±æ˜¯æœåŠ¡æ•…éšœçš„â€œé›ªå´©â€æ•ˆåº”ã€‚</p>
<h4 id="9-2-4-zuulæœåŠ¡ç½‘å…³å¿…ä¼š">9 2 4 Zuul(æœåŠ¡ç½‘å…³)ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p><strong>ä½œç”¨ï¼šapiç½‘å…³ï¼Œè·¯ç”±ï¼Œè´Ÿè½½å‡è¡¡ç­‰å¤šç§ä½œç”¨</strong>
ç®€ä»‹ï¼šç±»ä¼¼nginxï¼Œåå‘ä»£ç†çš„åŠŸèƒ½ï¼Œä¸è¿‡netflixè‡ªå·±å¢åŠ äº†ä¸€äº›é…åˆå…¶
ä»–ç»„ä»¶çš„ç‰¹æ€§ã€‚
åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œåç«¯æœåŠ¡å¾€å¾€ä¸ç›´æ¥å¼€æ”¾ç»™è°ƒç”¨ç«¯ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªAPI
ç½‘å…³æ ¹æ®è¯·æ±‚çš„urlï¼Œè·¯ç”±åˆ°ç›¸åº”çš„æœåŠ¡ã€‚å½“æ·»åŠ APIç½‘å…³åï¼Œåœ¨ç¬¬ä¸‰æ–¹è°ƒç”¨ç«¯
å’ŒæœåŠ¡æä¾›æ–¹ä¹‹é—´å°±åˆ›å»ºäº†ä¸€é¢å¢™ï¼Œè¿™é¢å¢™ç›´æ¥ä¸è°ƒç”¨æ–¹é€šä¿¡è¿›è¡Œæƒé™æ§åˆ¶ï¼Œå
å°†è¯·æ±‚å‡è¡¡åˆ†å‘ç»™åå°æœåŠ¡ç«¯ã€‚</p>
<h4 id="9-2-5-configé…ç½®ä¸­å¿ƒäº†è§£">9 2 5 Config(é…ç½®ä¸­å¿ƒ)ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ä½œç”¨é…ç½®ç®¡ç†">ä½œç”¨ï¼šé…ç½®ç®¡ç†</h5>
<p>ç®€ä»‹ï¼šSpringCloudConfigæä¾›æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ã€‚æœåŠ¡å™¨å­˜å‚¨åç«¯çš„é»˜
è®¤å®ç°ä½¿ç”¨gitï¼Œå› æ­¤å®ƒè½»æ¾æ”¯æŒæ ‡ç­¾ç‰ˆæœ¬çš„é…ç½®ç¯å¢ƒï¼Œä»¥åŠå¯ä»¥è®¿é—®ç”¨äºç®¡ç†
å†…å®¹çš„å„ç§å·¥å…·ã€‚
è¿™ä¸ªè¿˜æ˜¯é™æ€çš„ï¼Œå¾—é…åˆSpringCloudBuså®ç°åŠ¨æ€çš„é…ç½®æ›´æ–°ã€‚</p>
<h4 id="9-2-6-springcloudåŸºäºä¸šåŠ¡åœºæ™¯å¯¹äºå„ä¸ªç»„ä»¶çš„è®²è§£äº†è§£">9 2 6 SpringCloudåŸºäºä¸šåŠ¡åœºæ™¯å¯¹äºå„ä¸ªç»„ä»¶çš„è®²è§£ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="å…ˆæ¥ç»™å¤§å®¶è¯´ä¸€ä¸ªä¸šåŠ¡åœºæ™¯å‡è®¾å’±ä»¬ç°åœ¨å¼€å‘ä¸€ä¸ªç”µå•†ç½‘ç«™è¦å®ç°æ”¯ä»˜">å…ˆæ¥ç»™å¤§å®¶è¯´ä¸€ä¸ªä¸šåŠ¡åœºæ™¯ï¼Œå‡è®¾å’±ä»¬ç°åœ¨å¼€å‘ä¸€ä¸ªç”µå•†ç½‘ç«™ï¼Œè¦å®ç°æ”¯ä»˜</h5>
<h5 id="è®¢å•çš„åŠŸèƒ½æµç¨‹å¦‚ä¸‹">è®¢å•çš„åŠŸèƒ½ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</h5>
<h5 id="åˆ›å»ºä¸€ä¸ªè®¢å•ä¹‹åå¦‚æœç”¨æˆ·ç«‹åˆ»æ”¯ä»˜äº†è¿™ä¸ªè®¢å•æˆ‘ä»¬éœ€è¦å°†è®¢å•çŠ¶æ€æ›´">åˆ›å»ºä¸€ä¸ªè®¢å•ä¹‹åï¼Œå¦‚æœç”¨æˆ·ç«‹åˆ»æ”¯ä»˜äº†è¿™ä¸ªè®¢å•ï¼Œæˆ‘ä»¬éœ€è¦å°†è®¢å•çŠ¶æ€æ›´</h5>
<h5 id="æ–°ä¸ºå·²æ”¯ä»˜">æ–°ä¸ºâ€œå·²æ”¯ä»˜â€</h5>
<h5 id="æ‰£å‡ç›¸åº”çš„å•†å“åº“å­˜-é€šçŸ¥ä»“å‚¨ä¸­å¿ƒè¿›è¡Œå‘è´§-ç»™ç”¨æˆ·çš„è¿™æ¬¡è´­ç‰©å¢åŠ ç›¸">æ‰£å‡ç›¸åº”çš„å•†å“åº“å­˜ é€šçŸ¥ä»“å‚¨ä¸­å¿ƒï¼Œè¿›è¡Œå‘è´§ ç»™ç”¨æˆ·çš„è¿™æ¬¡è´­ç‰©å¢åŠ ç›¸</h5>
<h5 id="åº”çš„ç§¯åˆ†">åº”çš„ç§¯åˆ†</h5>
<h5 id="é’ˆå¯¹ä¸Šè¿°æµç¨‹-æˆ‘ä»¬éœ€è¦æœ‰è®¢å•æœåŠ¡åº“å­˜æœåŠ¡ä»“å‚¨æœåŠ¡ç§¯åˆ†æœåŠ¡-æ•´ä¸ªæµ">é’ˆå¯¹ä¸Šè¿°æµç¨‹ï¼Œ æˆ‘ä»¬éœ€è¦æœ‰è®¢å•æœåŠ¡.åº“å­˜æœåŠ¡.ä»“å‚¨æœåŠ¡.ç§¯åˆ†æœåŠ¡ ã€‚æ•´ä¸ªæµ</h5>
<h5 id="ç¨‹çš„å¤§ä½“æ€è·¯å¦‚ä¸‹">ç¨‹çš„å¤§ä½“æ€è·¯å¦‚ä¸‹ï¼š</h5>
<h5 id="ç”¨æˆ·é’ˆå¯¹ä¸€ä¸ªè®¢å•å®Œæˆæ”¯ä»˜ä¹‹åå°±ä¼šå»æ‰¾è®¢å•æœåŠ¡æ›´æ–°è®¢å•çŠ¶æ€">ç”¨æˆ·é’ˆå¯¹ä¸€ä¸ªè®¢å•å®Œæˆæ”¯ä»˜ä¹‹åï¼Œå°±ä¼šå»æ‰¾è®¢å•æœåŠ¡ï¼Œæ›´æ–°è®¢å•çŠ¶æ€</h5>
<h5 id="è®¢å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡å®Œæˆç›¸åº”åŠŸèƒ½">è®¢å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡ï¼Œå®Œæˆç›¸åº”åŠŸèƒ½</h5>
<h5 id="è®¢å•æœåŠ¡è°ƒç”¨ä»“å‚¨æœåŠ¡å®Œæˆç›¸åº”åŠŸèƒ½">è®¢å•æœåŠ¡è°ƒç”¨ä»“å‚¨æœåŠ¡ï¼Œå®Œæˆç›¸åº”åŠŸèƒ½</h5>
<h5 id="è®¢å•æœåŠ¡è°ƒç”¨ç§¯åˆ†æœåŠ¡å®Œæˆç›¸åº”åŠŸèƒ½">è®¢å•æœåŠ¡è°ƒç”¨ç§¯åˆ†æœåŠ¡ï¼Œå®Œæˆç›¸åº”åŠŸèƒ½</h5>
<h5 id="è‡³æ­¤æ•´ä¸ªæ”¯ä»˜è®¢å•çš„ä¸šåŠ¡æµç¨‹ç»“æŸ">è‡³æ­¤ï¼Œæ•´ä¸ªæ”¯ä»˜è®¢å•çš„ä¸šåŠ¡æµç¨‹ç»“æŸ</h5>
<h5 id="ä¸‹å›¾è¿™å¼ å›¾æ¸…æ™°è¡¨æ˜äº†å„æœåŠ¡é—´çš„è°ƒç”¨è¿‡ç¨‹">ä¸‹å›¾è¿™å¼ å›¾ï¼Œæ¸…æ™°è¡¨æ˜äº†å„æœåŠ¡é—´çš„è°ƒç”¨è¿‡ç¨‹ï¼š</h5>
<p>å¥½ï¼æœ‰äº†ä¸šåŠ¡åœºæ™¯ä¹‹åï¼Œå’±ä»¬å°±ä¸€èµ·æ¥çœ‹çœ‹SpringCloudå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œ
è¿™å‡ ä¸ªç»„ä»¶å¦‚ä½•ç›¸äº’åä½œï¼Œå„è‡ªå‘æŒ¥çš„ä½œç”¨ä»¥åŠå…¶èƒŒåçš„åŸç†ã€‚
<strong>SpringCloudæ ¸å¿ƒç»„ä»¶ï¼šEureka
å’±ä»¬æ¥è€ƒè™‘ç¬¬ä¸€ä¸ªé—®é¢˜</strong> ï¼šè®¢å•æœåŠ¡æƒ³è¦è°ƒç”¨åº“å­˜æœåŠ¡.ä»“å‚¨æœåŠ¡ï¼Œæˆ–è€…æ˜¯ç§¯
åˆ†æœåŠ¡ï¼Œæ€ä¹ˆè°ƒç”¨ï¼Ÿ
è®¢å•æœåŠ¡å‹æ ¹å„¿å°±ä¸çŸ¥é“äººå®¶åº“å­˜æœåŠ¡åœ¨å“ªå°æœºå™¨ä¸Šå•Šï¼ä»–å°±ç®—æƒ³è¦å‘èµ·ä¸€
ä¸ªè¯·æ±‚ï¼Œéƒ½ä¸çŸ¥é“å‘é€ç»™è°ï¼Œæœ‰å¿ƒæ— åŠ›ï¼
è¿™æ—¶å€™ï¼Œå°±è½®åˆ°SpringCloudEurekaå‡ºåœºäº†ã€‚Eurekaæ˜¯å¾®æœåŠ¡æ¶æ„ä¸­çš„
æ³¨å†Œä¸­å¿ƒï¼Œä¸“é—¨è´Ÿè´£æœåŠ¡çš„æ³¨å†Œä¸å‘ç°ã€‚
å’±ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„è¿™å¼ å›¾ï¼Œç»“åˆå›¾æ¥ä»”ç»†å‰–æä¸€ä¸‹æ•´ä¸ªæµç¨‹ï¼š</p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåº“å­˜æœåŠ¡.ä»“å‚¨æœåŠ¡.ç§¯åˆ†æœåŠ¡ä¸­éƒ½æœ‰ä¸€ä¸ªEurekaClientç»„ä»¶ï¼Œ
è¿™ä¸ªç»„ä»¶ä¸“é—¨è´Ÿè´£å°†è¿™ä¸ªæœåŠ¡çš„ä¿¡æ¯æ³¨å†Œåˆ°EurekaServerä¸­ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯å‘Š
è¯‰EurekaServerï¼Œè‡ªå·±åœ¨å“ªå°æœºå™¨ä¸Šï¼Œç›‘å¬ç€å“ªä¸ªç«¯å£ã€‚è€ŒEurekaServeræ˜¯
ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ³¨å†Œè¡¨ï¼Œä¿å­˜äº†å„æœåŠ¡æ‰€åœ¨çš„æœºå™¨å’Œç«¯å£å·
è®¢å•æœåŠ¡é‡Œä¹Ÿæœ‰ä¸€ä¸ªEurekaClientç»„ä»¶ï¼Œè¿™ä¸ªEurekaClientç»„ä»¶ä¼šæ‰¾
EurekaServeré—®ä¸€ä¸‹ï¼šåº“å­˜æœåŠ¡åœ¨å“ªå°æœºå™¨å•Šï¼Ÿç›‘å¬ç€å“ªä¸ªç«¯å£å•Šï¼Ÿä»“å‚¨æœåŠ¡</p>
<p>å‘¢ï¼Ÿç§¯åˆ†æœåŠ¡å‘¢ï¼Ÿç„¶åå°±å¯ä»¥æŠŠè¿™äº›ç›¸å…³ä¿¡æ¯ä»EurekaServerçš„æ³¨å†Œè¡¨ä¸­æ‹‰
å–åˆ°è‡ªå·±æœ¬åœ°ç¼“å­˜èµ·æ¥ã€‚
è¿™æ—¶å¦‚æœè®¢å•æœåŠ¡æƒ³è¦è°ƒç”¨åº“å­˜æœåŠ¡ï¼Œä¸å°±å¯ä»¥æ‰¾è‡ªå·±æœ¬åœ°çš„Eureka
Clienté—®ä¸€ä¸‹åº“å­˜æœåŠ¡åœ¨å“ªå°æœºå™¨ï¼Ÿç›‘å¬å“ªä¸ªç«¯å£å—ï¼Ÿæ”¶åˆ°å“åº”åï¼Œç´§æ¥ç€å°±å¯
ä»¥å‘é€ä¸€ä¸ªè¯·æ±‚è¿‡å»ï¼Œè°ƒç”¨åº“å­˜æœåŠ¡æ‰£å‡åº“å­˜çš„é‚£ä¸ªæ¥å£ï¼åŒç†ï¼Œå¦‚æœè®¢å•æœåŠ¡
è¦è°ƒç”¨ä»“å‚¨æœåŠ¡.ç§¯åˆ†æœåŠ¡ï¼Œä¹Ÿæ˜¯å¦‚æ³•ç‚®åˆ¶ã€‚
æ€»ç»“ä¸€ä¸‹ï¼š
<strong>EurekaClientï¼š</strong> è´Ÿè´£å°†è¿™ä¸ªæœåŠ¡çš„ä¿¡æ¯æ³¨å†Œåˆ°EurekaServerä¸­
<strong>EurekaServerï¼š</strong> æ³¨å†Œä¸­å¿ƒï¼Œé‡Œé¢æœ‰ä¸€ä¸ªæ³¨å†Œè¡¨ï¼Œä¿å­˜äº†å„ä¸ªæœåŠ¡æ‰€åœ¨çš„æœº
å™¨å’Œç«¯å£å·
<strong>SpringCloudæ ¸å¿ƒç»„ä»¶ï¼šFeign</strong>
ç°åœ¨è®¢å•æœåŠ¡ç¡®å®çŸ¥é“åº“å­˜æœåŠ¡.ç§¯åˆ†æœåŠ¡.ä»“åº“æœåŠ¡åœ¨å“ªé‡Œäº†ï¼ŒåŒæ—¶ä¹Ÿç›‘å¬
ç€å“ªäº›ç«¯å£å·äº†ã€‚ <strong>ä½†æ˜¯æ–°é—®é¢˜åˆæ¥äº†ï¼šéš¾é“è®¢å•æœåŠ¡è¦è‡ªå·±å†™ä¸€å¤§å †ä»£ç ï¼Œè·Ÿå…¶
ä»–æœåŠ¡å»ºç«‹ç½‘ç»œè¿æ¥ï¼Œç„¶åæ„é€ ä¸€ä¸ªå¤æ‚çš„è¯·æ±‚ï¼Œæ¥ç€å‘é€è¯·æ±‚è¿‡å»ï¼Œæœ€åå¯¹è¿”
å›çš„å“åº”ç»“æœå†å†™ä¸€å¤§å †ä»£ç æ¥å¤„ç†å—ï¼Ÿ</strong>
è¿™æ˜¯ä¸Šè¿°æµç¨‹ç¿»è¯‘çš„ä»£ç ç‰‡æ®µï¼Œå’±ä»¬ä¸€èµ·æ¥çœ‹çœ‹ï¼Œä½“ä¼šä¸€ä¸‹è¿™ç§ç»æœ›è€Œæ— åŠ©
çš„æ„Ÿå—ï¼ï¼ï¼
<strong>å‹æƒ…æç¤ºï¼Œå‰æ–¹é«˜èƒ½ï¼š</strong></p>
<h5 id="çœ‹å®Œä¸Šé¢é‚£ä¸€å¤§æ®µä»£ç æœ‰æ²¡æœ‰æ„Ÿåˆ°åèƒŒå‘å‡‰ä¸€èº«å†·æ±—å®é™…ä¸Šä½ è¿›è¡Œæœ">çœ‹å®Œä¸Šé¢é‚£ä¸€å¤§æ®µä»£ç ï¼Œæœ‰æ²¡æœ‰æ„Ÿåˆ°åèƒŒå‘å‡‰.ä¸€èº«å†·æ±—ï¼Ÿå®é™…ä¸Šä½ è¿›è¡Œæœ</h5>
<h5 id="åŠ¡é—´è°ƒç”¨æ—¶å¦‚æœæ¯æ¬¡éƒ½æ‰‹å†™ä»£ç ä»£ç é‡æ¯”ä¸Šé¢é‚£æ®µè¦å¤šè‡³å°‘å‡ å€æ‰€ä»¥è¿™ä¸ª">åŠ¡é—´è°ƒç”¨æ—¶ï¼Œå¦‚æœæ¯æ¬¡éƒ½æ‰‹å†™ä»£ç ï¼Œä»£ç é‡æ¯”ä¸Šé¢é‚£æ®µè¦å¤šè‡³å°‘å‡ å€ï¼Œæ‰€ä»¥è¿™ä¸ª</h5>
<h5 id="äº‹å„¿å‹æ ¹å„¿å°±ä¸æ˜¯åœ°çƒäººèƒ½å¹²çš„">äº‹å„¿å‹æ ¹å„¿å°±ä¸æ˜¯åœ°çƒäººèƒ½å¹²çš„ã€‚</h5>
<p>æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿåˆ«æ€¥ï¼ŒFeignæ—©å·²ä¸ºæˆ‘ä»¬æä¾›å¥½äº†ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚
æ¥çœ‹çœ‹å¦‚æœç”¨Feignçš„è¯ï¼Œä½ çš„è®¢å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡çš„ä»£ç ä¼šå˜æˆå•¥æ ·ï¼Ÿ</p>
<h5 id="çœ‹å®Œä¸Šé¢çš„ä»£ç ä»€ä¹ˆæ„Ÿè§‰æ˜¯ä¸æ˜¯æ„Ÿè§‰æ•´ä¸ªä¸–ç•Œéƒ½å¹²å‡€äº†åˆæ‰¾åˆ°äº†æ´»ä¸‹å»">çœ‹å®Œä¸Šé¢çš„ä»£ç ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿæ˜¯ä¸æ˜¯æ„Ÿè§‰æ•´ä¸ªä¸–ç•Œéƒ½å¹²å‡€äº†ï¼Œåˆæ‰¾åˆ°äº†æ´»ä¸‹å»</h5>
<h5 id="çš„å‹‡æ°”æ²¡æœ‰åº•å±‚çš„å»ºç«‹è¿æ¥æ„é€ è¯·æ±‚è§£æå“åº”çš„ä»£ç ç›´æ¥å°±æ˜¯ç”¨æ³¨è§£å®šä¹‰">çš„å‹‡æ°”ï¼æ²¡æœ‰åº•å±‚çš„å»ºç«‹è¿æ¥.æ„é€ è¯·æ±‚.è§£æå“åº”çš„ä»£ç ï¼Œç›´æ¥å°±æ˜¯ç”¨æ³¨è§£å®šä¹‰</h5>
<p>ä¸€ä¸ª FeignClientæ¥å£ï¼Œç„¶åè°ƒç”¨é‚£ä¸ªæ¥å£å°±å¯ä»¥äº†ã€‚äººå®¶FeignClientä¼šåœ¨
åº•å±‚æ ¹æ®ä½ çš„æ³¨è§£ï¼Œè·Ÿä½ æŒ‡å®šçš„æœåŠ¡å»ºç«‹è¿æ¥.æ„é€ è¯·æ±‚.å‘èµ·é•æ±‚.è·å–å“åº”.è§£æ
å“åº”ï¼Œç­‰ç­‰ã€‚è¿™ä¸€ç³»åˆ—è„æ´»ç´¯æ´»ï¼Œäººå®¶Feignå…¨ç»™ä½ å¹²äº†ã€‚
é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒFeignæ˜¯å¦‚ä½•åšåˆ°è¿™ä¹ˆç¥å¥‡çš„å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œ <strong>Feignçš„ä¸€ä¸ªå…³
é”®æœºåˆ¶å°±æ˜¯ä½¿ç”¨äº†åŠ¨æ€ä»£ç†</strong> ã€‚å’±ä»¬ä¸€èµ·æ¥çœ‹çœ‹ä¸‹é¢çš„å›¾ï¼Œç»“åˆå›¾æ¥åˆ†æï¼š
é¦–å…ˆï¼Œå¦‚æœä½ å¯¹æŸä¸ªæ¥å£å®šä¹‰äº†@FeignClientæ³¨è§£ï¼ŒFeignå°±ä¼šé’ˆå¯¹è¿™ä¸ª
æ¥å£åˆ›å»ºä¸€ä¸ªåŠ¨æ€ä»£ç†
æ¥ç€ä½ è¦æ˜¯è°ƒç”¨é‚£ä¸ªæ¥å£ï¼Œæœ¬è´¨å°±æ˜¯ä¼šè°ƒç”¨Feignåˆ›å»ºçš„åŠ¨æ€ä»£ç†ï¼Œè¿™æ˜¯
æ ¸å¿ƒä¸­çš„æ ¸å¿ƒ
Feignçš„åŠ¨æ€ä»£ç†ä¼šæ ¹æ®ä½ åœ¨æ¥å£ä¸Šçš„@RequestMappingç­‰æ³¨è§£ï¼Œæ¥åŠ¨
æ€æ„é€ å‡ºä½ è¦è¯·æ±‚çš„æœåŠ¡çš„åœ°å€
æœ€åé’ˆå¯¹è¿™ä¸ªåœ°å€ï¼Œå‘èµ·è¯·æ±‚.è§£æå“åº”</p>
<p>SpringCloudæ ¸å¿ƒç»„ä»¶ï¼šRibbon
è¯´å®Œäº†Feignï¼Œè¿˜æ²¡å®Œã€‚ç°åœ¨æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœäººå®¶åº“å­˜æœåŠ¡éƒ¨ç½²åœ¨äº†
5 å°æœºå™¨ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<h5 id="192-168-169--9000">192. 168. 169 : 9000</h5>
<h5 id="192-168-170--9000">192. 168. 170 : 9000</h5>
<h5 id="192-168-171--9000">192. 168. 171 : 9000</h5>
<h5 id="192-168-172--9000">192. 168. 172 : 9000</h5>
<h5 id="192-168-173--9000">192. 168. 173 : 9000</h5>
<p><strong>è¿™ä¸‹éº»çƒ¦äº†ï¼äººå®¶Feignæ€ä¹ˆçŸ¥é“è¯¥è¯·æ±‚å“ªå°æœºå™¨å‘¢ï¼Ÿ</strong>
è¿™æ—¶SpringCloudRibbonå°±æ´¾ä¸Šç”¨åœºäº†ã€‚Ribbonå°±æ˜¯ä¸“é—¨è§£å†³è¿™ä¸ªé—®é¢˜
çš„ã€‚å®ƒçš„ä½œç”¨æ˜¯è´Ÿè½½å‡è¡¡ï¼Œä¼šå¸®ä½ åœ¨æ¯æ¬¡è¯·æ±‚æ—¶é€‰æ‹©ä¸€å°æœºå™¨ï¼Œå‡åŒ€çš„æŠŠè¯·æ±‚åˆ†
å‘åˆ°å„ä¸ªæœºå™¨ä¸Š
Ribbonçš„è´Ÿè½½å‡è¡¡é»˜è®¤ä½¿ç”¨çš„æœ€ç»å…¸çš„RoundRobinè½®è¯¢ç®—æ³•ã€‚è¿™æ˜¯å•¥ï¼Ÿ
ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¦‚æœè®¢å•æœåŠ¡å¯¹åº“å­˜æœåŠ¡å‘èµ· 10 æ¬¡è¯·æ±‚ï¼Œé‚£å°±å…ˆè®©ä½ è¯·æ±‚ç¬¬ 1
å°æœºå™¨.ç„¶åæ˜¯ç¬¬ 2 å°æœºå™¨.ç¬¬ 3 å°æœºå™¨.ç¬¬ 4 å°æœºå™¨.ç¬¬ 5 å°æœºå™¨ï¼Œæ¥ç€å†æ¥â€”ä¸ª
å¾ªç¯ï¼Œç¬¬ 1 å°æœºå™¨.ç¬¬ 2 å°æœºå™¨ã€‚ã€‚ã€‚ä»¥æ­¤ç±»æ¨ã€‚
<strong>æ­¤å¤–ï¼ŒRibbonæ˜¯å’ŒFeignä»¥åŠEurekaç´§å¯†åä½œï¼Œå®Œæˆå·¥ä½œçš„ï¼Œå…·ä½“å¦‚
ä¸‹ï¼š</strong>
é¦–å…ˆRibbonä¼šä»EurekaClienté‡Œè·å–åˆ°å¯¹åº”çš„æœåŠ¡æ³¨å†Œè¡¨ï¼Œä¹Ÿå°±çŸ¥é“äº†
æ‰€æœ‰çš„æœåŠ¡éƒ½éƒ¨ç½²åœ¨äº†å“ªäº›æœºå™¨ä¸Šï¼Œåœ¨ç›‘å¬å“ªäº›ç«¯å£å·ã€‚
ç„¶åRibbonå°±å¯ä»¥ä½¿ç”¨é»˜è®¤çš„RoundRobinç®—æ³•ï¼Œä»ä¸­é€‰æ‹©ä¸€å°æœºå™¨
Feignå°±ä¼šé’ˆå¯¹è¿™å°æœºå™¨ï¼Œæ„é€ å¹¶å‘èµ·è¯·æ±‚ã€‚
å¯¹ä¸Šè¿°æ•´ä¸ªè¿‡ç¨‹ï¼Œå†æ¥ä¸€å¼ å›¾ï¼Œå¸®åŠ©å¤§å®¶æ›´æ·±åˆ»çš„ç†è§£ï¼š</p>
<p><strong>SpringCloudæ ¸å¿ƒç»„ä»¶ï¼šHystrix</strong>
åœ¨å¾®æœåŠ¡æ¶æ„é‡Œï¼Œä¸€ä¸ªç³»ç»Ÿä¼šæœ‰å¾ˆå¤šçš„æœåŠ¡ã€‚ä»¥æœ¬æ–‡çš„ä¸šåŠ¡åœºæ™¯ä¸ºä¾‹ï¼šè®¢å•
æœåŠ¡åœ¨ä¸€ä¸ªä¸šåŠ¡æµç¨‹é‡Œéœ€è¦è°ƒç”¨ä¸‰ä¸ªæœåŠ¡ã€‚ç°åœ¨å‡è®¾è®¢å•æœåŠ¡è‡ªå·±æœ€å¤šåªæœ‰ 100
ä¸ªçº¿ç¨‹å¯ä»¥å¤„ç†è¯·æ±‚ï¼Œç„¶åå‘¢ï¼Œç§¯åˆ†æœåŠ¡ä¸å¹¸çš„æŒ‚äº†ï¼Œæ¯æ¬¡è®¢å•æœåŠ¡è°ƒç”¨ç§¯åˆ†æœ
åŠ¡çš„æ—¶å€™ï¼Œéƒ½ä¼šå¡ä½å‡ ç§’é’Ÿï¼Œç„¶åæŠ›å‡ºâ€”ä¸ªè¶…æ—¶å¼‚å¸¸ã€‚
<strong>å’±ä»¬ä¸€èµ·æ¥åˆ†æä¸€ä¸‹ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong>
å¦‚æœç³»ç»Ÿå¤„äºé«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¤§é‡è¯·æ±‚æ¶Œè¿‡æ¥çš„æ—¶å€™ï¼Œè®¢å•æœåŠ¡çš„ 100
ä¸ªçº¿ç¨‹éƒ½ä¼šå¡åœ¨è¯·æ±‚ç§¯åˆ†æœåŠ¡è¿™å—ã€‚å¯¼è‡´è®¢å•æœåŠ¡æ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å¤„ç†è¯·æ±‚
ç„¶åå°±ä¼šå¯¼è‡´åˆ«äººè¯·æ±‚è®¢å•æœåŠ¡çš„æ—¶å€™ï¼Œå‘ç°è®¢å•æœåŠ¡ä¹ŸæŒ‚äº†ï¼Œä¸å“åº”ä»»ä½•
è¯·æ±‚äº†
ä¸Šé¢è¿™ä¸ªï¼Œå°±æ˜¯ <strong>å¾®æœåŠ¡æ¶æ„ä¸­ææ€–çš„æœåŠ¡é›ªå´©é—®é¢˜</strong> ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<h5 id="å¦‚ä¸Šå›¾è¿™ä¹ˆå¤šæœåŠ¡äº’ç›¸è°ƒç”¨è¦æ˜¯ä¸åšä»»ä½•ä¿æŠ¤çš„è¯æŸä¸€ä¸ªæœåŠ¡æŒ‚äº†">å¦‚ä¸Šå›¾ï¼Œè¿™ä¹ˆå¤šæœåŠ¡äº’ç›¸è°ƒç”¨ï¼Œè¦æ˜¯ä¸åšä»»ä½•ä¿æŠ¤çš„è¯ï¼ŒæŸä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼Œ</h5>
<h5 id="å°±ä¼šå¼•èµ·è¿é”ååº”å¯¼è‡´åˆ«çš„æœåŠ¡ä¹ŸæŒ‚æ¯”å¦‚ç§¯åˆ†æœåŠ¡æŒ‚äº†ä¼šå¯¼è‡´è®¢å•æœåŠ¡çš„">å°±ä¼šå¼•èµ·è¿é”ååº”ï¼Œå¯¼è‡´åˆ«çš„æœåŠ¡ä¹ŸæŒ‚ã€‚æ¯”å¦‚ç§¯åˆ†æœåŠ¡æŒ‚äº†ï¼Œä¼šå¯¼è‡´è®¢å•æœåŠ¡çš„</h5>
<h5 id="çº¿ç¨‹å…¨éƒ¨å¡åœ¨è¯·æ±‚ç§¯åˆ†æœåŠ¡è¿™é‡Œæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å·¥ä½œç¬é—´å¯¼è‡´è®¢å•æœåŠ¡ä¹Ÿ">çº¿ç¨‹å…¨éƒ¨å¡åœ¨è¯·æ±‚ç§¯åˆ†æœåŠ¡è¿™é‡Œï¼Œæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å·¥ä½œï¼Œç¬é—´å¯¼è‡´è®¢å•æœåŠ¡ä¹Ÿ</h5>
<h5 id="æŒ‚äº†åˆ«äººè¯·æ±‚è®¢å•æœåŠ¡å…¨éƒ¨ä¼šå¡ä½æ— æ³•å“åº”">æŒ‚äº†ï¼Œåˆ«äººè¯·æ±‚è®¢å•æœåŠ¡å…¨éƒ¨ä¼šå¡ä½ï¼Œæ— æ³•å“åº”ã€‚</h5>
<h5 id="ä½†æ˜¯æˆ‘ä»¬æ€è€ƒä¸€ä¸‹å°±ç®—ç§¯åˆ†æœåŠ¡æŒ‚äº†è®¢å•æœåŠ¡ä¹Ÿå¯ä»¥ä¸ç”¨æŒ‚å•Šä¸ºä»€ä¹ˆ">ä½†æ˜¯æˆ‘ä»¬æ€è€ƒä¸€ä¸‹ï¼Œå°±ç®—ç§¯åˆ†æœåŠ¡æŒ‚äº†ï¼Œè®¢å•æœåŠ¡ä¹Ÿå¯ä»¥ä¸ç”¨æŒ‚å•Šï¼ä¸ºä»€ä¹ˆï¼Ÿ</h5>
<h5 id="æˆ‘ä»¬ç»“åˆä¸šåŠ¡æ¥çœ‹æ”¯ä»˜è®¢å•çš„æ—¶å€™åªè¦æŠŠåº“å­˜æ‰£å‡äº†ç„¶åé€šçŸ¥ä»“åº“å‘">æˆ‘ä»¬ç»“åˆä¸šåŠ¡æ¥çœ‹ï¼šæ”¯ä»˜è®¢å•çš„æ—¶å€™ï¼Œåªè¦æŠŠåº“å­˜æ‰£å‡äº†ï¼Œç„¶åé€šçŸ¥ä»“åº“å‘</h5>
<h5 id="è´§å°±okäº†">è´§å°±OKäº†</h5>
<h5 id="å¦‚æœç§¯åˆ†æœåŠ¡æŒ‚äº†å¤§ä¸äº†ç­‰ä»–æ¢å¤ä¹‹åæ…¢æ…¢äººè‚‰æ‰‹å·¥æ¢å¤æ•°æ®ä¸ºå•¥ä¸€">å¦‚æœç§¯åˆ†æœåŠ¡æŒ‚äº†ï¼Œå¤§ä¸äº†ç­‰ä»–æ¢å¤ä¹‹åï¼Œæ…¢æ…¢äººè‚‰æ‰‹å·¥æ¢å¤æ•°æ®ï¼ä¸ºå•¥ä¸€</h5>
<h5 id="å®šè¦å› ä¸ºä¸€ä¸ªç§¯åˆ†æœåŠ¡æŒ‚äº†å°±ç›´æ¥å¯¼è‡´è®¢å•æœåŠ¡ä¹ŸæŒ‚äº†å‘¢ä¸å¯ä»¥æ¥å—">å®šè¦å› ä¸ºä¸€ä¸ªç§¯åˆ†æœåŠ¡æŒ‚äº†ï¼Œå°±ç›´æ¥å¯¼è‡´è®¢å•æœåŠ¡ä¹ŸæŒ‚äº†å‘¢ï¼Ÿä¸å¯ä»¥æ¥å—ï¼</h5>
<h5 id="ç°åœ¨é—®é¢˜åˆ†æå®Œäº†å¦‚ä½•è§£å†³">ç°åœ¨é—®é¢˜åˆ†æå®Œäº†ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</h5>
<p>è¿™æ—¶å°±è½®åˆ°Hystrixé—ªäº®ç™»åœºäº†ã€‚Hystrixæ˜¯éš”ç¦».ç†”æ–­ä»¥åŠé™çº§çš„ä¸€ä¸ªæ¡†æ¶ã€‚
å•¥æ„æ€å‘¢ï¼Ÿè¯´ç™½äº†ï¼ŒHystrixä¼šæå¾ˆå¤šä¸ªå°å°çš„çº¿ç¨‹æ± ï¼Œæ¯”å¦‚è®¢å•æœåŠ¡è¯·æ±‚åº“å­˜
æœåŠ¡æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè¯·æ±‚ä»“å‚¨æœåŠ¡æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè¯·æ±‚ç§¯åˆ†æœåŠ¡æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ã€‚
æ¯ä¸ªçº¿ç¨‹æ± é‡Œçš„çº¿ç¨‹å°±ä»…ä»…ç”¨äºè¯·æ±‚é‚£ä¸ªæœåŠ¡ã€‚
<strong>æ‰“ä¸ªæ¯”æ–¹ï¼šç°åœ¨å¾ˆä¸å¹¸ï¼Œç§¯åˆ†æœåŠ¡æŒ‚äº†ï¼Œä¼šå’‹æ ·ï¼Ÿ</strong></p>
<h5 id="å½“ç„¶ä¼šå¯¼è‡´è®¢å•æœåŠ¡é‡Œçš„é‚£ä¸ªç”¨æ¥è°ƒç”¨ç§¯åˆ†æœåŠ¡çš„çº¿ç¨‹éƒ½å¡æ­»ä¸èƒ½å·¥ä½œäº†">å½“ç„¶ä¼šå¯¼è‡´è®¢å•æœåŠ¡é‡Œçš„é‚£ä¸ªç”¨æ¥è°ƒç”¨ç§¯åˆ†æœåŠ¡çš„çº¿ç¨‹éƒ½å¡æ­»ä¸èƒ½å·¥ä½œäº†</h5>
<h5 id="å•Šä½†æ˜¯ç”±äºè®¢å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡ä»“å‚¨æœåŠ¡çš„è¿™ä¸¤ä¸ªçº¿ç¨‹æ± éƒ½æ˜¯æ­£å¸¸å·¥ä½œçš„">å•Šï¼ä½†æ˜¯ç”±äºè®¢å•æœåŠ¡è°ƒç”¨åº“å­˜æœåŠ¡.ä»“å‚¨æœåŠ¡çš„è¿™ä¸¤ä¸ªçº¿ç¨‹æ± éƒ½æ˜¯æ­£å¸¸å·¥ä½œçš„ï¼Œ</h5>
<h5 id="æ‰€ä»¥è¿™ä¸¤ä¸ªæœåŠ¡ä¸ä¼šå—åˆ°ä»»ä½•å½±å“">æ‰€ä»¥è¿™ä¸¤ä¸ªæœåŠ¡ä¸ä¼šå—åˆ°ä»»ä½•å½±å“ã€‚</h5>
<h5 id="è¿™ä¸ªæ—¶å€™å¦‚æœåˆ«äººè¯·æ±‚è®¢å•æœåŠ¡è®¢å•æœåŠ¡è¿˜æ˜¯å¯ä»¥æ­£å¸¸è°ƒç”¨åº“å­˜æœåŠ¡æ‰£å‡">è¿™ä¸ªæ—¶å€™å¦‚æœåˆ«äººè¯·æ±‚è®¢å•æœåŠ¡ï¼Œè®¢å•æœåŠ¡è¿˜æ˜¯å¯ä»¥æ­£å¸¸è°ƒç”¨åº“å­˜æœåŠ¡æ‰£å‡</h5>
<h5 id="åº“å­˜è°ƒç”¨ä»“å‚¨æœåŠ¡é€šçŸ¥å‘è´§åªä¸è¿‡è°ƒç”¨ç§¯åˆ†æœåŠ¡çš„æ—¶å€™æ¯æ¬¡éƒ½ä¼šæŠ¥é”™-ä½†">åº“å­˜ï¼Œè°ƒç”¨ä»“å‚¨æœåŠ¡é€šçŸ¥å‘è´§ã€‚åªä¸è¿‡è°ƒç”¨ç§¯åˆ†æœåŠ¡çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½ä¼šæŠ¥é”™ã€‚ ä½†</h5>
<h5 id="æ˜¯å¦‚æœç§¯åˆ†æœåŠ¡éƒ½æŒ‚äº†æ¯æ¬¡è°ƒç”¨éƒ½è¦å»å¡ä½å‡ ç§’é’Ÿå¹²å•¥å‘¢æœ‰æ„ä¹‰å—å½“ç„¶æ²¡">æ˜¯å¦‚æœç§¯åˆ†æœåŠ¡éƒ½æŒ‚äº†ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½è¦å»å¡ä½å‡ ç§’é’Ÿå¹²å•¥å‘¢ï¼Ÿæœ‰æ„ä¹‰å—ï¼Ÿå½“ç„¶æ²¡</h5>
<h5 id="æœ‰-æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¯¹ç§¯åˆ†æœåŠ¡ç†”æ–­ä¸å°±å¾—äº†æ¯”å¦‚åœ¨-5-åˆ†é’Ÿå†…è¯·æ±‚ç§¯åˆ†æœåŠ¡ç›´æ¥">æœ‰ï¼ æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¯¹ç§¯åˆ†æœåŠ¡ç†”æ–­ä¸å°±å¾—äº†ï¼Œæ¯”å¦‚åœ¨ 5 åˆ†é’Ÿå†…è¯·æ±‚ç§¯åˆ†æœåŠ¡ç›´æ¥</h5>
<h5 id="å°±è¿”å›äº†ä¸è¦å»èµ°ç½‘ç»œè¯·æ±‚å¡ä½å‡ ç§’é’Ÿè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ‰€è°“çš„ç†”æ–­">å°±è¿”å›äº†ï¼Œä¸è¦å»èµ°ç½‘ç»œè¯·æ±‚å¡ä½å‡ ç§’é’Ÿï¼Œè¿™ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯æ‰€è°“çš„ç†”æ–­ï¼</h5>
<h5 id="é‚£äººå®¶åˆè¯´å…„å¼Ÿç§¯åˆ†æœåŠ¡æŒ‚äº†ä½ å°±ç†”æ–­å¥½æ­¹ä½ å¹²ç‚¹å„¿ä»€ä¹ˆå•Šåˆ«å•¥éƒ½">é‚£äººå®¶åˆè¯´ï¼Œå…„å¼Ÿï¼Œç§¯åˆ†æœåŠ¡æŒ‚äº†ä½ å°±ç†”æ–­ï¼Œå¥½æ­¹ä½ å¹²ç‚¹å„¿ä»€ä¹ˆå•Šï¼åˆ«å•¥éƒ½</h5>
<h5 id="ä¸å¹²å°±ç›´æ¥è¿”å›å•Š-æ²¡é—®é¢˜å’±ä»¬å°±æ¥ä¸ªé™çº§æ¯æ¬¡è°ƒç”¨ç§¯åˆ†æœåŠ¡ä½ å°±åœ¨æ•°æ®">ä¸å¹²å°±ç›´æ¥è¿”å›å•Šï¼Ÿ æ²¡é—®é¢˜ï¼Œå’±ä»¬å°±æ¥ä¸ªé™çº§ï¼šæ¯æ¬¡è°ƒç”¨ç§¯åˆ†æœåŠ¡ï¼Œä½ å°±åœ¨æ•°æ®</h5>
<h5 id="åº“é‡Œè®°å½•ä¸€æ¡æ¶ˆæ¯è¯´ç»™æŸæŸç”¨æˆ·å¢åŠ äº†å¤šå°‘ç§¯åˆ†å› ä¸ºç§¯åˆ†æœåŠ¡æŒ‚äº†å¯¼è‡´æ²¡">åº“é‡Œè®°å½•ä¸€æ¡æ¶ˆæ¯ï¼Œè¯´ç»™æŸæŸç”¨æˆ·å¢åŠ äº†å¤šå°‘ç§¯åˆ†ï¼Œå› ä¸ºç§¯åˆ†æœåŠ¡æŒ‚äº†ï¼Œå¯¼è‡´æ²¡</h5>
<h5 id="å¢åŠ æˆåŠŸè¿™æ ·ç­‰ç§¯åˆ†æœåŠ¡æ¢å¤äº†ä½ å¯ä»¥æ ¹æ®è¿™äº›è®°å½•æ‰‹å·¥åŠ ä¸€ä¸‹ç§¯åˆ†è¿™ä¸ª">å¢åŠ æˆåŠŸï¼è¿™æ ·ç­‰ç§¯åˆ†æœåŠ¡æ¢å¤äº†ï¼Œä½ å¯ä»¥æ ¹æ®è¿™äº›è®°å½•æ‰‹å·¥åŠ ä¸€ä¸‹ç§¯åˆ†ã€‚è¿™ä¸ª</h5>
<h5 id="è¿‡ç¨‹å°±æ˜¯æ‰€è°“çš„é™çº§">è¿‡ç¨‹ï¼Œå°±æ˜¯æ‰€è°“çš„é™çº§ã€‚</h5>
<p>ä¸ºå¸®åŠ©å¤§å®¶æ›´ç›´è§‚çš„ç†è§£ï¼Œæ¥ä¸‹æ¥ç”¨ä¸€å¼ å›¾ï¼Œæ¢³ç†ä¸€ä¸‹Hystrixéš”ç¦».ç†”æ–­å’Œ
é™çº§çš„å…¨æµç¨‹ï¼š</p>
<p><strong>SpringCloudæ ¸å¿ƒç»„ä»¶ï¼šZuul</strong>
è¯´å®Œäº†Hystrixï¼Œæ¥ç€ç»™å¤§å®¶è¯´è¯´æœ€åä¸€ä¸ªç»„ä»¶ï¼šZuulï¼Œä¹Ÿå°±æ˜¯å¾®æœåŠ¡ç½‘å…³ã€‚
è¿™ä¸ªç»„ä»¶æ˜¯è´Ÿè´£ç½‘ç»œè·¯ç”±çš„ã€‚ä¸æ‡‚ç½‘ç»œè·¯ç”±ï¼Ÿè¡Œï¼Œé‚£æˆ‘ç»™ä½ è¯´è¯´ï¼Œå¦‚æœæ²¡æœ‰Zuul
çš„æ—¥å¸¸å·¥ä½œä¼šæ€æ ·ï¼Ÿ
å‡è®¾ä½ åå°éƒ¨ç½²äº†å‡ ç™¾ä¸ªæœåŠ¡ï¼Œç°åœ¨æœ‰ä¸ªå‰ç«¯å…„å¼Ÿï¼Œäººå®¶è¯·æ±‚æ˜¯ç›´æ¥ä»æµè§ˆ
å™¨é‚£å„¿å‘è¿‡æ¥çš„ã€‚ <strong>æ‰“ä¸ªæ¯”æ–¹</strong> ï¼šäººå®¶è¦è¯·æ±‚ä¸€ä¸‹åº“å­˜æœåŠ¡ï¼Œä½ éš¾é“è¿˜è®©äººå®¶è®°ç€è¿™
æœåŠ¡çš„åå­—å«åšinventory-serviceï¼Ÿéƒ¨ç½²åœ¨ 5 å°æœºå™¨ä¸Šï¼Ÿå°±ç®—äººå®¶è‚¯è®°ä½è¿™ä¸€
ä¸ªï¼Œä½ åå°å¯æœ‰å‡ ç™¾ä¸ªæœåŠ¡çš„åç§°å’Œåœ°å€å‘¢ï¼Ÿéš¾ä¸æˆäººå®¶è¯·æ±‚ä¸€ä¸ªï¼Œå°±å¾—è®°ä½ä¸€
ä¸ªï¼Ÿä½ è¦è¿™æ ·ç©å„¿ï¼Œé‚£çœŸæ˜¯å‹è°Šçš„å°èˆ¹ï¼Œè¯´ç¿»å°±ç¿»ï¼
ä¸Šé¢è¿™ç§æƒ…å†µï¼Œå‹æ ¹å„¿æ˜¯ä¸ç°å®çš„ã€‚æ‰€ä»¥ä¸€èˆ¬å¾®æœåŠ¡æ¶æ„ä¸­éƒ½å¿…ç„¶ä¼šè®¾è®¡ä¸€
ä¸ªç½‘å…³åœ¨é‡Œé¢ï¼Œåƒandroid.ios.pcå‰ç«¯.å¾®ä¿¡å°ç¨‹åº.H 5 ç­‰ç­‰ï¼Œä¸ç”¨å»å…³å¿ƒåç«¯
æœ‰å‡ ç™¾ä¸ªæœåŠ¡ï¼Œå°±çŸ¥é“æœ‰ä¸€ä¸ªç½‘å…³ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å¾€ç½‘å…³èµ°ï¼Œç½‘å…³ä¼šæ ¹æ®è¯·æ±‚ä¸­çš„
ä¸€äº›ç‰¹å¾ï¼Œå°†è¯·æ±‚è½¬å‘ç»™åç«¯çš„å„ä¸ªæœåŠ¡ã€‚</p>
<h5 id="è€Œä¸”æœ‰ä¸€ä¸ªç½‘å…³ä¹‹åè¿˜æœ‰å¾ˆå¤šå¥½å¤„æ¯”å¦‚å¯ä»¥åšç»Ÿä¸€çš„é™çº§é™æµè®¤è¯æˆ">è€Œä¸”æœ‰ä¸€ä¸ªç½‘å…³ä¹‹åï¼Œè¿˜æœ‰å¾ˆå¤šå¥½å¤„ï¼Œæ¯”å¦‚å¯ä»¥åšç»Ÿä¸€çš„é™çº§.é™æµ.è®¤è¯æˆ</h5>
<h5 id="æƒå®‰å…¨ç­‰ç­‰">æƒ.å®‰å…¨ï¼Œç­‰ç­‰ã€‚</h5>
<h3 id="9-3-springcloudå’Œdubboçš„åŒºåˆ«å¿…ä¼š">9 3 SpringCloudå’ŒDubboçš„åŒºåˆ«ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>SpringCloudï¼šSpringå…¬å¸å¼€æºçš„å¾®æœåŠ¡æ¡†æ¶ï¼ŒSpirngCloud å®šä½ä¸º
å¾®æœåŠ¡æ¶æ„ä¸‹çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼ˆå¾®æœåŠ¡ç”Ÿæ€ï¼‰ã€‚
Dubboï¼šé˜¿é‡Œå·´å·´å¼€æºçš„RPCæ¡†æ¶ï¼ŒDubbo æ˜¯ SOA æ—¶ä»£çš„äº§ç‰©ï¼Œå®ƒ
çš„å…³æ³¨ç‚¹ä¸»è¦åœ¨äºæœåŠ¡çš„è°ƒç”¨ï¼Œæµé‡åˆ†å‘ã€æµé‡ç›‘æ§å’Œç†”æ–­ã€‚</p>
<p>SpringCloud çš„åŠŸèƒ½å¾ˆæ˜æ˜¾æ¯” Dubbo æ›´åŠ å¼ºå¤§ï¼Œæ¶µç›–é¢æ›´å¹¿ï¼Œè€Œä¸”
ä½œä¸º Spring çš„æ——èˆ°é¡¹ç›®ï¼Œå®ƒä¹Ÿèƒ½å¤Ÿä¸ SpringFrameworkã€SpringBootã€
SpringDataã€SpringBatch ç­‰å…¶ä»– Spring é¡¹ç›®å®Œç¾èåˆï¼Œè¿™äº›å¯¹äºå¾®æœåŠ¡
è€Œè¨€æ˜¯è‡³å…³é‡è¦çš„ã€‚
ä½¿ç”¨ Dubbo æ„å»ºçš„å¾®æœåŠ¡æ¶æ„å°±åƒç»„è£…ç”µè„‘ï¼Œå„ç¯èŠ‚é€‰æ‹©è‡ªç”±åº¦å¾ˆ
é«˜ï¼Œä½†æ˜¯æœ€ç»ˆç»“æœå¾ˆæœ‰å¯èƒ½å› ä¸ºä¸€æ¡å†…å­˜è´¨é‡ä¸è¡Œå°±ç‚¹ä¸äº®äº†ï¼Œæ€»æ˜¯è®©äººä¸æ€ä¹ˆ
æ”¾å¿ƒï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨è€…æ˜¯ä¸€åé«˜æ‰‹ï¼Œé‚£è¿™äº›éƒ½ä¸æ˜¯é—®é¢˜ã€‚</p>
<p>è€Œ SpringCloudå°±åƒå“ç‰Œæœºï¼Œåœ¨ SpringSource çš„æ•´åˆä¸‹ï¼Œåšäº†å¤§
é‡çš„å…¼å®¹æ€§æµ‹è¯•ï¼Œä¿è¯äº†æœºå™¨æ‹¥æœ‰æ›´é«˜çš„ç¨³å®šæ€§ï¼Œä½†æ˜¯å¦‚æœè¦åœ¨ä½¿ç”¨éåŸè£…ç»„ä»¶
å¤–çš„ä¸œè¥¿ï¼Œå°±éœ€è¦å¯¹å…¶åŸºç¡€åŸç†æœ‰è¶³å¤Ÿçš„äº†è§£ã€‚</p>
<h3 id="9-4-ä½¿ç”¨springcloudçš„ä¼˜ç¼ºç‚¹å¿…ä¼š">9 4 ä½¿ç”¨SpringCloudçš„ä¼˜ç¼ºç‚¹ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="ä¼˜ç‚¹">ä¼˜ç‚¹ï¼š</h5>
<h5 id="1-æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†æœ‰åˆ©äºèµ„æºé‡å¤åˆ©ç”¨æœ‰åˆ©äºæé«˜å¼€å‘æ•ˆç‡">1 ã€æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†ï¼Œæœ‰åˆ©äºèµ„æºé‡å¤åˆ©ç”¨ï¼Œæœ‰åˆ©äºæé«˜å¼€å‘æ•ˆç‡</h5>
<h5 id="2-å¯ä»¥æ›´ç²¾å‡†çš„åˆ¶å®šä¼˜åŒ–æœåŠ¡æ–¹æ¡ˆæé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§">2 ã€å¯ä»¥æ›´ç²¾å‡†çš„åˆ¶å®šä¼˜åŒ–æœåŠ¡æ–¹æ¡ˆï¼Œæé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§</h5>
<p>3 ã€å¾®æœåŠ¡æ¶æ„é‡‡ç”¨å»ä¸­å¿ƒåŒ–æ€æƒ³ï¼ŒæœåŠ¡ä¹‹é—´é‡‡ç”¨Restfulç­‰è½»é‡çº§é€šè®¯ï¼Œæ¯”
ESBæ›´è½»é‡
4 ã€é€‚äºäº’è”ç½‘æ—¶ä»£ï¼Œäº§å“è¿­ä»£å‘¨æœŸæ›´çŸ­
<strong>ç¼ºç‚¹ï¼š</strong>
1 ã€å¾®æœåŠ¡è¿‡å¤šï¼Œæ²»ç†æˆæœ¬é«˜ï¼Œä¸åˆ©äºç»´æŠ¤ç³»ç»Ÿ
2 ã€åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘çš„æˆæœ¬é«˜ï¼ˆå®¹é”™ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡ç­‰ï¼‰å¯¹å›¢é˜ŸæŒ‘æˆ˜å¤§</p>
<p>æ€»çš„æ¥è¯´ä¼˜ç‚¹å¤§è¿‡äºç¼ºç‚¹ï¼Œç›®å‰çœ‹æ¥SpringCloudæ˜¯ä¸€å¥—éå¸¸å®Œå–„çš„åˆ†å¸ƒ
å¼æ¡†æ¶ï¼Œç›®å‰å¾ˆå¤šä¼ä¸šå¼€å§‹ç”¨å¾®æœåŠ¡ã€SpringCloud çš„ä¼˜åŠ¿æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚å› 
æ­¤å¯¹äºæƒ³ç ”ç©¶å¾®æœåŠ¡æ¶æ„çš„åŒå­¦æ¥è¯´ï¼Œå­¦ä¹  SpringCloudæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<h3 id="9-5-æœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€springcloudå¦‚ä½•å®ç°å¿…ä¼š">9 5 æœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸSpringCloudå¦‚ä½•å®ç°ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="å½“æˆ‘ä»¬å¼€å§‹ä¸€ä¸ªé¡¹ç›®æ—¶æˆ‘ä»¬é€šå¸¸åœ¨å±æ€§æ–‡ä»¶ä¸­è¿›è¡Œæ‰€æœ‰çš„é…ç½®éšç€è¶Šæ¥">å½“æˆ‘ä»¬å¼€å§‹ä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨å±æ€§æ–‡ä»¶ä¸­è¿›è¡Œæ‰€æœ‰çš„é…ç½®ã€‚éšç€è¶Šæ¥</h5>
<h5 id="è¶Šå¤šçš„æœåŠ¡å¼€å‘å’Œéƒ¨ç½²æ·»åŠ å’Œä¿®æ”¹è¿™äº›å±æ€§å˜å¾—æ›´åŠ å¤æ‚æœ‰äº›æœåŠ¡å¯èƒ½ä¼šä¸‹">è¶Šå¤šçš„æœåŠ¡å¼€å‘å’Œéƒ¨ç½²ï¼Œæ·»åŠ å’Œä¿®æ”¹è¿™äº›å±æ€§å˜å¾—æ›´åŠ å¤æ‚ã€‚æœ‰äº›æœåŠ¡å¯èƒ½ä¼šä¸‹</h5>
<p>é™ï¼Œè€ŒæŸäº›ä½ç½®å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚æ‰‹åŠ¨æ›´æ”¹å±æ€§å¯èƒ½ä¼šäº§ç”Ÿé—®é¢˜ã€‚EurekaæœåŠ¡
æ³¨å†Œå’Œå‘ç°å¯ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹æä¾›å¸®åŠ©ã€‚ç”±äºæ‰€æœ‰æœåŠ¡éƒ½åœ¨EurekaæœåŠ¡å™¨ä¸Šæ³¨
å†Œå¹¶é€šè¿‡è°ƒç”¨EurekaæœåŠ¡å™¨å®ŒæˆæŸ¥æ‰¾ï¼Œå› æ­¤æ— éœ€å¤„ç†æœåŠ¡åœ°ç‚¹çš„ä»»ä½•æ›´æ”¹å’Œå¤„
ç†ã€‚</p>
<h3 id="9-6-è´Ÿè½½å¹³è¡¡çš„æ„ä¹‰ä»€ä¹ˆå¿…ä¼š">9 6 è´Ÿè½½å¹³è¡¡çš„æ„ä¹‰ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="åœ¨è®¡ç®—ä¸­è´Ÿè½½å¹³è¡¡å¯ä»¥æ”¹å–„è·¨è®¡ç®—æœºè®¡ç®—æœºé›†ç¾¤ç½‘ç»œé“¾æ¥ä¸­å¤®å¤„ç†">åœ¨è®¡ç®—ä¸­ï¼Œè´Ÿè½½å¹³è¡¡å¯ä»¥æ”¹å–„è·¨è®¡ç®—æœºï¼Œè®¡ç®—æœºé›†ç¾¤ï¼Œç½‘ç»œé“¾æ¥ï¼Œä¸­å¤®å¤„ç†</h5>
<h5 id="å•å…ƒæˆ–ç£ç›˜é©±åŠ¨å™¨ç­‰å¤šç§è®¡ç®—èµ„æºçš„å·¥ä½œè´Ÿè½½åˆ†å¸ƒè´Ÿè½½å¹³è¡¡æ—¨åœ¨ä¼˜åŒ–èµ„æºä½¿">å•å…ƒæˆ–ç£ç›˜é©±åŠ¨å™¨ç­‰å¤šç§è®¡ç®—èµ„æºçš„å·¥ä½œè´Ÿè½½åˆ†å¸ƒã€‚è´Ÿè½½å¹³è¡¡æ—¨åœ¨ä¼˜åŒ–èµ„æºä½¿</h5>
<h5 id="ç”¨æœ€å¤§åŒ–ååé‡æœ€å°åŒ–å“åº”æ—¶é—´å¹¶é¿å…ä»»ä½•å•ä¸€èµ„æºçš„è¿‡è½½ä½¿ç”¨å¤šä¸ªç»„ä»¶">ç”¨ï¼Œæœ€å¤§åŒ–ååé‡ï¼Œæœ€å°åŒ–å“åº”æ—¶é—´å¹¶é¿å…ä»»ä½•å•ä¸€èµ„æºçš„è¿‡è½½ã€‚ä½¿ç”¨å¤šä¸ªç»„ä»¶</h5>
<h5 id="è¿›è¡Œè´Ÿè½½å¹³è¡¡è€Œä¸æ˜¯å•ä¸ªç»„ä»¶å¯èƒ½ä¼šé€šè¿‡å†—ä½™æ¥æé«˜å¯é æ€§å’Œå¯ç”¨æ€§è´Ÿè½½å¹³è¡¡">è¿›è¡Œè´Ÿè½½å¹³è¡¡è€Œä¸æ˜¯å•ä¸ªç»„ä»¶å¯èƒ½ä¼šé€šè¿‡å†—ä½™æ¥æé«˜å¯é æ€§å’Œå¯ç”¨æ€§ã€‚è´Ÿè½½å¹³è¡¡</h5>
<h5 id="é€šå¸¸æ¶‰åŠä¸“ç”¨è½¯ä»¶æˆ–ç¡¬ä»¶ä¾‹å¦‚å¤šå±‚äº¤æ¢æœºæˆ–åŸŸåç³»ç»ŸæœåŠ¡å™¨è¿›ç¨‹">é€šå¸¸æ¶‰åŠä¸“ç”¨è½¯ä»¶æˆ–ç¡¬ä»¶ï¼Œä¾‹å¦‚å¤šå±‚äº¤æ¢æœºæˆ–åŸŸåç³»ç»ŸæœåŠ¡å™¨è¿›ç¨‹ã€‚</h5>
<h3 id="9-7-ä»€ä¹ˆæ˜¯hystrixå®ƒå¦‚ä½•å®ç°å®¹é”™å¿…ä¼š">9 7 ä»€ä¹ˆæ˜¯Hystrixï¼Ÿå®ƒå¦‚ä½•å®ç°å®¹é”™ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>Hystrixæ˜¯ä¸€ä¸ªå»¶è¿Ÿå’Œå®¹é”™åº“ï¼Œæ—¨åœ¨éš”ç¦»è¿œç¨‹ç³»ç»Ÿï¼ŒæœåŠ¡å’Œç¬¬ä¸‰æ–¹åº“çš„è®¿é—®
ç‚¹ï¼Œå½“å‡ºç°æ•…éšœæ˜¯ä¸å¯é¿å…çš„æ•…éšœæ—¶ï¼Œåœæ­¢çº§è”æ•…éšœå¹¶åœ¨å¤æ‚çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®
ç°å¼¹æ€§ã€‚
é€šå¸¸å¯¹äºä½¿ç”¨å¾®æœåŠ¡æ¶æ„å¼€å‘çš„ç³»ç»Ÿï¼Œæ¶‰åŠåˆ°è®¸å¤šå¾®æœåŠ¡ã€‚è¿™äº›å¾®æœåŠ¡å½¼æ­¤
åä½œã€‚</p>
<h5 id="æ€è€ƒä»¥ä¸‹å¾®æœåŠ¡">æ€è€ƒä»¥ä¸‹å¾®æœåŠ¡</h5>
<h5 id="å‡è®¾å¦‚æœä¸Šå›¾ä¸­çš„å¾®æœåŠ¡-9-å¤±è´¥äº†é‚£ä¹ˆä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•æˆ‘ä»¬å°†ä¼ æ’­ä¸€ä¸ªå¼‚">å‡è®¾å¦‚æœä¸Šå›¾ä¸­çš„å¾®æœåŠ¡ 9 å¤±è´¥äº†ï¼Œé‚£ä¹ˆä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•æˆ‘ä»¬å°†ä¼ æ’­ä¸€ä¸ªå¼‚</h5>
<h5 id="å¸¸ä½†è¿™ä»ç„¶ä¼šå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒ">å¸¸ã€‚ä½†è¿™ä»ç„¶ä¼šå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒã€‚</h5>
<h5 id="éšç€å¾®æœåŠ¡æ•°é‡çš„å¢åŠ è¿™ä¸ªé—®é¢˜å˜å¾—æ›´åŠ å¤æ‚å¾®æœåŠ¡çš„æ•°é‡å¯ä»¥é«˜è¾¾">éšç€å¾®æœåŠ¡æ•°é‡çš„å¢åŠ ï¼Œè¿™ä¸ªé—®é¢˜å˜å¾—æ›´åŠ å¤æ‚ã€‚å¾®æœåŠ¡çš„æ•°é‡å¯ä»¥é«˜è¾¾</h5>
<p>1000 .è¿™æ˜¯hystrixå‡ºç°çš„åœ°æ–¹ æˆ‘ä»¬å°†ä½¿ç”¨Hystrixåœ¨è¿™ç§æƒ…å†µä¸‹çš„Fallbackæ–¹
æ³•åŠŸèƒ½ã€‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªæœåŠ¡employee-consumerä½¿ç”¨ç”±employee-consumer
å…¬å¼€çš„æœåŠ¡ã€‚
ç°åœ¨å‡è®¾ç”±äºæŸç§åŸå› ï¼Œemployee-producerå…¬å¼€çš„æœåŠ¡ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚æˆ‘
ä»¬åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨Hystrixå®šä¹‰äº†ä¸€ä¸ªå›é€€æ–¹æ³•ã€‚è¿™ç§åå¤‡æ–¹æ³•åº”è¯¥å…·æœ‰ä¸å…¬
å¼€æœåŠ¡ç›¸åŒçš„è¿”å›ç±»å‹ã€‚å¦‚æœæš´éœ²æœåŠ¡ä¸­å‡ºç°å¼‚å¸¸ï¼Œåˆ™å›é€€æ–¹æ³•å°†è¿”å›ä¸€äº›å€¼ã€‚</p>
<h3 id="9-8-ä»€ä¹ˆæ˜¯hystrixæ–­è·¯å™¨æˆ‘ä»¬éœ€è¦å®ƒå—äº†è§£">9 8 ä»€ä¹ˆæ˜¯Hystrixæ–­è·¯å™¨ï¼Ÿæˆ‘ä»¬éœ€è¦å®ƒå—ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>ç”±äºæŸäº›åŸå› ï¼Œemployee-consumerå…¬å¼€æœåŠ¡ä¼šå¼•å‘å¼‚å¸¸ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹
ä½¿ç”¨Hystrixæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå›é€€æ–¹æ³•ã€‚å¦‚æœåœ¨å…¬å¼€æœåŠ¡ä¸­å‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™å›é€€æ–¹
æ³•è¿”å›ä¸€äº›é»˜è®¤å€¼ã€‚
å¦‚æœfirstPagemethod() ä¸­çš„å¼‚å¸¸ç»§ç»­å‘ç”Ÿï¼Œåˆ™Hystrixç”µè·¯å°†ä¸­æ–­ï¼Œå¹¶
ä¸”å‘˜å·¥ä½¿ç”¨è€…å°†ä¸€èµ·è·³è¿‡firtsPageæ–¹æ³•ï¼Œå¹¶ç›´æ¥è°ƒç”¨å›é€€æ–¹æ³•ã€‚ æ–­è·¯å™¨çš„ç›®
çš„æ˜¯ç»™ç¬¬ä¸€é¡µæ–¹æ³•æˆ–ç¬¬ä¸€é¡µæ–¹æ³•å¯èƒ½è°ƒç”¨çš„å…¶ä»–æ–¹æ³•ç•™å‡ºæ—¶é—´ï¼Œå¹¶å¯¼è‡´å¼‚å¸¸æ¢
å¤ã€‚å¯èƒ½å‘ç”Ÿçš„æƒ…å†µæ˜¯ï¼Œåœ¨è´Ÿè½½è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œå¯¼è‡´å¼‚å¸¸çš„é—®é¢˜æœ‰æ›´å¥½çš„æ¢å¤æœº
ä¼š ã€‚</p>
<h3 id="9-9-ä»€ä¹ˆæ˜¯netflixfeignå®ƒçš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆäº†è§£">9 9 ä»€ä¹ˆæ˜¯NetflixFeignï¼Ÿå®ƒçš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>Feignæ˜¯å—åˆ°Retrofitï¼ŒJAXRS- 2. 0 å’ŒWebSocketå¯å‘çš„javaå®¢æˆ·ç«¯è”ç¼–
ç¨‹åºã€‚Feignçš„ç¬¬ä¸€ä¸ªç›®æ ‡æ˜¯å°†çº¦æŸåˆ†æ¯çš„å¤æ‚æ€§ç»Ÿä¸€åˆ°httpapisï¼Œè€Œä¸è€ƒè™‘
å…¶ç¨³å®šæ€§ã€‚åœ¨employee-consumerçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†
employee-producerä½¿ç”¨RESTæ¨¡æ¿å…¬å¼€çš„RESTæœåŠ¡ã€‚
ä½†æ˜¯æˆ‘ä»¬å¿…é¡»ç¼–å†™å¤§é‡ä»£ç æ‰èƒ½æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š
1 .ä½¿ç”¨åŠŸèƒ½åŒºè¿›è¡Œè´Ÿè½½å¹³è¡¡ã€‚
2 .è·å–æœåŠ¡å®ä¾‹ï¼Œç„¶åè·å–åŸºæœ¬URLã€‚
3 .åˆ©ç”¨RESTæ¨¡æ¿æ¥ä½¿ç”¨æœåŠ¡ã€‚
<strong>å‰é¢çš„ä»£ç å¦‚ä¸‹</strong>
@Controller
p@uAbulictocwlairsesdConsumerControllerClient{
ppruivbalitcevLooidadgBeatlEamncpelorCyleieen()ttlhoraodwBsalRaenscteCrl;ientException,IOException{
ServiceInstanceserviceInstance=loadBalancer.choose(&ldquo;employee-producer&rdquo;);
SSytrsitnegmb.oauset.Uprril=ntslenr(vsiecrevIincestIannstcaen.gceet.gUerti(U).rtio()S)t;ring();
bRaessetTUerml=pblaasteeUrersl+tT&quot;e/emmpplaltoey=ee&quot;n;ewRestTemplate();
ResponseEntity<!-- raw HTML omitted -->response=null;
trreys{ponse=restTemplate.exchange(baseUrl,
}catch(EHxctetppMtioentheoxd).GET,getHeaders(),String.class);
{
} System.out.println(ex);
} System.out.println(response.getBody());
ä¹‹å‰çš„ä»£ç ï¼Œæœ‰åƒNullPointerè¿™æ ·çš„ä¾‹å¤–çš„æœºä¼šï¼Œå¹¶ä¸æ˜¯æœ€ä¼˜çš„ã€‚æˆ‘ä»¬å°†
çœ‹åˆ°å¦‚ä½•ä½¿ç”¨NetflixFeignä½¿å‘¼å«å˜å¾—æ›´åŠ è½»æ¾å’Œæ¸…æ´ã€‚å¦‚æœNetflixRibbon</p>
<p>ä¾èµ–å…³ç³»ä¹Ÿåœ¨ç±»è·¯å¾„ä¸­ï¼Œé‚£ä¹ˆFeigné»˜è®¤ä¹Ÿä¼šè´Ÿè´£è´Ÿè½½å¹³è¡¡ã€‚</p>
<h3 id="9-10-ä»€ä¹ˆæ˜¯springcloudbusæˆ‘ä»¬éœ€è¦å®ƒå—äº†è§£">9 10 ä»€ä¹ˆæ˜¯SpringCloudBusï¼Ÿæˆ‘ä»¬éœ€è¦å®ƒå—ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>è€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼šæˆ‘ä»¬æœ‰å¤šä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨SpringCloudConfigè¯»å–å±æ€§ï¼Œ
è€ŒSpringcloudConfigä»GITè¯»å–è¿™äº›å±æ€§ã€‚
ä¸‹é¢çš„ä¾‹å­ä¸­å¤šä¸ªå‘˜å·¥ç”Ÿäº§è€…æ¨¡å—ä»EmployeeConfigModuleè·å–
Eurekaæ³¨å†Œçš„è´¢äº§ã€‚
å¦‚æœå‡è®¾GITä¸­çš„Eurekaæ³¨å†Œå±æ€§æ›´æ”¹ä¸ºæŒ‡å‘å¦ä¸€å°EurekaæœåŠ¡å™¨ï¼Œä¼š
å‘ç”Ÿä»€ä¹ˆæƒ…å†µã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä¸å¾—ä¸é‡æ–°å¯åŠ¨æœåŠ¡ä»¥è·å–æ›´æ–°çš„å±æ€§ã€‚
è¿˜æœ‰å¦ä¸€ç§ä½¿ç”¨æ‰§è¡Œå™¨ç«¯ç‚¹/åˆ·æ–°çš„æ–¹å¼ã€‚ä½†æ˜¯æˆ‘ä»¬å°†ä¸å¾—ä¸ä¸ºæ¯ä¸ªæ¨¡å—å•
ç‹¬è°ƒç”¨è¿™ä¸ªurlã€‚ä¾‹å¦‚ï¼Œå¦‚æœEmployeeProducer 1 éƒ¨ç½²åœ¨ç«¯å£ 8080 ä¸Šï¼Œåˆ™è°ƒ
ç”¨ httpï¼š//localhostï¼š 8080 /refreshã€‚åŒæ ·å¯¹äºEmployeeProducer 2 httpï¼š
//localhostï¼š 8081 /refreshç­‰ç­‰ã€‚è¿™åˆå¾ˆéº»çƒ¦ã€‚è¿™å°±æ˜¯SpringCloudBuså‘
æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚
SpringCloudBusæä¾›äº†è·¨å¤šä¸ªå®ä¾‹åˆ·æ–°é…ç½®çš„åŠŸèƒ½ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ç¤º
ä¾‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬åˆ·æ–°EmployeeProducer 1 ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ·æ–°æ‰€æœ‰å…¶ä»–å¿…éœ€çš„æ¨¡
å—ã€‚å¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªå¾®æœåŠ¡å¯åŠ¨å¹¶è¿è¡Œï¼Œè¿™ç‰¹åˆ«æœ‰ç”¨ã€‚è¿™æ˜¯é€šè¿‡å°†æ‰€æœ‰å¾®æœåŠ¡è¿
æ¥åˆ°å•ä¸ªæ¶ˆæ¯ä»£ç†æ¥å®ç°çš„ã€‚æ— è®ºä½•æ—¶åˆ·æ–°å®ä¾‹ï¼Œæ­¤äº‹ä»¶éƒ½ä¼šè®¢é˜…åˆ°ä¾¦å¬æ­¤ä»£ç†
çš„æ‰€æœ‰å¾®æœåŠ¡ï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿä¼šåˆ·æ–°ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨ç«¯ç‚¹/æ€»çº¿/åˆ·æ–°æ¥å®ç°å¯¹ä»»ä½•
å•ä¸ªå®ä¾‹çš„åˆ·æ–°ã€‚</p>
<h3 id="9-11-eurekaå’Œzookeeperæ³¨å†Œä¸­å¿ƒçš„åŒºåˆ«é«˜æ–°å¸¸é—®">9 11 Eurekaå’ŒZookeeperæ³¨å†Œä¸­å¿ƒçš„åŒºåˆ«ï¼ˆé«˜æ–°å¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="å…ˆçœ‹ä¸‹capåŸåˆ™c-æ•°æ®ä¸€è‡´æ€§a-æœåŠ¡å¯ç”¨æ€§p-æœåŠ¡å¯¹ç½‘ç»œåˆ†åŒº">å…ˆçœ‹ä¸‹CAPåŸåˆ™ï¼šC-æ•°æ®ä¸€è‡´æ€§ï¼›A-æœåŠ¡å¯ç”¨æ€§ï¼›P-æœåŠ¡å¯¹ç½‘ç»œåˆ†åŒº</h5>
<h5 id="æ•…éšœçš„å®¹é”™æ€§è¿™ä¸‰ä¸ªç‰¹æ€§åœ¨ä»»ä½•åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸èƒ½åŒæ—¶æ»¡è¶³æœ€å¤šåŒæ—¶æ»¡è¶³ä¸¤">æ•…éšœçš„å®¹é”™æ€§ï¼Œè¿™ä¸‰ä¸ªç‰¹æ€§åœ¨ä»»ä½•åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸èƒ½åŒæ—¶æ»¡è¶³ï¼Œæœ€å¤šåŒæ—¶æ»¡è¶³ä¸¤</h5>
<h5 id="ä¸ª">ä¸ªï¼š</h5>
<p>1 .Eurekaæ»¡è¶³APï¼ŒZookeeperæ»¡è¶³CP
2 .Zookeeperæ»¡è¶³ä¸€è‡´æ€§ã€å®¹é”™æ€§ã€‚æ•°æ®è¦åœ¨å„ä¸ªæœåŠ¡é—´åŒæ­¥å®Œæˆåæ‰
è¿”å›ç”¨æˆ·ç»“æœï¼Œè€Œä¸”å¦‚æœæœåŠ¡å‡ºç°ç½‘ç»œæ³¢åŠ¨ï¼Œä¼šç«‹å³ä»æœåŠ¡åˆ—è¡¨ä¸­å‰”é™¤ï¼ŒæœåŠ¡ä¸
å¯ä½¿ç”¨
3 .Eurekaæ»¡è¶³APï¼Œå¯ç”¨æ€§ï¼Œå®¹é”™æ€§ã€‚å½“å› ç½‘ç»œæ•…éšœæ—¶ï¼ŒEurekaçš„è‡ªæˆ‘
ä¿æŠ¤æœºåˆ¶ä¸ä¼šç«‹å³å‰”é™¤æœåŠ¡ï¼Œè™½ç„¶ç”¨æˆ·è·å–åˆ°çš„æœåŠ¡ä¸ä¸€å®šæ—¶å¯ç”¨çš„ï¼Œä½†æ˜¯è‡³å°‘
èƒ½å¤Ÿè·å–åˆ°æœåŠ¡åˆ—è¡¨ã€‚ç”¨æˆ·è®¿é—®æœåŠ¡åˆ—è¡¨æ—¶è¿˜å¯ä»¥åˆ©ç”¨é‡è¯•æœºåˆ¶ï¼Œæ‰¾åˆ°æ­£ç¡®çš„æœ
åŠ¡ã€‚æ›´ç¬¦åˆåˆ†å¸ƒå¼æœåŠ¡çš„é«˜å¯ç”¨éœ€æ±‚
4 .Eurekaé›†ç¾¤å„èŠ‚ç‚¹å¹³ç­‰ï¼ŒZookeeperä¸­æœ‰ä¸»ä»ä¹‹åˆ†
5. å¦‚æœZookeeperé›†ç¾¤ä¸­éƒ¨åˆ†å®•æœºï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªé›†ç¾¤å› ä¸ºé€‰ä¸»è€Œ
é˜»å¡ï¼ŒæœåŠ¡ä¸å¯ç”¨
6 .eurekaé›†ç¾¤å®•æœºéƒ¨åˆ†ï¼Œä¸ä¼šå¯¹å…¶å®ƒæœºå™¨äº§ç”Ÿå½±å“
7 .Eurekaçš„æœåŠ¡å‘ç°éœ€è¦ä¸»åŠ¨å»æ‹‰å–ï¼ŒZookeeperæœåŠ¡å‘ç°æ˜¯ç›‘å¬æœº
åˆ¶
8 .eurekaä¸­è·å–æœåŠ¡åˆ—è¡¨åä¼šç¼“å­˜èµ·æ¥ï¼Œæ¯éš” 30 ç§’é‡æ–°æ‹‰å–æœåŠ¡åˆ—è¡¨
9 .zookeeperåˆ™æ˜¯ç›‘å¬èŠ‚ç‚¹ä¿¡æ¯å˜åŒ–ï¼Œå½“æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯å˜åŒ–æ—¶ï¼Œå®¢æˆ·ç«¯
ç«‹å³å°±å¾—åˆ°é€šçŸ¥</p>
<h2 id="åä¹ä¼˜å•†åŸ">å.ä¹ä¼˜å•†åŸ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<h3 id="10-1-é¡¹ç›®ä»‹ç»">10 1 é¡¹ç›®ä»‹ç»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="ä¹ä¼˜å•†åŸæ˜¯ä¸€ä¸ªåŸºäºå¾®æœåŠ¡æ¶æ„çš„å…¨å“ç±»çš„-b-2-cç”µå•†è´­ç‰©ç½‘ç«™æ•´ä¸ªé¡¹ç›®">ä¹ä¼˜å•†åŸæ˜¯ä¸€ä¸ªåŸºäºå¾®æœåŠ¡æ¶æ„çš„ã€å…¨å“ç±»çš„ B 2 Cç”µå•†è´­ç‰©ç½‘ç«™ï¼Œæ•´ä¸ªé¡¹ç›®</h5>
<h5 id="åˆ†ä¸ºåå°ç®¡ç†å’Œå‰å°é—¨æˆ·ä¸¤ä¸ªå…¥å£ç”¨æˆ·å¯ä»¥åœ¨å‰å°é—¨æˆ·è¿›è¡Œå•†å“çš„æµè§ˆæœç´¢">åˆ†ä¸ºåå°ç®¡ç†å’Œå‰å°é—¨æˆ·ä¸¤ä¸ªå…¥å£ã€‚ç”¨æˆ·å¯ä»¥åœ¨å‰å°é—¨æˆ·è¿›è¡Œå•†å“çš„æµè§ˆã€æœç´¢ã€</h5>
<h5 id="è´­ç‰©è½¦ä¸‹å•æ”¯ä»˜å’Œä¸ªäººç®¡ç†ç­‰æ“ä½œåœ¨åå°ç®¡ç†ä¸­ç®¡ç†å‘˜å¯ä»¥å¯¹å•†å“è¿›è¡Œç®¡">è´­ç‰©è½¦ã€ä¸‹å•ã€æ”¯ä»˜å’Œä¸ªäººç®¡ç†ç­‰æ“ä½œã€‚åœ¨åå°ç®¡ç†ä¸­ç®¡ç†å‘˜å¯ä»¥å¯¹å•†å“è¿›è¡Œç®¡</h5>
<h5 id="ç†åˆ¶å®šä¿ƒé”€æ´»åŠ¨ç›‘æ§å•†å“é”€å”®çŠ¶æ€ä¸è®¢å•è¿›å±•æƒ…å†µç­‰">ç†ã€åˆ¶å®šä¿ƒé”€æ´»åŠ¨ã€ç›‘æ§å•†å“é”€å”®çŠ¶æ€ä¸è®¢å•è¿›å±•æƒ…å†µç­‰ã€‚</h5>
<p>ä¹ä¼˜å•†åŸé‡‡ç”¨äº†å¾®æœåŠ¡æ¶æ„ï¼Œå¾®æœåŠ¡æŠ€æœ¯é‡‡ç”¨äº†SpringCloudæŠ€æœ¯æ ˆï¼Œå„ä¸ª
å¾®æœåŠ¡ç«™ç‚¹åŸºäºSpringBootæ„å»ºï¼Œå¹¶é‡‡ç”¨SpringCloudGatewayå°†å„ä¸ªå¾®æœ
åŠ¡çš„åŠŸèƒ½ä¸²è”èµ·æ¥ï¼Œå½¢æˆä¸€å¥—å¥—ç³»ç»Ÿï¼ŒåŒæ—¶åœ¨å¾®æœåŠ¡ç½‘å…³Gatewayä¸­é‡‡ç”¨è¿‡æ»¤
å’Œé™æµç­–ç•¥ï¼Œå®æ–½å¯¹å¾®æœåŠ¡è¿›è¡Œä¿æŠ¤å’Œæƒé™è®¤è¯æ“ä½œã€‚é¡¹ç›®é‡‡ç”¨äº†JWTæŠ€æœ¯è§£
å†³äº†å„ä¸ªå¾®æœåŠ¡ä¹‹é—´çš„å•ç‚¹ç™»å½•å’Œç”¨æˆ·æˆæƒã€‚é¡¹ç›®ä¸­ä½¿ç”¨Atomikosæ¥è§£å†³å¾®æœ
åŠ¡ä¸å¾®æœåŠ¡ä¹‹é—´çš„åˆ†å¸ƒå¼äº‹åŠ¡ã€‚é‡‡ç”¨äº†Elasticsearchè§£å†³äº†æµ·é‡å•†å“çš„å®æ—¶æ£€
ç´¢ã€‚æ•°æ®å­˜å‚¨é‡‡ç”¨äº†MySQLï¼Œå¹¶ç»“åˆCanalå®ç°æ•°æ®åŒæ­¥æ“ä½œï¼Œåˆ©ç”¨Redisåš
æ•°æ®ç¼“å­˜æ“ä½œã€‚å„ä¸ªå¾®æœåŠ¡ä¹‹é—´é‡‡ç”¨RabbitMQå®ç°å¼‚æ­¥é€šä¿¡ã€‚ä½¿ç”¨thymeleaf
åšé¡µé¢é™æ€åŒ–è¿›è¡Œæ€§èƒ½æå‡ã€‚åœ¨å®ç°è´­ç‰©è½¦åŠŸèƒ½æˆ‘ä»¬åˆ†ä¸ºæœªç™»å½•å’Œå·²ç™»å½•ï¼Œæœªç™»
å½•æˆ‘ä»¬é‡‡å–localstorageè¿›è¡Œå­˜å‚¨ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<h4 id="10-1-1-ä»€ä¹ˆæ˜¯å¾®æœåŠ¡">10 1 1 ä»€ä¹ˆæ˜¯å¾®æœåŠ¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>ï¼ˆMartinFowleræå‡ºçš„å¾®æœåŠ¡ï¼‰å¾®æœåŠ¡æ¶æ„å°±æ˜¯å°†å•ä¸€ç¨‹åºå¼€å‘æˆä¸€ä¸ªå¾®
æœåŠ¡ï¼Œæ¯ä¸ªå¾®æœåŠ¡è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶ä½¿ç”¨è½»é‡çº§çš„æœºåˆ¶é€šä¿¡ï¼Œé€šå¸¸æ˜¯HTTP
RESTFULAPIã€‚è¿™äº›æœåŠ¡å›´ç»•ä¸šåŠ¡èƒ½åŠ›æ¥åˆ’åˆ†ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–éƒ¨ç½²æœºåˆ¶æ¥ç‹¬ç«‹éƒ¨</p>
<h5 id="ç½²è¿™äº›æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸åŒæ•°æ®åº“ä»¥ä¿è¯æœ€ä½é™åº¦çš„é›†ä¸­å¼">ç½²ã€‚è¿™äº›æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸åŒæ•°æ®åº“ï¼Œä»¥ä¿è¯æœ€ä½é™åº¦çš„é›†ä¸­å¼</h5>
<h5 id="ç®¡ç†">ç®¡ç†ã€‚</h5>
<h5 id="æ€»ç»“æ¥è¯´å¾®æœåŠ¡åˆç§°å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„ç³»ç»Ÿå°±æ˜¯å°†ä¸€ä¸ªå•">æ€»ç»“æ¥è¯´ï¼šå¾®æœåŠ¡ï¼Œåˆç§°å¾®æœåŠ¡æ¶æ„ï¼Œæ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„ç³»ç»Ÿã€‚å°±æ˜¯å°†ä¸€ä¸ªå•</h5>
<h5 id="ä½“æ¶æ„çš„åº”ç”¨æŒ‰ä¸šåŠ¡åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªç‹¬ç«‹è¿è¡Œçš„ç¨‹åºå³æœåŠ¡å®ƒä»¬ä¹‹é—´é€šè¿‡http">ä½“æ¶æ„çš„åº”ç”¨æŒ‰ä¸šåŠ¡åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªç‹¬ç«‹è¿è¡Œçš„ç¨‹åºå³æœåŠ¡ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡HTTP</h5>
<h5 id="åè®®è¿›è¡Œé€šä¿¡å¯ä»¥é‡‡ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä½¿ç”¨ä¸åŒçš„å­˜å‚¨æŠ€æœ¯è‡ªåŠ¨åŒ–éƒ¨ç½²å‡">åè®®è¿›è¡Œé€šä¿¡ï¼Œå¯ä»¥é‡‡ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ï¼Œä½¿ç”¨ä¸åŒçš„å­˜å‚¨æŠ€æœ¯ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²å‡</h5>
<h5 id="å°‘äººä¸ºæ§åˆ¶é™ä½å‡ºé”™æ¦‚ç‡æœåŠ¡æ•°é‡è¶Šå¤šç®¡ç†èµ·æ¥è¶Šå¤æ‚å› æ­¤é‡‡ç”¨é›†ä¸­åŒ–">å°‘äººä¸ºæ§åˆ¶ï¼Œé™ä½å‡ºé”™æ¦‚ç‡ã€‚æœåŠ¡æ•°é‡è¶Šå¤šï¼Œç®¡ç†èµ·æ¥è¶Šå¤æ‚ï¼Œå› æ­¤é‡‡ç”¨é›†ä¸­åŒ–</h5>
<h5 id="ç®¡ç†-1">ç®¡ç†ã€‚</h5>
<h4 id="10-1-2-å¾®æœåŠ¡æœ‰ä»€ä¹ˆä¼˜åŠ¿">10 1 2 å¾®æœåŠ¡æœ‰ä»€ä¹ˆä¼˜åŠ¿&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ç‹¬ç«‹å¼€å‘æ‰€æœ‰å¾®æœåŠ¡éƒ½å¯ä»¥æ ¹æ®å„è‡ªçš„åŠŸèƒ½è½»æ¾å¼€å‘">ç‹¬ç«‹å¼€å‘ï¼šæ‰€æœ‰å¾®æœåŠ¡éƒ½å¯ä»¥æ ¹æ®å„è‡ªçš„åŠŸèƒ½è½»æ¾å¼€å‘ã€‚</h5>
<h5 id="ç‹¬ç«‹éƒ¨ç½²åŸºäºå…¶æœåŠ¡å¯ä»¥åœ¨ä»»ä½•åº”ç”¨ç¨‹åºä¸­å•ç‹¬éƒ¨ç½²å®ƒä»¬">ç‹¬ç«‹éƒ¨ç½²ï¼šåŸºäºå…¶æœåŠ¡ï¼Œå¯ä»¥åœ¨ä»»ä½•åº”ç”¨ç¨‹åºä¸­å•ç‹¬éƒ¨ç½²å®ƒä»¬ã€‚</h5>
<h5 id="æ•…éšœéš”ç¦»å³ä½¿åº”ç”¨ç¨‹åºçš„ä¸€é¡¹æœåŠ¡ä¸èµ·ä½œç”¨ç³»ç»Ÿä»å¯ç»§ç»­è¿è¡Œ">æ•…éšœéš”ç¦»ï¼šå³ä½¿åº”ç”¨ç¨‹åºçš„ä¸€é¡¹æœåŠ¡ä¸èµ·ä½œç”¨ï¼Œç³»ç»Ÿä»å¯ç»§ç»­è¿è¡Œã€‚</h5>
<h5 id="æ··åˆæŠ€æœ¯å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€æŠ€æœ¯æ¥æ„å»ºåŒä¸€åº”ç”¨ç¨‹åºçš„ä¸åŒæœåŠ¡">æ··åˆæŠ€æœ¯ï¼šå¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€ã€æŠ€æœ¯æ¥æ„å»ºåŒä¸€åº”ç”¨ç¨‹åºçš„ä¸åŒæœåŠ¡ã€‚</h5>
<h5 id="ç²’åº¦ç¼©æ”¾å•ä¸ªç»„ä»¶å¯æ ¹æ®éœ€è¦è¿›è¡Œç¼©æ”¾æ— éœ€å°†æ‰€æœ‰ç»„ä»¶ç¼©æ”¾åœ¨ä¸€èµ·">ç²’åº¦ç¼©æ”¾ï¼šå•ä¸ªç»„ä»¶å¯æ ¹æ®éœ€è¦è¿›è¡Œç¼©æ”¾ï¼Œæ— éœ€å°†æ‰€æœ‰ç»„ä»¶ç¼©æ”¾åœ¨ä¸€èµ·ã€‚</h5>
<h4 id="10-1-3-soaä¸å¾®æœåŠ¡çš„å…³ç³»">10 1 3 SOAä¸å¾®æœåŠ¡çš„å…³ç³»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="soaå³é¢å‘æœåŠ¡çš„æ¶æ„soaæ˜¯æ ¹æ®ä¼ä¸šæœåŠ¡æ€»çº¿esbæ¨¡å¼æ¥æ•´åˆé›†">SOAå³é¢å‘æœåŠ¡çš„æ¶æ„ï¼ŒSOAæ˜¯æ ¹æ®ä¼ä¸šæœåŠ¡æ€»çº¿ï¼ˆESBï¼‰æ¨¡å¼æ¥æ•´åˆé›†</h5>
<h5 id="æˆå¤§é‡å•ä¸€åºå¤§çš„ç³»ç»Ÿå¾®æœåŠ¡å¯ä»¥è¯´æ˜¯soaçš„ä¸€ç§å®ç°å°†å¤æ‚çš„ä¸šåŠ¡ç»„ä»¶">æˆå¤§é‡å•ä¸€åºå¤§çš„ç³»ç»Ÿã€‚å¾®æœåŠ¡å¯ä»¥è¯´æ˜¯SOAçš„ä¸€ç§å®ç°ï¼Œå°†å¤æ‚çš„ä¸šåŠ¡ç»„ä»¶</h5>
<h5 id="åŒ–ä½†å®ƒæ¯”esbå®ç°çš„soaæ›´åŠ çš„è½»ä¾¿æ•æ·å’Œç®€å•">åŒ–ï¼Œä½†å®ƒæ¯”ESBå®ç°çš„SOAæ›´åŠ çš„è½»ä¾¿æ•æ·å’Œç®€å•ã€‚</h5>
<h4 id="10-1-4-ä»€ä¹ˆæ˜¯å•ä½“æ¶æ„">10 1 4 ä»€ä¹ˆæ˜¯å•ä½“æ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="åœ¨è½¯ä»¶è®¾è®¡çš„æ—¶å€™ç»å¸¸æåˆ°å’Œä½¿ç”¨ç»å…¸çš„-3-å±‚æ¨¡å‹å³è¡¨ç°å±‚ä¸šåŠ¡é€»è¾‘å±‚">åœ¨è½¯ä»¶è®¾è®¡çš„æ—¶å€™ç»å¸¸æåˆ°å’Œä½¿ç”¨ç»å…¸çš„ 3 å±‚æ¨¡å‹ï¼Œå³è¡¨ç°å±‚ï¼Œä¸šåŠ¡é€»è¾‘å±‚ï¼Œ</h5>
<h5 id="æ•°æ®è®¿é—®å±‚è™½ç„¶åœ¨è½¯ä»¶è®¾è®¡ä¸­åˆ’åˆ†äº†-3-å±‚æ¨¡å‹ä½†æ˜¯å¯¹ä¸šåŠ¡åœºæ™¯æ²¡æœ‰åˆ’åˆ†ä¸€">æ•°æ®è®¿é—®å±‚ã€‚è™½ç„¶åœ¨è½¯ä»¶è®¾è®¡ä¸­åˆ’åˆ†äº† 3 å±‚æ¨¡å‹ï¼Œä½†æ˜¯å¯¹ä¸šåŠ¡åœºæ™¯æ²¡æœ‰åˆ’åˆ†ï¼Œä¸€</h5>
<h5 id="ä¸ªå…¸å‹çš„å•ä½“æ¶æ„å°±æ˜¯å°†æ‰€æœ‰çš„ä¸šåŠ¡åœºæ™¯çš„è¡¨ç°å±‚ä¸šåŠ¡é€»è¾‘å±‚æ•°æ®è®¿é—®å±‚æ”¾">ä¸ªå…¸å‹çš„å•ä½“æ¶æ„å°±æ˜¯å°†æ‰€æœ‰çš„ä¸šåŠ¡åœºæ™¯çš„è¡¨ç°å±‚ï¼Œä¸šåŠ¡é€»è¾‘å±‚ï¼Œæ•°æ®è®¿é—®å±‚æ”¾</h5>
<h5 id="åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­æœ€ç»ˆç»è¿‡ç¼–è¯‘æ‰“åŒ…éƒ¨ç½²åœ¨ä¸€å°æœåŠ¡å™¨ä¸Š">åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­æœ€ç»ˆç»è¿‡ç¼–è¯‘ï¼Œæ‰“åŒ…ï¼Œéƒ¨ç½²åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šã€‚</h5>
<h4 id="10-1-5-å•ä½“æ¶æ„çš„ä¸è¶³">10 1 5 å•ä½“æ¶æ„çš„ä¸è¶³&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="åœ¨å°å‹åº”ç”¨çš„åˆæœŸè®¿é—®é‡å°çš„æ—¶å€™è¿™ç§æ¶æ„çš„æ€§ä»·æ¯”è¿˜æ˜¯æ¯”è¾ƒé«˜çš„å¼€å‘">åœ¨å°å‹åº”ç”¨çš„åˆæœŸï¼Œè®¿é—®é‡å°çš„æ—¶å€™è¿™ç§æ¶æ„çš„æ€§ä»·æ¯”è¿˜æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå¼€å‘</h5>
<h5 id="é€Ÿåº¦å¿«æˆæœ¬ä½ä½†æ˜¯éšç€ä¸šåŠ¡çš„å‘å±•é€»è¾‘è¶Šæ¥è¶Šå¤æ‚ä»£ç é‡è¶Šæ¥è¶Šå¤§ä»£">é€Ÿåº¦å¿«ï¼Œæˆæœ¬ä½ã€‚ä½†æ˜¯éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œé€»è¾‘è¶Šæ¥è¶Šå¤æ‚ï¼Œä»£ç é‡è¶Šæ¥è¶Šå¤§ï¼Œä»£</h5>
<h5 id="ç å¾—å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§è¶Šæ¥è¶Šä½ç”¨æˆ·çš„å¢åŠ è®¿é—®é‡çš„è¶Šæ¥è¶Šå¤šå•ä½“æ¶æ„çš„">ç å¾—å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§è¶Šæ¥è¶Šä½ã€‚ç”¨æˆ·çš„å¢åŠ ï¼Œè®¿é—®é‡çš„è¶Šæ¥è¶Šå¤šï¼Œå•ä½“æ¶æ„çš„</h5>
<h5 id="åº”ç”¨å¹¶å‘èƒ½åŠ›ååˆ†æœ‰é™å¯èƒ½ä¼šæœ‰äººæƒ³åˆ°å°†å•ä½“åº”ç”¨è¿›è¡Œé›†ç¾¤éƒ¨ç½²å¹¶å¢åŠ è´Ÿè½½">åº”ç”¨å¹¶å‘èƒ½åŠ›ååˆ†æœ‰é™ã€‚å¯èƒ½ä¼šæœ‰äººæƒ³åˆ°å°†å•ä½“åº”ç”¨è¿›è¡Œé›†ç¾¤éƒ¨ç½²ï¼Œå¹¶å¢åŠ è´Ÿè½½</h5>
<h5 id="å‡è¡¡æœåŠ¡å™¨å†æ¥ä¸ªç¼“å­˜æœåŠ¡å™¨å’Œæ–‡ä»¶æœåŠ¡å™¨æ•°æ®åº“å†æä¸ªè¯»å†™åˆ†ç¦»è¿™ç§æ¶">å‡è¡¡æœåŠ¡å™¨ï¼Œå†æ¥ä¸ªç¼“å­˜æœåŠ¡å™¨å’Œæ–‡ä»¶æœåŠ¡å™¨ï¼Œæ•°æ®åº“å†æä¸ªè¯»å†™åˆ†ç¦»ã€‚è¿™ç§æ¶</h5>
<h5 id="æ„å¦‚å›¾">æ„å¦‚å›¾ï¼š</h5>
<h5 id="è¿™ç§æ¶æ„è™½ç„¶æœ‰ä¸€å®šçš„å¹¶å‘èƒ½åŠ›ä»¥åŠåº”å¯¹ä¸€å®šçš„å¤æ‚ä¸šåŠ¡ä½†æ˜¯ä¾ç„¶æ²¡æœ‰">è¿™ç§æ¶æ„è™½ç„¶æœ‰ä¸€å®šçš„å¹¶å‘èƒ½åŠ›ï¼Œä»¥åŠåº”å¯¹ä¸€å®šçš„å¤æ‚ä¸šåŠ¡ï¼Œä½†æ˜¯ä¾ç„¶æ²¡æœ‰</h5>
<h5 id="æ”¹å˜ç³»ç»Ÿä¸ºå•ä½“æ¶æ„çš„äº‹å®å¤§é‡çš„ä¸šåŠ¡å¿…ç„¶ä¼šæœ‰å¤§é‡çš„ä»£ç ä»£ç å¾—å¯è¯»æ€§å’Œ">æ”¹å˜ç³»ç»Ÿä¸ºå•ä½“æ¶æ„çš„äº‹å®ã€‚å¤§é‡çš„ä¸šåŠ¡å¿…ç„¶ä¼šæœ‰å¤§é‡çš„ä»£ç ï¼Œä»£ç å¾—å¯è¯»æ€§å’Œ</h5>
<h5 id="å¯ç»´æŠ¤æ€§ä¾ç„¶å¾ˆå·®å¦‚æœé¢å¯¹æµ·é‡çš„ç”¨æˆ·å®ƒçš„å¹¶å‘èƒ½åŠ›ä¾ç„¶ä¸å¤Ÿ">å¯ç»´æŠ¤æ€§ä¾ç„¶å¾ˆå·®ã€‚å¦‚æœé¢å¯¹æµ·é‡çš„ç”¨æˆ·ï¼Œå®ƒçš„å¹¶å‘èƒ½åŠ›ä¾ç„¶ä¸å¤Ÿã€‚</h5>
<h4 id="10-1-6-b-2-c">10 1 6 B 2 C&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p><strong>10. 1. 6. 1 ä»€ä¹ˆæ˜¯B 2 C</strong></p>
<p>B 2 Cä¼ä¸šå¯¹ä¸ªäººï¼Œæ˜¯Business-to-Customerçš„ç¼©å†™ï¼Œä¸­æ–‡ç®€ç§°â€œå•†å¯¹å®¢â€ã€‚
â€œå•†å¯¹å®¢â€æ˜¯ç”µå­å•†åŠ¡çš„ä¸€ç§æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸è¯´çš„ç›´æ¥é¢å‘æ¶ˆè´¹è€…é”€å”®äº§å“å’Œ
æœåŠ¡çš„å•†ä¸šé›¶å”®æ¨¡å¼ã€‚è¿™ç§å½¢å¼çš„ç”µå­å•†åŠ¡ä¸€èˆ¬ä»¥ç½‘ç»œé›¶å”®ä¸šä¸ºä¸»ï¼Œä¸»è¦æ˜¯å€ŸåŠ©
äºäº’è”ç½‘å¼€å±•åœ¨çº¿é”€å”®æ´»åŠ¨ã€‚B 2 Cå³ä¼ä¸šé€šè¿‡äº’è”ç½‘ä¸ºæ¶ˆè´¹è€…æä¾›ä¸€ä¸ªæ–°å‹çš„
è´­ç‰©ç¯å¢ƒâ€”â€”ç½‘ä¸Šå•†åº—ï¼Œæ¶ˆè´¹è€…é€šè¿‡ç½‘ç»œåœ¨ç½‘ä¸Šè´­ç‰©ã€ç½‘ä¸Šæ”¯ä»˜ç­‰æ¶ˆè´¹è¡Œä¸ºã€‚
<strong>æ¡ˆä¾‹ï¼šå”¯å“ä¼šã€ä¹èœ‚ç½‘</strong></p>
<p><strong>10. 1. 6. 2 å…¶å®ƒçš„ç”µå•†æ¨¡å¼æœ‰å“ªäº›ï¼Ÿ</strong></p>
<p>1 .B 2 Bâ€”ä¼ä¸šå¯¹ä¼ä¸š</p>
<p>B 2 Bï¼ˆ BusinesstoBusinessï¼‰æ˜¯æŒ‡è¿›è¡Œç”µå­å•†åŠ¡äº¤æ˜“çš„ä¾›éœ€åŒæ–¹éƒ½æ˜¯å•†
å®¶ï¼ˆæˆ–ä¼ä¸šã€å…¬å¸ï¼‰ï¼Œå¥¹ï¼ˆä»–ï¼‰ä»¬ä½¿ç”¨äº†äº’è”ç½‘çš„æŠ€æœ¯æˆ–å„ç§å•†åŠ¡ç½‘ç»œå¹³å°ï¼Œå®Œ
æˆå•†åŠ¡äº¤æ˜“çš„è¿‡ç¨‹ã€‚
<strong>æ¡ˆä¾‹ï¼šé˜¿é‡Œå·´å·´ã€æ…§èªç½‘</strong></p>
<p>2 .C 2 Câ€”ä¸ªäººå¯¹ä¸ªäºº</p>
<p>C 2 Cå³ Customerï¼ˆConsumerï¼‰ toCustomerï¼ˆConsumerï¼‰ï¼Œæ„æ€å°±
æ˜¯æ¶ˆè´¹è€…ä¸ªäººé—´çš„ç”µå­å•†åŠ¡è¡Œä¸ºã€‚æ¯”å¦‚ä¸€ä¸ªæ¶ˆè´¹è€…æœ‰ä¸€å°ç”µè„‘ï¼Œé€šè¿‡ç½‘ç»œè¿›è¡Œäº¤
æ˜“ï¼ŒæŠŠå®ƒå‡ºå”®ç»™å¦å¤–ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œæ­¤ç§äº¤æ˜“ç±»å‹å°±ç§°ä¸ºC 2 Cç”µå­å•†åŠ¡ã€‚
<strong>æ¡ˆä¾‹ï¼šæ·˜å®ã€æ˜“è¶£ã€ç“œå­äºŒæ‰‹è½¦</strong></p>
<p>3 .B 2 B 2 Câ€”ä¼ä¸šå¯¹ä¼ä¸šå¯¹ä¸ªäºº</p>
<p>B 2 B 2 Cæ˜¯ä¸€ç§ç”µå­å•†åŠ¡ç±»å‹çš„ç½‘ç»œè´­ç‰©å•†ä¸šæ¨¡å¼ï¼ŒBæ˜¯BUSINESSçš„ç®€ç§°ï¼Œ
Cæ˜¯CUSTOMERçš„ç®€ç§°ï¼Œç¬¬ä¸€ä¸ªBæŒ‡çš„æ˜¯å•†å“æˆ–æœåŠ¡çš„ä¾›åº”å•†ï¼Œç¬¬äºŒä¸ªBæŒ‡
çš„æ˜¯ä»äº‹ç”µå­å•†åŠ¡çš„ä¼ä¸šï¼ŒCåˆ™æ˜¯è¡¨ç¤ºæ¶ˆè´¹è€…ã€‚
ç¬¬ä¸€ä¸ªBUSINESSï¼Œå¹¶ä¸ä»…ä»…å±€é™äºå“ç‰Œä¾›åº”å•†ã€å½±è§†åˆ¶ä½œå…¬å¸å’Œå›¾ä¹¦å‡ºç‰ˆ
å•†ï¼Œä»»ä½•çš„å•†å“ä¾›åº”å•†æˆ–æœåŠ¡ä¾›åº”å•†éƒ½èƒ½å¯ä»¥æˆä¸ºç¬¬ä¸€ä¸ªBUSINESSï¼›ç¬¬äºŒB
æ˜¯B 2 B 2 Cæ¨¡å¼çš„ç”µå­å•†åŠ¡ä¼ä¸šï¼Œé€šè¿‡ç»Ÿä¸€çš„ç»è¥ç®¡ç†å¯¹å•†å“å’ŒæœåŠ¡ã€æ¶ˆè´¹è€…ç»ˆ
ç«¯åŒæ—¶è¿›è¡Œæ•´åˆï¼Œæ˜¯å¹¿å¤§ä¾›åº”å•†å’Œæ¶ˆè´¹è€…ä¹‹é—´çš„æ¡¥æ¢ï¼Œä¸ºä¾›åº”å•†å’Œæ¶ˆè´¹è€…æä¾›ä¼˜
è´¨çš„æœåŠ¡ï¼Œæ˜¯äº’è”ç½‘ç”µå­å•†åŠ¡æœåŠ¡ä¾›åº”å•†ã€‚Cè¡¨ç¤ºæ¶ˆè´¹è€…ï¼Œåœ¨ç¬¬äºŒä¸ªBæ„å»ºçš„ç»Ÿ
ä¸€ç”µå­å•†åŠ¡å¹³å°è´­ç‰©çš„æ¶ˆè´¹è€…ï¼›
B 2 B 2 Cçš„æ¥æºäºç›®å‰çš„B 2 Bã€B 2 Cæ¨¡å¼çš„æ¼”å˜å’Œå®Œå–„ï¼ŒæŠŠB 2 Cå’ŒC 2 Cå®Œ
ç¾åœ°ç»“åˆèµ·æ¥ï¼Œé€šè¿‡B 2 B 2 Cæ¨¡å¼çš„ç”µå­å•†åŠ¡ä¼ä¸šæ„å»ºè‡ªå·±çš„ç‰©æµä¾›åº”é“¾ç³»ç»Ÿï¼Œ
æä¾›ç»Ÿä¸€çš„æœåŠ¡ã€‚
<strong>æ¡ˆä¾‹ï¼šäº¬ä¸œå•†åŸã€å¤©çŒ«å•†åŸ</strong></p>
<p>4 .O 2 Oâ€”çº¿ä¸Šå¯¹çº¿ä¸‹</p>
<p>O 2 Oå³OnlineToOfflineï¼ˆåœ¨çº¿ç¦»çº¿/çº¿ä¸Šåˆ°çº¿ä¸‹ï¼‰ï¼Œæ˜¯æŒ‡å°†çº¿ä¸‹çš„å•†åŠ¡æœº
ä¼šä¸äº’è”ç½‘ç»“åˆï¼Œè®©äº’è”ç½‘æˆä¸ºçº¿ä¸‹äº¤æ˜“çš„å¹³å°ï¼Œè¿™ä¸ªæ¦‚å¿µæœ€æ—©æ¥æºäºç¾å›½ã€‚
O 2 Oçš„æ¦‚å¿µéå¸¸å¹¿æ³›ï¼Œæ—¢å¯æ¶‰åŠåˆ°çº¿ä¸Šï¼Œåˆå¯æ¶‰åŠåˆ°çº¿ä¸‹,å¯ä»¥é€šç§°ä¸ºO 2 Oã€‚
ä¸»æµå•†ä¸šç®¡ç†è¯¾ç¨‹å‡å¯¹O 2 Oè¿™ç§æ–°å‹çš„å•†ä¸šæ¨¡å¼æœ‰æ‰€ä»‹ç»åŠå…³æ³¨ã€‚
<strong>æ¡ˆä¾‹ï¼šç¾å›¢ã€é¥¿äº†å—</strong></p>
<h3 id="10-2-é¡¹ç›®æ¶æ„">10 2 é¡¹ç›®æ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="10-2-1-ä¼ ç»Ÿæ¶æ„">10 2 1 ä¼ ç»Ÿæ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="å­˜åœ¨çš„é—®é¢˜">å­˜åœ¨çš„é—®é¢˜</h5>
<h5 id="1-å¼€å‘ç»´æŠ¤ä»£ç æ¯”è¾ƒå›°éš¾">1 ã€å¼€å‘ã€ç»´æŠ¤ä»£ç æ¯”è¾ƒå›°éš¾</h5>
<h5 id="2-ç³»ç»Ÿå†…éƒ¨çš„åŠŸèƒ½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦å¤ªé«˜äº†">2 ã€ç³»ç»Ÿå†…éƒ¨çš„åŠŸèƒ½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦å¤ªé«˜äº†</h5>
<h5 id="3-æ— æ³•é’ˆå¯¹æ¯ä¸ªæ¨¡å—çš„ç‰¹æ€§åšä¼˜åŒ–">3 ã€æ— æ³•é’ˆå¯¹æ¯ä¸ªæ¨¡å—çš„ç‰¹æ€§åšä¼˜åŒ–</h5>
<h5 id="4-æ— æ³•åšæœåŠ¡å™¨çš„æ°´å¹³æ‰©å±•">4 ã€æ— æ³•åšæœåŠ¡å™¨çš„æ°´å¹³æ‰©å±•</h5>
<h5 id="5-æ— æ³•å­˜å‚¨æµ·é‡æ•°æ®">5 ã€æ— æ³•å­˜å‚¨æµ·é‡æ•°æ®</h5>
<h4 id="10-2-2-soaæ¶æ„">10 2 2 SOAæ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="soaç»„è£…æœåŠ¡esbä¼ä¸šæœåŠ¡æ€»çº¿è§£å†³äº†ä¼ ç»Ÿæ¶æ„çš„æ‰€æœ‰é—®é¢˜">SOA[ç»„è£…æœåŠ¡/ESBä¼ä¸šæœåŠ¡æ€»çº¿]ï¼ˆè§£å†³äº†ä¼ ç»Ÿæ¶æ„çš„æ‰€æœ‰é—®é¢˜ï¼‰</h5>
<h5 id="ä¸šåŠ¡ç³»ç»Ÿåˆ†è§£ä¸ºå¤šä¸ªç»„ä»¶è®©æ¯ä¸ªç»„ä»¶éƒ½ç‹¬ç«‹æä¾›ç¦»æ•£è‡ªæ²»å¯å¤ç”¨çš„æœ">ä¸šåŠ¡ç³»ç»Ÿåˆ†è§£ä¸ºå¤šä¸ªç»„ä»¶ï¼Œè®©æ¯ä¸ªç»„ä»¶éƒ½ç‹¬ç«‹æä¾›ç¦»æ•£ï¼Œè‡ªæ²»ï¼Œå¯å¤ç”¨çš„æœ</h5>
<h5 id="åŠ¡èƒ½åŠ›é€šè¿‡æœåŠ¡çš„ç»„åˆå’Œç¼–æ’æ¥å®ç°ä¸Šå±‚çš„ä¸šåŠ¡æµç¨‹">åŠ¡èƒ½åŠ›ã€‚é€šè¿‡æœåŠ¡çš„ç»„åˆå’Œç¼–æ’æ¥å®ç°ä¸Šå±‚çš„ä¸šåŠ¡æµç¨‹ã€‚</h5>
<h5 id="ä½œç”¨ç®€åŒ–ç»´æŠ¤é™ä½æ•´ä½“é£é™©ä¼¸ç¼©çµæ´»">ä½œç”¨ï¼šç®€åŒ–ç»´æŠ¤ï¼Œé™ä½æ•´ä½“é£é™©ï¼Œä¼¸ç¼©çµæ´»ã€‚</h5>
<h4 id="10-2-3-å¾®æœåŠ¡æ¶æ„">10 2 3 å¾®æœåŠ¡æ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="å¾®æœåŠ¡åˆç§°å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„ç³»ç»Ÿè§£å†³äº†ä¼ ç»Ÿæ¶æ„çš„æ‰€">å¾®æœåŠ¡ï¼Œåˆç§°å¾®æœåŠ¡æ¶æ„ï¼Œæ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„ç³»ç»Ÿï¼ˆè§£å†³äº†ä¼ ç»Ÿæ¶æ„çš„æ‰€</h5>
<h5 id="æœ‰é—®é¢˜">æœ‰é—®é¢˜ï¼‰</h5>
<h3 id="10-3-é¡¹ç›®åŠŸèƒ½">10 3 é¡¹ç›®åŠŸèƒ½&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="10-3-1-äººå‘˜é…ç½®">10 3 1 äººå‘˜é…ç½®&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="äº§å“ç»ç†-3-äºº-1-ä¸ªç»ç†-2-ä¸ªäº§å“ç¡®å®šéœ€æ±‚ä»¥åŠç»™å‡ºäº§å“åŸå‹å›¾">äº§å“ç»ç†ï¼š 3 äººï¼ˆ 1 ä¸ªç»ç†ï¼Œ 2 ä¸ªäº§å“ï¼‰ï¼Œç¡®å®šéœ€æ±‚ä»¥åŠç»™å‡ºäº§å“åŸå‹å›¾ã€‚</h5>
<h5 id="é¡¹ç›®ç»ç†-1-äººé¡¹ç›®ç®¡ç†">é¡¹ç›®ç»ç†ï¼š 1 äººï¼Œé¡¹ç›®ç®¡ç†ã€‚</h5>
<h5 id="å‰ç«¯å›¢é˜Ÿ-2-äººæ ¹æ®äº§å“ç»ç†ç»™å‡ºçš„åŸå‹å›¾åˆ¶ä½œé™æ€é¡µé¢">å‰ç«¯å›¢é˜Ÿï¼š 2 äººï¼Œæ ¹æ®äº§å“ç»ç†ç»™å‡ºçš„åŸå‹å›¾åˆ¶ä½œé™æ€é¡µé¢ã€‚</h5>
<h5 id="åç«¯å›¢é˜Ÿ-5-äººæ ¹æ®é¡¹ç›®ç»ç†åˆ†é…çš„ä»»åŠ¡å®Œæˆäº§å“åŠŸèƒ½">åç«¯å›¢é˜Ÿï¼š 5 äººï¼Œæ ¹æ®é¡¹ç›®ç»ç†åˆ†é…çš„ä»»åŠ¡å®Œæˆäº§å“åŠŸèƒ½ã€‚</h5>
<h5 id="æµ‹è¯•å›¢é˜Ÿ-2-äººé‡‡ç”¨ç™½ç›’æµ‹è¯•ä»¥åŠé»‘ç›’æµ‹è¯•å¯¹äº§å“åŠŸèƒ½æ€§èƒ½è¿›è¡Œæ£€æµ‹">æµ‹è¯•å›¢é˜Ÿï¼š 2 äººï¼Œé‡‡ç”¨ç™½ç›’æµ‹è¯•ä»¥åŠé»‘ç›’æµ‹è¯•å¯¹äº§å“åŠŸèƒ½æ€§èƒ½è¿›è¡Œæ£€æµ‹ã€‚</h5>
<h5 id="è¿ç»´å›¢é˜Ÿ-1-äººé¡¹ç›®çš„å‘å¸ƒä»¥åŠç»´æŠ¤">è¿ç»´å›¢é˜Ÿï¼š 1 äººï¼Œé¡¹ç›®çš„å‘å¸ƒä»¥åŠç»´æŠ¤ã€‚</h5>
<h4 id="10-3-2-å¼€å‘æµç¨‹">10 3 2 å¼€å‘æµç¨‹&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h4 id="10-3-3-å¼€å‘æŠ€æœ¯">10 3 3 å¼€å‘æŠ€æœ¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="å‰ç«¯">å‰ç«¯</h5>
<p>åŸºç¡€çš„HTMLã€CSSã€JavaScriptï¼ˆåŸºäºES 6 æ ‡å‡†ï¼‰
JQuery
Vue.js 2. 0
åŸºäºVueçš„UIæ¡†æ¶ï¼šVuetify
å‰ç«¯æ„å»ºå·¥å…·ï¼šWebPackï¼Œé¡¹ç›®ç¼–è¯‘ã€æ‰“åŒ…å·¥å…·
å‰ç«¯å®‰è£…åŒ…å·¥å…·ï¼šNPM
Vueè„šæ‰‹æ¶ï¼šVue-cli
Vueè·¯ç”±ï¼švue-router
ajaxæ¡†æ¶ï¼šaxios
åŸºäºVueçš„å¯Œæ–‡æœ¬æ¡†æ¶ï¼šquill-editor
<strong>åç«¯</strong>
åŸºç¡€çš„SpringMVCã€Spring 5. 0 å’ŒMyBatisPlus
MySQL 5. 7</p>
<pre tabindex="0"><code>SpringBoot 2. 1. 3 ç‰ˆæœ¬
SpringCloudç‰ˆæœ¬ Greenwich.Release
Redis- 4. 0
RabbitMQ- 3. 7
Elasticsearch- 6. 2. 4
nginx- 1. 10. 2
Thymeleaf æ¨¡æ¿è¯­è¨€
JWT
</code></pre><h4 id="10-3-4-æ•°æ®åº“è¡¨ç»“æ„">10 3 4 æ•°æ®åº“è¡¨ç»“æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>è¡¨åç§° å«ä¹‰
tb_application æœåŠ¡ä¿¡æ¯è¡¨
tb_application_privilege æœåŠ¡ä¸­é—´è¡¨
tb_brand å“ç‰Œè¡¨
tb_category å•†å“åˆ†ç±»è¡¨
tb_category_brand å•†å“åˆ†ç±»å’Œå“ç‰Œçš„ä¸­é—´è¡¨
tb_order è®¢å•è¡¨
tb_order_detail è®¢å•è¯¦æƒ…è¡¨
tb_order_logistics è®¢å•ç‰©æµè¡¨
tb_sku skuè¡¨
tb_spec_group è§„æ ¼å‚æ•°çš„åˆ†ç»„è¡¨
tb_spec_param è§„æ ¼å‚æ•°ç»„ä¸‹çš„å‚æ•°åè¡¨
</code></pre><h3 id="10-4-æ¨¡å—ä¸šåŠ¡">10 4 æ¨¡å—ä¸šåŠ¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="10-4-1-ä¸šåŠ¡æ€è·¯">10 4 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="é¦–å…ˆæè¿°è‡ªå·±æ‰€åšé¡¹ç›®æœ‰å“ªäº›åŠŸèƒ½æ¨¡å—">é¦–å…ˆæè¿°è‡ªå·±æ‰€åšé¡¹ç›®æœ‰å“ªäº›åŠŸèƒ½æ¨¡å—</h5>
<h5 id="ä¸¾ä¾‹-æœ€è¿‘åšäº†ä¸€ä¸ªç”µå•†é¡¹ç›®æˆ‘è´Ÿè´£çš„æ¨¡å—åŒ…æ‹¬å‰å°ç³»ç»Ÿæœç´¢ç³»ç»Ÿè¿˜æœ‰è®¢">ä¸¾ä¾‹ ï¼šæœ€è¿‘åšäº†ä¸€ä¸ªç”µå•†é¡¹ç›®ï¼Œæˆ‘è´Ÿè´£çš„æ¨¡å—åŒ…æ‹¬å‰å°ç³»ç»Ÿï¼Œæœç´¢ç³»ç»Ÿï¼Œè¿˜æœ‰è®¢</h5>
<h5 id="å•ç³»ç»Ÿ">å•ç³»ç»Ÿã€‚</h5>
<h5 id="æè¿°å…¶ä¸­å•ä¸ªæ¨¡å—æœ‰å“ªäº›åŠŸèƒ½">æè¿°å…¶ä¸­å•ä¸ªæ¨¡å—æœ‰å“ªäº›åŠŸèƒ½</h5>
<h5 id="ä¸¾ä¾‹-é¦–å…ˆå‰å°ç³»ç»Ÿçš„å¤§éƒ¨åˆ†åŠŸèƒ½ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„é¦–é¡µä¸»è¦çš„åŠŸèƒ½æœ‰å·¦ä¾§å•†">ä¸¾ä¾‹ï¼š é¦–å…ˆå‰å°ç³»ç»Ÿçš„å¤§éƒ¨åˆ†åŠŸèƒ½ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„é¦–é¡µï¼Œä¸»è¦çš„åŠŸèƒ½æœ‰å·¦ä¾§å•†</h5>
<h5 id="å“ç±»ç›®çš„å›æ˜¾å¹¿å‘Šä½æ¥¼å±‚æ•°æ®çš„å›æ˜¾ä»¥åŠå®Œæˆè¿™äº›æ•°æ®åœ¨åå°çš„ç®¡ç†åŒ…">å“ç±»ç›®çš„å›æ˜¾ï¼Œå¹¿å‘Šä½ï¼Œæ¥¼å±‚æ•°æ®çš„å›æ˜¾ï¼Œä»¥åŠå®Œæˆè¿™äº›æ•°æ®åœ¨åå°çš„ç®¡ç†ï¼ŒåŒ…</h5>
<h5 id="æ‹¬é¡µé¢é™æ€åŒ–">æ‹¬é¡µé¢é™æ€åŒ–ã€‚</h5>
<h5 id="æ‹†åˆ†å•ç‹¬åŠŸèƒ½è¿›è¡Œæè¿°">æ‹†åˆ†å•ç‹¬åŠŸèƒ½è¿›è¡Œæè¿°</h5>
<h5 id="ä¸¾ä¾‹-å…¶ä¸­å·¦ä¾§å•†å“ç±»ç›®å›æ˜¾çš„åŠŸèƒ½ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„å·¦ä¾§ç±»ç›®åœ¨é¦–é¡µçš„å·¦ä¾§">ä¸¾ä¾‹ï¼š å…¶ä¸­å·¦ä¾§å•†å“ç±»ç›®å›æ˜¾çš„åŠŸèƒ½ç±»ä¼¼äºæ·˜å®äº¬ä¸œçš„å·¦ä¾§ç±»ç›®ï¼Œåœ¨é¦–é¡µçš„å·¦ä¾§</h5>
<h5 id="æœ‰å¾ˆå¤šå•†å“çš„ä¸€çº§ç›®å½•æ¯”å¦‚æ‰‹æœºç”µè„‘ä¹‹ç±»çš„é¼ æ ‡æ”¾åœ¨ä¸€çº§ç›®å½•ä¸Šä¼šè§¦å‘ä¸€">æœ‰å¾ˆå¤šå•†å“çš„ä¸€çº§ç›®å½•ï¼Œæ¯”å¦‚æ‰‹æœºï¼Œç”µè„‘ä¹‹ç±»çš„ã€‚é¼ æ ‡æ”¾åœ¨ä¸€çº§ç›®å½•ä¸Šä¼šè§¦å‘ä¸€</h5>
<h5 id="ä¸ªäº‹ä»¶å¼¹å‡ºä¸€ä¸ªçª—å£æ˜¾ç¤ºäºŒçº§ç›®å½•ä»¥æ­¤ç±»æ¨æ€»å…±æœ‰ä¸‰çº§ç›®å½•">ä¸ªäº‹ä»¶å¼¹å‡ºä¸€ä¸ªçª—å£æ˜¾ç¤ºäºŒçº§ç›®å½•ï¼Œä»¥æ­¤ç±»æ¨æ€»å…±æœ‰ä¸‰çº§ç›®å½•ã€‚</h5>
<h5 id="æè¿°åŠŸèƒ½ä¸­ç¢°åˆ°çš„é—®é¢˜">æè¿°åŠŸèƒ½ä¸­ç¢°åˆ°çš„é—®é¢˜</h5>
<h5 id="ä¸¾ä¾‹-åœ¨åšè¿™ä¸ªå•†å“ç±»ç›®å›æ˜¾çš„æ—¶å€™æˆ‘ä»¬å‘ç°æ•°æ®ä»åå°æŠ“å–è¿‡æ¥å‰å°é¡µé¢è§£">ä¸¾ä¾‹ï¼š åœ¨åšè¿™ä¸ªå•†å“ç±»ç›®å›æ˜¾çš„æ—¶å€™æˆ‘ä»¬å‘ç°æ•°æ®ä»åå°æŠ“å–è¿‡æ¥ï¼Œå‰å°é¡µé¢è§£</h5>
<h5 id="æä¸äº†">æä¸äº†ã€‚</h5>
<h5 id="ä»‹ç»æŠ€æœ¯å¯¹æ¯”æŠ€æœ¯">ä»‹ç»æŠ€æœ¯ï¼Œå¯¹æ¯”æŠ€æœ¯</h5>
<h5 id="ä¸¾ä¾‹-å¯¹äºå•†å“ç±»ç›®æ•°æ®è§£æä¸äº†çš„é—®é¢˜æ˜¯å› ä¸ºè·¨åŸŸå¯¹äºè·¨åŸŸæˆ‘ä»¬å…ˆæ˜¯é‡‡ç”¨äº†">ä¸¾ä¾‹ï¼š å¯¹äºå•†å“ç±»ç›®æ•°æ®è§£æä¸äº†çš„é—®é¢˜æ˜¯å› ä¸ºè·¨åŸŸï¼Œå¯¹äºè·¨åŸŸæˆ‘ä»¬å…ˆæ˜¯é‡‡ç”¨äº†</h5>
<pre tabindex="0"><code>tb_spu spuè¡¨
tb_spu_detail Spuè¯¦æƒ…è¡¨
tb_user ç”¨æˆ·è¡¨
</code></pre><p>jsonpæ¥è§£å†³ï¼Œå®ƒçš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿç”±äºè¿™ä¸ªæŠ€æœ¯çš„ç¼ºç‚¹æˆ‘ä»¬å¼•å…¥äº†
æ–°çš„æŠ€æœ¯ï¼Œhttpclientï¼Œè¿™ä¸ªæŠ€æœ¯æ˜¯ä»€ä¹ˆï¼Ÿä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿä»‹ç»å®ŒæŠ€
æœ¯ï¼Œå†ä»‹ç»åŠŸèƒ½ï¼Œå¾ªç¯åµŒå¥—ã€‚</p>
<h3 id="10-5-å•†å“ç®¡ç†corsmqossnginx">10 5 å•†å“ç®¡ç†(CORS,MQ,OSS,Nginx)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h4 id="10-5-1-è¡¨è®¾è®¡">10 5 1 è¡¨è®¾è®¡&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ä¸€ä»¶å•†å“çš„å½•å…¥å¤§è‡´åˆ†ä¸º-6-ä¸ªéƒ¨åˆ†-8-å¼ è¡¨">ä¸€ä»¶å•†å“çš„å½•å…¥å¤§è‡´åˆ†ä¸º 6 ä¸ªéƒ¨åˆ†ï¼Œ 8 å¼ è¡¨ï¼š</h5>
<pre tabindex="0"><code>åˆ†ç±» ïƒ tb_category
å“ç‰Œ ïƒ tb_brandï¼Œtb_category_brand
è§„æ ¼ ïƒ tb_spec_groupï¼Œtb_spec_param
SPUïƒ tb_spu
SKUïƒ tb_sku
å•†å“æè¿° ïƒ tb_spu_detail
</code></pre><p>é¡¹ç›®ä¸­å•†å“è¡¨åˆ†ä¸ºspuå•†å“è¡¨ å’Œ skuå•†å“è¡¨ï¼Œæ¯”å¦‚spu æ˜¯ iphone 6 ï¼Œ
sku å°±æ˜¯ iphone 6 é‡‘è‰² 64 G ï¼Œskuè¡¨æ˜¯ä¸€ä¸ªå…·ä½“çš„å•†å“ï¼Œå¯ä»¥å½±å“åº“å­˜çš„ä¸€
ä¸ªå•†å“ã€‚</p>
<p>spuè¿™å¼ è¡¨åŒ…å«äº†å•†å“çš„åŸºç¡€ä¿¡æ¯å’Œhtmlé™æ€é¡µé¢æ•°æ®ï¼Œæ¯”å¦‚è¯¦æƒ…é¡µï¼Œå”®
åå¤„ç†ä»¥åŠå•†å“æè¿°ï¼Œè¿™éƒ¨åˆ†æ•°æ®é‡è¿‡å¤§ï¼Œ <strong>æ‰€ä»¥åº”ç”¨äº†æ•°æ®åº“å‚ç›´åˆ†è¡¨</strong> ï¼Œå°†spu
ä¸­æ•°æ®é‡å¤§ä¸”å¢åˆ æ“ä½œä¸éœ€è¦çš„æ•°æ®ä¿å­˜åˆ°spu_detailè¡¨ä¸­ï¼Œå¢åŠ æŸ¥è¯¢çš„æ•ˆç‡ã€‚
å•†å“å½•å…¥æ˜¯æ¥æ”¶åˆ°å‰ç«¯åŒ…å«spuå’Œskuè¡¨æ•°æ®çš„jsonå¯¹è±¡ï¼Œå…ˆè¿›è¡Œspuå•†
å“è¡¨ä¿å­˜ï¼Œä¿å­˜skuè¡¨æŒ‡å®šå½•å…¥çš„å•†å“ä¸ºä¸‹æ¶çŠ¶æ€åŒæ—¶ç»´æŠ¤ä¸spuè¡¨çš„å…³ç³»ï¼Œ
ä¿å­˜spu_detailè¡¨åŒæ—¶ç»´æŠ¤ä¸spuå•†å“è¡¨çš„å…³ç³»ï¼Œå› ä¸ºæ²¡æœ‰å„è¡¨ä¹‹é—´æ²¡æœ‰ç‰©ç†
å…³è”ï¼Œæ‰€ä»¥ä¸šåŠ¡å±‚è¦å¯¹è¡¨å…³ç³»è¿›è¡Œç»´æŠ¤ã€‚
å¤–é”®ä¼šä¸¥é‡å½±å“æ•°æ®åº“è¯»å†™çš„æ•ˆç‡,æ•°æ®åˆ é™¤æ—¶ä¼šæ¯”è¾ƒéº»çƒ¦, å› æ­¤æˆ‘ä»¬æ²¡æœ‰
è®¾è®¡å¤–é”®. åœ¨ç”µå•†è¡Œä¸šï¼Œæ€§èƒ½æ˜¯éå¸¸é‡è¦çš„ã€‚æˆ‘ä»¬å®å¯åœ¨ä»£ç ä¸­é€šè¿‡é€»è¾‘æ¥ç»´æŠ¤
è¡¨å…³ç³»ï¼Œä¹Ÿä¸è®¾ç½®å¤–é”®ã€‚
<strong>ä¸¾ä¾‹è¯´æ˜:</strong>
å•†å“çš„æ•°æ®æ¨¡å‹åˆ†æï¼š ä»ä¸¤ä¸ªåŠŸèƒ½ï¼šå•†å“å±•ç¤ºï¼Œæ–°å¢å•†å“ ä¸¤ä¸ªçº¬åº¦ï¼šæ•°
æ®åº“ï¼Œä¸šåŠ¡éœ€æ±‚
Spu:æ ‡å‡†äº§å“å•å…ƒï¼Œå…·æœ‰ç›¸åŒå±æ€§å•†å“é›†ã€‚ä¸¾ä¾‹ï¼šåä¸ºp 40
åä¸ºP 40 æ ¹æ®ä¸åŒé¢œè‰²ï¼Œå†…å­˜ï¼Œæœºèº«å­˜å‚¨åˆ†äº†å¾ˆå¤šç‰ˆæœ¬ å¼•å…¥Skuæ¦‚å¿µ&mdash;
ä¸åŒçš„ç‰ˆæœ¬å¯¹åº”åº“å­˜é‡ä¸ä¸€æ ·
Skuï¼šåº“å­˜é‡å•å…ƒï¼Œæœ€å°åº“å­˜é‡å•å…ƒã€‚æ ¹æ®å½±å“åº“å­˜é‡ç‰¹æ®Šå±æ€§æœ‰å…³ç³»ã€‚å„
ä¸ªç‰¹æ®Šå±æ€§ä¹‹é—´ä¹˜ç§¯ã€‚
å•†å“åˆ—è¡¨é¡µä¸­ å±•ç¤ºæ˜¯å•†å“SPUï¼Œä½†é€‰æ‹©å°å›¾ç‰‡ï¼Œé€‰æ‹©çš„æ˜¯SKUã€‚
å•†å“æ•°æ®æ¨¡å‹åˆ†æï¼š æŠ€å·§ï¼šä»é¡µé¢æ•ˆæœå‡ºå‘
SPUåº”è¯¥æœ‰å“ªäº›å­—æ®µï¼šéœ€è¦å°†æ•´ä¸ªå•†å“è¯¦æƒ…é¡µä¸­æ‰€æœ‰å…³äºå•†å“çš„ä¿¡æ¯å…¨éƒ¨å±•
ç¤º</p>
<p>id(spuId) spuName(å•†
å“åç§°)</p>
<pre tabindex="0"><code>brandId(å“
ç‰ŒID)
</code></pre><pre tabindex="0"><code>categoryId(åˆ†
ç±»ID)
</code></pre><pre tabindex="0"><code>subTitle(ä¿ƒ
é”€æ ‡é¢˜)
</code></pre><pre tabindex="0"><code>desc(å•†å“è¯¦
æƒ…)
</code></pre><p>afterServic
eéšœ(å”®)åä¿
1 åä¸ºP 40 åä¸º 76 å…¨ç³»ä¸Šå¸‚ txt,image,vi
dwo</p>
<pre tabindex="0"><code>xxxx
</code></pre><h5 id="åœ¨ä¸Šé¢å­—æ®µåŸºç¡€ä¸Š-å•†å“é¡µé¢ä¸­è¿˜åŒ…æ‹¬-å•†å“è§„æ ¼å‚æ•°å€¼-ä¸èƒ½é‡‡ç”¨åˆ—çš„å½¢">åœ¨ä¸Šé¢å­—æ®µåŸºç¡€ä¸Š å•†å“é¡µé¢ä¸­è¿˜åŒ…æ‹¬ å•†å“è§„æ ¼å‚æ•°å€¼-&gt;ä¸èƒ½é‡‡ç”¨åˆ—çš„å½¢</h5>
<p>å¼å­˜å‚¨&hellip;ä»¥ä¸Šå­—æ®µ å…¥ç½‘å‹å· äº§å“åç§° ä¸Šå¸‚å¹´ä»½ æœºèº«é•¿åº¦ï¼ˆmmï¼‰ æœº
èº«åšåº¦ï¼ˆmmï¼‰
åœ¨è§„æ ¼å‚æ•°è¡¨ä¸­ å­˜æ”¾è§„æ ¼å‚æ•°Key è§„æ ¼å‚æ•°value åº”è¯¥å­˜
è§„æ ¼å‚æ•°è¡¨&mdash;å•†å“ï¼šå¤šå¯¹å¤š
æ–¹æ¡ˆä¸€ï¼šï¼ˆä¸ä½¿ç”¨ï¼‰
æä¾›ä¸­é—´è¡¨ï¼šå•†å“è§„æ ¼å‚æ•°å€¼ï¼š
id spu_id spec_param_id spec_param_val</p>
<p>110012 11 27 PA (^4) n (^0) droid
è¿™ç§è®¾è®¡æ–¹æ¡ˆå¯ä»¥é€šè¿‡å…³è”æŸ¥è¯¢ å°†å•†å“çš„è§„æ ¼å‚æ•°key å‚æ•°val ä¸€å¯¹ä¸€
å¯¹åº”ã€‚ å¼Šç«¯ï¼šç”µå•†ç³»ç»Ÿè€ƒè™‘æŸ¥è¯¢æ•ˆç‡ï¼Œéœ€è¦è¿›è¡Œå¤šå¼ è¡¨å…³è”æŸ¥è¯¢ æ•ˆç‡ä½
æ–¹æ¡ˆäºŒï¼šä¸æä¾›ä¸­é—´è¡¨ï¼Œé€šè¿‡jsonè¡¨ç¤ºå¤šå¯¹å¤šã€‚å±•ç¤ºè§„æ ¼å‚æ•°å€¼ ç›´æ¥å°†è§„
æ ¼å‚æ•°è½¬ä¸ºjson-map,æ“ä½œæ˜¯å†…å­˜ã€‚æ‰§è¡Œæ•ˆç‡ä¼šå¾ˆé«˜
è§„æ ¼å‚æ•°è¡¨ï¼šå­˜åœ¨genericå­—æ®µï¼šè¡¨ç¤ºè§„æ ¼å‚æ•°æ˜¯å¦ä¸ºæ™®é€š 1 ï¼šæ™®é€šè§„æ ¼
å‚æ•° 0 ï¼šç‰¹æ®Šè§„æ ¼å‚æ•°ï¼ˆå½±å“å•†å“åº“å­˜-ä»·æ ¼ï¼‰
åœ¨å•†å“åŸºç¡€ä¸Šæä¾›å­—æ®µ æ™®é€šè§„æ ¼å‚æ•° ç‰¹æ®Šè§„æ ¼å‚æ•°ï¼ˆå½±å“åº“å­˜ï¼‰
id 1 spuName brandId&hellip;. g(æ™®ené€šeè§„ricæ ¼_på‚aræ•°am) special_paramï¼ˆç‰¹æ®Šè§„æ ¼å‚æ•°ï¼‰</p>
<pre tabindex="0"><code>1
1
</code></pre><pre tabindex="0"><code>åä¸ºP 40 200 {&#34; 1 &#34;:&#34;åä¸º
&#34;,&#34; 3 &#34;:&#34; 2020 &#34;,&#34; 9 &#34;:&#34;æµ·æ€&#34;}
</code></pre><pre tabindex="0"><code>{&#34; 4 &#34;:[&#34;ç™½&#34;,&#34;é»‘
&#34;, 12 :[&#34; 6 G&#34;,&#34; 8 G&#34;], 13 :[&#34; 128 G&#34;, 256 G]}
</code></pre><p>Spu-Skuå…³ç³»ï¼šä¸€å¯¹å¤š ä¸€ä¸ªspuæ ¹æ®ä¸åŒç‰ˆæœ¬äº§ç”Ÿå¤šä¸ªsku ï¼Œä¸€ä¸ªsku
åªèƒ½å±äºä¸€ä¸ªspu
Skuè¡¨æ•°æ®æ¨¡å‹åˆ†æï¼š
id Title price(ä»·æ ¼) image stock(åº“å­˜) enable own_specï¼ˆå½“å‰skuç‰¹æ®Šè§„æ ¼å‚æ•°ï¼‰
1001 åä¸º
P 84 + 012 ç™½ 8</p>
<pre tabindex="0"><code>4000 a.png,b.p
ng
</code></pre><pre tabindex="0"><code>100 1 {&#34; 4 &#34;:&#34;ç™½&#34;,&#34; 12 &#34;:&#34; 8 GB&#34;,&#34; 13 &#34;:&#34; 128 GB&#34;}
</code></pre><p>1001 åä¸º
P 40 ç™½
8 + 128</p>
<pre tabindex="0"><code>4000 a.png,b.p
ng
</code></pre><pre tabindex="0"><code>100 1 {&#34; 4 &#34;:&#34;é»‘&#34;,&#34; 12 &#34;:&#34; 8 GB&#34;,&#34; 13 &#34;:&#34; 128 GB&#34;}
</code></pre><h4 id="10-5-2-ä»€ä¹ˆæ˜¯spuå’Œsku">10 5 2 ä»€ä¹ˆæ˜¯SPUå’ŒSKU&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>SPUï¼šStandardProductUnit ï¼ˆæ ‡å‡†äº§å“å•ä½ï¼‰ ï¼Œä¸€ç»„å…·æœ‰å…±åŒå±æ€§çš„
å•†å“é›†ã€‚
SKUï¼šStockKeepingUnitï¼ˆåº“å­˜é‡å•ä½ï¼‰ï¼ŒSPUå•†å“é›†å› å…·ä½“ç‰¹æ€§ä¸åŒè€Œ
ç»†åˆ†çš„æ¯ä¸ªå•†å“ã€‚</p>
<h3 id="10-5-3-ä¸ºä»€ä¹ˆä¸è®¾ç½®å¤–é”®çº¦æŸ">10 5 3 ä¸ºä»€ä¹ˆä¸è®¾ç½®å¤–é”®çº¦æŸ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="å¤–é”®ä¼šä¸¥é‡å½±å“æ•°æ®åº“è¯»å†™çš„æ•ˆç‡">å¤–é”®ä¼šä¸¥é‡å½±å“æ•°æ®åº“è¯»å†™çš„æ•ˆç‡ã€‚</h5>
<h5 id="æ•°æ®åˆ é™¤æ—¶ä¼šæ¯”è¾ƒéº»çƒ¦">æ•°æ®åˆ é™¤æ—¶ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚</h5>
<h5 id="åœ¨ç”µå•†è¡Œä¸šæ€§èƒ½æ˜¯éå¸¸é‡è¦çš„æˆ‘ä»¬å®å¯åœ¨ä»£ç ä¸­é€šè¿‡é€»è¾‘æ¥ç»´æŠ¤è¡¨å…³ç³»">åœ¨ç”µå•†è¡Œä¸šï¼Œæ€§èƒ½æ˜¯éå¸¸é‡è¦çš„ã€‚æˆ‘ä»¬å®å¯åœ¨ä»£ç ä¸­é€šè¿‡é€»è¾‘æ¥ç»´æŠ¤è¡¨å…³ç³»ï¼Œ</h5>
<h5 id="ä¹Ÿä¸è®¾ç½®å¤–é”®">ä¹Ÿä¸è®¾ç½®å¤–é”®ã€‚</h5>
<h3 id="10-5-4-ä¸šåŠ¡æ€è·¯">10 5 4 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="å•†å“ç®¡ç†ä¸‹æœ‰å››ä¸ªå°æ¨¡å—åˆ†åˆ«æ˜¯åˆ†ç±»åˆ—è¡¨å“ç‰Œåˆ—è¡¨è§„æ ¼åˆ—è¡¨å’Œå•†å“åˆ—">å•†å“ç®¡ç†ä¸‹æœ‰å››ä¸ªå°æ¨¡å—ï¼Œåˆ†åˆ«æ˜¯åˆ†ç±»åˆ—è¡¨ã€å“ç‰Œåˆ—è¡¨ï¼Œè§„æ ¼åˆ—è¡¨å’Œå•†å“åˆ—</h5>
<h5 id="è¡¨æ¯ä¸ªæ¨¡å—éƒ½åˆ†åˆ«å…·æœ‰åˆ—è¡¨æ–°å¢ä¿®æ”¹å’Œåˆ é™¤ç­‰åŸºæœ¬åŠŸèƒ½å…¶ä¸­å•†å“æ¨¡å—ä¸">è¡¨ã€‚æ¯ä¸ªæ¨¡å—éƒ½åˆ†åˆ«å…·æœ‰åˆ—è¡¨ã€æ–°å¢ã€ä¿®æ”¹å’Œåˆ é™¤ç­‰åŸºæœ¬åŠŸèƒ½ï¼Œå…¶ä¸­å•†å“æ¨¡å—ä¸</h5>
<h5 id="å…‰å…·æœ‰è¿™äº›åŠŸèƒ½è¿˜åŒ…æ‹¬å•†å“çš„ä¸Šæ¶å’Œä¸‹æ¶">å…‰å…·æœ‰è¿™äº›åŠŸèƒ½ï¼Œè¿˜åŒ…æ‹¬å•†å“çš„ä¸Šæ¶å’Œä¸‹æ¶ã€‚</h5>
<h5 id="åœ¨å“ç‰Œå•†å“çš„æ–°å¢å’Œä¿®æ”¹ä¸­å€¼å¾—è¯´çš„æ˜¯å›¾ç‰‡ä¸Šä¼ å›¾ç‰‡ä¸Šä¼ æˆ‘ä»¬æœ€åˆé‡‡ç”¨">åœ¨å“ç‰Œã€å•†å“çš„æ–°å¢å’Œä¿®æ”¹ä¸­å€¼å¾—è¯´çš„æ˜¯å›¾ç‰‡ä¸Šä¼ ã€‚å›¾ç‰‡ä¸Šä¼ æˆ‘ä»¬æœ€åˆé‡‡ç”¨</h5>
<p>çš„æ˜¯æœ¬åœ°ä¸Šä¼ ï¼šå°†ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡ä¿å­˜åˆ°Nginxçš„é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ç”Ÿæˆ
è¯¥å›¾ç‰‡çš„è®¿é—®è·¯å¾„ä¿å­˜åˆ°æ•°æ®åº“ï¼Œä¹‹åé¡µé¢é€šè¿‡å›¾ç‰‡è®¿é—®è·¯å¾„ç›´æ¥è·å–Nginx
ä¸‹çš„å›¾ç‰‡ã€‚è¿™ç§æœ¬åœ°å›¾ç‰‡ä¸Šä¼ èƒ½å¤Ÿå®ç°å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å•æœºå™¨å­˜å‚¨èƒ½
åŠ›æœ‰é™ï¼Œå¤šå°æœºå™¨é—´æ— æ³•å…±äº«èµ„æºï¼Œæ•°æ®æ²¡æœ‰å¤‡ä»½ï¼Œå¹¶å‘èƒ½åŠ›å·®ç­‰é—®é¢˜ï¼Œä¿®æ”¹æœ¬
åœ°å›¾ç‰‡ä¸Šä¼ ä¸ºé˜¿é‡Œäº‘å­˜å‚¨å¯¹è±¡OSSã€‚é˜¿é‡Œçš„OSSæ˜¯ä¸€ä¸ªæä¾›æµ·é‡ï¼Œå®‰å…¨ï¼Œæˆæœ¬
ä½ï¼Œé«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨RESTFulAPIåœ¨äº’è”ç½‘ä»»ä½•ä½ç½®å­˜å‚¨å’Œè®¿
é—®ã€‚ç”¨æˆ·æ¯æ¬¡ä¸Šä¼ å›¾ç‰‡éƒ½ä¼šå¸¦ç€åå°ç”Ÿäº§çš„ç­¾åå°†å›¾ç‰‡ä¿å­˜åˆ°OSSä¸­ï¼ŒæˆåŠŸå
OSSä¼šè¿”å›å›¾ç‰‡çš„å…¬å…±è®¿é—®è·¯å¾„ï¼Œé¡µé¢é€šè¿‡æ­¤è·¯å¾„è®¿é—®OSSä¸Šçš„å›¾ç‰‡ã€‚
ä¸€ä»¶å•†å“åªæœ‰åœ¨ä¸Šæ¶åæ‰èƒ½è¿›è¡Œé”€å”®ï¼Œåœ¨ä¸‹æ¶åæ‰èƒ½å¯¹å•†å“çš„ä¿¡æ¯è¿›è¡Œä¿®
æ”¹ã€‚åŒæ—¶åœ¨å•†å“çš„ä¸Šæ¶å’Œä¸‹æ¶æ—¶ä¼šé€šè¿‡RabbitMQé€šçŸ¥é™æ€é¡µé¢å¾®æœåŠ¡å’Œæœç´¢
å¾®æœåŠ¡è¿›è¡Œé™æ€é¡µé¢çš„ç”Ÿäº§å’Œåˆ é™¤ï¼Œç´¢å¼•åº“çš„åˆ›å»ºå’Œåˆ é™¤ã€‚</p>
<h3 id="10-5-5-ä»€ä¹ˆæ˜¯è·¨åŸŸ">10 5 5 ä»€ä¹ˆæ˜¯è·¨åŸŸ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="è·¨åŸŸæ˜¯æŒ‡è·¨åŸŸåçš„è®¿é—®ä»¥ä¸‹æƒ…å†µéƒ½å±äºè·¨åŸŸ">è·¨åŸŸæ˜¯æŒ‡è·¨åŸŸåçš„è®¿é—®ï¼Œä»¥ä¸‹æƒ…å†µéƒ½å±äºè·¨åŸŸï¼š</h5>
<pre tabindex="0"><code>åŸŸåç›¸åŒï¼Œç«¯å£ä¸åŒï¼šwww.jd.com: 8080 ä¸ http://www.jd.com: 8081 ã€‚
</code></pre><p>åŸŸåä¸åŒï¼šwww.jd.com ä¸ <a class="link" href="http://www.taobao.com%e3%80%82"  target="_blank" rel="noopener"
    >http://www.taobao.comã€‚</a>
äºŒçº§åŸŸåä¸åŒï¼šitem.jd.com ä¸ miaosha.jd.comã€‚
å¦‚æœåŸŸåå’Œç«¯å£éƒ½ç›¸åŒï¼Œä½†æ˜¯è¯·æ±‚è·¯å¾„ä¸åŒï¼Œä¸å±äºè·¨åŸŸï¼Œå¦‚ï¼š
<a class="link" href="http://www.jd.com/item"  target="_blank" rel="noopener"
    >http://www.jd.com/item</a> ä¸ <a class="link" href="http://www.jd.com/goods%e3%80%82"  target="_blank" rel="noopener"
    >http://www.jd.com/goodsã€‚</a></p>
<h3 id="10-5-6-ä¸ºä»€ä¹ˆæœ‰è·¨åŸŸé—®é¢˜">10 5 6 ä¸ºä»€ä¹ˆæœ‰è·¨åŸŸé—®é¢˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>è·¨åŸŸä¸ä¸€å®šä¼šæœ‰è·¨åŸŸé—®é¢˜ã€‚å› ä¸ºè·¨åŸŸé—®é¢˜æ˜¯æµè§ˆå™¨å¯¹äºajaxè¯·æ±‚çš„ä¸€ç§å®‰
å…¨é™åˆ¶ï¼šä¸€ä¸ªé¡µé¢å‘èµ·çš„ajaxè¯·æ±‚ï¼Œåªèƒ½æ˜¯ä»å½“å‰é¡µåŒåŸŸåçš„è·¯å¾„ï¼Œè¿™èƒ½æœ‰æ•ˆ
çš„é˜»æ­¢è·¨ç«™æ”»å‡»ã€‚
å› æ­¤ï¼šè·¨åŸŸé—®é¢˜æ˜¯é’ˆå¯¹ajaxçš„ä¸€ç§é™åˆ¶ã€‚
ä½†æ˜¯è¿™å´ç»™æˆ‘ä»¬çš„å¼€å‘å¸¦æ¥äº†ä¸å˜ï¼Œè€Œä¸”åœ¨å®é™…ç”Ÿæˆç¯å¢ƒä¸­ï¼Œè‚¯å®šä¼šæœ‰å¾ˆå¤š
å°æœåŠ¡å™¨ä¹‹é—´äº¤äº’ï¼Œåœ°å€å’Œç«¯å£éƒ½å¯èƒ½ä¸åŒï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<h3 id="10-5-7-è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹æ¡ˆ">10 5 7 è§£å†³è·¨åŸŸé—®é¢˜çš„æ–¹æ¡ˆ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="ç›®å‰æ¯”è¾ƒå¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆæœ‰-3-ç§">ç›®å‰æ¯”è¾ƒå¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆæœ‰ 3 ç§ï¼š</h5>
<p><strong>1 .Jsonpï¼š</strong> æœ€æ—©çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿åˆ©ç”¨scriptæ ‡ç­¾å¯ä»¥è·¨åŸŸçš„åŸç†å®ç°ã€‚
ç¼ºç‚¹ï¼šéœ€è¦æœåŠ¡çš„æ”¯æŒï¼Œåªèƒ½å‘èµ·GETè¯·æ±‚ã€‚
<strong>2 .nginxåå‘ä»£ç†ï¼š</strong> åˆ©ç”¨nginxåå‘ä»£ç†æŠŠè·¨åŸŸç½®æˆä¸è·¨åŸŸï¼Œæ”¯æŒå„ç§
è¯·æ±‚æ–¹å¼ã€‚
ç¼ºç‚¹ï¼šéœ€è¦åœ¨nginxè¿›è¡Œé¢å¤–é…ç½®ï¼Œè¯­ä¹‰ä¸æ¸…æ™°ã€‚
<strong>3 .CORSï¼š</strong> è§„èŒƒåŒ–çš„è·¨åŸŸè¯·æ±‚è§£å†³æ–¹æ¡ˆï¼Œå®‰å…¨å¯é ã€‚
ä¼˜ç‚¹ï¼šåœ¨æœåŠ¡ç«¯è¿›è¡Œæ§åˆ¶æ˜¯å¦å…è®¸è·¨åŸŸï¼Œå¯è‡ªå®šä¹‰è§„åˆ™ã€‚æ”¯æŒå„ç§è¯·æ±‚</p>
<h5 id="æ–¹å¼-1">æ–¹å¼ã€‚</h5>
<h5 id="ç¼ºç‚¹ä¼šäº§ç”Ÿé¢å¤–çš„è¯·æ±‚">ç¼ºç‚¹ï¼šä¼šäº§ç”Ÿé¢å¤–çš„è¯·æ±‚ã€‚</h5>
<pre tabindex="0"><code>æˆ‘ä»¬è¿™é‡Œä¼šé‡‡ç”¨corsçš„è·¨åŸŸæ–¹æ¡ˆã€‚
</code></pre><h3 id="10-5-8-cors">10 5 8 CORS&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p><strong>5. 8. 1 ä»€ä¹ˆä½¿CORS</strong></p>
<p>CORSæ˜¯ä¸€ä¸ªW 3 Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&rdquo;ï¼ˆCross-originresource
sharingï¼‰ã€‚å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡º XMLHttpRequest è¯·æ±‚ï¼Œä»è€Œ
å…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚CORSéœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚ç›®å‰ï¼Œ
æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ŒIEæµè§ˆå™¨ä¸èƒ½ä½äºIE 10 ã€‚
<strong>æµè§ˆå™¨ç«¯</strong> ï¼š
ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ˆIE 10 ä»¥ä¸‹ä¸è¡Œï¼‰ã€‚æ•´ä¸ªCORSé€šä¿¡è¿‡
ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚
<strong>æœåŠ¡å™¨ç«¯</strong> ï¼š
CORSé€šä¿¡ä¸AJAXæ²¡æœ‰ä»»ä½•å·®åˆ«ï¼Œå› æ­¤ä½ ä¸éœ€è¦æ”¹å˜ä»¥å‰çš„ä¸šåŠ¡é€»è¾‘ã€‚
åªä¸è¿‡ï¼Œæµè§ˆå™¨ä¼šåœ¨è¯·æ±‚ä¸­æºå¸¦ä¸€äº›å¤´ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦ä»¥æ­¤åˆ¤æ–­æ˜¯å¦è¿è¡Œå…¶
è·¨åŸŸï¼Œç„¶ååœ¨å“åº”å¤´ä¸­åŠ å…¥ä¸€äº›ä¿¡æ¯å³å¯ã€‚è¿™ä¸€èˆ¬é€šè¿‡è¿‡æ»¤å™¨å®Œæˆå³å¯ã€‚</p>
<p><strong>5. 8. 2 CORSåŸç†</strong></p>
<p>æµè§ˆå™¨ä¼šå°†ajaxè¯·æ±‚åˆ†ä¸ºä¸¤ç±»ï¼Œå…¶å¤„ç†æ–¹æ¡ˆç•¥æœ‰å·®å¼‚ï¼šç®€å•è¯·æ±‚ã€ç‰¹æ®Šè¯·
æ±‚ã€‚
<strong>ç®€å•è¯·æ±‚</strong></p>
<h5 id="åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶å°±å±äºç®€å•è¯·æ±‚">åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ï¼š</h5>
<h5 id="1-è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€">1. è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š</h5>
<h5 id="head">HEAD</h5>
<h5 id="get">GET</h5>
<h5 id="post">POST</h5>
<h5 id="2-httpçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µ">2. HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š</h5>
<p>Accept
Accept-Language
Content-Language
Last-Event-ID
Content-Typeï¼šåªé™äºä¸‰ä¸ªå€¼
application/x-www-form-urlencoded ã€
multipart/form-dataã€text/plain
å½“æµè§ˆå™¨å‘ç°å‘ç°çš„ajaxè¯·æ±‚æ˜¯ç®€å•è¯·æ±‚æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ä¸€ä¸ªå­—æ®µï¼š
Origin</p>
<p>Originä¸­ä¼šæŒ‡å‡ºå½“å‰è¯·æ±‚å±äºå“ªä¸ªåŸŸï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ã€‚æœåŠ¡ä¼šæ ¹æ®è¿™ä¸ªå€¼
å†³ å®šæ˜¯å¦å…è®¸å…¶è·¨åŸŸã€‚å¦‚æœæœåŠ¡å™¨å…è®¸è·¨åŸŸï¼Œéœ€è¦åœ¨è¿”å›çš„å“åº”å¤´ä¸­æºå¸¦ä¸‹é¢
ä¿¡æ¯</p>
<p>Access-Control-Allow-Originï¼šå¯æ¥å—çš„åŸŸï¼Œæ˜¯ä¸€ä¸ªå…·ä½“åŸŸåæˆ–è€…*ï¼Œä»£è¡¨ä»»
æ„ã€‚
Access-Control-Allow-Credentialsï¼šæ˜¯å¦å…è®¸æºå¸¦cookieï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œcors
ä¸ä¼šæºå¸¦cookieï¼Œé™¤éè¿™ä¸ªå€¼æ˜¯ trueã€‚
<strong>æ³¨æ„ï¼š</strong> å¦‚æœè·¨åŸŸè¯·æ±‚è¦æƒ³æ“ä½œcookieï¼Œéœ€è¦æ»¡è¶³ 3 ä¸ªæ¡ä»¶ï¼š
æœåŠ¡çš„å“åº”å¤´ä¸­éœ€è¦æºå¸¦Access-Control-Allow-Credentialså¹¶ä¸”ä¸ºtrueã€‚
æµè§ˆå™¨å‘èµ·ajaxéœ€è¦æŒ‡å®šwithCredentialsä¸ºtrueã€‚
å“åº”å¤´ä¸­çš„Access-Control-Allow-Originä¸€å®šä¸èƒ½ä¸º*ï¼Œå¿…é¡»æ˜¯æŒ‡å®šçš„åŸŸåã€‚
<strong>ç‰¹æ®Šè¯·æ±‚</strong>
ä¸ç¬¦åˆç®€å•è¯·æ±‚çš„æ¡ä»¶ï¼Œä¼šè¢«æµè§ˆå™¨åˆ¤å®šä¸ºç‰¹æ®Šè¯·æ±‚,ï¼Œä¾‹å¦‚è¯·æ±‚æ–¹å¼ä¸ºPUTã€‚
<strong>é¢„æ£€è¯·æ±‚</strong>
ç‰¹æ®Šè¯·æ±‚ä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸º&quot;é¢„æ£€&quot;è¯·æ±‚
ï¼ˆpreflightï¼‰ã€‚æµè§ˆå™¨å…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯
åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº›HTTPåŠ¨è¯å’Œå¤´ä¿¡æ¯å­—æ®µã€‚åªæœ‰å¾—åˆ°è‚¯å®šç­”å¤ï¼Œæµ
è§ˆå™¨æ‰ä¼šå‘å‡ºæ­£å¼çš„ XMLHttpRequest è¯·æ±‚ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚ä¸€ä¸ªâ€œé¢„æ£€â€è¯·
æ±‚çš„æ ·æ¿ï¼š</p>
<pre tabindex="0"><code>ä¸ç®€å•è¯·æ±‚ç›¸æ¯”ï¼Œé™¤äº†Originä»¥å¤–ï¼Œå¤šäº†ä¸¤ä¸ªå¤´ï¼š
Access-Control-Request-Methodï¼šæ¥ä¸‹æ¥ä¼šç”¨åˆ°çš„è¯·æ±‚æ–¹å¼ï¼Œæ¯”å¦‚PUTã€‚
</code></pre><p>Access-Control-Request-Headersï¼šä¼šé¢å¤–ç”¨åˆ°çš„å¤´ä¿¡æ¯ã€‚
<strong>é¢„æ£€è¯·æ±‚çš„å“åº”</strong>
æœåŠ¡çš„æ”¶åˆ°é¢„æ£€è¯·æ±‚ï¼Œå¦‚æœè®¸å¯è·¨åŸŸï¼Œä¼šå‘å‡ºå“åº”ï¼š</p>
<p>é™¤äº†Access-Control-Allow-Origin å’Œ Access-Control-Allow-Credentials
ä»¥å¤–ï¼Œè¿™é‡Œåˆé¢å¤–å¤šå‡º 3 ä¸ªå¤´ï¼š
Access-Control-Allow-Methodsï¼šå…è®¸è®¿é—®çš„æ–¹å¼ã€‚
Access-Control-Allow-Headersï¼šå…è®¸æºå¸¦çš„å¤´ã€‚
Access-Control-Max-Ageï¼šæœ¬æ¬¡è®¸å¯çš„æœ‰æ•ˆæ—¶é•¿ï¼Œå•ä½æ˜¯ç§’ï¼Œè¿‡æœŸä¹‹
å‰çš„ajaxè¯·æ±‚å°±æ— éœ€å†æ¬¡è¿›è¡Œé¢„æ£€äº†ã€‚
å¦‚æœæµè§ˆå™¨å¾—åˆ°ä¸Šè¿°å“åº”ï¼Œåˆ™è®¤å®šä¸ºå¯ä»¥è·¨åŸŸï¼Œåç»­å°±è·Ÿç®€å•è¯·æ±‚çš„å¤„ç†æ˜¯
ä¸€æ ·çš„äº†ã€‚</p>
<p><strong>5. 8. 3 å®ç°</strong></p>
<p>è™½ç„¶åŸç†æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯å‰é¢è¯´è¿‡ï¼š
æµè§ˆå™¨ç«¯éƒ½æœ‰æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œæˆ‘ä»¬æ— éœ€æ“å¿ƒæœåŠ¡ç«¯å¯ä»¥é€šè¿‡æ‹¦æˆªå™¨ç»Ÿä¸€å®
ç°ï¼Œä¸å¿…æ¯æ¬¡éƒ½å»è¿›è¡Œè·¨åŸŸåˆ¤å®šçš„ç¼–å†™ã€‚</p>
<h5 id="åœ¨å®ç°ä»£ç æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…å¦‚ä¸‹">åœ¨å®ç°ä»£ç æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…å¦‚ä¸‹ï¼š</h5>
<p>åˆ›å»ºcorsçš„é…ç½®ä¿¡æ¯
å…è®¸è®¿é—®çš„åŸŸ
æ˜¯å¦å…è®¸å‘é€cookie
å…è®¸çš„è¯·æ±‚æ–¹å¼
å…è®¸çš„å¤´ä¿¡æ¯
è®¿é—®æœ‰æ•ˆæœŸ
æ·»åŠ æ˜ å°„è·¯å¾„ï¼Œæˆ‘ä»¬æ‹¦æˆªä¸€åˆ‡è¯·æ±‚ã€‚
è¿”å›æ–°çš„CORSFilterã€‚
äº‹å®ä¸Šï¼ŒSpringMVCå·²ç»å¸®æˆ‘ä»¬å†™å¥½äº†CORSçš„è·¨åŸŸè¿‡æ»¤å™¨ï¼šCorsFilter,
å†…éƒ¨å·²ç»å®ç°äº†åˆšæ‰æ‰€è®²çš„åˆ¤å®šé€»è¾‘ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨å°±å¥½äº†ã€‚</p>
<h3 id="10-5-9-ä¸ºä»€ä¹ˆå›¾ç‰‡åœ°å€éœ€è¦ä½¿ç”¨å¦å¤–çš„url">10 5 9 ä¸ºä»€ä¹ˆå›¾ç‰‡åœ°å€éœ€è¦ä½¿ç”¨å¦å¤–çš„urlï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="å›¾ç‰‡ä¸èƒ½ä¿å­˜åœ¨æœåŠ¡å™¨å†…éƒ¨è¿™æ ·ä¼šå¯¹æœåŠ¡å™¨äº§ç”Ÿé¢å¤–çš„åŠ è½½è´Ÿæ‹…">å›¾ç‰‡ä¸èƒ½ä¿å­˜åœ¨æœåŠ¡å™¨å†…éƒ¨ï¼Œè¿™æ ·ä¼šå¯¹æœåŠ¡å™¨äº§ç”Ÿé¢å¤–çš„åŠ è½½è´Ÿæ‹…ã€‚</h5>
<h5 id="ä¸€èˆ¬é™æ€èµ„æºéƒ½åº”è¯¥ä½¿ç”¨ç‹¬ç«‹åŸŸåè¿™æ ·è®¿é—®é™æ€èµ„æºæ—¶ä¸ä¼šæºå¸¦ä¸€äº›ä¸å¿…">ä¸€èˆ¬é™æ€èµ„æºéƒ½åº”è¯¥ä½¿ç”¨ç‹¬ç«‹åŸŸåï¼Œè¿™æ ·è®¿é—®é™æ€èµ„æºæ—¶ä¸ä¼šæºå¸¦ä¸€äº›ä¸å¿…</h5>
<p>è¦çš„cookieï¼Œå‡å°è¯·æ±‚çš„æ•°æ®é‡ã€‚</p>
<h3 id="10-5-10-æ¶ˆæ¯ä¸­é—´ä»¶">10 5 10 æ¶ˆæ¯ä¸­é—´ä»¶&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>10. 5. 10. 1 ä»€ä¹ˆæ˜¯æ¶ˆæ¯ä¸­é—´ä»¶</strong></p>
<p>æ¶ˆæ¯é˜Ÿåˆ—å·²ç»é€æ¸æˆä¸ºä¼ä¸šITç³»ç»Ÿå†…éƒ¨é€šä¿¡çš„æ ¸å¿ƒæ‰‹æ®µã€‚å®ƒå…·æœ‰ä½è€¦åˆã€
å¯é æŠ•é€’ã€å¹¿æ’­ã€æµé‡æ§åˆ¶ã€æœ€ç»ˆä¸€è‡´æ€§ç­‰ä¸€ç³»åˆ—åŠŸèƒ½ï¼Œæˆä¸ºå¼‚æ­¥RPCçš„ä¸»è¦</p>
<p>æ‰‹æ®µä¹‹ä¸€ã€‚å½“ä»Šå¸‚é¢ä¸Šæœ‰å¾ˆå¤šä¸»æµçš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå¦‚è€ç‰Œçš„ActiveMQã€
RabbitMQï¼Œç‚™æ‰‹å¯çƒ­çš„Kafkaï¼Œé˜¿é‡Œå·´å·´è‡ªä¸»å¼€å‘RocketMQç­‰ã€‚</p>
<p><strong>10. 5. 10. 2 æ¶ˆæ¯ä¸­é—´ä»¶çš„ç»„æˆ</strong></p>
<p><strong>Broker</strong>
æ¶ˆæ¯æœåŠ¡å™¨ï¼Œä½œä¸ºserveræä¾›æ¶ˆæ¯æ ¸å¿ƒæœåŠ¡ã€‚</p>
<p><strong>Producer</strong>
æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œä¸šåŠ¡çš„å‘èµ·æ–¹ï¼Œè´Ÿè´£ç”Ÿäº§æ¶ˆæ¯ä¼ è¾“ç»™brokerã€‚</p>
<p><strong>Consumer</strong>
æ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œä¸šåŠ¡çš„å¤„ç†æ–¹ï¼Œè´Ÿè´£ä»brokerè·å–æ¶ˆæ¯å¹¶è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚</p>
<p><strong>Topic</strong>
ä¸»é¢˜ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼ä¸‹çš„æ¶ˆæ¯ç»Ÿä¸€æ±‡é›†åœ°ï¼Œä¸åŒç”Ÿäº§è€…å‘topicå‘é€æ¶ˆæ¯ï¼Œ
ç”±MQæœåŠ¡å™¨åˆ†å‘åˆ°ä¸åŒçš„è®¢é˜…è€…ï¼Œå®ç°æ¶ˆæ¯çš„å¹¿æ’­ã€‚</p>
<p><strong>Queue</strong>
é˜Ÿåˆ—ï¼ŒPTPæ¨¡å¼ä¸‹ï¼Œç‰¹å®šç”Ÿäº§è€…å‘ç‰¹å®šqueueå‘é€æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…è®¢é˜…ç‰¹å®š
çš„queueå®ŒæˆæŒ‡å®šæ¶ˆæ¯çš„æ¥æ”¶ã€‚</p>
<p><strong>Message</strong>
æ¶ˆæ¯ä½“ï¼Œæ ¹æ®ä¸åŒé€šä¿¡åè®®å®šä¹‰çš„å›ºå®šæ ¼å¼è¿›è¡Œç¼–ç çš„æ•°æ®åŒ…ï¼Œæ¥å°è£…ä¸šåŠ¡
æ•°æ®ï¼Œå®ç°æ¶ˆæ¯çš„ä¼ è¾“ã€‚</p>
<p><strong>10. 5. 10. 3 æ¶ˆæ¯ä¸­é—´ä»¶æ¨¡å¼åˆ†ç±»</strong></p>
<pre tabindex="0"><code>ç‚¹å¯¹ç‚¹
PTPç‚¹å¯¹ç‚¹ï¼šä½¿ç”¨queueä½œä¸ºé€šä¿¡è½½ä½“ã€‚
</code></pre><h5 id="è¯´æ˜">è¯´æ˜ï¼š</h5>
<p>æ¶ˆæ¯ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯å‘é€åˆ°queueä¸­ï¼Œç„¶åæ¶ˆæ¯æ¶ˆè´¹è€…ä»queueä¸­å–å‡ºå¹¶
ä¸”æ¶ˆè´¹æ¶ˆæ¯ã€‚
æ¶ˆæ¯è¢«æ¶ˆè´¹ä»¥åï¼Œqueueä¸­ä¸å†å­˜å‚¨ï¼Œæ‰€ä»¥æ¶ˆæ¯æ¶ˆè´¹è€…ä¸å¯èƒ½æ¶ˆè´¹åˆ°å·²
ç»è¢«æ¶ˆè´¹çš„æ¶ˆæ¯ã€‚Queueæ”¯æŒå­˜åœ¨å¤šä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯å¯¹ä¸€ä¸ªæ¶ˆæ¯è€Œè¨€ï¼Œåªä¼šæœ‰
ä¸€ä¸ªæ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹ã€‚
<strong>å‘å¸ƒ/è®¢é˜…</strong>
Pub/Subå‘å¸ƒè®¢é˜…ï¼ˆå¹¿æ’­ï¼‰ï¼šä½¿ç”¨topicä½œä¸ºé€šä¿¡è½½ä½“ã€‚</p>
<h5 id="è¯´æ˜-1">è¯´æ˜ï¼š</h5>
<p>æ¶ˆæ¯ç”Ÿäº§è€…ï¼ˆå‘å¸ƒï¼‰å°†æ¶ˆæ¯å‘å¸ƒåˆ°topicä¸­ï¼ŒåŒæ—¶æœ‰å¤šä¸ªæ¶ˆæ¯æ¶ˆè´¹è€…ï¼ˆè®¢é˜…ï¼‰
æ¶ˆè´¹è¯¥æ¶ˆæ¯ã€‚å’Œç‚¹å¯¹ç‚¹æ–¹å¼ä¸åŒï¼Œå‘å¸ƒåˆ°topicçš„æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰è®¢é˜…è€…æ¶ˆè´¹ã€‚
queueå®ç°äº†è´Ÿè½½å‡è¡¡ï¼Œå°†producerç”Ÿäº§çš„æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”±å¤š
ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚ä½†ä¸€ä¸ªæ¶ˆæ¯åªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¥å—ï¼Œå½“æ²¡æœ‰æ¶ˆè´¹è€…å¯ç”¨æ—¶ï¼Œè¿™ä¸ª
æ¶ˆæ¯ä¼šè¢«ä¿å­˜ç›´åˆ°æœ‰ä¸€ä¸ªå¯ç”¨çš„æ¶ˆè´¹è€…ã€‚
topicå®ç°äº†å‘å¸ƒå’Œè®¢é˜…ï¼Œå½“ä½ å‘å¸ƒä¸€ä¸ªæ¶ˆæ¯ï¼Œæ‰€æœ‰è®¢é˜…è¿™ä¸ªtopicçš„æœåŠ¡
éƒ½èƒ½å¾—åˆ°è¿™ä¸ªæ¶ˆæ¯ï¼Œæ‰€ä»¥ä» 1 åˆ°Nä¸ªè®¢é˜…è€…éƒ½èƒ½å¾—åˆ°ä¸€ä¸ªæ¶ˆæ¯çš„æ‹·è´ã€‚</p>
<p><strong>10. 5. 10. 4 æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¼˜åŠ¿</strong></p>
<p><strong>ç³»ç»Ÿè§£è€¦</strong>
äº¤äº’ç³»ç»Ÿä¹‹é—´æ²¡æœ‰ç›´æ¥çš„è°ƒç”¨å…³ç³»ï¼Œåªæ˜¯é€šè¿‡æ¶ˆæ¯ä¼ è¾“ï¼Œæ•…ç³»ç»Ÿä¾µå…¥æ€§ä¸å¼ºï¼Œ
è€¦åˆåº¦ä½ã€‚
<strong>æé«˜ç³»ç»Ÿå“åº”æ—¶é—´</strong>
ä¾‹å¦‚åŸæ¥çš„ä¸€å¥—é€»è¾‘ï¼Œå®Œæˆæ”¯ä»˜å¯èƒ½æ¶‰åŠå…ˆä¿®æ”¹è®¢å•çŠ¶æ€ã€è®¡ç®—ä¼šå‘˜ç§¯åˆ†ã€
é€šçŸ¥ç‰©æµé…é€å‡ ä¸ªé€»è¾‘æ‰èƒ½å®Œæˆï¼›é€šè¿‡MQæ¶æ„è®¾è®¡ï¼Œå°±å¯å°†ç´§æ€¥é‡è¦ï¼ˆéœ€è¦</p>
<h5 id="ç«‹åˆ»å“åº”çš„ä¸šåŠ¡æ”¾åˆ°è¯¥è°ƒç”¨æ–¹æ³•ä¸­å“åº”è¦æ±‚ä¸é«˜çš„ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ”¾åˆ°mq">ç«‹åˆ»å“åº”ï¼‰çš„ä¸šåŠ¡æ”¾åˆ°è¯¥è°ƒç”¨æ–¹æ³•ä¸­ï¼Œå“åº”è¦æ±‚ä¸é«˜çš„ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ”¾åˆ°MQ</h5>
<h5 id="é˜Ÿåˆ—ä¸­ä¾›æ¶ˆè´¹è€…å¤„ç†">é˜Ÿåˆ—ä¸­ï¼Œä¾›æ¶ˆè´¹è€…å¤„ç†ã€‚</h5>
<h5 id="ä¸ºå¤§æ•°æ®å¤„ç†æ¶æ„æä¾›æœåŠ¡">ä¸ºå¤§æ•°æ®å¤„ç†æ¶æ„æä¾›æœåŠ¡</h5>
<h5 id="é€šè¿‡æ¶ˆæ¯ä½œä¸ºæ•´åˆå¤§æ•°æ®çš„èƒŒæ™¯ä¸‹æ¶ˆæ¯é˜Ÿåˆ—è¿˜ä¸å®æ—¶å¤„ç†æ¶æ„æ•´åˆä¸º">é€šè¿‡æ¶ˆæ¯ä½œä¸ºæ•´åˆï¼Œå¤§æ•°æ®çš„èƒŒæ™¯ä¸‹ï¼Œæ¶ˆæ¯é˜Ÿåˆ—è¿˜ä¸å®æ—¶å¤„ç†æ¶æ„æ•´åˆï¼Œä¸º</h5>
<h5 id="æ•°æ®å¤„ç†æä¾›æ€§èƒ½æ”¯æŒ">æ•°æ®å¤„ç†æä¾›æ€§èƒ½æ”¯æŒã€‚</h5>
<p><strong>Javaæ¶ˆæ¯æœåŠ¡â€”â€”JMS</strong>
Javaæ¶ˆæ¯æœåŠ¡ï¼ˆJavaMessageServiceï¼ŒJMSï¼‰åº”ç”¨ç¨‹åºæ¥å£æ˜¯ä¸€ä¸ªJava
å¹³å°ä¸­å…³äºé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆMOMï¼‰çš„APIï¼Œç”¨äºåœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæˆ–åˆ†
å¸ƒå¼ç³»ç»Ÿä¸­å‘é€æ¶ˆæ¯ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚
JMSä¸­çš„P 2 På’ŒPub/Subæ¶ˆæ¯æ¨¡å¼ï¼šç‚¹å¯¹ç‚¹ï¼ˆpointtopointï¼Œ queueï¼‰
ä¸å‘å¸ƒè®¢é˜…ï¼ˆpublish/subscribeï¼Œtopicï¼‰æœ€åˆæ˜¯ç”±JMSå®šä¹‰çš„ã€‚è¿™ä¸¤ç§æ¨¡å¼
ä¸»è¦åŒºåˆ«æˆ–è§£å†³çš„é—®é¢˜å°±æ˜¯å‘é€åˆ°é˜Ÿåˆ—çš„æ¶ˆæ¯èƒ½å¦é‡å¤æ¶ˆè´¹(å¤šè®¢é˜…)ã€‚</p>
<p><strong>10. 5. 10. 5 æ¶ˆæ¯ä¸­é—´ä»¶å¸¸ç”¨åè®®</strong></p>
<p><strong>AMQPåè®®</strong>
AMQPå³AdvancedMessageQueuingProtocolï¼Œä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœ
åŠ¡çš„åº”ç”¨å±‚æ ‡å‡†é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®,æ˜¯åº”ç”¨å±‚åè®®çš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œä¸ºé¢å‘æ¶ˆæ¯
çš„ä¸­é—´ä»¶è®¾è®¡ã€‚åŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ¶ˆæ¯ï¼Œå¹¶ä¸å—å®¢æˆ·ç«¯/
ä¸­é—´ä»¶ä¸åŒäº§å“ï¼Œä¸åŒå¼€å‘è¯­è¨€ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚
<strong>ä¼˜ç‚¹ï¼š</strong> å¯é ã€é€šç”¨ã€‚
<strong>MQTTåè®®</strong>
MQTTï¼ˆMessageQueuingTelemetryTransportï¼Œæ¶ˆæ¯é˜Ÿåˆ—é¥æµ‹ä¼ è¾“ï¼‰</p>
<h5 id="æ˜¯ibmå¼€å‘çš„ä¸€ä¸ªå³æ—¶é€šè®¯åè®®æœ‰å¯èƒ½æˆä¸ºç‰©è”ç½‘çš„é‡è¦ç»„æˆéƒ¨åˆ†è¯¥åè®®">æ˜¯IBMå¼€å‘çš„ä¸€ä¸ªå³æ—¶é€šè®¯åè®®ï¼Œæœ‰å¯èƒ½æˆä¸ºç‰©è”ç½‘çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è¯¥åè®®</h5>
<h5 id="æ”¯æŒæ‰€æœ‰å¹³å°å‡ ä¹å¯ä»¥æŠŠæ‰€æœ‰è”ç½‘ç‰©å“å’Œå¤–éƒ¨è¿æ¥èµ·æ¥è¢«ç”¨æ¥å½“åšä¼ æ„Ÿå™¨å’Œ">æ”¯æŒæ‰€æœ‰å¹³å°ï¼Œå‡ ä¹å¯ä»¥æŠŠæ‰€æœ‰è”ç½‘ç‰©å“å’Œå¤–éƒ¨è¿æ¥èµ·æ¥ï¼Œè¢«ç”¨æ¥å½“åšä¼ æ„Ÿå™¨å’Œ</h5>
<p>è‡´åŠ¨å™¨ï¼ˆæ¯”å¦‚é€šè¿‡Twitterè®©æˆ¿å±‹è”ç½‘ï¼‰çš„é€šä¿¡åè®®ã€‚
<strong>ä¼˜ç‚¹ï¼š</strong> æ ¼å¼ç®€æ´ã€å ç”¨å¸¦å®½å°ã€ç§»åŠ¨ç«¯é€šä¿¡ã€PUSHã€åµŒå…¥å¼ç³»ç»Ÿã€‚
<strong>STOMPåè®®</strong>
STOMPï¼ˆStreamingTextOrientatedMessageProtocolï¼‰æ˜¯æµæ–‡æœ¬å®šå‘
æ¶ˆæ¯åè®®ï¼Œæ˜¯ä¸€ç§ä¸ºMOM(MessageOrientedMiddlewareï¼Œé¢å‘æ¶ˆæ¯çš„ä¸­é—´
ä»¶)è®¾è®¡çš„ç®€å•æ–‡æœ¬åè®®ã€‚STOMPæä¾›ä¸€ä¸ªå¯äº’æ“ä½œçš„è¿æ¥æ ¼å¼ï¼Œå…è®¸å®¢æˆ·ç«¯ä¸
ä»»æ„STOMPæ¶ˆæ¯ä»£ç†ï¼ˆBrokerï¼‰è¿›è¡Œäº¤äº’ã€‚
<strong>ä¼˜ç‚¹ï¼š</strong> å‘½ä»¤æ¨¡å¼ï¼ˆétopic\queueæ¨¡å¼ï¼‰ã€‚
<strong>XMPPåè®®</strong>
XMPPï¼ˆå¯æ‰©å±•æ¶ˆæ¯å¤„ç†ç°åœºåè®®ï¼ŒExtensibleMessagingandPresence
Protocolï¼‰æ˜¯åŸºäºå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆXMLï¼‰çš„åè®®ï¼Œå¤šç”¨äºå³æ—¶æ¶ˆæ¯ï¼ˆIMï¼‰ä»¥
åŠåœ¨çº¿ç°åœºæ¢æµ‹ã€‚é€‚ç”¨äºæœåŠ¡å™¨ä¹‹é—´çš„å‡†å³æ—¶æ“ä½œã€‚æ ¸å¿ƒæ˜¯åŸºäºXMLæµä¼ è¾“ï¼Œ
è¿™ä¸ªåè®®å¯èƒ½æœ€ç»ˆå…è®¸å› ç‰¹ç½‘ç”¨æˆ·å‘å› ç‰¹ç½‘ä¸Šçš„å…¶ä»–ä»»ä½•äººå‘é€å³æ—¶æ¶ˆæ¯ï¼Œå³ä½¿
å…¶æ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨ä¸åŒã€‚
<strong>ä¼˜ç‚¹ï¼š</strong> é€šç”¨å…¬å¼€ã€å…¼å®¹æ€§å¼ºã€å¯æ‰©å±•ã€å®‰å…¨æ€§é«˜ï¼Œä½†XMLç¼–ç æ ¼å¼å ç”¨å¸¦å®½å¤§ã€‚
<strong>å…¶ä»–åŸºäºTCP/IPè‡ªå®šä¹‰çš„åè®®</strong>
æœ‰äº›ç‰¹æ®Šæ¡†æ¶ï¼ˆå¦‚ï¼šRedisã€kafkaã€zeroMqç­‰ï¼‰æ ¹æ®è‡ªèº«éœ€è¦æœªä¸¥æ ¼éµå¾ª
MQè§„èŒƒï¼Œè€Œæ˜¯åŸºäºTCP\IPè‡ªè¡Œå°è£…äº†ä¸€å¥—åè®®ï¼Œé€šè¿‡ç½‘ç»œsocketæ¥å£è¿›è¡Œ
ä¼ è¾“ï¼Œå®ç°äº†MQçš„åŠŸèƒ½ã€‚</p>
<h3 id="10-5-11-rabbitmq">10 5 11 RabbitMQ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>10. 5. 11. 1 ä»€ä¹ˆæ˜¯RabbitMQï¼Ÿ</strong></p>
<p>RabbitMQæ˜¯ä¸€æ¬¾å¼€æºçš„ï¼ŒErlangç¼–å†™çš„ï¼ŒåŸºäºAMQPåè®®çš„ï¼Œæ¶ˆæ¯ä¸­é—´
ä»¶ã€‚</p>
<p><strong>10. 5. 11. 2 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨RabbitMQï¼ŸRabbitæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ</strong></p>
<pre tabindex="0"><code>è§£è€¦ã€å¼‚æ­¥ã€å‰Šå³°ã€‚
</code></pre><p><strong>10. 5. 11. 3 RabbitMQæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ</strong></p>
<p>é™ä½äº†ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼šæœ¬æ¥ç³»ç»Ÿè¿è¡Œå¥½å¥½çš„ï¼Œç°åœ¨ä½ éè¦åŠ å…¥ä¸ªæ¶ˆæ¯é˜Ÿåˆ—è¿›
å»ï¼Œé‚£æ¶ˆæ¯é˜Ÿåˆ—æŒ‚äº†ï¼Œä½ çš„ç³»ç»Ÿä¸æ˜¯å‘µå‘µäº†ã€‚å› æ­¤ï¼Œç³»ç»Ÿå¯ç”¨æ€§ä¼šé™ä½ã€‚</p>
<p>å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼šåŠ å…¥äº†æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¦å¤šè€ƒè™‘å¾ˆå¤šæ–¹é¢çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š
ä¸€è‡´æ€§é—®é¢˜ã€å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ã€å¦‚ä½•ä¿è¯æ¶ˆæ¯å¯é æ€§ä¼ è¾“ç­‰ã€‚å› æ­¤ï¼Œ
éœ€è¦è€ƒè™‘çš„ä¸œè¥¿æ›´å¤šï¼Œå¤æ‚æ€§å¢å¤§ã€‚</p>
<p><strong>10. 5. 11. 4 RabbitMQçš„å·¥ä½œæ¨¡å¼ï¼Ÿ</strong></p>
<p><strong>7 ç§</strong> ï¼Œ 1 .ç®€å•æ¨¡å¼ 2 .å·¥ä½œè€…æ¨¡å¼ 3 .å¹¿æ’­æ¨¡å¼ 4 .è·¯ç”±æ¨¡å¼ 5 .é€šé…ç¬¦æ¨¡å¼
6 .RPC 7 .æ¶ˆæ¯ç¡®è®¤æ¨¡å¼</p>
<p><strong>ç®€å•æ¨¡å¼</strong>
ä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ¶ˆè´¹è€…ã€‚
<strong>workæ¨¡å¼(å¸¸ç”¨)</strong></p>
<h5 id="ä¸€ä¸ªç”Ÿäº§è€…å¤šä¸ªæ¶ˆè´¹è€…æ¯ä¸ªæ¶ˆè´¹è€…è·å–åˆ°çš„æ¶ˆæ¯å”¯ä¸€-1">ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå¤šä¸ªæ¶ˆè´¹è€…ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…è·å–åˆ°çš„æ¶ˆæ¯å”¯ä¸€ã€‚</h5>
<h5 id="è®¢é˜…æ¨¡å¼-1">è®¢é˜…æ¨¡å¼</h5>
<h5 id="ä¸€ä¸ªç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šè¢«å¤šä¸ªæ¶ˆè´¹è€…è·å–-1">ä¸€ä¸ªç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šè¢«å¤šä¸ªæ¶ˆè´¹è€…è·å–ã€‚</h5>
<h5 id="è·¯ç”±æ¨¡å¼-1">è·¯ç”±æ¨¡å¼</h5>
<p>å‘é€æ¶ˆæ¯åˆ°äº¤æ¢æœºå¹¶ä¸”è¦æŒ‡å®šè·¯ç”±key ï¼Œæ¶ˆè´¹è€…å°†é˜Ÿåˆ—ç»‘å®šåˆ°äº¤æ¢æœºæ—¶éœ€
è¦æŒ‡å®šè·¯ç”±keyã€‚
<strong>topicæ¨¡å¼(å¸¸ç”¨)</strong>
å°†è·¯ç”±é”®å’ŒæŸæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­¤æ—¶é˜Ÿåˆ—éœ€è¦ç»‘å®šåœ¨ä¸€ä¸ªæ¨¡å¼ä¸Šï¼Œâ€œ#â€åŒ¹é…
ä¸€ä¸ªè¯æˆ–å¤šä¸ªè¯ï¼Œâ€œ*â€åªåŒ¹é…ä¸€ä¸ªè¯ã€‚</p>
<p><strong>10. 5. 11. 5 å¦‚ä½•ä¿è¯RabbitMQé«˜å¯ç”¨ï¼Ÿ</strong></p>
<p>æ­å»ºRabbitMQé›†ç¾¤ã€‚ä¸€èˆ¬å°å‹ï¼Œä¸­å‹é¡¹ç›®æ­å»º 3 å°å¤Ÿç”¨äº†ã€‚æ•°æ®é‡åœ¨ 500
ä¸‡å†…ã€‚</p>
<p><strong>10. 5. 11. 6 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯ä¸è¢«é‡å¤æ¶ˆè´¹ï¼Ÿ</strong></p>
<p>å…ˆè¯´ä¸ºä»€ä¹ˆä¼šé‡å¤æ¶ˆè´¹ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è€…åœ¨æ¶ˆè´¹æ¶ˆæ¯çš„æ—¶å€™ï¼Œæ¶ˆè´¹å®Œæ¯•
åï¼Œä¼šå‘é€ä¸€ä¸ªç¡®è®¤æ¶ˆæ¯ç»™æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å°±çŸ¥é“è¯¥æ¶ˆæ¯è¢«æ¶ˆè´¹äº†ï¼Œå°±ä¼šå°†
è¯¥æ¶ˆæ¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚</p>
<p>ä½†æ˜¯å› ä¸ºç½‘ç»œä¼ è¾“ç­‰ç­‰æ•…éšœï¼Œç¡®è®¤ä¿¡æ¯æ²¡æœ‰ä¼ é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯¼è‡´æ¶ˆæ¯é˜Ÿåˆ—
ä¸çŸ¥é“è‡ªå·±å·²ç»æ¶ˆè´¹è¿‡è¯¥æ¶ˆæ¯äº†ï¼Œå†æ¬¡å°†æ¶ˆæ¯åˆ†å‘ç»™å…¶ä»–çš„æ¶ˆè´¹è€…ã€‚</p>
<p>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œä¸€ä¸ªè§£å†³æ€è·¯æ˜¯ï¼šä¿è¯æ¶ˆæ¯çš„å”¯ä¸€æ€§ï¼Œå°±ç®—æ˜¯å¤šæ¬¡ä¼ è¾“ï¼Œä¸
è¦è®©æ¶ˆæ¯çš„å¤šæ¬¡æ¶ˆè´¹å¸¦æ¥å½±å“ï¼Œä¿è¯æ¶ˆæ¯ç­‰å¹‚æ€§ã€‚</p>
<h5 id="æ¯”å¦‚åœ¨å†™å…¥æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®åšå”¯ä¸€æ ‡ç¤ºæ¶ˆè´¹æ¶ˆæ¯æ—¶æ ¹æ®å”¯ä¸€æ ‡è¯†åˆ¤æ–­-1">æ¯”å¦‚ï¼šåœ¨å†™å…¥æ¶ˆæ¯é˜Ÿåˆ—çš„æ•°æ®åšå”¯ä¸€æ ‡ç¤ºï¼Œæ¶ˆè´¹æ¶ˆæ¯æ—¶ï¼Œæ ¹æ®å”¯ä¸€æ ‡è¯†åˆ¤æ–­</h5>
<h5 id="æ˜¯å¦æ¶ˆè´¹è¿‡-1">æ˜¯å¦æ¶ˆè´¹è¿‡ã€‚</h5>
<p><strong>10. 5. 11. 7 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯å¯é ä¼ è¾“ï¼Ÿ</strong></p>
<p>æ¶ˆæ¯ä¸å¯é çš„æƒ…å†µå¯èƒ½æ˜¯æ¶ˆæ¯ä¸¢å¤±ï¼ŒåŠ«æŒç­‰åŸå› ã€‚ä¸¢å¤±åˆåˆ†ä¸ºï¼šç”Ÿäº§è€…ä¸¢å¤±
æ¶ˆæ¯ã€æ¶ˆæ¯åˆ—è¡¨ä¸¢å¤±æ¶ˆæ¯ã€æ¶ˆè´¹è€…ä¸¢å¤±æ¶ˆæ¯ã€‚
<strong>ç”Ÿäº§è€…ä¸¢å¤±æ¶ˆæ¯</strong>
ä»ç”Ÿäº§è€…å¼„ä¸¢æ•°æ®è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼ŒRabbitMQæä¾›transactionå’Œconfirm
æ¨¡å¼æ¥ç¡®ä¿ç”Ÿäº§è€…ä¸ä¸¢æ¶ˆæ¯ã€‚
transactionæ¨¡å¼ï¼šå‘é€æ¶ˆæ¯å‰ï¼Œå¼€å¯äº‹åŠ¡ï¼ˆchannel.txSelect()ï¼‰,ç„¶åå‘é€
æ¶ˆæ¯ï¼Œå¦‚æœå‘é€è¿‡ç¨‹ä¸­å‡ºç°ä»€ä¹ˆå¼‚å¸¸ï¼Œäº‹åŠ¡å°±ä¼šå›æ»šï¼ˆchannel.txRollback()ï¼‰,
å¦‚æœå‘é€æˆåŠŸåˆ™æäº¤äº‹åŠ¡ï¼ˆchannel.txCommit()ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹å¼æœ‰ä¸ªç¼ºç‚¹ï¼Œ
ååé‡ä¸‹é™ã€‚
confirmæ¨¡å¼ï¼šä¸€æ—¦channelè¿›å…¥confirmæ¨¡å¼ï¼Œæ‰€æœ‰åœ¨è¯¥ä¿¡é“ä¸Šå‘å¸ƒçš„æ¶ˆ
æ¯éƒ½å°†ä¼šè¢«æŒ‡æ´¾ä¸€ä¸ªå”¯ä¸€çš„IDï¼ˆä» 1 å¼€å§‹ï¼‰ï¼Œä¸€æ—¦æ¶ˆæ¯è¢«æŠ•é€’åˆ°æ‰€æœ‰åŒ¹é…çš„é˜Ÿ
åˆ—ä¹‹åã€‚RabbitMQå°±ä¼šå‘é€ä¸€ä¸ªACKç»™ç”Ÿäº§è€…ï¼ˆåŒ…å«æ¶ˆæ¯çš„å”¯ä¸€IDï¼‰ï¼Œè¿™å°±
ä½¿å¾—ç”Ÿäº§è€…çŸ¥é“æ¶ˆæ¯å·²ç»æ­£ç¡®åˆ°è¾¾ç›®çš„é˜Ÿåˆ—äº†.å¦‚æœrabbitMQæ²¡èƒ½å¤„ç†è¯¥æ¶ˆ
æ¯ï¼Œåˆ™ä¼šå‘é€ä¸€ä¸ªNackæ¶ˆæ¯ç»™ä½ ï¼Œä½ å¯ä»¥è¿›è¡Œé‡è¯•æ“ä½œã€‚
<strong>æ¶ˆæ¯é˜Ÿåˆ—ä¸¢æ•°æ®</strong>
æ¶ˆæ¯æŒä¹…åŒ–ã€‚å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—ä¸¢æ•°æ®çš„æƒ…å†µï¼Œä¸€èˆ¬æ˜¯å¼€å¯æŒä¹…åŒ–ç£ç›˜çš„é…ç½®ã€‚
è¿™ä¸ªæŒä¹…åŒ–é…ç½®å¯ä»¥å’Œconfirmæœºåˆ¶é…åˆä½¿ç”¨ï¼Œä½ å¯ä»¥åœ¨æ¶ˆæ¯æŒä¹…åŒ–ç£ç›˜åï¼Œ
å†ç»™ç”Ÿäº§è€…å‘é€ä¸€ä¸ªAckä¿¡å·ã€‚è¿™æ ·ï¼Œå¦‚æœæ¶ˆæ¯æŒä¹…åŒ–ç£ç›˜ä¹‹å‰ï¼ŒrabbitMQé˜µ</p>
<p>äº¡äº†ï¼Œé‚£ä¹ˆç”Ÿäº§è€…æ”¶ä¸åˆ°Ackä¿¡å·ï¼Œç”Ÿäº§è€…ä¼šè‡ªåŠ¨é‡å‘ã€‚é‚£ä¹ˆå¦‚ä½•æŒä¹…åŒ–å‘¢ï¼Ÿ
è¿™é‡Œé¡ºä¾¿è¯´ä¸€ä¸‹å§ï¼Œå…¶å®ä¹Ÿå¾ˆå®¹æ˜“ï¼Œå°±ä¸‹é¢ä¸¤æ­¥ï¼š</p>
<ol>
<li>å°†queueçš„æŒä¹…åŒ–æ ‡è¯†durableè®¾ç½®ä¸ºtrue,åˆ™ä»£è¡¨æ˜¯ä¸€ä¸ªæŒä¹…çš„é˜Ÿåˆ—ã€‚</li>
<li>å‘é€æ¶ˆæ¯çš„æ—¶å€™å°†deliveryMode= 2 ã€‚
è¿™æ ·è®¾ç½®ä»¥åï¼Œå³ä½¿rabbitMQæŒ‚äº†ï¼Œé‡å¯åä¹Ÿèƒ½æ¢å¤æ•°æ®ã€‚
<strong>æ¶ˆè´¹è€…ä¸¢å¤±æ¶ˆæ¯</strong>
æ¶ˆè´¹è€…ä¸¢æ•°æ®ä¸€èˆ¬æ˜¯å› ä¸ºé‡‡ç”¨äº†è‡ªåŠ¨ç¡®è®¤æ¶ˆæ¯æ¨¡å¼ï¼Œæ”¹ä¸ºæ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯å³
å¯ï¼æ¶ˆè´¹è€…åœ¨æ”¶åˆ°æ¶ˆæ¯ä¹‹åï¼Œå¤„ç†æ¶ˆæ¯ä¹‹å‰ï¼Œä¼šè‡ªåŠ¨å›å¤RabbitMQå·²æ”¶åˆ°æ¶ˆ
æ¯ã€‚å¦‚æœè¿™æ—¶å¤„ç†æ¶ˆæ¯å¤±è´¥ï¼Œå°±ä¼šä¸¢å¤±è¯¥æ¶ˆæ¯ã€‚
è§£å†³æ–¹æ¡ˆï¼šå¤„ç†æ¶ˆæ¯æˆåŠŸåï¼Œæ‰‹åŠ¨å›å¤ç¡®è®¤æ¶ˆæ¯ã€‚</li>
</ol>
<p><strong>10. 5. 11. 8 å¦‚ä½•ä¿è¯RabbitMQæ¶ˆæ¯çš„é¡ºåºæ€§ï¼Ÿ</strong></p>
<p>å•çº¿ç¨‹æ¶ˆè´¹ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§ã€‚å¯¹æ¶ˆæ¯è¿›è¡Œç¼–å·ï¼Œæ¶ˆè´¹è€…å¤„ç†æ¶ˆæ¯æ˜¯æ ¹æ®ç¼–
å·å¤„ç†æ¶ˆæ¯ã€‚
<strong>5. 11. 9 å¦‚ä½•ç¡®ä¿æ¶ˆæ¯æ­£ç¡®åœ°å‘é€è‡³RabbitMQï¼Ÿå¦‚ä½•ç¡®ä¿æ¶ˆæ¯æ¥æ”¶
æ–¹æ¶ˆè´¹äº†æ¶ˆæ¯ï¼Ÿ
å‘é€æ–¹ç¡®è®¤æ¨¡å¼</strong>
å°†ä¿¡é“è®¾ç½®æˆconfirmæ¨¡å¼ï¼ˆå‘é€æ–¹ç¡®è®¤æ¨¡å¼ï¼‰ï¼Œåˆ™æ‰€æœ‰åœ¨ä¿¡é“ä¸Šå‘å¸ƒçš„æ¶ˆ
æ¯éƒ½ä¼šè¢«æŒ‡æ´¾ä¸€ä¸ªå”¯ä¸€çš„IDã€‚ä¸€æ—¦æ¶ˆæ¯è¢«æŠ•é€’åˆ°ç›®çš„é˜Ÿåˆ—åï¼Œæˆ–è€…æ¶ˆæ¯è¢«å†™å…¥
ç£ç›˜åï¼ˆå¯æŒä¹…åŒ–çš„æ¶ˆæ¯ï¼‰ï¼Œä¿¡é“ä¼šå‘é€ä¸€ä¸ªç¡®è®¤ç»™ç”Ÿäº§è€…ï¼ˆåŒ…å«æ¶ˆæ¯å”¯ä¸€IDï¼‰ã€‚
å¦‚æœRabbitMQå‘ç”Ÿå†…éƒ¨é”™è¯¯ä»è€Œå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±ï¼Œä¼šå‘é€ä¸€æ¡nackï¼ˆnot
acknowledgedï¼Œæœªç¡®è®¤ï¼‰æ¶ˆæ¯ã€‚å‘é€æ–¹ç¡®è®¤æ¨¡å¼æ˜¯å¼‚æ­¥çš„ï¼Œç”Ÿäº§è€…åº”ç”¨ç¨‹åºåœ¨</p>
<h5 id="ç­‰å¾…ç¡®è®¤çš„åŒæ—¶å¯ä»¥ç»§ç»­å‘é€æ¶ˆæ¯å½“ç¡®è®¤æ¶ˆæ¯åˆ°è¾¾ç”Ÿäº§è€…åº”ç”¨ç¨‹åºç”Ÿäº§è€…-1">ç­‰å¾…ç¡®è®¤çš„åŒæ—¶ï¼Œå¯ä»¥ç»§ç»­å‘é€æ¶ˆæ¯ã€‚å½“ç¡®è®¤æ¶ˆæ¯åˆ°è¾¾ç”Ÿäº§è€…åº”ç”¨ç¨‹åºï¼Œç”Ÿäº§è€…</h5>
<h5 id="åº”ç”¨ç¨‹åºçš„å›è°ƒæ–¹æ³•å°±ä¼šè¢«è§¦å‘æ¥å¤„ç†ç¡®è®¤æ¶ˆæ¯-1">åº”ç”¨ç¨‹åºçš„å›è°ƒæ–¹æ³•å°±ä¼šè¢«è§¦å‘æ¥å¤„ç†ç¡®è®¤æ¶ˆæ¯ã€‚</h5>
<h5 id="æ¥æ”¶æ–¹ç¡®è®¤æœºåˆ¶-1">æ¥æ”¶æ–¹ç¡®è®¤æœºåˆ¶</h5>
<h5 id="æ¶ˆè´¹è€…æ¥æ”¶æ¯ä¸€æ¡æ¶ˆæ¯åéƒ½å¿…é¡»è¿›è¡Œç¡®è®¤æ¶ˆæ¯æ¥æ”¶å’Œæ¶ˆæ¯ç¡®è®¤æ˜¯ä¸¤ä¸ªä¸åŒ-1">æ¶ˆè´¹è€…æ¥æ”¶æ¯ä¸€æ¡æ¶ˆæ¯åéƒ½å¿…é¡»è¿›è¡Œç¡®è®¤ï¼ˆæ¶ˆæ¯æ¥æ”¶å’Œæ¶ˆæ¯ç¡®è®¤æ˜¯ä¸¤ä¸ªä¸åŒ</h5>
<p>æ“ä½œï¼‰ã€‚åªæœ‰æ¶ˆè´¹è€…ç¡®è®¤äº†æ¶ˆæ¯ï¼ŒRabbitMQæ‰èƒ½å®‰å…¨åœ°æŠŠæ¶ˆæ¯ä»é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚
è¿™é‡Œå¹¶æ²¡æœ‰ç”¨åˆ°è¶…æ—¶æœºåˆ¶ï¼ŒRabbitMQä»…é€šè¿‡Consumerçš„è¿æ¥ä¸­æ–­æ¥ç¡®è®¤æ˜¯
å¦éœ€è¦é‡æ–°å‘é€æ¶ˆæ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦è¿æ¥ä¸ä¸­æ–­ï¼ŒRabbitMQç»™äº†Consumer
è¶³å¤Ÿé•¿çš„æ—¶é—´æ¥å¤„ç†æ¶ˆæ¯ã€‚ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ã€‚
ä¸‹é¢ç½—åˆ—å‡ ç§ç‰¹æ®Šæƒ…å†µ
å¦‚æœæ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œåœ¨ç¡®è®¤ä¹‹å‰æ–­å¼€äº†è¿æ¥æˆ–å–æ¶ˆè®¢é˜…ï¼ŒRabbitMQä¼š
è®¤ä¸ºæ¶ˆæ¯æ²¡æœ‰è¢«åˆ†å‘ï¼Œç„¶åé‡æ–°åˆ†å‘ç»™ä¸‹ä¸€ä¸ªè®¢é˜…çš„æ¶ˆè´¹è€…ã€‚ï¼ˆå¯èƒ½å­˜åœ¨æ¶ˆæ¯é‡
å¤æ¶ˆè´¹çš„éšæ‚£ï¼Œéœ€è¦å»é‡ï¼‰ã€‚
å¦‚æœæ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯å´æ²¡æœ‰ç¡®è®¤æ¶ˆæ¯ï¼Œè¿æ¥ä¹Ÿæœªæ–­å¼€ï¼Œåˆ™RabbitMQè®¤
ä¸ºè¯¥æ¶ˆè´¹è€…ç¹å¿™ï¼Œå°†ä¸ä¼šç»™è¯¥æ¶ˆè´¹è€…åˆ†å‘æ›´å¤šçš„æ¶ˆæ¯ã€‚</p>
<p><strong>10. 5. 11. 10 RabbitMQæ¶ˆæ¯å †ç§¯å¤„ç†</strong></p>
<ol start="7">
<li>å¢åŠ æ¶ˆè´¹è€…çš„å¤„ç†èƒ½åŠ›(ä¾‹å¦‚ä¼˜åŒ–ä»£ç )ï¼Œæˆ–å‡å°‘å‘å¸ƒé¢‘ç‡ã€‚</li>
<li>è€ƒè™‘ä½¿ç”¨é˜Ÿåˆ—æœ€å¤§é•¿åº¦é™åˆ¶ã€‚</li>
<li>ç»™æ¶ˆæ¯è®¾ç½®å¹´é¾„ï¼Œè¶…æ—¶å°±ä¸¢å¼ƒã€‚</li>
<li>é»˜è®¤æƒ…å†µä¸‹ï¼Œrabbitmqæ¶ˆè´¹è€…ä¸ºå•çº¿ç¨‹ä¸²è¡Œæ¶ˆè´¹ï¼Œè®¾ç½®å¹¶å‘æ¶ˆè´¹ä¸¤ä¸ª
å…³é”®å±æ€§concurrentConsumerså’ŒprefetchCountoncurrentConsumersè®¾
ç½®çš„æ˜¯å¯¹æ¯ä¸ªlisteneråœ¨åˆå§‹åŒ–çš„æ—¶å€™è®¾ç½®çš„å¹¶å‘æ¶ˆè´¹è€…çš„ä¸ªæ•°ï¼Œ</li>
</ol>
<p>prefetchCountæ˜¯æ¯æ¬¡ä¸€æ¬¡æ€§ä»brokeré‡Œé¢å–çš„å¾…æ¶ˆè´¹çš„æ¶ˆæ¯çš„ä¸ªæ•°ã€‚
11. å»ºç«‹æ–°çš„queueï¼Œæ¶ˆè´¹è€…åŒæ—¶è®¢é˜…æ–°æ—§queueï¼Œé‡‡ç”¨è®¢é˜…æ¨¡å¼ã€‚
12. ç”Ÿäº§è€…ç«¯ç¼“å­˜æ•°æ®ï¼Œåœ¨mqè¢«æ¶ˆè´¹å®Œåå†å‘é€åˆ°mqï¼Œæ‰“ç ´å‘é€å¾ªç¯æ¡
ä»¶ï¼Œè®¾ç½®åˆé€‚çš„qoså€¼ï¼Œå½“qoså€¼è¢«ç”¨å…‰ï¼Œè€Œæ–°çš„ackæ²¡æœ‰è¢«mqæ¥æ”¶æ—¶ï¼Œå°±
å¯ä»¥è·³å‡ºå‘é€å¾ªç¯ï¼Œå»æ¥æ”¶æ–°çš„æ¶ˆæ¯ï¼›æ¶ˆè´¹è€…ä¸»åŠ¨blockæ¥æ”¶è¿›ç¨‹ï¼Œæ¶ˆè´¹è€…æ„Ÿå—
åˆ°æ¥æ”¶æ¶ˆæ¯è¿‡å¿«æ—¶ä¸»åŠ¨blockï¼Œåˆ©ç”¨blockå’Œunblockæ–¹æ³•è°ƒèŠ‚æ¥æ”¶é€Ÿç‡ï¼Œå½“
æ¥æ”¶çº¿ç¨‹è¢«blockæ—¶ï¼Œè·³å‡ºå‘é€å¾ªç¯ã€‚</p>
<p><strong>10. 5. 11. 11 RabbitMQæ¶ˆæ¯ä¸¢å¤±è§£å†³æ–¹æ¡ˆ</strong></p>
<pre tabindex="0"><code>æ¶ˆæ¯æŒä¹…åŒ–
Exchange è®¾ç½®æŒä¹…åŒ–ï¼šdurable:trueã€‚
ueueè®¾ç½®æŒä¹…åŒ–ï¼›MessageæŒä¹…åŒ–å‘é€ã€‚
ACKç¡®è®¤æœºåˆ¶
æ¶ˆæ¯å‘é€ç¡®è®¤ã€‚
æ¯æ¥æ”¶æ‰‹åŠ¨ç¡®è®¤ACKã€‚
</code></pre><p><strong>10. 5. 11. 12 RabbitMQå®•æœºäº†æ€ä¹ˆå¤„ç†</strong></p>
<p>RabbitMQæä¾›äº†æŒä¹…åŒ–çš„æœºåˆ¶ï¼Œå°†å†…å­˜ä¸­çš„æ¶ˆæ¯æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¸Šï¼Œå³ä½¿é‡
å¯RabbitMQï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚
æŒä¹…åŒ–é˜Ÿåˆ—å’ŒéæŒä¹…åŒ–é˜Ÿåˆ—çš„åŒºåˆ«æ˜¯ï¼ŒæŒä¹…åŒ–é˜Ÿåˆ—ä¼šè¢«ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œå›ºå®š
å¹¶æŒä¹…çš„å­˜å‚¨ï¼Œå½“RabbitæœåŠ¡é‡å¯åï¼Œè¯¥é˜Ÿåˆ—ä¼šä¿æŒåŸæ¥çš„çŠ¶æ€åœ¨RabbitMQ
ä¸­è¢«ç®¡ç†ï¼Œè€ŒéæŒä¹…åŒ–é˜Ÿåˆ—ä¸ä¼šè¢«ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼ŒRabbitæœåŠ¡é‡å¯åé˜Ÿåˆ—å°±ä¼š</p>
<h5 id="æ¶ˆå¤±-1">æ¶ˆå¤±ã€‚</h5>
<h5 id="éæŒä¹…åŒ–æ¯”æŒä¹…åŒ–çš„ä¼˜åŠ¿å°±æ˜¯ç”±äºéæŒä¹…åŒ–ä¸éœ€è¦ä¿å­˜åœ¨ç£ç›˜ä¸­æ‰€ä»¥ä½¿-1">éæŒä¹…åŒ–æ¯”æŒä¹…åŒ–çš„ä¼˜åŠ¿å°±æ˜¯ï¼Œç”±äºéæŒä¹…åŒ–ä¸éœ€è¦ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œæ‰€ä»¥ä½¿</h5>
<h5 id="ç”¨é€Ÿåº¦å°±æ¯”æŒä¹…åŒ–é˜Ÿåˆ—å¿«å³æ˜¯éæŒä¹…åŒ–çš„æ€§èƒ½è¦é«˜äºæŒä¹…åŒ–-1">ç”¨é€Ÿåº¦å°±æ¯”æŒä¹…åŒ–é˜Ÿåˆ—å¿«ã€‚å³æ˜¯éæŒä¹…åŒ–çš„æ€§èƒ½è¦é«˜äºæŒä¹…åŒ–ã€‚</h5>
<h5 id="è€ŒæŒä¹…åŒ–çš„ä¼˜ç‚¹å°±æ˜¯ä¼šä¸€ç›´å­˜åœ¨ä¸ä¼šéšæœåŠ¡çš„é‡å¯æˆ–æœåŠ¡å™¨çš„å®•æœºè€Œæ¶ˆ-1">è€ŒæŒä¹…åŒ–çš„ä¼˜ç‚¹å°±æ˜¯ä¼šä¸€ç›´å­˜åœ¨ï¼Œä¸ä¼šéšæœåŠ¡çš„é‡å¯æˆ–æœåŠ¡å™¨çš„å®•æœºè€Œæ¶ˆ</h5>
<h5 id="å¤±-1">å¤±ã€‚</h5>
<p><strong>10. 5. 11. 13 RabbitMQçš„é›†ç¾¤</strong></p>
<p>Rabbitmqæœ‰ 3 ç§æ¨¡å¼ï¼Œä½†é›†ç¾¤æ¨¡å¼æœ‰ 2 ä¸­ï¼Œè¯¦æƒ…å¦‚ä¸‹ï¼š
<strong>å•ä¸€æ¨¡å¼</strong>
å³å•æœºæƒ…å†µä¸åšé›†ç¾¤ï¼Œå°±å•ç‹¬è¿è¡Œä¸€ä¸ªrabbitmqè€Œå·²ã€‚
<strong>æ™®é€šæ¨¡å¼</strong>
é»˜è®¤æ¨¡å¼ï¼Œä»¥ä¸¤ä¸ªèŠ‚ç‚¹ï¼ˆrabbit 01 ã€rabbit 02 ï¼‰ä¸ºä¾‹æ¥è¿›è¡Œè¯´æ˜ã€‚å¯¹äºQueue
æ¥è¯´ï¼Œæ¶ˆæ¯å®ä½“åªå­˜åœ¨äºå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹rabbit 01 ï¼ˆæˆ–è€…rabbit 02 ï¼‰ï¼Œrabbit 01
å’Œrabbit 02 ä¸¤ä¸ªèŠ‚ç‚¹ä»…æœ‰ç›¸åŒçš„å…ƒæ•°æ®ï¼Œå³é˜Ÿåˆ—çš„ç»“æ„ã€‚å½“æ¶ˆæ¯è¿›å…¥rabbit 01
èŠ‚ç‚¹çš„Queueåï¼Œconsumerä»èŠ‚ç‚¹æ¶ˆè´¹æ—¶ï¼ŒRabbitMQä¼šä¸´æ—¶åœ¨rabbit 01 ã€
rabbit 02 é—´è¿›è¡Œæ¶ˆæ¯ä¼ è¾“ï¼ŒæŠŠAä¸­çš„æ¶ˆæ¯å®ä½“å–å‡ºå¹¶ç»è¿‡Bå‘é€ç»™consumerã€‚
æ‰€ä»¥consumeråº”å°½é‡è¿æ¥æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»ä¸­å–æ¶ˆæ¯ã€‚å³å¯¹äºåŒä¸€ä¸ªé€»è¾‘é˜Ÿåˆ—ï¼Œ
è¦åœ¨å¤šä¸ªèŠ‚ç‚¹å»ºç«‹ç‰©ç†Queueã€‚å¦åˆ™æ— è®ºconsumerè¿rabbit 01 æˆ–rabbit 02 ï¼Œ
å‡ºå£æ€»åœ¨rabbit 01 ï¼Œä¼šäº§ç”Ÿç“¶é¢ˆã€‚å½“rabbit 01 èŠ‚ç‚¹æ•…éšœåï¼Œrabbit 02 èŠ‚ç‚¹æ— æ³•
å–åˆ°rabbit 01 èŠ‚ç‚¹ä¸­è¿˜æœªæ¶ˆè´¹çš„æ¶ˆæ¯å®ä½“ã€‚å¦‚æœåšäº†æ¶ˆæ¯æŒä¹…åŒ–ï¼Œé‚£ä¹ˆå¾—ç­‰
rabbit 01 èŠ‚ç‚¹æ¢å¤ï¼Œç„¶åæ‰å¯è¢«æ¶ˆè´¹ï¼›å¦‚æœæ²¡æœ‰æŒä¹…åŒ–çš„è¯ï¼Œå°±ä¼šäº§ç”Ÿæ¶ˆæ¯ä¸¢
å¤±çš„ç°è±¡ã€‚</p>
<h5 id="é•œåƒæ¨¡å¼-1">é•œåƒæ¨¡å¼</h5>
<p>æŠŠéœ€è¦çš„é˜Ÿåˆ—åšæˆé•œåƒé˜Ÿåˆ—ï¼Œå­˜åœ¨ä¸å¤šä¸ªèŠ‚ç‚¹å±äºRabbitMQçš„HAæ¡ˆã€‚
è¯¥æ¨¡å¼è§£å†³äº†æ™®é€šæ¨¡å¼ä¸­çš„é—®é¢˜ï¼Œå…¶å®è´¨å’Œæ™®é€šæ¨¡å¼ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ¶ˆæ¯å®ä½“ä¼š
ä¸»åŠ¨åœ¨é•œåƒèŠ‚ç‚¹é—´åŒæ­¥ï¼Œè€Œä¸æ˜¯åœ¨å®¢æˆ·ç«¯å–æ•°æ®æ—¶ä¸´æ—¶æ‹‰å–ã€‚è¯¥æ¨¡å¼å¸¦æ¥çš„å‰¯ä½œ
ç”¨ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œé™¤äº†é™ä½ç³»ç»Ÿæ€§èƒ½å¤–ï¼Œå¦‚æœé•œåƒé˜Ÿåˆ—æ•°é‡è¿‡å¤šï¼ŒåŠ ä¹‹å¤§é‡çš„æ¶ˆæ¯è¿›
å…¥ï¼Œé›†ç¾¤å†…éƒ¨çš„ç½‘ç»œå¸¦å®½å°†ä¼šè¢«è¿™ç§åŒæ­¥é€šè®¯å¤§å¤§æ¶ˆè€—æ‰ã€‚æ‰€ä»¥åœ¨å¯¹å¯é æ€§è¦æ±‚
è¾ƒé«˜çš„åœºåˆä¸­é€‚ç”¨ã€‚</p>
<p><strong>10. 5. 11. 14 å¦‚ä½•è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ï¼Ÿ</strong></p>
<ol>
<li>2 PCï¼šä¸¤é˜¶æ®µæäº¤
æ‰§è¡Œé˜¶æ®µï¼š
å½“åˆ›å»ºè®¢å•æ—¶ï¼Œå‘æ‰€æœ‰å¾®æœåŠ¡å‘é€æ¶ˆæ¯,å¯ä»¥å¼€å§‹æ‰§è¡Œäº†,æ‰§è¡ŒæˆåŠŸåï¼Œä¸ç›´æ¥
æäº¤,è€Œæ˜¯è¿”å›ä¸€ä¸ªæ¶ˆæ¯å‘Šè¯‰æˆ‘,æ‰§è¡ŒæˆåŠŸè¿˜æ˜¯æ‰§è¡Œå¤±è´¥ã€‚
ç¬¬äºŒé˜¶æ®µï¼š
å¦‚æœæ‰€æœ‰äººéƒ½æ‰§è¡ŒæˆåŠŸ,å†å‘ä¸€ä¸ªæ¶ˆæ¯,ä½ ä»¬å¯ä»¥æäº¤äº†ï¼›
å¦‚æœç¬¬ä¸€é˜¶æ®µæœ‰äººæ‰§è¡Œå¤±è´¥,ä½ å°±å‘Šè¯‰æ‰€æœ‰äººéƒ½å›æ»šã€‚
ç¼ºç‚¹ï¼šå½“é”å®šçš„è¡¨å¾ˆå¤šæ—¶,æ€§èƒ½å·®ã€‚
3 .TCCï¼šè¡¥å¿æ€§äº‹åŠ¡(ä¸€èˆ¬é‡‡ç”¨)try-confirm-concel
æ¯ä¸ªæœåŠ¡æ‰§è¡Œå®Œåéƒ½æäº¤,é›†ä¸­è¿”å›ç»™è‡ªå·±,å¦‚æœéƒ½æ‰§è¡ŒæˆåŠŸäº†é‚£å°±ä¸ç®¡
å¦‚æœæäº¤å¤±è´¥,å°±é‡‡ç”¨å¤±è´¥æœåŠ¡çš„è¡¥å¿æ–¹æ³•å»è¡¥å¿,ä½†è‹¥è¡¥å¿æ–¹æ³•ä¹Ÿå¤±è´¥,é‚£ä½ è¿˜
éœ€è¦è¿›è¡Œé‡è¯•å†™é‡è¯•æ–¹æ³•æˆ–è€…äººå·¥ä»‹å…¥ã€‚
ä¼˜ç¼ºï¼šè§£å†³äº†æ€§èƒ½é—®é¢˜,ä½†æ˜¯ä¸šåŠ¡å¤æ‚,å†™ä¸€ä¸ªäº‹åŠ¡è¿˜éœ€è¦å†™è¡¥å¿æ–¹æ³•ã€‚</li>
</ol>
<p>å¼‚æ­¥ç¡®ä¿ï¼šåˆ©ç”¨mqå®ç°åˆ†å¸ƒå¼äº‹åŠ¡ã€‚</p>
<p><strong>10. 5. 10. 6 å¸¸è§çš„æ¶ˆæ¯ä¸­é—´</strong></p>
<p><strong>RocketMQ</strong>
é˜¿é‡Œç³»ä¸‹å¼€æºçš„ä¸€æ¬¾åˆ†å¸ƒå¼ã€é˜Ÿåˆ—æ¨¡å‹çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒåŸåMetaqï¼Œ 3. 0 ç‰ˆ
æœ¬åç§°æ”¹ä¸ºRocketMQï¼Œæ˜¯é˜¿é‡Œå‚ç…§kafkaè®¾è®¡æ€æƒ³ä½¿ç”¨javaå®ç°çš„ä¸€å¥—mqã€‚
åŒæ—¶å°†é˜¿é‡Œç³»å†…éƒ¨å¤šæ¬¾mqäº§å“ï¼ˆNotifyã€metaqï¼‰è¿›è¡Œæ•´åˆï¼Œåªç»´æŠ¤æ ¸å¿ƒåŠŸ
èƒ½ï¼Œå»é™¤äº†æ‰€æœ‰å…¶ä»–è¿è¡Œæ—¶ä¾èµ–ï¼Œä¿è¯æ ¸å¿ƒåŠŸèƒ½æœ€ç®€åŒ–ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šé…åˆé˜¿é‡Œä¸Š
è¿°å…¶ä»–å¼€æºäº§å“å®ç°ä¸åŒåœºæ™¯ä¸‹mqçš„æ¶æ„ï¼Œç›®å‰ä¸»è¦å¤šç”¨äºè®¢å•äº¤æ˜“ç³»ç»Ÿã€‚
<strong>RabbitMQ</strong>
ä½¿ç”¨Erlangç¼–å†™çš„ä¸€ä¸ªå¼€æºçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ¬èº«æ”¯æŒå¾ˆå¤šçš„åè®®ï¼šAMQPï¼Œ
XMPP,SMTP,STOMPï¼Œä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œä½¿çš„å®ƒå˜çš„éå¸¸é‡é‡çº§ï¼Œæ›´é€‚åˆäºä¼ä¸šçº§
çš„å¼€å‘ã€‚åŒæ—¶å®ç°äº†Brokeræ¶æ„ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ç”Ÿäº§è€…ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™é˜Ÿ
åˆ—ï¼Œæ¶ˆæ¯åœ¨å‘é€ç»™å®¢æˆ·ç«¯æ—¶å…ˆåœ¨ä¸­å¿ƒé˜Ÿåˆ—æ’é˜Ÿã€‚å¯¹è·¯ç”±(Routing)ï¼Œè´Ÿè½½å‡è¡¡(Load
balance)ã€æ•°æ®æŒä¹…åŒ–éƒ½æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚å¤šç”¨äºè¿›è¡Œä¼ä¸šçº§çš„ESBæ•´åˆã€‚
<strong>ActiveMQ</strong>
Apacheä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ã€‚ä½¿ç”¨Javaå®Œå…¨æ”¯æŒJMS 1. 1 å’ŒJ 2 EE 1. 4 è§„èŒƒçš„
JMSProviderå®ç°ï¼Œå°‘é‡ä»£ç å°±å¯ä»¥é«˜æ•ˆåœ°å®ç°é«˜çº§åº”ç”¨åœºæ™¯ã€‚å¯æ’æ‹”çš„ä¼ è¾“
åè®®æ”¯æŒï¼Œæ¯”å¦‚ï¼šin-VM,TCP,SSL,NIO,UDP,multicast,JGroupsandJXTA
transportsã€‚RabbitMQã€ZeroMQã€ActiveMQå‡æ”¯æŒå¸¸ç”¨çš„å¤šç§è¯­è¨€å®¢æˆ·ç«¯
C++ã€Javaã€.Net,ã€Pythonã€ Phpã€ Rubyç­‰ã€‚
<strong>Redis</strong></p>
<p>ä½¿ç”¨Cè¯­è¨€å¼€å‘çš„ä¸€ä¸ªKey-Valueçš„NoSQLæ•°æ®åº“ï¼Œå¼€å‘ç»´æŠ¤å¾ˆæ´»è·ƒï¼Œè™½
ç„¶å®ƒæ˜¯ä¸€ä¸ªKey-Valueæ•°æ®åº“å­˜å‚¨ç³»ç»Ÿï¼Œä½†å®ƒæœ¬èº«æ”¯æŒMQåŠŸèƒ½ï¼Œæ‰€ä»¥å®Œå…¨å¯
ä»¥å½“åšä¸€ä¸ªè½»é‡çº§çš„é˜Ÿåˆ—æœåŠ¡æ¥ä½¿ç”¨ã€‚å¯¹äºRabbitMQå’ŒRedisçš„å…¥é˜Ÿå’Œå‡ºé˜Ÿ
æ“ä½œï¼Œå„æ‰§è¡Œ 100 ä¸‡æ¬¡ï¼Œæ¯ 10 ä¸‡æ¬¡è®°å½•ä¸€æ¬¡æ‰§è¡Œæ—¶é—´ã€‚æµ‹è¯•æ•°æ®åˆ†ä¸º 128 Bytesã€
512 Bytesã€ 1 Kå’Œ 10 Kå››ä¸ªä¸åŒå¤§å°çš„æ•°æ®ã€‚å®éªŒè¡¨æ˜ï¼šå…¥é˜Ÿæ—¶ï¼Œå½“æ•°æ®æ¯”è¾ƒå°
æ—¶Redisçš„æ€§èƒ½è¦é«˜äºRabbitMQï¼Œè€Œå¦‚æœæ•°æ®å¤§å°è¶…è¿‡äº† 10 Kï¼ŒRedisåˆ™æ…¢çš„
æ— æ³•å¿å—ï¼›å‡ºé˜Ÿæ—¶ï¼Œæ— è®ºæ•°æ®å¤§å°ï¼ŒRediséƒ½è¡¨ç°å‡ºéå¸¸å¥½çš„æ€§èƒ½ï¼Œè€ŒRabbitMQ
çš„å‡ºé˜Ÿæ€§èƒ½åˆ™è¿œä½äºRedisã€‚
<strong>Kafka</strong>
Apache ä¸‹çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œä½¿ç”¨ scalaå®ç°çš„ä¸€ä¸ªé«˜æ€§èƒ½åˆ†å¸ƒå¼
Publish/Subscribeæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿã€‚</p>
<h3 id="10-5-12-å›¾ç‰‡ä¸Šä¼ ">10 5 12 å›¾ç‰‡ä¸Šä¼ &hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>æœ¬åœ°å­˜å‚¨-ä¸šåŠ¡æ€è·¯</strong>
ç”¨æˆ·åœ¨é¡µé¢é€‰æ‹©å›¾ç‰‡ç‚¹å‡»ä¸Šä¼ ï¼Œåˆ°å›¾ç‰‡å¾®æœåŠ¡ï¼Œå›¾ç‰‡å¾®æœåŠ¡è§£æè¯·æ±‚ï¼Œå¤åˆ¶
å›¾ç‰‡å¹¶ä¿å­˜åˆ°Nginxé™æ€èµ„æºä¸‹ï¼ˆhtmlï¼‰ã€‚åŒæ—¶ç”Ÿæˆæ­¤å›¾ç‰‡çš„è®¿é—®è·¯å¾„ï¼ˆurlï¼‰
ä¿å­˜åˆ°æ•°æ®åº“ã€‚é¡µé¢é€šè¿‡urlè®¿é—®Nginxä¸‹çš„å›¾ç‰‡ã€‚</p>
<p><strong>é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨OSS-ä¸šåŠ¡æ€è·¯</strong>
ç”¨æˆ·åœ¨é¡µé¢é€‰æ‹©å›¾ç‰‡ç‚¹å‡»ä¸Šä¼ ï¼Œé¦–å…ˆè®¿é—®åå°ï¼Œè·å–è®¿é—®OSSçš„ç­¾åï¼Œè¯·
æ±‚å¸¦ç€OSSçš„ç­¾åå°†å›¾ç‰‡ä¸Šä¼ åˆ°OSSã€‚OSSæˆåŠŸä¿å­˜å›¾ç‰‡åä¼šè¿”å›è¯¥å›¾ç‰‡çš„å…¬
å…±è®¿é—®è·¯å¾„ï¼ˆurlï¼‰ï¼Œå°†æ­¤è·¯å¾„ä¿å­˜åˆ°æ•°æ®ã€‚ é¡µé¢é€šè¿‡urlè®¿é—®OSSä¸Šçš„å›¾ç‰‡ã€‚
<strong>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</strong></p>
<p>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ˆDistributedFileSystemï¼‰æ˜¯æŒ‡æ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„ç‰©ç†å­˜å‚¨
èµ„æºä¸ä¸€å®šç›´æ¥è¿æ¥åœ¨æœ¬åœ°èŠ‚ç‚¹ä¸Šï¼Œè€Œæ˜¯é€šè¿‡è®¡ç®—æœºç½‘ç»œä¸èŠ‚ç‚¹ç›¸è¿ã€‚
é€šä¿—æ¥è®²
ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„æ–‡ä»¶å°±å­˜å‚¨åœ¨æœ¬æœºã€‚
åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„æ–‡ä»¶å­˜å‚¨åœ¨å¾ˆå¤šæœºå™¨ï¼Œè¿™äº›æœºå™¨é€šè¿‡ç½‘ç»œè¿æ¥ï¼Œè¦è¢«
ç»Ÿä¸€ç®¡ç†ã€‚æ— è®ºæ˜¯ä¸Šä¼ æˆ–è€…è®¿é—®æ–‡ä»¶ï¼Œéƒ½éœ€è¦é€šè¿‡ç®¡ç†ä¸­å¿ƒæ¥è®¿é—®ã€‚
å¸¸è§çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæœ‰è°·æ­Œçš„GFSã€HDFSï¼ˆHadoopï¼‰ã€TFSï¼ˆæ·˜å®ï¼‰ã€
FastDFSï¼ˆæ·˜å®ï¼‰ç­‰ã€‚
ä¸è¿‡ï¼Œä¼ä¸šè‡ªå·±æ­å»ºåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæˆæœ¬è¾ƒé«˜ï¼Œå¯¹äºä¸€äº›ä¸­å°å‹ä¼ä¸šè€Œè¨€ï¼Œ
ä½¿ç”¨äº‘ä¸Šçš„æ–‡ä»¶å­˜å‚¨ï¼Œæ˜¯æ€§ä»·æ¯”æ›´é«˜çš„é€‰æ‹©ã€‚
<strong>OSSç®€ä»‹</strong>
é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ˆObjectStorageServiceï¼Œç®€ç§° OSSï¼‰ï¼Œæ˜¯é˜¿é‡Œäº‘æ
ä¾›çš„æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚å…¶æ•°æ®è®¾è®¡æŒä¹…æ€§ä¸ä½äº
99. 999999999 %ï¼ŒæœåŠ¡è®¾è®¡å¯ç”¨æ€§ä¸ä½äº 99. 99 %ã€‚å…·æœ‰ä¸å¹³å°æ— å…³çš„RESTful
APIæ¥å£ï¼Œæ‚¨å¯ä»¥åœ¨ä»»ä½•åº”ç”¨ã€ä»»ä½•æ—¶é—´ã€ä»»ä½•åœ°ç‚¹å­˜å‚¨å’Œè®¿é—®ä»»æ„ç±»å‹çš„æ•°æ®ã€‚
æ‚¨å¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„APIã€SDKæ¥å£æˆ–è€…OSSè¿ç§»å·¥å…·è½»æ¾åœ°å°†æµ·é‡
æ•°æ®ç§»å…¥æˆ–ç§»å‡ºé˜¿é‡Œäº‘OSSã€‚æ•°æ®å­˜å‚¨åˆ°é˜¿é‡Œäº‘OSSä»¥åï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ ‡å‡†ç±»
å‹ï¼ˆStandardï¼‰çš„é˜¿é‡Œäº‘OSSæœåŠ¡ä½œä¸ºç§»åŠ¨åº”ç”¨ã€å¤§å‹ç½‘ç«™ã€å›¾ç‰‡åˆ†äº«æˆ–çƒ­ç‚¹
éŸ³è§†é¢‘çš„ä¸»è¦å­˜å‚¨æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æˆæœ¬æ›´ä½ã€å­˜å‚¨æœŸé™æ›´é•¿çš„ä½é¢‘è®¿é—®ç±»å‹
ï¼ˆInfrequentAccessï¼‰å’Œå½’æ¡£ç±»å‹ï¼ˆArchiveï¼‰çš„é˜¿é‡Œäº‘OSSæœåŠ¡ä½œä¸ºä¸ç»å¸¸
è®¿é—®æ•°æ®çš„å¤‡ä»½å’Œå½’æ¡£ã€‚
<strong>åŸºæœ¬æ¦‚å¿µ</strong></p>
<p><strong>å­˜å‚¨ç±»å‹ï¼ˆStorageClassï¼‰</strong>
OSSæä¾›æ ‡å‡†ã€ä½é¢‘è®¿é—®ã€å½’æ¡£ä¸‰ç§å­˜å‚¨ç±»å‹ï¼Œå…¨é¢è¦†ç›–ä»çƒ­åˆ°å†·çš„å„ç§æ•°
æ®å­˜å‚¨åœºæ™¯ã€‚å…¶ä¸­æ ‡å‡†å­˜å‚¨ç±»å‹æä¾›é«˜å¯é ã€é«˜å¯ç”¨ã€é«˜æ€§èƒ½çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œ
èƒ½å¤Ÿæ”¯æŒé¢‘ç¹çš„æ•°æ®è®¿é—®ï¼›ä½é¢‘è®¿é—®å­˜å‚¨ç±»å‹é€‚åˆé•¿æœŸä¿å­˜ä¸ç»å¸¸è®¿é—®çš„æ•°æ®
ï¼ˆå¹³å‡æ¯æœˆè®¿é—®é¢‘ç‡ 1 åˆ° 2 æ¬¡ï¼‰ï¼Œå­˜å‚¨å•ä»·ä½äºæ ‡å‡†ç±»å‹ï¼›å½’æ¡£å­˜å‚¨ç±»å‹é€‚åˆ
éœ€è¦é•¿æœŸä¿å­˜ï¼ˆå»ºè®®åŠå¹´ä»¥ä¸Šï¼‰çš„å½’æ¡£æ•°æ®ï¼Œåœ¨ä¸‰ç§å­˜å‚¨ç±»å‹ä¸­å•ä»·æœ€ä½ã€‚è¯¦æƒ…
è¯·å‚è§å­˜å‚¨ç±»å‹ä»‹ç»ã€‚
<strong>å­˜å‚¨ç©ºé—´ï¼ˆBucketï¼‰</strong>
å­˜å‚¨ç©ºé—´æ˜¯æ‚¨ç”¨äºå­˜å‚¨å¯¹è±¡ï¼ˆObjectï¼‰çš„å®¹å™¨ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½å¿…é¡»éš¶å±äºæŸ
ä¸ªå­˜å‚¨ç©ºé—´ã€‚æ‚¨å¯ä»¥è®¾ç½®å’Œä¿®æ”¹å­˜å‚¨ç©ºé—´å±æ€§ç”¨æ¥æ§åˆ¶åœ°åŸŸã€è®¿é—®æƒé™ã€ç”Ÿå‘½å‘¨
æœŸç­‰ï¼Œè¿™äº›å±æ€§è®¾ç½®ç›´æ¥ä½œç”¨äºè¯¥å­˜å‚¨ç©ºé—´å†…æ‰€æœ‰å¯¹è±¡ï¼Œå› æ­¤æ‚¨å¯ä»¥é€šè¿‡çµæ´»åˆ›
å»ºä¸åŒçš„å­˜å‚¨ç©ºé—´æ¥å®Œæˆä¸åŒçš„ç®¡ç†åŠŸèƒ½ã€‚
<strong>å¯¹è±¡/æ–‡ä»¶ï¼ˆObjectï¼‰</strong>
å¯¹è±¡æ˜¯ OSS å­˜å‚¨æ•°æ®çš„åŸºæœ¬å•å…ƒï¼Œä¹Ÿè¢«ç§°ä¸ºOSSçš„æ–‡ä»¶ã€‚å¯¹è±¡ç”±å…ƒä¿¡æ¯
ï¼ˆObjectMetaï¼‰ï¼Œç”¨æˆ·æ•°æ®ï¼ˆDataï¼‰å’Œæ–‡ä»¶åï¼ˆKeyï¼‰ç»„æˆã€‚å¯¹è±¡ç”±å­˜å‚¨ç©ºé—´
å†…éƒ¨å”¯ä¸€çš„Keyæ¥æ ‡è¯†ã€‚å¯¹è±¡å…ƒä¿¡æ¯æ˜¯ä¸€ç»„é”®å€¼å¯¹ï¼Œè¡¨ç¤ºäº†å¯¹è±¡çš„ä¸€äº›å±æ€§ï¼Œ
æ¯”å¦‚æœ€åä¿®æ”¹æ—¶é—´ã€å¤§å°ç­‰ä¿¡æ¯ã€‚
<strong>åœ°åŸŸï¼ˆRegionï¼‰</strong>
åœ°åŸŸè¡¨ç¤º OSS çš„æ•°æ®ä¸­å¿ƒæ‰€åœ¨ç‰©ç†ä½ç½®ã€‚æ‚¨å¯ä»¥æ ¹æ®è´¹ç”¨ã€è¯·æ±‚æ¥æºç­‰ç»¼
åˆé€‰æ‹©æ•°æ®å­˜å‚¨çš„åœ°åŸŸã€‚è¯¦æƒ…è¯·å‚è§OSSå·²å¼€é€šçš„Regionã€‚
<strong>è®¿é—®åŸŸåï¼ˆEndpoint ï¼‰</strong>
Endpoint è¡¨ç¤ºOSSå¯¹å¤–æœåŠ¡çš„è®¿é—®åŸŸåã€‚OSSä»¥HTTPRESTfulAPIçš„å½¢</p>
<h5 id="å¼å¯¹å¤–æä¾›æœåŠ¡å½“è®¿é—®ä¸åŒåœ°åŸŸçš„æ—¶å€™éœ€è¦ä¸åŒçš„åŸŸåé€šè¿‡å†…ç½‘å’Œå¤–ç½‘è®¿">å¼å¯¹å¤–æä¾›æœåŠ¡ï¼Œå½“è®¿é—®ä¸åŒåœ°åŸŸçš„æ—¶å€™ï¼Œéœ€è¦ä¸åŒçš„åŸŸåã€‚é€šè¿‡å†…ç½‘å’Œå¤–ç½‘è®¿</h5>
<p>é—®åŒä¸€ä¸ªåœ°åŸŸæ‰€éœ€è¦çš„åŸŸåä¹Ÿæ˜¯ä¸åŒçš„ã€‚å…·ä½“çš„å†…å®¹è¯·å‚è§å„ä¸ªRegionå¯¹åº”çš„
Endpointã€‚
<strong>è®¿é—®å¯†é’¥ï¼ˆAccessKeyï¼‰</strong>
AccessKeyï¼Œç®€ç§° AKï¼ŒæŒ‡çš„æ˜¯è®¿é—®èº«ä»½éªŒè¯ä¸­ç”¨åˆ°çš„AccessKeyId å’Œ
AccessKeySecretã€‚OSSé€šè¿‡ä½¿ç”¨AccessKeyIdå’ŒAccessKeySecretå¯¹ç§°åŠ å¯†
çš„æ–¹æ³•æ¥éªŒè¯æŸä¸ªè¯·æ±‚çš„å‘é€è€…èº«ä»½ã€‚AccessKeyIdç”¨äºæ ‡è¯†ç”¨æˆ·ï¼Œ
AccessKeySecretæ˜¯ç”¨æˆ·ç”¨äºåŠ å¯†ç­¾åå­—ç¬¦ä¸²å’ŒOSSç”¨æ¥éªŒè¯ç­¾åå­—ç¬¦ä¸²çš„å¯†
é’¥ï¼Œå…¶ä¸­AccessKeySecret å¿…é¡»ä¿å¯†ã€‚</p>
<h3 id="10-5-13-fastdfs">10 5 13 FastDFS&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>FastDFSæ˜¯ä¸€ä¸ªå¼€æºçš„è½»é‡çº§åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œç®¡ç†ï¼ŒåŠŸ
èƒ½åŒ…æ‹¬ï¼šæ–‡ä»¶å­˜å‚¨ã€æ–‡ä»¶åŒæ­¥ã€æ–‡ä»¶è®¿é—®ï¼ˆæ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶ä¸‹è½½ï¼‰ç­‰ï¼Œè§£å†³äº†å¤§
å®¹é‡å­˜å‚¨å’Œè´Ÿè½½å‡è¡¡çš„é—®é¢˜ã€‚ç‰¹åˆ«é€‚åˆä»¥æ–‡ä»¶ä¸ºè½½ä½“çš„åœ¨çº¿æœåŠ¡ï¼Œå¦‚ç›¸å†Œç½‘ç«™ã€
è§†é¢‘ç½‘ç«™ç­‰ç­‰ã€‚
**ç»„æˆ</p>
<ol>
<li>Storageserver(å­˜å‚¨æœåŠ¡å™¨)**
Storageserverä¸€èˆ¬éƒ½æ˜¯ä»¥ç»„(group)ä¸ºç»„ç»‡å•ä½ï¼Œä¸€ä¸ªç»„ä¸­æœ‰å¤šä¸ªStorage
serverï¼Œæ•°æ®äº’ä¸ºå¤‡ä»½(æ„å‘³ç€æ¯ä¸ªStorageserverçš„å†…å®¹æ˜¯ä¸€è‡´çš„ï¼Œä»–ä»¬ä¹‹é—´
æ²¡æœ‰ä¸»ä»ä¹‹åˆ†)ï¼Œç»„çš„å­˜å‚¨ç©ºé—´ä»¥ç»„å†…æœ€å°çš„Storageserverä¸ºå‡†ï¼Œæ‰€ä»¥ä¸ºäº†é¿
å…æµªè´¹å­˜å‚¨ç©ºé—´æœ€å¥½çš„è¯æ¯ä¸ªStorageserverçš„é…ç½®æœ€å¥½ç›¸åŒã€‚
<strong>2. Trackerserver(è°ƒåº¦æœåŠ¡å™¨ã€è¿½è¸ªæœåŠ¡å™¨)</strong></li>
</ol>
<p>Trackerserverä¸»è¦è´Ÿè´£ç®¡ç†æ‰€æœ‰çš„Storageserverå’Œgroupï¼Œæ¯ä¸ª
storageåœ¨å¯åŠ¨åä¼šè¿æ¥Trackerï¼Œå‘ŠçŸ¥è‡ªå·±æ‰€å±çš„groupç­‰ä¿¡æ¯ï¼Œå¹¶ä¿æŒå‘¨æœŸ
æ€§çš„å¿ƒè·³ï¼Œtrackeræ ¹æ®storageçš„å¿ƒè·³ä¿¡æ¯ï¼Œå»ºç«‹group==&gt;[storageserver
list]çš„æ˜ å°„è¡¨ã€‚
<strong>æµç¨‹</strong></p>
<pre tabindex="0"><code>1 ã€é€‰æ‹©trackerserver
å½“é›†ç¾¤ä¸­ä¸æ­¢ä¸€ä¸ªtrackerserveræ—¶ï¼Œç”±äºtrackerä¹‹é—´æ˜¯å®Œå…¨å¯¹ç­‰
çš„å…³ç³»ï¼Œå®¢æˆ·ç«¯åœ¨uploadæ–‡ä»¶æ—¶å¯ä»¥ä»»æ„é€‰æ‹©ä¸€ä¸ªtrakcerã€‚
2 ã€é€‰æ‹©å­˜å‚¨çš„group
å½“trackeræ¥æ”¶åˆ°uploadfileçš„è¯·æ±‚æ—¶ï¼Œä¼šä¸ºè¯¥æ–‡ä»¶åˆ†é…ä¸€ä¸ªå¯ä»¥
å­˜å‚¨è¯¥æ–‡ä»¶çš„groupï¼Œæ”¯æŒå¦‚ä¸‹é€‰æ‹©groupçš„è§„åˆ™ï¼š
1. Roundrobinï¼Œæ‰€æœ‰çš„groupé—´è½®è¯¢ã€‚
2. Specifiedgroupï¼ŒæŒ‡å®šæŸä¸€ä¸ªç¡®å®šçš„groupã€‚
3. Loadbalanceï¼Œå‰©ä½™å­˜å‚¨ç©ºé—´å¤šå¤šgroupä¼˜å…ˆã€‚
4. é€‰æ‹©storageserverã€‚
3 ã€é€‰æ‹©storageserver
</code></pre><p>å½“é€‰å®šgroupåï¼Œtrackerä¼šåœ¨groupå†…é€‰æ‹©ä¸€ä¸ªstorageserver
ç»™å®¢æˆ·ç«¯ï¼Œæ”¯æŒå¦‚ä¸‹é€‰æ‹©storageçš„è§„åˆ™ï¼š
1 .Roundrobinï¼Œåœ¨groupå†…çš„æ‰€æœ‰storageé—´è½®è¯¢ã€‚
2 .Firstserverorderedbyipï¼ŒæŒ‰ipæ’åºã€‚
3 .First serverorderedbypriorityï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼ˆä¼˜å…ˆçº§åœ¨
storageä¸Šé…ç½®ï¼‰ã€‚
<strong>4 ã€é€‰æ‹©storagepath</strong>
å½“åˆ†é…å¥½storageserveråï¼Œå®¢æˆ·ç«¯å°†å‘storageå‘é€å†™æ–‡ä»¶è¯·æ±‚ï¼Œ
storageå°†ä¼šä¸ºæ–‡ä»¶åˆ†é…ä¸€ä¸ªæ•°æ®å­˜å‚¨ç›®å½•ï¼Œæ”¯æŒå¦‚ä¸‹è§„åˆ™ï¼š</p>
<ol>
<li>Roundrobinï¼Œå¤šä¸ªå­˜å‚¨ç›®å½•é—´è½®è¯¢ã€‚</li>
<li>å‰©ä½™å­˜å‚¨ç©ºé—´æœ€å¤šçš„ä¼˜å…ˆã€‚
<strong>5 ã€ç”ŸæˆFileid</strong>
é€‰å®šå­˜å‚¨ç›®å½•ä¹‹åï¼Œstorageä¼šä¸ºæ–‡ä»¶ç”Ÿä¸€ä¸ªFileidï¼Œç”±storage
serveripã€æ–‡ä»¶åˆ›å»ºæ—¶é—´ã€æ–‡ä»¶å¤§å°ã€æ–‡ä»¶crc 32 å’Œä¸€ä¸ªéšæœºæ•°æ‹¼æ¥è€Œæˆï¼Œ
ç„¶åå°†è¿™ä¸ªäºŒè¿›åˆ¶ä¸²è¿›è¡Œbase 64 ç¼–ç ï¼Œè½¬æ¢ä¸ºå¯æ‰“å°çš„å­—ç¬¦ä¸²ã€‚
<strong>6 ã€é€‰æ‹©ä¸¤çº§ç›®å½•</strong>
å½“é€‰å®šå­˜å‚¨ç›®å½•ä¹‹åï¼Œstorageä¼šä¸ºæ–‡ä»¶åˆ†é…ä¸€ä¸ªfileidï¼Œæ¯ä¸ªå­˜å‚¨
ç›®å½•ä¸‹æœ‰ä¸¤çº§ 256 * 256 çš„å­ç›®å½•ï¼Œstorageä¼šæŒ‰æ–‡ä»¶fileidè¿›è¡Œä¸¤æ¬¡hash
ï¼ˆçŒœæµ‹ï¼‰ï¼Œè·¯ç”±åˆ°å…¶ä¸­ä¸€ä¸ªå­ç›®å½•ï¼Œç„¶åå°†æ–‡ä»¶ä»¥fileidä¸ºæ–‡ä»¶åå­˜å‚¨åˆ°è¯¥
å­ç›®å½•ä¸‹ã€‚
<strong>7 ã€ç”Ÿæˆæ–‡ä»¶å</strong>
å½“æ–‡ä»¶å­˜å‚¨åˆ°æŸä¸ªå­ç›®å½•åï¼Œå³è®¤ä¸ºè¯¥æ–‡ä»¶å­˜å‚¨æˆåŠŸï¼Œæ¥ä¸‹æ¥ä¼šä¸º</li>
</ol>
<p>è¯¥æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åï¼Œæ–‡ä»¶åç”±groupã€å­˜å‚¨ç›®å½•ã€ä¸¤çº§å­ç›®å½•ã€fileidã€
æ–‡ä»¶åç¼€åï¼ˆç”±å®¢æˆ·ç«¯æŒ‡å®šï¼Œä¸»è¦ç”¨äºåŒºåˆ†æ–‡ä»¶ç±»å‹ï¼‰æ‹¼æ¥è€Œæˆã€‚
<strong>FastDFSå¦‚ä½•ç°åœ¨ç»„å†…çš„å¤šä¸ªstorageserverçš„æ•°æ®åŒæ­¥ï¼Ÿ</strong>
å½“å®¢æˆ·ç«¯å®Œæˆæ–‡ä»¶å†™è‡³groupå†…ä¸€ä¸ªstorageserverä¹‹åå³è®¤ä¸ºæ–‡ä»¶ä¸Šä¼ 
æˆåŠŸï¼Œstorageserverä¸Šä¼ å®Œæ–‡ä»¶ä¹‹åï¼Œä¼šç”±åå°çº¿ç¨‹å°†æ–‡ä»¶åŒæ­¥è‡³åŒgroup
å†…å…¶ä»–çš„storageserverã€‚åå°çº¿ç¨‹åŒæ­¥å‚è€ƒçš„ä¾æ®æ˜¯æ¯ä¸ª storageserveråœ¨
å†™å®Œæ–‡ä»¶åï¼ŒåŒæ—¶ä¼šå†™ä¸€ä»½binlogï¼Œbinlogä¸­åªåŒ…å«æ–‡ä»¶åç­‰å…ƒä¿¡æ¯,storage
ä¼šè®°å½•å‘groupå†…å…¶ä»–storageåŒæ­¥çš„è¿›åº¦ï¼Œä»¥ä¾¿é‡å¯åèƒ½æ¥ä¸Šæ¬¡çš„è¿›åº¦ç»§ç»­
åŒæ­¥ï¼›è¿›åº¦ä»¥æ—¶é—´æˆ³çš„æ–¹å¼è¿›è¡Œè®°å½•ï¼Œæ‰€ä»¥æœ€å¥½èƒ½ä¿è¯é›†ç¾¤å†…æ‰€æœ‰serverçš„æ—¶
é’Ÿä¿æŒåŒæ­¥ã€‚</p>
<h3 id="10-5-14-nginx">10 5 14 Nginx&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="ä»€ä¹ˆ">ä»€ä¹ˆ</h5>
<p>Nginxæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒåŠç”µå­é‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼Œ
åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„åå‘ä»£ç†ã€è´Ÿè½½å¹³è¡¡ã€‚
<strong>ä½œç”¨</strong>
åå‘ä»£ç†ï¼Œå°†å¤šå°æœåŠ¡å™¨ä»£ç†æˆä¸€å°æœåŠ¡å™¨ã€‚
è´Ÿè½½å‡è¡¡ï¼Œå°†å¤šä¸ªè¯·æ±‚å‡åŒ€çš„åˆ†é…åˆ°å¤šå°æœåŠ¡å™¨ä¸Šï¼Œå‡è½»æ¯å°æœåŠ¡å™¨çš„å‹åŠ›ï¼Œ
æé«˜æœåŠ¡çš„ååé‡ã€‚
åŠ¨é™åˆ†ç¦»ï¼Œnginxå¯ä»¥ç”¨ä½œé™æ€æ–‡ä»¶çš„ç¼“å­˜æœåŠ¡å™¨ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚
<strong>ä¼˜åŠ¿</strong>
å¯ä»¥é«˜å¹¶å‘è¿æ¥ï¼ˆ 5 ä¸‡å¹¶å‘ï¼Œå®é™…ä¹Ÿèƒ½æ”¯æŒ 2 ~ 4 ä¸‡å¹¶å‘ï¼‰ã€‚</p>
<h5 id="å†…å­˜æ¶ˆè€—å°‘">å†…å­˜æ¶ˆè€—å°‘ã€‚</h5>
<h5 id="æˆæœ¬ä½å»‰">æˆæœ¬ä½å»‰ã€‚</h5>
<h5 id="é…ç½®æ–‡ä»¶éå¸¸ç®€å•">é…ç½®æ–‡ä»¶éå¸¸ç®€å•ã€‚</h5>
<p>æ”¯æŒRewriteé‡å†™ã€‚
å†…ç½®çš„å¥åº·æ£€æŸ¥åŠŸèƒ½ã€‚
èŠ‚çœå¸¦å®½ã€‚
ç¨³å®šæ€§é«˜ã€‚
æ”¯æŒçƒ­éƒ¨ç½²ã€‚
<strong>ä»€ä¹ˆæ˜¯åå‘ä»£ç†</strong>
åå‘ä»£ç†æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—internetä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚ï¼Œå‘
ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™internetä¸Šè¯·æ±‚è¿
æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚
åå‘ä»£ç†æ€»ç»“å°±ä¸€å¥è¯ï¼šä»£ç†ç«¯ä»£ç†çš„æ˜¯æœåŠ¡ç«¯ã€‚
<strong>ä»€ä¹ˆæ˜¯æ­£å‘ä»£ç†</strong>
ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œ
å®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬
äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚
æ­£å‘ä»£ç†æ€»ç»“å°±ä¸€å¥è¯ï¼šä»£ç†ç«¯ä»£ç†çš„æ˜¯å®¢æˆ·ç«¯ã€‚
<strong>è´Ÿè½½å‡è¡¡</strong>
è´Ÿè½½å‡è¡¡å³æ˜¯ä»£ç†æœåŠ¡å™¨å°†æ¥æ”¶çš„è¯·æ±‚å‡è¡¡çš„åˆ†å‘åˆ°å„æœåŠ¡å™¨ä¸­ï¼Œè´Ÿè½½å‡è¡¡
ä¸»è¦è§£å†³ç½‘ç»œæ‹¥å¡é—®é¢˜ï¼Œæé«˜æœåŠ¡å™¨å“åº”é€Ÿåº¦ï¼ŒæœåŠ¡å°±è¿‘æä¾›ï¼Œè¾¾åˆ°æ›´å¥½çš„è®¿é—®
è´¨é‡ï¼Œå‡å°‘åå°æœåŠ¡å™¨å¤§å¹¶å‘å‹åŠ›ã€‚</p>
<p><strong>Nginxæ˜¯å¦‚ä½•å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„</strong>
é¦–å…ˆï¼Œnginxåœ¨å¯åŠ¨æ—¶ï¼Œä¼šè§£æé…ç½®æ–‡ä»¶ï¼Œå¾—åˆ°éœ€è¦ç›‘å¬çš„ç«¯å£ä¸ipåœ°å€ï¼Œ
ç„¶ååœ¨nginxçš„masterè¿›ç¨‹é‡Œé¢å…ˆåˆå§‹åŒ–å¥½è¿™ä¸ªç›‘æ§çš„socketï¼Œå†è¿›è¡Œlisten,
ç„¶åå†forkå‡ºå¤šä¸ªå­è¿›ç¨‹å‡ºæ¥, å­è¿›ç¨‹ä¼šç«äº‰acceptæ–°çš„è¿æ¥ã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯
å°±å¯ä»¥å‘nginxå‘èµ·è¿æ¥äº†ã€‚å½“å®¢æˆ·ç«¯ä¸nginxè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸nginxå»ºç«‹
å¥½ä¸€ä¸ªè¿æ¥å,æ­¤æ—¶ï¼ŒæŸä¸€ä¸ªå­è¿›ç¨‹ä¼šacceptæˆåŠŸï¼Œç„¶ååˆ›å»ºnginxå¯¹è¿æ¥çš„å°
è£…ï¼Œå³ngx_connection_tç»“æ„ä½“,æ¥ç€ï¼Œæ ¹æ®äº‹ä»¶è°ƒç”¨ç›¸åº”çš„äº‹ä»¶å¤„ç†æ¨¡å—ï¼Œå¦‚
httpæ¨¡å—ä¸å®¢æˆ·ç«¯è¿›è¡Œæ•°æ®çš„äº¤æ¢ã€‚æœ€åï¼Œnginxæˆ–å®¢æˆ·ç«¯æ¥ä¸»åŠ¨å…³æ‰è¿æ¥ï¼Œ
åˆ°æ­¤ï¼Œä¸€ä¸ªè¿æ¥å°±å¯¿ç»ˆæ­£å¯äº†ã€‚
<strong>ä¸ºä»€ä¹ˆNginxæ€§èƒ½è¿™ä¹ˆé«˜</strong>
å¾—ç›Šäºå®ƒçš„äº‹ä»¶å¤„ç†æœºåˆ¶ï¼šå¼‚æ­¥éé˜»å¡äº‹ä»¶å¤„ç†æœºåˆ¶ï¼šè¿ç”¨äº†epollæ¨¡å‹ï¼Œ
æä¾›äº†ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ’é˜Ÿè§£å†³ã€‚
<strong>å¯¹æ•°æ®åº“åªæ˜¯é‡‡ç”¨äº†è¯»å†™åˆ†ç¦»,å¹¶æ²¡æœ‰å®Œå…¨è§£å†³æ•°æ®åº“çš„å‹åŠ›,é‚£ä¹ˆæœ‰ä»€ä¹ˆåŠæ³•è§£
å†³?</strong>
å¦‚æœæ•°æ®åº“å‹åŠ›ç¡®å®å¾ˆå¤§çš„æƒ…å†µä¸‹å¯ä»¥è€ƒè™‘æ•°æ®åº“åˆ†ç‰‡ï¼Œå°±æ˜¯å°†æ•°æ®åº“
ä¸­è¡¨æ‹†åˆ†åˆ°ä¸åŒçš„æ•°æ®åº“ä¸­ä¿å­˜ã€‚å¯ä»¥ä½¿ç”¨mycatä¸­é—´ä»¶ã€‚
<strong>å•†å“å­˜å…¥æ•°æ®åº“æ€ä¹ˆä¿è¯æ•°æ®åº“æ•°æ®å®‰å…¨?</strong>
å¯¹ç”¨æˆ·å®‰å…¨ç®¡ç† ç”¨æˆ·æ“ä½œæ•°æ®åº“æ—¶ï¼Œå¿…é¡»é€šè¿‡æ•°æ®åº“è®¿é—®çš„èº«ä»½è®¤è¯ã€‚åˆ 
é™¤æ•°æ®åº“ä¸­çš„é»˜è®¤ç”¨æˆ·ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„ç”¨æˆ·åŠé«˜å¼ºåº¦å¯†ç ã€‚
å®šä¹‰è§†å›¾
ä¸ºä¸åŒçš„ç”¨æˆ·å®šä¹‰ä¸åŒçš„è§†å›¾ï¼Œå¯ä»¥é™åˆ¶ç”¨æˆ·çš„è®¿é—®èŒƒå›´ã€‚é€šè¿‡è§†å›¾æœºåˆ¶æŠŠ
éœ€è¦ä¿å¯†çš„æ•°æ®å¯¹æ— æƒå­˜å–è¿™äº›æ•°æ®çš„ç”¨æˆ·éšè—èµ·æ¥ï¼Œå¯ä»¥å¯¹æ•°æ®åº“æä¾›ä¸€å®šç¨‹</p>
<h5 id="åº¦çš„å®‰å…¨ä¿æŠ¤å®é™…åº”ç”¨ä¸­å¸¸å°†è§†å›¾æœºåˆ¶ä¸æˆæƒæœºåˆ¶ç»“åˆèµ·æ¥ä½¿ç”¨é¦–å…ˆç”¨è§†å›¾">åº¦çš„å®‰å…¨ä¿æŠ¤ã€‚å®é™…åº”ç”¨ä¸­å¸¸å°†è§†å›¾æœºåˆ¶ä¸æˆæƒæœºåˆ¶ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œé¦–å…ˆç”¨è§†å›¾</h5>
<h5 id="æœºåˆ¶å±è”½ä¸€éƒ¨åˆ†ä¿å¯†æ•°æ®ç„¶ååœ¨è§†å›¾ä¸Šè¿›ä¸€æ­¥è¿›è¡Œæˆæƒ">æœºåˆ¶å±è”½ä¸€éƒ¨åˆ†ä¿å¯†æ•°æ®ï¼Œç„¶ååœ¨è§†å›¾ä¸Šè¿›ä¸€æ­¥è¿›è¡Œæˆæƒã€‚</h5>
<h5 id="æ•°æ®åŠ å¯†-æ•°æ®åŠ å¯†æ˜¯ä¿æŠ¤æ•°æ®åœ¨å­˜å‚¨å’Œä¼ é€’è¿‡ç¨‹ä¸­ä¸è¢«çªƒå–æˆ–ä¿®æ”¹çš„">æ•°æ®åŠ å¯† æ•°æ®åŠ å¯†æ˜¯ä¿æŠ¤æ•°æ®åœ¨å­˜å‚¨å’Œä¼ é€’è¿‡ç¨‹ä¸­ä¸è¢«çªƒå–æˆ–ä¿®æ”¹çš„</h5>
<h5 id="æœ‰æ•ˆæ‰‹æ®µ">æœ‰æ•ˆæ‰‹æ®µã€‚</h5>
<h5 id="æ•°æ®åº“å®šæœŸå¤‡ä»½">æ•°æ®åº“å®šæœŸå¤‡ä»½</h5>
<h5 id="å®¡è®¡è¿½è¸ªæœºåˆ¶">å®¡è®¡è¿½è¸ªæœºåˆ¶</h5>
<h5 id="å®¡è®¡è¿½è¸ªæœºåˆ¶æ˜¯æŒ‡ç³»ç»Ÿè®¾ç½®ç›¸åº”çš„æ—¥å¿—è®°å½•ç‰¹åˆ«æ˜¯å¯¹æ•°æ®æ›´æ–°åˆ é™¤ä¿®">å®¡è®¡è¿½è¸ªæœºåˆ¶æ˜¯æŒ‡ç³»ç»Ÿè®¾ç½®ç›¸åº”çš„æ—¥å¿—è®°å½•ï¼Œç‰¹åˆ«æ˜¯å¯¹æ•°æ®æ›´æ–°ã€åˆ é™¤ã€ä¿®</h5>
<h5 id="æ”¹çš„è®°å½•ä»¥ä¾¿æ—¥åæŸ¥è¯æ—¥å¿—è®°å½•çš„å†…å®¹å¯ä»¥åŒ…æ‹¬æ“ä½œäººå‘˜çš„åç§°ä½¿ç”¨çš„å¯†">æ”¹çš„è®°å½•ï¼Œä»¥ä¾¿æ—¥åæŸ¥è¯ã€‚æ—¥å¿—è®°å½•çš„å†…å®¹å¯ä»¥åŒ…æ‹¬æ“ä½œäººå‘˜çš„åç§°ã€ä½¿ç”¨çš„å¯†</h5>
<h5 id="ç ç”¨æˆ·çš„ipåœ°å€ç™»å½•æ—¶é—´æ“ä½œå†…å®¹ç­‰è‹¥å‘ç°ç³»ç»Ÿçš„æ•°æ®é­åˆ°ç ´åå¯">ç ã€ç”¨æˆ·çš„IPåœ°å€ã€ç™»å½•æ—¶é—´ã€æ“ä½œå†…å®¹ç­‰ã€‚è‹¥å‘ç°ç³»ç»Ÿçš„æ•°æ®é­åˆ°ç ´åï¼Œå¯</h5>
<h5 id="ä»¥æ ¹æ®æ—¥å¿—è®°å½•è¿½ç©¶è´£ä»»æˆ–è€…ä»æ—¥å¿—è®°å½•ä¸­åˆ¤æ–­å¯†ç æ˜¯å¦è¢«ç›—ä»¥ä¾¿ä¿®æ”¹å¯†ç ">ä»¥æ ¹æ®æ—¥å¿—è®°å½•è¿½ç©¶è´£ä»»ï¼Œæˆ–è€…ä»æ—¥å¿—è®°å½•ä¸­åˆ¤æ–­å¯†ç æ˜¯å¦è¢«ç›—ï¼Œä»¥ä¾¿ä¿®æ”¹å¯†ç ï¼Œ</h5>
<h5 id="é‡æ–°åˆ†é…æƒé™ç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨">é‡æ–°åˆ†é…æƒé™ï¼Œç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨ã€‚</h5>
<h2 id="10-6-å•†å“æœç´¢elasticsearchmq">10 6 å•†å“æœç´¢(ElasticSearch,MQ)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="10-6-1-ä¸šåŠ¡æ€è·¯">10 6 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="æœç´¢æ¨¡å—åœ¨æˆ‘ä»¬é¡¹ç›®ä¸­ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªæ¨¡å—å› ä¸ºå•†å“çš„æœç´¢æ˜¯æ¯ä¸ªç”¨">æœç´¢æ¨¡å—åœ¨æˆ‘ä»¬é¡¹ç›®ä¸­ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªæ¨¡å—ï¼Œå› ä¸ºå•†å“çš„æœç´¢æ˜¯æ¯ä¸ªç”¨</h5>
<h5 id="æˆ·åœ¨è´­ç‰©æ¶ˆè´¹äº§ç”Ÿä¹‹å‰ä¸å¯é¿å…çš„è¡Œä¸ºè€Œä¸”æ¯ä¸ªç”¨æˆ·çš„æœç´¢æ–¹å¼éœ€æ±‚ä¹Ÿä¸ä¸€">æˆ·åœ¨è´­ç‰©æ¶ˆè´¹äº§ç”Ÿä¹‹å‰ä¸å¯é¿å…çš„è¡Œä¸ºï¼Œè€Œä¸”æ¯ä¸ªç”¨æˆ·çš„æœç´¢æ–¹å¼ã€éœ€æ±‚ä¹Ÿä¸ä¸€</h5>
<h5 id="æ ·æ¯”å¦‚æœ‰çš„ç”¨æˆ·åœ¨æƒ…äººèŠ‚æƒ³ä¹°ä¸ªç¤¼ç‰©ç»™å¥³æœ‹å‹ä½†æ˜¯ä»–ä¸çŸ¥é“ä¹°ä»€ä¹ˆè¿™ä¸ªæ—¶">æ ·ï¼Œæ¯”å¦‚æœ‰çš„ç”¨æˆ·åœ¨æƒ…äººèŠ‚æƒ³ä¹°ä¸ªç¤¼ç‰©ç»™å¥³æœ‹å‹ï¼Œä½†æ˜¯ä»–ä¸çŸ¥é“ä¹°ä»€ä¹ˆï¼Ÿè¿™ä¸ªæ—¶</h5>
<h5 id="å€™ä»–å°±ä¼šæŒ‰ç…§æƒ…äººèŠ‚ç¤¼ç‰©-å¥³è¿™æ ·çš„æ¡ä»¶æ¥è¿›è¡Œæœç´¢ç³»ç»Ÿä¼šè‡ªåŠ¨åŒ¹é…ç¬¦åˆ">å€™ä»–å°±ä¼šæŒ‰ç…§â€œæƒ…äººèŠ‚ç¤¼ç‰© å¥³â€è¿™æ ·çš„æ¡ä»¶æ¥è¿›è¡Œæœç´¢ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åŒ¹é…ç¬¦åˆ</h5>
<h5 id="å…³é”®å­—æ¡ä»¶çš„å•†å“å±•ç¤ºç»™ç”¨æˆ·å†æ¯”å¦‚æœ‰çš„ç”¨æˆ·æƒ³ç»™é•¿è¾ˆä¹°ä¸€ä¸ªæ‰‹æœºä½†æ˜¯ä»–ä¸">å…³é”®å­—æ¡ä»¶çš„å•†å“å±•ç¤ºç»™ç”¨æˆ·ï¼›å†æ¯”å¦‚æœ‰çš„ç”¨æˆ·æƒ³ç»™é•¿è¾ˆä¹°ä¸€ä¸ªæ‰‹æœºï¼Œä½†æ˜¯ä»–ä¸</h5>
<h5 id="çŸ¥é“å…·ä½“å“ªäº›å“ç‰Œä¼šæœ‰è€äººæœºæ‰€ä»¥å½“ä»–è¾“å…¥è€äººæœºè¿™ä¸ªå…³é”®å­—æ—¶ç³»ç»Ÿä¼š">çŸ¥é“å…·ä½“å“ªäº›å“ç‰Œä¼šæœ‰è€äººæœºï¼Œæ‰€ä»¥å½“ä»–è¾“å…¥â€œè€äººæœºâ€è¿™ä¸ªå…³é”®å­—æ—¶ï¼Œç³»ç»Ÿä¼š</h5>
<h5 id="è‡ªåŠ¨åŒ¹é…å±•ç¤ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å•†å“æ‰€ä»¥è¯´äº†è¿™ä¹ˆå¤šæƒ³è¦å®Œæˆå•†å“çš„æœç´¢éƒ½ç¦»">è‡ªåŠ¨åŒ¹é…å±•ç¤ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å•†å“ï¼Œæ‰€ä»¥è¯´äº†è¿™ä¹ˆå¤šï¼Œæƒ³è¦å®Œæˆå•†å“çš„æœç´¢éƒ½ç¦»</h5>
<h5 id="ä¸å¼€éå¸¸å…³é”®çš„ç‚¹å…³é”®å­—">ä¸å¼€éå¸¸å…³é”®çš„ç‚¹ï¼Œå…³é”®å­—ã€‚</h5>
<h5 id="ä¸­æ–‡è·Ÿè‹±æ–‡ä¸ä¸€æ ·ä»–çš„ç»„åˆæ–¹å¼æœ‰å¾ˆå¤šç§æ¯”å¦‚ä¸­å›½äººå®ƒå¯ä»¥æ‹†åˆ†æˆä¸­">ä¸­æ–‡è·Ÿè‹±æ–‡ä¸ä¸€æ ·ï¼Œä»–çš„ç»„åˆæ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ä¸­å›½äººï¼Œå®ƒå¯ä»¥æ‹†åˆ†æˆâ€œä¸­ã€</h5>
<h5 id="å›½ä¸­å›½ä¸­å›½äººå›½äººäººä¸­å¦‚ä½•åˆç†çš„åˆ†è¯å¯¹æˆ‘ä»¬çš„å•†å“æœç´¢è‡³å…³é‡è¦">å›½ã€ä¸­å›½ã€ä¸­å›½äººã€å›½äººã€äººä¸­â€ï¼Œå¦‚ä½•åˆç†çš„åˆ†è¯å¯¹æˆ‘ä»¬çš„å•†å“æœç´¢è‡³å…³é‡è¦ã€‚</h5>
<h5 id="å¦å¤–æœç´¢çš„è¯·æ±‚å¦‚æœéƒ½èµ°æ•°æ®åº“çš„è¯å¾ˆå¯èƒ½ä¼šå°†æ•´ä¸ªåº”ç”¨çš„æ€§èƒ½ç»™æ‹–å®äº†æ‰€">å¦å¤–æœç´¢çš„è¯·æ±‚å¦‚æœéƒ½èµ°æ•°æ®åº“çš„è¯ï¼Œå¾ˆå¯èƒ½ä¼šå°†æ•´ä¸ªåº”ç”¨çš„æ€§èƒ½ç»™æ‹–å®äº†ï¼Œæ‰€</h5>
<h5 id="ä»¥æˆ‘ä»¬å•ç‹¬æ­å»ºäº†ä¸€ä¸ªæœç´¢æœåŠ¡å™¨æ¥è¯•ä¸‹æœç´¢æœåŠ¡é‚£è‡³äºé‡‡ç”¨ä»€ä¹ˆæœç´¢å¼•æ“">ä»¥æˆ‘ä»¬å•ç‹¬æ­å»ºäº†ä¸€ä¸ªæœç´¢æœåŠ¡å™¨æ¥è¯•ä¸‹æœç´¢æœåŠ¡ï¼Œé‚£è‡³äºé‡‡ç”¨ä»€ä¹ˆæœç´¢å¼•æ“.</h5>
<p>åœ¨èµ·åˆæŠ€æœ¯é€‰å‹çš„æ—¶å€™æˆ‘ä»¬è€ƒè™‘çš„æ˜¯solrå’ŒelasticSearchï¼Œæœ€ç»ˆé€‰æ‹©çš„æ˜¯ä½¿ç”¨
ESæ¥è¿›è¡Œå®ç°æœç´¢çš„ã€‚ å› ä¸ºSolråœ¨å»ºç«‹ç´¢å¼•æ—¶ï¼Œæœç´¢æ•ˆç‡ä¸‹é™ï¼Œå®æ—¶ç´¢å¼•æœ
ç´¢æ•ˆç‡ä¸é«˜,å½“å•çº¯çš„å¯¹å·²æœ‰æ•°æ®è¿›è¡Œæœç´¢æ—¶ï¼ŒSolræ›´å¿«,å½“å®æ—¶å»ºç«‹ç´¢å¼•æ—¶,Solr
ä¼šäº§ç”Ÿioé˜»å¡ï¼ŒæŸ¥è¯¢æ€§èƒ½è¾ƒå·®,ElasticSearchå…·æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿,éšç€æ•°æ®é‡çš„å¢
åŠ ï¼ŒSolrçš„æœç´¢æ•ˆç‡ä¼šå˜å¾—æ›´ä½ï¼Œè€ŒElasticSearchå´æ²¡æœ‰æ˜æ˜¾çš„å˜åŒ–,ç»¼ä¸Šæ‰€è¿°ï¼Œ
Solrçš„æ¶æ„ä¸é€‚åˆå®æ—¶æœç´¢çš„åº”ç”¨æ‰€ä»¥é€‰åœ¨äº†ElasticSearch.
æœç´¢åŠŸèƒ½è¿™å—å„¿åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†, ä¸€éƒ¨åˆ†æ˜¯ç´¢å¼•åº“æ•°æ®çš„å°è£…æ•°æ®, å¦ä¸€éƒ¨åˆ†
æ˜¯ç”¨æˆ·æœç´¢, ç¬¬ä¸‰éƒ¨åˆ†æ˜¯è¦è€ƒè™‘åŠ¨æ€åŒæ­¥ç´¢å¼•åº“.
ï¬ <strong>ç¬¬ä¸€éƒ¨åˆ†,Esç´¢å¼•åº“å°è£…æ•°æ®, è¦è€ƒè™‘å¦‚ä¸‹é—®é¢˜:</strong></p>
<p>( 1 ) Esç´¢å¼•åº“å­˜æ”¾å“ªäº›æ•°æ®?
åœ¨ä»æ•°æ®åº“ä¸­å¯¼å…¥ esä¸­ï¼Œå› ä¸ºæ¶‰åŠåˆ°å¤šå¼ è¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªå•†
å“ç±»å®ä¾‹ï¼Œç”¨æ¥åŒ…å« æ­¤å•†å“çš„ spu çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<p>ä¸€å…±æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç”¨æ¥é¡µé¢æ¸²æŸ“çš„æ•°æ®ï¼Œå±•ç¤ºç»™ç”¨æˆ·çœ‹çš„ï¼›å¦ä¸€ç§æ˜¯ç”¨æ¥
æœç´¢è¿‡æ»¤çš„æ•°æ®ï¼Œæ–¹ä¾¿ç”¨æˆ·æœç´¢ã€‚ï¼ˆä¾‹å¦‚ï¼šç”¨æˆ·å¯ä»¥ç›´è§‚èƒ½çœ‹åˆ°çš„ï¼šå›¾ç‰‡ã€ä»·æ ¼ã€
æ ‡é¢˜ï¼ˆSKUæ•°æ®ï¼ˆç”¨æ¥å±•ç¤ºçš„æ•°æ®ï¼‰ï¼‰å’Œ å‰¯æ ‡é¢˜ï¼ˆSPUï¼‰ï¼›æš—è—çš„æ•°æ®æœ‰spu
çš„ idï¼Œsku çš„ idï¼ˆç”¨æ¥åšå•†å“è¯¦æƒ…é¡µå’Œç”¨æ¥æ˜¾ç¤ºå•†å“çš„è¿‡æ»¤æ¡ä»¶ï¼‰, è¿‡æ»¤æ¡
ä»¶çš„å°è£…: è§„æ ¼, å“ç‰Œç­‰å­—æ®µ.ï¼‰</p>
<h5 id="éœ€è¦ç”¨æˆ·æ£€ç´¢çš„ä¿¡æ¯å•†å“åˆ†ç±»å“ç‰Œè§„æ ¼æ ‡é¢˜-è¿™é‡Œå°è£…æˆä¸€ä¸ª">â‘ éœ€è¦ç”¨æˆ·æ£€ç´¢çš„ä¿¡æ¯ï¼ˆå•†å“åˆ†ç±»ã€å“ç‰Œã€è§„æ ¼ã€æ ‡é¢˜ï¼‰, è¿™é‡Œå°è£…æˆä¸€ä¸ª</h5>
<p>allå­—æ®µä½œä¸ºå…¨æ–‡æ£€ç´¢å­—æ®µ. ç”¨æˆ·è¾“å…¥å…³é”®å­—åå…ˆæ¥allå­—æ®µä¸­åŒ¹é…, æ ¹æ®åŒ¹é…åˆ°
çš„æŸ¥è¯¢å‡ºç”¨æˆ·æƒ³è¦çš„æ•°æ®. è¦æ˜¯ä¸å°è£…æˆallå­—æ®µ, éœ€è¦ä»å…¨æ–‡ä¸­è¿›è¡ŒåŒ¹é…, è¿™æ ·
ä¼šé™ä½Esçš„æ€§èƒ½, é™ä½ç”¨æˆ·ä½“éªŒæ„Ÿ.
â‘¡spuçš„idï¼ˆæˆ‘ä»¬ä¸€èˆ¬ä¼šå°† idå’Œ es ä¸­çš„ _id ä¿æŒä¸€è‡´ï¼Œæ–¹ä¾¿ä»¥åä¸šåŠ¡
çš„å¤„ç†ã€‚ä¾‹å¦‚ å•†å“çš„ä¸‹æ¶éœ€è¦åˆ é™¤ esåº“ä¸­è®°å½•çš„æ•°æ®ï¼‰
â‘¢å“ç‰Œçš„id,
â‘£åˆ†ç±»çš„id
â‘¤sku çš„ç›¸å…³ä¿¡æ¯ï¼ˆæ˜¯ä¸ª json æ•°ç»„çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å« skuIdã€priceã€imageã€
titleï¼‰, å› ä¸ºæ¯ä¸€ä¸ª spu å¯¹åº”å¤šä¸ª skuï¼Œæ‰€ä»¥ skuçš„æ•°æ®éœ€è¦å­˜æ”¾åˆ°ä¸€ä¸ªList
é›†åˆä¸­ï¼Œä½†æ˜¯ esåªæ”¯æŒ json æ ¼å¼çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ª List é›†åˆè½¬
æ¢ä¸º json æ•°æ®å­—ç¬¦ä¸²ã€‚æ¯ä¸ª sku åŒ…å« skuIdã€priceã€imageã€titleã€‚</p>
<p>â‘¥å•†å“çš„ä»·æ ¼, ä»·æ ¼ä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯é‡‡ç”¨çš„æ˜¯ set æ¥å£ï¼Œè¿™æ ·å¯ä»¥ä¿è¯
price çš„å•ä¸€æ€§.
é¦–å…ˆä»·æ ¼æ˜¾ç¤ºå°±ä¸æ­£ç¡®ï¼Œæˆ‘ä»¬æ•°æ®åº“ä¸­å­˜æ”¾çš„æ˜¯ä»¥åˆ†ä¸ºå•ä½ï¼Œæ‰€ä»¥è¿™é‡Œè¦æ ¼
å¼åŒ–ã€‚å¥½åœ¨æˆ‘ä»¬ä¹‹å‰common.jsä¸­å®šä¹‰äº†å·¥å…·ç±»ï¼Œå¯ä»¥å¸®æˆ‘ä»¬è½¬æ¢ã€‚ä½†æ˜¯æŠ¥é”™ï¼Œ
å› ä¸ºåœ¨VueèŒƒå›´å†…ä½¿ç”¨ä»»ä½•å˜é‡ï¼Œéƒ½ä¼šé»˜è®¤å»Vueå®ä¾‹ä¸­å¯»æ‰¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ly(å½“
ç„¶è¿™é‡Œè¯´çš„æ—¶å€™è¦æ•´ç†æˆè‡ªå·±çš„é¡¹ç›®åç¼©å†™, åˆ«å°±è¯´æ˜¯ly)ï¼Œä½†æ˜¯Vueå®ä¾‹ä¸­æ²¡
æœ‰è¿™ä¸ªå˜é‡ã€‚æ‰€ä»¥è§£å†³åŠæ³•å°±æ˜¯è‡ªå®šä¹‰å·¥å…·å¯¹è±¡ly:æŠŠlyè®°å½•åˆ°Vueå®ä¾‹ã€‚
â‘¦å•†å“çš„è§„æ ¼å‚æ•°, å¯¹äºæ¯ä¸€ç±»å•†å“ï¼Œéƒ½æœ‰ä¸åŒçš„è§„æ ¼å‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é‡‡
ç”¨çš„æ˜¯ mapç»“æ„æ¥å­˜å–ï¼Œåœ¨ es ä¸­ï¼Œå­˜å‚¨æ—¶ï¼Œä¼šæŠŠ å±æ€§çš„åç§° +&rdquo;.&quot;+key ä½œ
ä¸º esä¸­çš„åˆ—å.</p>
<h5 id="å•†å“çš„ä¸Šæ¶æ—¶é—´">â‘§å•†å“çš„ä¸Šæ¶æ—¶é—´</h5>
<h5 id="å•†å“çš„ä¿ƒé”€ä¿¡æ¯">â‘¨å•†å“çš„ä¿ƒé”€ä¿¡æ¯</h5>
<p>æˆ‘ä»¬ä¸å¯èƒ½ä¸€æ¬¡æ€§æŸ¥å‡ºæ‰€æœ‰æ•°æ®æ·»åŠ åˆ°esä¸­ï¼Œæ‰€ä»¥å°±éœ€è¦å¤šæ¬¡è°ƒç”¨å•†å“å¾®
æœåŠ¡å»åˆ†é¡µæŸ¥è¯¢å‡º spu çš„ç›¸å…³ä¿¡æ¯ã€‚æˆ‘ä»¬å°±å¯ä»¥å†™ä¸€ä¸ª æ­»å¾ªç¯ ä¸æ–­çš„å»è¿œç¨‹
è°ƒç”¨ã€‚
æ­»å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶æœ‰ä¸¤ä¸ªï¼šâ‘  æ²¡æœ‰åˆ†é¡µæ•°æ® â‘¡å–å›çš„åˆ†é¡µæ•°æ®çš„å¤§å° &lt;
æˆ‘ä»¬ä¸€æ¬¡è¦å–å‡ºçš„æ•°æ®å¤§å°
ï¬ <strong>ç¬¬äºŒéƒ¨åˆ†,æœç´¢æ•°æ®, æœç´¢åŠŸèƒ½å…·ä½“å®ç°ä»ä»¥ä¸‹ä¸‰ç‚¹è€ƒè™‘ï¼š
1 .å…³é”®å­—æœç´¢ï¼š</strong>
å°†é¡µé¢æäº¤çš„å…³é”®å­—æäº¤ç»™åå°ï¼Œå†ä½¿ç”¨springdataes æä¾›çš„æ¨¡æ¿ç±»
esTempalteå®Œæˆæœç´¢ã€‚å…¶ä¸­å¯¹å•†å“çš„æœç´¢æ˜¯åŸºäºæ„å»ºçš„allå­—æ®µå®Œæˆçš„åŒ¹é…æŸ¥
è¯¢ã€‚Allå­—æ®µä¸­åŒ…å«äº†å•†å“çš„åç§°+å“ç‰Œåç§°+ä¸‰çº§åˆ†ç±»ã€‚
<strong>2 .è¿‡æ»¤æ¡ä»¶æŸ¥è¯¢ï¼š</strong>
å…³é”®å­—ç”Ÿæˆæœç´¢ç»“æœåè¿˜æä¾›äº†è¿‡æ»¤æ¡ä»¶çš„æ·»åŠ ï¼Œè¿‡æ»¤æ¡ä»¶çš„ç”Ÿæˆæ˜¯æ ¹æ®æœ
ç´¢ç»“æœåŠ¨æ€å±•ç¤ºçš„ï¼Œå› ä¸ºä¸åŒçš„å•†å“å› ä¸ºåˆ†ç±»çš„ä¸åŒå¯¹åº”çš„å‚æ•°ä¹Ÿä¸åŒï¼Œè¿‡æ»¤æ¡
ä»¶æ˜¯åœ¨å…³é”®å­—æœç´¢çš„ç»“æœé›†ä¸­ï¼Œé€šè¿‡èšåˆæŸ¥è¯¢è·å–è¿‡æ»¤æŸ¥è¯¢æ¡ä»¶ã€‚è¿‡æ»¤æ¡ä»¶åŒ…å«
åˆ†ç±»ï¼Œå“ç‰Œï¼Œä»¥åŠå•†å“çš„è§„æ ¼å‚æ•°ã€‚å…¶ä¸­è§„æ ¼åç§°å’Œè§„æ ¼å€¼éƒ½æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚è§„
æ ¼å‚æ•°çš„å±•ç¤ºæ˜¯åœ¨ç”¨æˆ·ç‚¹å‡»æŸä¸€ä¸ªåˆ†ç±»æ¡ä»¶æ—¶ï¼ŒæŸ¥è¯¢è¯¥åˆ†ç±»å¯¹åº”ç”¨äºæœç´¢çš„è§„æ ¼
åç§°ä»¥åŠè§„æ ¼å€¼ã€‚åœ¨å…³é”®å­—æœç´¢çš„åŸºç¡€ä¸Šå†ç‚¹å‡»è¿‡æ»¤æ¡ä»¶è¿›è¡Œè¿›ä¸€æ­¥çš„ç­›é€‰å•†å“
æ•°æ®ã€‚å…¶ä¸­å¯¹å•†å“çš„æœç´¢æ˜¯åŸºäºæ„å»ºçš„allå­—æ®µå®Œæˆçš„åŒ¹é…æŸ¥è¯¢ã€‚Allå­—æ®µä¸­åŒ…å«
äº†å•†å“çš„åç§°+å“ç‰Œåç§°+ä¸‰çº§åˆ†ç±»ã€‚</p>
<p>esæœç´¢å•†å“æ—¶ï¼Œä½¿ç”¨çš„ åŒ¹é…æŸ¥è¯¢(match)ï¼Œä¼šæŠŠæŸ¥è¯¢æ¡ä»¶è¿›è¡Œåˆ†è¯ï¼Œç„¶å
è¿›è¡ŒæŸ¥è¯¢ï¼Œå¤šä¸ªè¯æ¡ä¹‹é—´é»˜è®¤å…³ç³»æ˜¯ORï¼Œæ‰€ä»¥è¦è®¾ç½®å¤šä¸ªè¯æ¡ä¹‹é—´çš„å…³ç³»ä¸º
andã€‚</p>
<p>â‘ å…ˆåˆ›å»ºåŸç”Ÿ esæŸ¥è¯¢å™¨ï¼Œbulider å„ç§æŸ¥è¯¢æ¡ä»¶ã€‚æ˜¯ç”±springDataElasticSearch
æä¾›çš„.</p>
<p>â‘¡å†æœ‰ spring å°è£…çš„ ElasticsearchTemplate å‘é€ builderæ¡ä»¶åˆ° es
æœåŠ¡å™¨ä¸­ï¼Œå¹¶å°†æŸ¥è¯¢å‡ºçš„ç»“æœè¿”å›.</p>
<p>â‘¢è¿‡æ»¤æ¡ä»¶çš„æ˜¾ç¤ºéœ€è¦æ ¹æ®ç”¨æˆ·çš„æœç´¢æ¡ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œè¦å»ºç«‹ bool æŸ¥è¯¢ï¼Œ
æ¥æ„å»ºè¿‡æ»¤æ¡ä»¶.</p>
<p>â‘£é¡µé¢ä¸Šæ˜¾ç¤ºçš„è¿‡æ»¤é¡¹ï¼Œéœ€è¦ term è¯æ¡ç²¾ç¡®åŒ¹é…ï¼Œè¿›è¡Œèšåˆï¼ˆç›¸å½“äºæ•°æ®
åº“çš„åˆ†ç»„ï¼‰ï¼Œæ˜¾ç¤ºå’Œç”¨æˆ·æœç´¢æƒ…å†µä¸€è‡´çš„è¿‡æ»¤é¡¹ã€‚ï¼ˆåœ¨æœç´¢æ¡ä»¶åŸºç¡€ä¸Šï¼Œå¯¹æœç´¢
ç»“æœèšåˆï¼‰.</p>
<p>â‘¤å¯¹äºé¡µé¢ä¸Šä¼šæ˜¾ç¤ºä¸¤éƒ¨åˆ†æ•°æ®ï¼Œä¸€éƒ¨åˆ†æ˜¯å•†å“çš„ä¿¡æ¯ï¼Œä¸€éƒ¨åˆ†æ˜¯å•†å“çš„è¿‡
æ»¤æ¡ä»¶ä¿¡æ¯ã€‚æˆ‘ä»¬ä¼šå‘ä¸¤æ¬¡è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡æ˜¯ ajax è¯·æ±‚ï¼Œå»æŸ¥è¯¢è¿‡æ»¤é¡¹ä¿¡æ¯ã€‚</p>
<p>ï¬ <strong>ç¬¬ä¸‰éƒ¨åˆ†, å•†å“ä¸Šä¸‹æ¶æ—¶åŒæ­¥ç´¢å¼•åº“ï¼š</strong>
å•†å“åœ¨è¿›è¡Œä¸Šä¸‹æ¶æ“ä½œä¹‹åéœ€è¦å¯¹å•†å“çš„å±•ç¤ºæ•°æ®å’Œå•†å“æœç´¢çš„ç´¢å¼•åº“è¿›
è¡Œä¿®æ”¹ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆéƒ½èƒ½å®ç°ä¸‰ä¸ªå¾®æœåŠ¡çš„æ•°æ®åŒæ­¥ï¼Œæ–¹æ¡ˆä¸€å°±æ˜¯åœ¨å•†å“å¾®æœåŠ¡
å®Œæˆä¸Šä¸‹æ¶å•†å“ä¸šåŠ¡åï¼ŒåŠ å…¥ä¿®æ”¹ç´¢å¼•åº“å’Œå•†å“å±•ç¤ºçš„é™æ€é¡µï¼Œæ–¹æ¡ˆäºŒæ˜¯æœç´¢æœ
åŠ¡å’Œé™æ€é¡µæœåŠ¡å¯¹å¤–æä¾›æ“ä½œç´¢å¼•åº“å’Œé™æ€é¡µçš„æ¥å£ï¼Œå•†å“å¾®æœåŠ¡åœ¨å•†å“ä¸Šä¸‹æ¶
åè°ƒç”¨æ¥å£ã€‚ä½†æ˜¯è¿™ä¸¤ç§æ–¹æ¡ˆæœ‰ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜å°±æ˜¯ä»£ç çš„è€¦åˆæ€§å¤ªé«˜ï¼Œè¿èƒŒäº†</p>
<h5 id="å¾®æœåŠ¡çš„ç‹¬ç«‹åŸåˆ™è¿èƒŒäº†å¼€é—­åŸåˆ™æ‰€ä»¥æˆ‘ç”¨åˆ°äº†æ¶ˆæ¯é˜Ÿåˆ—é€‰ç”¨çš„mqæ˜¯">å¾®æœåŠ¡çš„ç‹¬ç«‹åŸåˆ™ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ã€‚æ‰€ä»¥æˆ‘ç”¨åˆ°äº†æ¶ˆæ¯é˜Ÿåˆ—ã€‚é€‰ç”¨çš„MQæ˜¯</h5>
<p>RabbitMQï¼ˆä¸ºä»€ä¹ˆé€‰ç”¨Rabbitï¼Ÿè¿˜æœ‰å…¶ä»–çš„MQäº§å“å—ï¼Ÿï¼‰ã€‚å½“å•†å“å¾®æœåŠ¡
åšäº†å•†å“ä¸Šä¸‹æ¶æ“ä½œåï¼Œæ— éœ€æ“ä½œç´¢å¼•åº“å’Œé™æ€é¡µé¢ï¼Œåªéœ€è¦å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œä¹Ÿ
ä¸ç”¨å…³å¿ƒæ¶ˆæ¯è¢«è°æ¥å—äº†ï¼Œè€Œæœç´¢æœåŠ¡å’Œé™æ€é¡µæœåŠ¡æ¥å—æ¶ˆæ¯ï¼Œåˆ†åˆ«å¤„ç†ç´¢å¼•åº“
å’Œé™æ€é¡µé¢ã€‚è€Œä»¥åå¦‚æœæœ‰å…¶ä»–å¾®æœåŠ¡éœ€è¦ä¾èµ–å•†å“å¾®æœåŠ¡çš„æ•°æ®æ˜¯ï¼ŒåŒæ ·ç›‘å¬
æ¶ˆæ¯å³å¯ï¼Œå•†å“å¾®æœåŠ¡æ— éœ€æ›´æ”¹ä»£ç ã€‚</p>
<h3 id="10-6-2-elasticsearch">10 6 2 ElasticSearch&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p><strong>10. 6. 2. 1 æ¦‚å¿µ</strong></p>
<p>ElasticSearchæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„RESTfulé£æ ¼çš„æœç´¢å’Œæ•°æ®åˆ†æå¼•æ“ã€‚å®ƒæ˜¯
åŸºäºLuceneçš„ï¼Œæä¾›äº†å…·æœ‰HTTPWebç•Œé¢å’Œæ— æ¶æ„JSONæ–‡æ¡£çš„åˆ†å¸ƒå¼ï¼Œ
å¤šç§Ÿæˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ã€‚Elasticsearchæ˜¯ç”¨Javaå¼€å‘çš„ï¼Œæ ¹æ®Apacheè®¸
å¯æ¡æ¬¾ä½œä¸ºå¼€æºå‘å¸ƒã€‚</p>
<p><strong>10. 6. 2. 2 ä½œç”¨</strong></p>
<ol>
<li>åˆ†å¸ƒå¼çš„æœç´¢å¼•æ“å’Œæ•°æ®åˆ†æå¼•æ“ã€‚
2 .å…¨æ–‡æ£€ç´¢ï¼Œç»“æ„åŒ–æ£€ç´¢ï¼Œæ•°æ®åˆ†æã€‚
3 .å¯¹æµ·é‡æ•°æ®è¿›è¡Œè¿‘å®æ—¶çš„å¤„ç†ã€‚</li>
</ol>
<p><strong>10. 6. 2. 3 ä¼˜åŠ¿</strong></p>
<p>1 .è‡ªåŠ¨ç»´æŠ¤æ•°æ®çš„åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹çš„ç´¢å¼•çš„å»ºç«‹ï¼Œè¿˜æœ‰æœç´¢è¯·æ±‚åˆ†å¸ƒåˆ°å¤šä¸ªèŠ‚ç‚¹
çš„æ‰§è¡Œã€‚</p>
<h5 id="2-è‡ªåŠ¨ç»´æŠ¤æ•°æ®çš„å†—ä½™å‰¯æœ¬ä¿è¯äº†ä¸€æ—¦æœºå™¨å®•æœºä¸ä¼šä¸¢å¤±æ•°æ®">2 .è‡ªåŠ¨ç»´æŠ¤æ•°æ®çš„å†—ä½™å‰¯æœ¬ï¼Œä¿è¯äº†ä¸€æ—¦æœºå™¨å®•æœºï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚</h5>
<h5 id="3-è£…äº†æ›´å¤šé«˜çº§çš„åŠŸèƒ½ä¾‹å¦‚èšåˆåˆ†æçš„åŠŸèƒ½åŸºäºåœ°ç†ä½ç½®çš„æœç´¢">3 .è£…äº†æ›´å¤šé«˜çº§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚èšåˆåˆ†æçš„åŠŸèƒ½ï¼ŒåŸºäºåœ°ç†ä½ç½®çš„æœç´¢ã€‚</h5>
<p><strong>10. 6. 2. 4 ElasticSearchä¸­çš„å€’æ’ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>å€’æ’ç´¢å¼•æ˜¯æœç´¢å¼•æ“çš„æ ¸å¿ƒã€‚æœç´¢å¼•æ“çš„ä¸»è¦ç›®æ ‡å°±æ˜¯åœ¨æŸ¥æ‰¾å‘ç”Ÿæœç´¢æ¡ä»¶
çš„æ–‡æ¡£æ—¶æä¾›å¿«é€Ÿæœç´¢ã€‚å€’æ’ç´¢å¼•ä¹Ÿå¸¸è¢«ç§°ä¸ºåå‘ç´¢å¼•ã€ç½®å…¥æ¡£æ¡ˆæˆ–åå‘æ¡£æ¡ˆï¼Œ
æ˜¯ä¸€ç§ç´¢å¼•æ–¹æ³•ï¼Œè¢«ç”¨æ¥å­˜å‚¨åœ¨å…¨æ–‡æœç´¢ä¸‹æŸä¸ªå•è¯åœ¨ä¸€ä¸ªæ–‡æ¡£æˆ–è€…ä¸€ç»„æ–‡æ¡£ä¸­
çš„å­˜å‚¨ä½ç½®çš„æ˜ å°„ã€‚å®ƒæ˜¯æ–‡æ¡£æ£€ç´¢ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚é€šè¿‡å€’æ’ç´¢å¼•ï¼Œå¯
ä»¥æ ¹æ®å•è¯å¿«é€Ÿè·å–åŒ…å«è¿™ä¸ªå•è¯çš„æ–‡æ¡£åˆ—è¡¨ã€‚</p>
<p><strong>10. 6. 2. 5 ElasticSearchä¸­çš„é›†ç¾¤ã€èŠ‚ç‚¹ã€ç´¢å¼•ã€æ–‡æ¡£ã€ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p><strong>ç¾¤é›†</strong> æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹ï¼ˆæœåŠ¡å™¨ï¼‰çš„é›†åˆï¼Œå®ƒä»¬å…±åŒä¿å­˜æ‚¨çš„æ•´ä¸ªæ•°ï¼Œå¹¶
æä¾›è·¨æ‰€æœ‰èŠ‚ç‚¹çš„è”åˆç´¢å¼•å’Œæœç´¢åŠŸèƒ½ã€‚ç¾¤é›†ç”±å”¯ä¸€åç§°æ ‡è¯†ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º
â€œelasticsearchâ€ã€‚æ­¤åç§°å¾ˆé‡è¦ï¼Œå› ä¸ºå¦‚æœèŠ‚ç‚¹è®¾ç½®ä¸ºæŒ‰åç§°åŠ å…¥ç¾¤é›†ï¼Œåˆ™è¯¥
èŠ‚ç‚¹åªèƒ½æ˜¯ç¾¤é›†çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p><strong>èŠ‚ç‚¹</strong> æ˜¯å±äºé›†ç¾¤ä¸€éƒ¨åˆ†çš„å•ä¸ªæœåŠ¡å™¨ã€‚å®ƒå­˜å‚¨æ•°æ®å¹¶å‚ä¸ç¾¤é›†ç´¢å¼•å’Œæœç´¢
åŠŸèƒ½ã€‚</p>
<p><strong>ç´¢å¼•</strong> å°±åƒå…³ç³»æ•°æ®åº“ä¸­çš„â€œæ•°æ®åº“â€ã€‚å®ƒæœ‰ä¸€ä¸ªå®šä¹‰å¤šç§ç±»å‹çš„æ˜ å°„ã€‚ç´¢
å¼•æ˜¯é€»è¾‘åç§°ç©ºé—´ï¼Œæ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªä¸»åˆ†ç‰‡ï¼Œå¹¶ä¸”å¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬åˆ†ç‰‡ã€‚
MySQL=&gt; æ•°æ®åº“ï¼ŒElasticSearch=&gt;ç´¢å¼•ã€‚</p>
<h5 id="æ–‡æ¡£-ç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„ä¸€è¡Œä¸åŒä¹‹å¤„åœ¨äºç´¢å¼•ä¸­çš„æ¯ä¸ªæ–‡æ¡£å¯ä»¥">æ–‡æ¡£ ç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„ä¸€è¡Œã€‚ä¸åŒä¹‹å¤„åœ¨äºç´¢å¼•ä¸­çš„æ¯ä¸ªæ–‡æ¡£å¯ä»¥</h5>
<p>å…·æœ‰ä¸åŒçš„ç»“æ„ï¼ˆå­—æ®µï¼‰ï¼Œä½†æ˜¯å¯¹äºé€šç”¨å­—æ®µåº”è¯¥å…·æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ã€‚MySQL
=&gt;Databases=&gt;Tables=&gt;Columns/RowsElasticSearch=&gt;Indices
=&gt;Types=&gt; å…·æœ‰å±æ€§çš„æ–‡æ¡£ã€‚</p>
<pre tabindex="0"><code>ç±»å‹ æ˜¯ç´¢å¼•çš„é€»è¾‘ç±»åˆ«/åˆ†åŒºï¼Œå…¶è¯­ä¹‰å®Œå…¨å–å†³äºç”¨æˆ·ã€‚
</code></pre><p><strong>10. 6. 3. 6 ElasticSearchä¸­çš„åˆ†ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>åœ¨å¤§å¤šæ•°ç¯å¢ƒä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½åœ¨å•ç‹¬çš„ç›’å­æˆ–è™šæ‹Ÿæœºä¸Šè¿è¡Œã€‚
ç´¢å¼• - åœ¨Elasticsearchä¸­ï¼Œç´¢å¼•æ˜¯æ–‡æ¡£çš„é›†åˆã€‚
åˆ†ç‰‡ -å› ä¸ºElasticsearchæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œæ‰€ä»¥ç´¢å¼•é€šå¸¸è¢«åˆ†å‰²æˆ
åˆ†å¸ƒåœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šçš„è¢«ç§°ä¸ºåˆ†ç‰‡çš„å…ƒç´ ã€‚</p>
<p><strong>10. 6. 3. 7 ElasticSearchä¸­çš„å‰¯æœ¬æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ä¸€ä¸ªç´¢å¼•è¢«åˆ†è§£æˆç¢ç‰‡ä»¥ä¾¿äºåˆ†å‘å’Œæ‰©å±•ã€‚å‰¯æœ¬æ˜¯åˆ†ç‰‡çš„å‰¯æœ¬ã€‚ä¸€ä¸ªèŠ‚ç‚¹æ˜¯
ä¸€ä¸ªå±äºä¸€ä¸ªé›†ç¾¤çš„ElasticSearchçš„è¿è¡Œå®ä¾‹ã€‚ä¸€ä¸ªé›†ç¾¤ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå…±äº«ç›¸
åŒé›†ç¾¤åç§°çš„èŠ‚ç‚¹ç»„æˆã€‚</p>
<p><strong>10. 6. 3. 8 ElasticSearchæŸ¥è¯¢æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ</strong></p>
<pre tabindex="0"><code>1. æŸ¥è¯¢æ‰€æœ‰(match_all)
2. åŒ¹é…æŸ¥è¯¢(match)
ä¼šæŠŠæŸ¥è¯¢æ¡ä»¶è¿›è¡Œåˆ†è¯ï¼Œç„¶åè¿›è¡ŒæŸ¥è¯¢ï¼Œå¤šä¸ªè¯æ¡ä¹‹é—´é»˜è®¤å…³ç³»æ˜¯ORã€‚
1. è¯æ¡æŸ¥è¯¢(term)
ç”¨äºç²¾ç¡®å€¼ åŒ¹é…ï¼Œè¿™äº›ç²¾ç¡®å€¼å¯èƒ½æ˜¯æ•°å­—ã€æ—¶é—´ã€å¸ƒå°”æˆ–è€…é‚£äº›æœªåˆ†è¯
çš„å­—ç¬¦ä¸²ã€‚
2. å¸ƒå°”ç»„åˆ(bool)
å„ç§å…¶å®ƒæŸ¥è¯¢é€šè¿‡ must ï¼ˆä¸ï¼‰ã€ must_notï¼ˆéï¼‰ã€shouldï¼ˆæˆ–ï¼‰
çš„æ–¹å¼è¿›è¡Œç»„åˆã€‚
3. èŒƒå›´æŸ¥è¯¢(range)
</code></pre><h5 id="æ‰¾å‡ºé‚£äº›è½åœ¨æŒ‡å®šåŒºé—´å†…çš„æ•°å­—æˆ–è€…æ—¶é—´">æ‰¾å‡ºé‚£äº›è½åœ¨æŒ‡å®šåŒºé—´å†…çš„æ•°å­—æˆ–è€…æ—¶é—´ã€‚</h5>
<pre tabindex="0"><code>4. æ¨¡ç³ŠæŸ¥è¯¢(fuzzy)
fuzzy æŸ¥è¯¢æ˜¯ term` æŸ¥è¯¢çš„æ¨¡ç³Šç­‰ä»·ã€‚å®ƒå…è®¸ç”¨æˆ·æœç´¢è¯æ¡ä¸å®é™…è¯
æ¡çš„æ‹¼å†™å‡ºç°åå·®ï¼Œä½†æ˜¯åå·®çš„ç¼–è¾‘è·ç¦»ä¸å¾—è¶…è¿‡ 2 ã€‚
</code></pre><h3 id="10-6-3-solr">10 6 3 Solr&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>10. 6. 3. 1 æ¦‚å¿µ</strong></p>
<p>Solræ˜¯åŸºäºLuceneå®ç°çš„æœç´¢å¼•æ“ï¼Œæ‰©å±•æ€§è‰¯å¥½ï¼Œå¹¶ä¸”æä¾›äº†å®Œæ•´çš„é›†ç¾¤
æ–¹æ¡ˆå’Œç´¢å¼•åº“ä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
<p><strong>10. 6. 3. 2 ä¼˜åŠ¿</strong></p>
<p>1 .solræ˜¯å°†æ•´ä¸ªç´¢å¼•æ“ä½œåŠŸèƒ½å°è£…å¥½äº†çš„æœç´¢å¼•æ“ç³»ç»Ÿ(ä¼ä¸šçº§æœç´¢å¼•æ“äº§
å“)ã€‚
2 .solrå¯ä»¥éƒ¨ç½²åˆ°å•ç‹¬çš„æœåŠ¡å™¨ä¸Š(WEBæœåŠ¡)ï¼Œå®ƒå¯ä»¥æä¾›æœåŠ¡ï¼Œæˆ‘ä»¬çš„ä¸š
åŠ¡ç³»ç»Ÿå°±åªè¦å‘é€è¯·æ±‚ï¼Œæ¥æ”¶å“åº”å³å¯ï¼Œé™ä½äº†ä¸šåŠ¡ç³»ç»Ÿçš„è´Ÿè½½ã€‚
3 .solréƒ¨ç½²åœ¨ä¸“é—¨çš„æœåŠ¡å™¨ä¸Šï¼Œå®ƒçš„ç´¢å¼•åº“å°±ä¸ä¼šå—ä¸šåŠ¡ç³»ç»ŸæœåŠ¡å™¨å­˜å‚¨ç©º
é—´çš„é™åˆ¶ã€‚
4 .solræ”¯æŒåˆ†å¸ƒå¼é›†ç¾¤ï¼Œç´¢å¼•æœåŠ¡çš„å®¹é‡å’Œèƒ½åŠ›å¯ä»¥çº¿æ€§æ‰©å±•ã€‚</p>
<p><strong>10. 6. 3. 3 å·¥ä½œæœºåˆ¶</strong></p>
<p>Solrç´¢å¼•çš„å®ç°æ–¹æ³•å¾ˆç®€å•</p>
<ol>
<li>
<p>ç”¨POSTæ–¹æ³•å‘SolræœåŠ¡å™¨å‘é€ä¸€ä¸ªæè¿°FieldåŠå…¶å†…å®¹çš„XMLæ–‡æ¡£ã€‚</p>
</li>
<li>
<p>Solræ ¹æ®xmlæ–‡æ¡£æ·»åŠ ã€åˆ é™¤ã€æ›´æ–°ç´¢å¼•ã€‚</p>
</li>
<li>
<p>Solræœç´¢åªéœ€è¦å‘é€HTTPGETè¯·æ±‚ï¼Œç„¶åå¯¹ Solrè¿”å›Xmlã€Jsonç­‰
æ ¼å¼çš„æŸ¥è¯¢ç»“æœè¿›è¡Œè§£æï¼Œç»„ç»‡é¡µé¢å¸ƒå±€ã€‚</p>
</li>
<li>
<p>PSï¼šSolrä¸æä¾›æ„å»ºUIçš„åŠŸèƒ½ï¼ŒSolræä¾›äº†ä¸€ä¸ªç®¡ç†ç•Œé¢ï¼Œé€šè¿‡ç®¡ç†
ç•Œé¢å¯ä»¥æŸ¥è¯¢Solrçš„é…ç½®å’Œè¿è¡Œæƒ…å†µã€‚</p>
</li>
</ol>
<h3 id="10-6-4-ikåˆ†è¯å™¨">10 6 4 Ikåˆ†è¯å™¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p><strong>10. 6. 4. 1 ä»€ä¹ˆæ˜¯åˆ†è¯</strong></p>
<p>æŠŠä¸€æ®µä¸­æ–‡æˆ–è€…åˆ«çš„åˆ’åˆ†æˆä¸€ä¸ªä¸ªçš„å…³é”®å­—ã€‚æœç´¢æ—¶å€™ä¼šå°†ç”¨æˆ·çš„æœç´¢å…³é”®
å­—è¿›è¡Œåˆ†è¯ï¼Œä¼šæŠŠæ•°æ®åº“ä¸­æˆ–è€…ç´¢å¼•åº“ä¸­çš„æ•°æ®è¿›è¡Œåˆ†è¯ï¼Œç„¶åå¯¹ä¸¤è€…è¿›è¡Œä¸€ä¸€
åŒ¹é…æ“ä½œã€‚</p>
<p><strong>10. 6. 4. 2 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Ikåˆ†è¯å™¨ï¼Ÿ</strong></p>
<p>é»˜è®¤çš„ä¸­æ–‡åˆ†è¯ä¼šå°†æ¯ä¸ªå­—çœ‹æˆä¸€ä¸ªè¯ï¼Œæ¯”å¦‚&quot;ä¸­å›½çš„èŠ±&quot;ä¼šè¢«åˆ†ä¸º&quot;ä¸­&rdquo;ï¼Œ&rdquo;
å›½&rdquo;ï¼Œ&ldquo;çš„&rdquo;ï¼Œ&ldquo;èŠ±&rdquo;ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸ç¬¦åˆè¦æ±‚çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®‰è£…ä¸­æ–‡åˆ†è¯å™¨ikæ¥
è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><strong>10. 6. 4. 3 Ikåˆ†è¯å™¨çš„åŸç†ï¼Ÿ</strong></p>
<p>Ikåˆ†è¯å™¨æä¾›äº†ä¸¤ä¸ªåˆ†è¯ç®—æ³•ï¼šik_smart å’Œ ik_max_wordã€‚å…¶ä¸­ ik_smart
ä¸ºæœ€å°‘åˆ‡åˆ†ï¼Œik_max_wordä¸ºæœ€ç»†ç²’åº¦åˆ’åˆ†ã€‚
ik_smart</p>
<p>ik_max_word</p>
<p><strong>10. 6. 4. 4 ElasticSearché›†æˆIkåˆ†è¯å™¨</strong></p>
<pre tabindex="0"><code>å…ˆå°†å…¶è§£å‹ï¼Œå°†è§£å‹åçš„æ–‡ä»¶å¤¹é‡å‘½åä¸ºikã€‚
å°†ikæ–‡ä»¶å¤¹æ‹·è´åˆ°elasticsearch/pluginsç›®å½•ä¸‹ã€‚
é‡æ–°å¯åŠ¨ï¼Œå³å¯åŠ è½½Ikåˆ†è¯å™¨ã€‚
</code></pre><h3 id="10-6-6-elasticsearchå’Œsolrå¯¹æ¯”åŒºåˆ«æ˜¯ä»€ä¹ˆ">10 6 6 ElasticSearchå’ŒSolrå¯¹æ¯”åŒºåˆ«æ˜¯ä»€ä¹ˆ?&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p>1 .esåŸºæœ¬æ˜¯å¼€ç®±å³ç”¨ï¼Œéå¸¸ç®€å•ã€‚è€ŒSolrå®‰è£…ç•¥å¾®å¤æ‚ä¸€äº›ã€‚
2 .esè‡ªèº«å¸¦æœ‰åˆ†å¸ƒå¼åè°ƒç®¡ç†åŠŸèƒ½ã€‚è€ŒSolr éœ€åˆ©ç”¨ Zookeeper è¿›è¡Œåˆ†å¸ƒ
å¼ç®¡ç†ã€‚
3 .Elasticsearch åªæ”¯æŒjsonæ–‡ä»¶æ ¼å¼ã€‚è€ŒSolr æ”¯æŒæ›´å¤šæ ¼å¼çš„æ•°æ®ï¼Œæ¯”
å¦‚JSONã€XMLã€CSVã€‚
4 .esæœ¬èº«æ›´æ³¨é‡äºæ ¸å¿ƒåŠŸèƒ½ï¼Œé«˜çº§åŠŸèƒ½å¤šç”±ç¬¬ä¸‰æ–¹æ’ä»¶æä¾›ï¼Œä¾‹å¦‚å›¾å½¢åŒ–
ç•Œé¢éœ€è¦kibanaå‹å¥½æ”¯æŒã€‚è€Œ Solrå®˜æ–¹æä¾›çš„åŠŸèƒ½æ›´å¤šã€‚
5 .eså»ºç«‹ç´¢å¼•å¿«ï¼ˆå³æŸ¥è¯¢æ…¢ï¼‰ï¼Œå³å®æ—¶æ€§æŸ¥è¯¢å¿«ï¼Œç”¨äºfacebookæ–°æµªç­‰æœ
ç´¢ã€‚SolræŸ¥è¯¢å¿«ï¼Œä½†æ›´æ–°ç´¢å¼•æ—¶æ…¢ï¼ˆå³æ’å…¥åˆ é™¤æ…¢ï¼‰ï¼Œç”¨äºç”µå•†ç­‰æŸ¥è¯¢å¤šçš„åº”
ç”¨ã€‚Solr æ˜¯ä¼ ç»Ÿæœç´¢åº”ç”¨çš„æœ‰åŠ›è§£å†³æ–¹æ¡ˆï¼Œä½† Elasticsearch æ›´é€‚ç”¨äºæ–°å…´çš„
å®æ—¶æœç´¢åº”ç”¨ã€‚
6 .esç›¸å¯¹å¼€å‘ç»´æŠ¤è€…è¾ƒå°‘ï¼Œæ›´æ–°å¤ªå¿«ï¼Œå­¦ä¹ ä½¿ç”¨æˆæœ¬è¾ƒé«˜ã€‚Solræ¯”è¾ƒæˆç†Ÿï¼Œ
æœ‰ä¸€ä¸ªæ›´å¤§ï¼Œæ›´æˆç†Ÿçš„ç”¨æˆ·ã€å¼€å‘å’Œè´¡çŒ®è€…ç¤¾åŒºã€‚</p>
<h2 id="10-7-é¡µé¢é™æ€åŒ–thymeleafmq">10 7 é¡µé¢é™æ€åŒ–(Thymeleaf,MQ)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="10-7-1-ä¸šåŠ¡æ€è·¯">10 7 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="åœ¨è®¾è®¡è¯¦æƒ…å±•ç¤ºæ¨¡å—çš„æ—¶å€™æˆ‘ä»¬ç»è¿‡åå¤çš„æ¨æ•²é€‰å‡ºäº†ä¸‰ç§å±•ç¤ºæ–¹æ¡ˆ">åœ¨è®¾è®¡è¯¦æƒ…å±•ç¤ºæ¨¡å—çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»è¿‡åå¤çš„æ¨æ•²ï¼Œé€‰å‡ºäº†ä¸‰ç§å±•ç¤ºæ–¹æ¡ˆï¼š</h5>
<h5 id="ç¬¬ä¸€ç§-éšç€æ»šåŠ¨å‘èµ·å¼‚æ­¥è¯·æ±‚è·å–è¯¦æƒ…æ•°æ®è¿™ç§æ–¹æ¡ˆä¸€äº›å¤§å‹çš„ç”µ">ç¬¬ä¸€ç§ï¼š éšç€æ»šåŠ¨ï¼Œå‘èµ·å¼‚æ­¥è¯·æ±‚ï¼Œè·å–è¯¦æƒ…æ•°æ®ï¼Œè¿™ç§æ–¹æ¡ˆä¸€äº›å¤§å‹çš„ç”µ</h5>
<h5 id="å•†ç½‘ç«™éƒ½åœ¨ä½¿ç”¨ä½†è¿™ä¸€èˆ¬éƒ½éœ€è¦å¤§å‹çš„æ•°æ®åº“æ ¹æ®æˆ‘ä»¬é¡¹ç›®çš„å®é™…æƒ…å†µè¿™">å•†ç½‘ç«™éƒ½åœ¨ä½¿ç”¨ï¼Œä½†è¿™ä¸€èˆ¬éƒ½éœ€è¦å¤§å‹çš„æ•°æ®åº“ã€‚æ ¹æ®æˆ‘ä»¬é¡¹ç›®çš„å®é™…æƒ…å†µï¼Œè¿™</h5>
<h5 id="ä¸ªæ–¹æ¡ˆä¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚">ä¸ªæ–¹æ¡ˆä¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ã€‚</h5>
<p><strong>ç¬¬äºŒç§ï¼š</strong> ä¸€æ¬¡æ€§æŠŠéœ€è¦çš„æ•°æ®å…¨éƒ¨æŸ¥è¯¢å‡ºæ¥ï¼ŒæŠŠæŸ¥è¯¢åˆ°æ•°æ®ä¿å­˜åœ¨redisä¸­ï¼Œ
ç”¨æˆ·è¿›è¡Œè¯¦æƒ…æŸ¥çœ‹çš„æ—¶å€™ï¼ŒæŠŠå•†å“ä¿¡æ¯å…¨éƒ¨å±•ç¤ºï¼Œä½†æ˜¯è¿™ç§æ–¹æ¡ˆå­˜åœ¨ä¸€ä¸ªå¾ˆå¤§çš„
é—®é¢˜ï¼Œå°±æ˜¯ä»¥åéšç€ä¸Šæ¶çš„å•†å“è¶Šæ¥è¶Šå¤šï¼ŒRedisé‡Œé¢çš„æ•°æ®å°±ä¼šå˜å¾—éå¸¸åºå¤§ï¼Œ
Rediså¯¹æµ·é‡æ•°æ®çš„å­˜å‚¨å¹¶ä¸èƒ½å¾ˆå¥½åœ°æ”¯æŒã€‚æ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆä¹Ÿè¢«passæ‰äº†ã€‚
<strong>ç¬¬ä¸‰ç§ï¼š</strong> æŠŠè¦å±•ç¤ºçš„è¯¦æƒ…ä¿¡æ¯ï¼Œæ”¾åœ¨é™æ€htmlé¡µé¢ä¸­ï¼Œåœ¨å•†å“ä¸Šæ¶çš„æ—¶å€™ï¼Œ
è¦æŠŠè¯¦ç»†ä¿¡æ¯åŒæ­¥åˆ°ç´¢å¼•åº“ï¼ŒåŒæ—¶ç”Ÿæˆé™æ€é¡µé¢ï¼Œæ ¹æ®å•†å“çš„idæ¥åŒºåˆ†é™æ€é¡µ
é¢ï¼ˆid.htmlï¼‰æˆ‘ä»¬å†ä½¿ç”¨nginxçš„åå‘ä»£ç†ï¼Œå½“ç”¨æˆ·æŸ¥çœ‹å•†å“è¯¦æƒ…çš„æ—¶å€™ï¼Œä¼š
æ ¹æ®æŸ¥çœ‹å•†å“çš„idå»å¯»æ‰¾åˆ°nginxçš„htmlæ–‡ä»¶å¤¹ä¸­å¯¹åº”å•†å“çš„é™æ€é¡µé¢ï¼Œå®
ç°å•†å“çš„è¯¦æƒ…å±•ç¤ºã€‚
ç»“åˆæˆ‘ä»¬é¡¹ç›®çš„å®é™…æƒ…å†µï¼Œæˆ‘ä»¬é€‰æ‹©äº†ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œå› ä¸ºè¿™å¯¹æœåŠ¡å™¨ï¼Œæ•°æ®
åº“çš„è¦æ±‚ä¹Ÿæ²¡é‚£ä¹ˆå¤§ã€‚
å¯¹äºç”µå•†ç½‘ç«™è€Œè¨€ï¼Œå¿…é¡»è¦è€ƒè™‘çš„å°±æ˜¯æœåŠ¡çš„é«˜å¹¶å‘é—®é¢˜ï¼Œå› æ­¤è¦å°½å¯èƒ½å‡
å°‘æœåŠ¡ç«¯å‹åŠ›ï¼Œæé«˜æœåŠ¡å“åº”é€Ÿåº¦ã€‚
é¡µé¢é™æ€åŒ–ï¼šé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠæœ¬æ¥éœ€è¦åŠ¨æ€æ¸²æŸ“çš„é¡µé¢æå‰æ¸²æŸ“å®Œæˆï¼Œç”Ÿ
æˆé™æ€çš„HTMLï¼Œå½“ç”¨æˆ·è®¿é—®æ—¶ç›´æ¥è¯»å–é™æ€HTMLï¼Œæé«˜å“åº”é€Ÿåº¦ï¼Œå‡è½»æœ</p>
<p>åŠ¡ç«¯å‹åŠ›ã€‚æˆ‘ä»¬ä½¿ç”¨æ¨¡æ¿å¼•æ“æŠ€æœ¯â€”â€”Thymeleafã€‚ç±»ä¼¼çš„æ¨¡æ¿æ¸²æŸ“æŠ€æœ¯ï¼š
Freemarkerã€Velocityå¤åˆ¶é¡µé¢é™æ€æ¨¡æ¿åˆ°å½“å‰é¡¹ç›®resourceç›®å½•ä¸‹çš„
templateä¸­ï¼Œæˆ‘ä»¬éœ€è¦æä¾›Modelæ•°æ®ï¼Œå®Œæˆé¡µé¢æ¸²æŸ“ã€‚ï¼ˆå¯ä»¥è¯¦ç»†è®²
ThymeleafæŠ€æœ¯ï¼‰
ä½¿ç”¨ thymeleaf é™æ€åŒ–æŠ€æœ¯æ—¶ï¼Œæ•°æ®å¡«å……ä½¿ç”¨çš„æ˜¯ ${} ã€‚æµè§ˆå™¨å‘é€æŸ¥çœ‹
å•†å“è¯¦æƒ…é¡µçš„ä¿¡æ¯çš„è¯·æ±‚æ—¶ï¼Œéœ€è¦æˆ‘ä»¬ è¿›è¡Œè¿œç¨‹è°ƒç”¨å•†å“å¾®æœåŠ¡ï¼ŒæŸ¥è¯¢åˆ°å•†å“
çš„ spuï¼Œskuï¼Œå•†å“åˆ†ç±»ï¼Œä»¥åŠè§„æ ¼å‚æ•°ç­‰ä¿¡æ¯åŠ¨æ€æ¸²æŸ“åˆ° å•†å“è¯¦æƒ…é¡µï¼Œç„¶å
åœ¨è¿”å›ç»™æµè§ˆå™¨ã€‚è¿™å°±ç›¸å½“äºä»¥å‰çš„ä¼ ç»Ÿæ–¹å¼ï¼Œé¡µé¢åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æˆåŠŸåï¼Œè¿”
å›ç»™æµè§ˆå™¨ï¼Œæ— å½¢ä¸­å¢åŠ äº†æœåŠ¡å™¨çš„å‹åŠ›ä¸”å“åº”æ—¶é—´é•¿ï¼Œç”¨æˆ·ä½“éªŒæŸ¥ã€‚æ‰€ä»¥æˆ‘ä»¬
è¦æå‰åŠ¨æ€çš„ç”Ÿæˆå•†å“è¯¦æƒ…é™æ€é¡µï¼Œéƒ¨ç½²åœ¨ nginx ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä½¿ç”¨ å•†å“
è¯¦æƒ…é¡µæ¨¡æ¿ å’Œ thymeleaf æä¾›çš„æ¨¡æ¿è¯­è¨€ï¼Œä½¿ç”¨æµçš„æ–¹å¼å°†é™æ€é¡µé¢ç”Ÿæˆåˆ°
ä¸€ä¸ªç›®å½•ä¸­ã€‚ï¼ˆå¯ä»¥å»è®²nginxæŠ€æœ¯ï¼‰
è¿™ä¸ªé¡µé¢çš„é™æ€åŒ–çš„ç”Ÿæˆä¾èµ–äºå•†å“çš„çŠ¶æ€ï¼Œä¸Šæ¶è¿˜æ˜¯ä¸‹æ¶ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯å¾®
æœåŠ¡ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´æ²¡æœ‰ç›´æ¥çš„è”ç³»ã€‚æˆ‘ä»¬å¯ä»¥éœ€è¦è€ƒè™‘åœ¨ å•†å“å¾®æœåŠ¡ä¸­ å•†å“
å¦‚æœä¸‹æ¶æˆ–è€…ä¸Šæ¶æ—¶ï¼Œæˆ‘ä»¬è¿™ä¸ªé™æ€é¡µ å’Œ esæ•°æ®åº“åŒæ—¶ä¹Ÿä¼šè¿›è¡Œåˆ é™¤æˆ–è€…æ–°
å¢ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶ RabbitMQï¼Œè®© é™æ€é¡µé¢å¾®æœåŠ¡ å’Œ æœç´¢å¾®
æœåŠ¡ ç›‘å¬ å•†å“å¾®æœåŠ¡ å‘é€çš„æ¶ˆæ¯ã€‚ï¼ˆå¯ä»¥å»çœ‹MQæŠ€æœ¯ï¼‰
(é¢˜å¤–è¯: é™æ€é¡µè¿™ä¸ªä¸šåŠ¡ä¹Ÿä¸å¤æ‚, ä½†æ˜¯æ¶‰åŠåˆ°äº†MQ,MQå°±èƒ½èƒŒå¾ˆæŒºé•¿
æ—¶é—´çš„, æ‰€ä»¥èƒŒä¼šMQå‡­ç€é™æ€é¡µæ‹¿offerä¹Ÿæ²¡é—®é¢˜.)
å› ä¸ºå•†å“æ–°å¢åéœ€è¦ä¸Šæ¶ç”¨æˆ·æ‰èƒ½çœ‹åˆ°ï¼Œå•†å“ä¿®æ”¹éœ€è¦å…ˆä¸‹æ¶ï¼Œç„¶åä¿®æ”¹ï¼Œ
å†ä¸Šæ¶ã€‚å› æ­¤ä¸Šè¿°é—®é¢˜å¯ä»¥ç»Ÿä¸€çš„è®¾è®¡æˆè¿™æ ·çš„é€»è¾‘å¤„ç†ï¼š</p>
<ul>
<li>å•†å“ä¸Šæ¶æ—¶ï¼Œç”Ÿæˆé™æ€é¡µå¹¶æ–°å¢ç´¢å¼•åº“æ•°æ®ï¼›</li>
</ul>
<h5 id="--å•†å“ä¸‹æ¶æ—¶åˆ é™¤é™æ€é¡µæˆ–è€…ä¿®æ”¹é™æ€é¡µå¹¶åˆ é™¤ç´¢å¼•åº“æ•°æ®">- å•†å“ä¸‹æ¶æ—¶ï¼Œåˆ é™¤é™æ€é¡µï¼Œæˆ–è€…ä¿®æ”¹é™æ€é¡µå¹¶åˆ é™¤ç´¢å¼•åº“æ•°æ®ã€‚</h5>
<h5 id="è¿™æ ·ä¿è¯æ•°æ®åº“å•†å“ä¸ç´¢å¼•åº“é™æ€é¡µä¸‰è€…ä¹‹é—´çš„æ•°æ®åŒæ­¥å¼‚æ­¥è°ƒç”¨å¦‚">è¿™æ ·ä¿è¯æ•°æ®åº“å•†å“ä¸ç´¢å¼•åº“ã€é™æ€é¡µä¸‰è€…ä¹‹é—´çš„æ•°æ®åŒæ­¥ã€å¼‚æ­¥è°ƒç”¨ã€‘å¦‚</h5>
<h5 id="ä¸‹å°±æ˜¯ä¸åŒmqçš„æŠ€æœ¯å¯¹æ¯”">ä¸‹å°±æ˜¯ä¸åŒMQçš„æŠ€æœ¯å¯¹æ¯”.</h5>
<h5 id="å½“å•†å“æœåŠ¡å¯¹å•†å“è¿›è¡Œæ–°å¢å’Œä¸Šä¸‹æ¶çš„æ—¶å€™éœ€è¦å‘é€ä¸€æ¡æ¶ˆæ¯é€šçŸ¥å…¶å®ƒ">å½“å•†å“æœåŠ¡å¯¹å•†å“è¿›è¡Œæ–°å¢å’Œä¸Šä¸‹æ¶çš„æ—¶å€™ï¼Œéœ€è¦å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œé€šçŸ¥å…¶å®ƒ</h5>
<h5 id="æœåŠ¡æœç´¢å¾®æœåŠ¡é™æ€é¡µå¾®æœåŠ¡å¯¹å•†å“çš„å¢åˆ æ”¹æ—¶å…¶å®ƒæœåŠ¡å¯èƒ½éœ€è¦æ–°çš„">æœåŠ¡ï¼ˆæœç´¢å¾®æœåŠ¡ã€é™æ€é¡µå¾®æœåŠ¡ï¼‰ï¼Œå¯¹å•†å“çš„å¢åˆ æ”¹æ—¶å…¶å®ƒæœåŠ¡å¯èƒ½éœ€è¦æ–°çš„</h5>
<h5 id="å•†å“æ•°æ®ä½†æ˜¯å¦‚æœæ¶ˆæ¯å†…å®¹ä¸­åŒ…å«å…¨éƒ¨å•†å“ä¿¡æ¯æ•°æ®é‡å¤ªå¤§è€Œä¸”å¹¶ä¸æ˜¯æ¯">å•†å“æ•°æ®ï¼Œä½†æ˜¯å¦‚æœæ¶ˆæ¯å†…å®¹ä¸­åŒ…å«å…¨éƒ¨å•†å“ä¿¡æ¯ï¼Œæ•°æ®é‡å¤ªå¤§ï¼Œè€Œä¸”å¹¶ä¸æ˜¯æ¯</h5>
<p>ä¸ªæœåŠ¡éƒ½éœ€è¦å…¨éƒ¨çš„ä¿¡æ¯ã€‚å› æ­¤æˆ‘ä»¬åªå‘é€å•†å“idï¼Œå…¶å®ƒæœåŠ¡å¯ä»¥æ ¹æ®idæŸ¥è¯¢
è‡ªå·±éœ€è¦çš„ä¿¡æ¯ã€‚
å•†å“ä¸Šæ¶æ—¶ï¼šæœç´¢å¾®æœåŠ¡æ·»åŠ æ–°çš„æ•°æ®åˆ°ç´¢å¼•åº“ï¼Œé™æ€é¡µå¾®æœåŠ¡åˆ›å»ºæ–°çš„é™
æ€é¡µã€‚
å•†å“ä¸‹æ¶æ—¶ï¼šæœç´¢å¾®æœåŠ¡åˆ é™¤ç´¢å¼•åº“æ•°æ®ï¼Œé™æ€é¡µå¾®æœåŠ¡åˆ é™¤åŸæ¥çš„é™æ€é¡µã€‚
æˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå¸¸é‡ç±»ï¼Œç”¨æ¥è®°å½•ä¼šç”¨åˆ°çš„topicåç§°å’Œtagsåç§°ã€‚å•†å“</p>
<h5 id="å¾®æœåŠ¡å‘é€æ¶ˆæ¯æœç´¢å¾®æœåŠ¡å’Œé™æ€é¡µå¾®æœåŠ¡éƒ½éœ€è¦ä¸¤ä¸ªä¸åŒçš„é˜Ÿåˆ—ç¼–å†™ä¸¤ä¸ª">å¾®æœåŠ¡å‘é€æ¶ˆæ¯ï¼Œæœç´¢å¾®æœåŠ¡å’Œé™æ€é¡µå¾®æœåŠ¡éƒ½éœ€è¦ä¸¤ä¸ªä¸åŒçš„é˜Ÿåˆ—ï¼Œç¼–å†™ä¸¤ä¸ª</h5>
<h5 id="ç›‘å¬å™¨ç›‘å¬æ˜¯ä¸Šæ¶è¿˜æ˜¯ä¸‹æ¶ä¸¤ä¸ªä¸åŒç±»å‹çš„æ¶ˆæ¯">ç›‘å¬å™¨ï¼Œç›‘å¬æ˜¯ä¸Šæ¶è¿˜æ˜¯ä¸‹æ¶ä¸¤ä¸ªä¸åŒç±»å‹çš„æ¶ˆæ¯ã€‚</h5>
<h5 id="åœ¨é™æ€é¡µé¢å¾®æœåŠ¡ä¸­æä¾›äº†ç”Ÿäº§é™æ€é¡µé¢å’Œåˆ é™¤é™æ€é¡µé¢çš„åŠŸèƒ½å½“ç›‘å¬åˆ°">åœ¨é™æ€é¡µé¢å¾®æœåŠ¡ä¸­æä¾›äº†ç”Ÿäº§é™æ€é¡µé¢å’Œåˆ é™¤é™æ€é¡µé¢çš„åŠŸèƒ½ã€‚å½“ç›‘å¬åˆ°</h5>
<p>ç”Ÿäº§é™æ€é¡µçš„æ¶ˆæ¯æ—¶ï¼Œç›‘å¬å™¨ä¼šæ ¹æ®è¦ç”Ÿäº§é™æ€é¡µé¢çš„å•†å“IDä½¿ç”¨Feignç»„ä»¶
è°ƒç”¨å•†å“å¾®æœåŠ¡ç”¨ä»¥è·å–è¯¥å•†å“çš„è¯¦ç»†ä¿¡æ¯ï¼Œç»„ç»‡æˆäº‹å…ˆåå•†å¥½çš„æ ¼å¼æ•°æ®ï¼Œè°ƒ
ç”¨Thymeleafç”Ÿäº§å•†å“çš„é™æ€é¡µé¢å¹¶ä¿å­˜åˆ°Nginxé™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹ã€‚å½“ç›‘å¬
åˆ°åˆ é™¤é™æ€é¡µé¢çš„æ¶ˆæ¯æ—¶ï¼Œç›‘å¬å™¨ä¼šæ ¹æ®å•†å“IDç›´æ¥åˆ é™¤Nginxé™æ€èµ„æºæ–‡ä»¶
å¤¹ä¸‹çš„å¯¹åº”çš„é™æ€é¡µé¢ã€‚</p>
<h3 id="10-7-2-ä»€ä¹ˆæ˜¯é™æ€åŒ–">10 7 2 ä»€ä¹ˆæ˜¯é™æ€åŒ–&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="é™æ€åŒ–æ˜¯æŒ‡æŠŠåŠ¨æ€ç”Ÿæˆçš„htmlé¡µé¢å˜ä¸ºé™æ€å†…å®¹ä¿å­˜ä»¥åç”¨æˆ·çš„è¯·æ±‚åˆ°">é™æ€åŒ–æ˜¯æŒ‡æŠŠåŠ¨æ€ç”Ÿæˆçš„HTMLé¡µé¢å˜ä¸ºé™æ€å†…å®¹ä¿å­˜ï¼Œä»¥åç”¨æˆ·çš„è¯·æ±‚åˆ°</h5>
<h5 id="æ¥ç›´æ¥è®¿é—®é™æ€é¡µé¢ä¸å†ç»è¿‡æœåŠ¡çš„æ¸²æŸ“">æ¥ï¼Œç›´æ¥è®¿é—®é™æ€é¡µé¢ï¼Œä¸å†ç»è¿‡æœåŠ¡çš„æ¸²æŸ“ã€‚</h5>
<p>è€Œé™æ€çš„HTMLé¡µé¢å¯ä»¥éƒ¨ç½²åœ¨nginxä¸­ï¼Œä»è€Œå¤§å¤§æé«˜å¹¶å‘èƒ½åŠ›ï¼Œå‡å°
tomcatå‹åŠ›ã€‚</p>
<h3 id="10-7-3-å¸¸è§çš„é™æ€åŒ–æŠ€æœ¯åŠå¯¹æ¯”">10 7 3 å¸¸è§çš„é™æ€åŒ–æŠ€æœ¯åŠå¯¹æ¯”&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="åç§°-ä¼˜ç‚¹-ç¼ºç‚¹-ä½¿ç”¨åœºæ™¯">åç§° ä¼˜ç‚¹ ç¼ºç‚¹ ä½¿ç”¨åœºæ™¯</h5>
<h3 id="jsp">jsp&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<pre tabindex="0"><code>1 ã€åŠŸèƒ½å¼ºå¤§ï¼Œå¯ä»¥å†™javaä»£ç 
2 ã€æ”¯æŒjspæ ‡ç­¾ï¼ˆjsptagï¼‰
3 ã€æ”¯æŒè¡¨è¾¾å¼è¯­è¨€ï¼ˆelï¼‰
4 ã€å®˜æ–¹æ ‡å‡†ï¼Œç”¨æˆ·ç¾¤å¹¿ï¼Œä¸°å¯Œçš„ç¬¬
ä¸‰æ–¹jspæ ‡ç­¾åº“
5 ã€æ€§èƒ½è‰¯å¥½ã€‚jspç¼–è¯‘æˆclassæ–‡ä»¶
æ‰§è¡Œï¼Œæœ‰å¾ˆå¥½çš„æ€§èƒ½è¡¨ç°
</code></pre><h5 id="jspæ€§èƒ½å¤ª">JSPæ€§èƒ½å¤ª</h5>
<h5 id="è‡´å‘½äº†å‰åç«¯åˆ†ç¦»">è‡´å‘½äº†ï¼Œå‰åç«¯åˆ†ç¦»</h5>
<h5 id="åŸºæœ¬éƒ½ä¸ç”¨ä»–äº†jsp">åŸºæœ¬éƒ½ä¸ç”¨ä»–äº†ã€‚JSP</h5>
<h5 id="åŠ¨æ€èµ„æºå’Œé™æ€èµ„æº">åŠ¨æ€èµ„æºå’Œé™æ€èµ„æº</h5>
<h5 id="å…¨éƒ¨è€¦åˆåœ¨ä¸€èµ·æœ">å…¨éƒ¨è€¦åˆåœ¨ä¸€èµ·ï¼Œæœ</h5>
<h5 id="åŠ¡å™¨å‹åŠ›å¤§å› ä¸ºæœ">åŠ¡å™¨å‹åŠ›å¤§ï¼Œå› ä¸ºæœ</h5>
<pre tabindex="0"><code>åŠ¡å™¨ä¼šæ”¶åˆ°å„ç§http
è¯·æ±‚ï¼Œä¾‹å¦‚cssçš„
httpè¯·æ±‚ï¼Œjsçš„ï¼Œå›¾
ç‰‡çš„ç­‰ç­‰ï¼Ÿ
</code></pre><h5 id="é€‚åˆåˆå­¦è€…">é€‚åˆåˆå­¦è€…</h5>
<h5 id="è€é¡¹ç›®">è€é¡¹ç›®</h5>
<h5 id="ä¸æ¨èé¡¹ç›®">ä¸æ¨èé¡¹ç›®</h5>
<h5 id="ä½¿ç”¨">ä½¿ç”¨</h5>
<h3 id="freemarker">freemarker</h3>
<pre tabindex="0"><code>1 ã€ä¸èƒ½ç¼–å†™javaä»£ç ï¼Œå¯
ä»¥å®ç°ä¸¥æ ¼çš„mvcåˆ†ç¦»
2 ã€åœ¨å¤æ‚é¡µé¢ä¸Šï¼ˆåŒ…å«å¤§é‡åˆ¤æ–­ã€
æ—¥æœŸé‡‘é¢æ ¼å¼åŒ–ï¼‰çš„é¡µé¢ä¸Šï¼Œæ€§èƒ½é
å¸¸ä¸é”™
3 ã€å¯¹jspæ ‡ç­¾æ”¯æŒè‰¯å¥½
4 ã€å†…ç½®å¤§é‡å¸¸ç”¨åŠŸèƒ½ï¼Œä½¿ç”¨éå¸¸æ–¹
ä¾¿
5 ã€å®å®šä¹‰ï¼ˆç±»ä¼¼jspæ ‡ç­¾ï¼‰éå¸¸æ–¹
ä¾¿
6 ã€ä½¿ç”¨è¡¨è¾¾å¼è¯­è¨€
7 ã€FreeMarkeræ˜¯ä¸€ä¸ªç”¨Javaè¯­è¨€
</code></pre><h5 id="1-ä¸æ˜¯å®˜æ–¹æ ‡å‡†">1 ã€ä¸æ˜¯å®˜æ–¹æ ‡å‡†</h5>
<h5 id="2-ç”¨æˆ·ç¾¤ä½“å’Œç¬¬ä¸‰æ–¹">2 ã€ç”¨æˆ·ç¾¤ä½“å’Œç¬¬ä¸‰æ–¹</h5>
<pre tabindex="0"><code>æ ‡ç­¾åº“æ²¡æœ‰jspå¤š
</code></pre><h5 id="ä¼ä¸šé¡¹ç›®ä½¿">ä¼ä¸šé¡¹ç›®ä½¿</h5>
<h5 id="ç”¨æœ€å¤š">ç”¨æœ€å¤š</h5>
<h2 id="10-8-ç”¨æˆ·æ³¨å†Œé˜¿é‡Œå¤§äºredismq">10 8 ç”¨æˆ·æ³¨å†Œ(é˜¿é‡Œå¤§äº+Redis+MQ)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<h3 id="10-8-1-ä¸šåŠ¡æ€è·¯">10 8 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="-1-æŠ€æœ¯åˆ†æ">( 1 )æŠ€æœ¯åˆ†æ</h5>
<h5 id="ç¼–å†™çš„æ¨¡æ¿å¼•æ“å®ƒåŸºäºæ¨¡æ¿æ¥ç”Ÿæˆ">ç¼–å†™çš„æ¨¡æ¿å¼•æ“ï¼Œå®ƒåŸºäºæ¨¡æ¿æ¥ç”Ÿæˆ</h5>
<pre tabindex="0"><code>æ–‡æœ¬è¾“å‡ºã€‚FreeMarkerä¸Webå®¹
å™¨æ— å…³
</code></pre><h3 id="velocity">velocity&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<pre tabindex="0"><code>1 ã€ä¸èƒ½ç¼–å†™javaä»£ç ï¼Œå¯ä»¥å®ç°ä¸¥
æ ¼çš„mvcåˆ†ç¦»
2 ã€æ€§èƒ½è‰¯å¥½ï¼Œæ®è¯´æ¯”jspæ€§èƒ½è¿˜è¦
å¥½äº›
3 ã€ä½¿ç”¨è¡¨è¾¾å¼è¯­è¨€ï¼Œæ®è¯´jspçš„è¡¨
è¾¾å¼è¯­è¨€å°±æ˜¯å­¦velocityçš„
4 ã€æ€§èƒ½ï¼Œvelocityåº”è¯¥æ˜¯æœ€å¥½çš„ã€‚
åœ¨å¤§é‡çš„åˆ¤æ–­ä¸Šä¸å¦‚freemarker
</code></pre><h5 id="1-ä¸æ˜¯å®˜æ–¹æ ‡å‡†-1">1 ã€ä¸æ˜¯å®˜æ–¹æ ‡å‡†</h5>
<h5 id="2-ç”¨æˆ·ç¾¤ä½“å’Œç¬¬ä¸‰æ–¹-1">2 ã€ç”¨æˆ·ç¾¤ä½“å’Œç¬¬ä¸‰æ–¹</h5>
<pre tabindex="0"><code>æ ‡ç­¾åº“æ²¡æœ‰jspå¤šã€‚
3 ã€å¯¹jspæ ‡ç­¾æ”¯æŒä¸
å¤Ÿå¥½
4 ã€æ–‡ä»¶åå¿…é¡»ä¸ºvmï¼Œ
é…ç½®éº»çƒ¦
</code></pre><h5 id="ç¦»çº¿çš„ä½¿ç”¨">ç¦»çº¿çš„ä½¿ç”¨</h5>
<pre tabindex="0"><code>Velocityï¼Œ
ä¼ä¸šé¡¹ç›®æœ‰
ä½¿ç”¨
</code></pre><h3 id="thymeleaf">thymeleaf&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<pre tabindex="0"><code>1 ã€é™æ€htmlåµŒå…¥æ ‡ç­¾å±æ€§ï¼Œæµè§ˆå™¨
å¯ä»¥ç›´æ¥æ‰“å¼€æ¨¡æ¿æ–‡ä»¶ï¼Œä¾¿äºå‰åç«¯
è”è°ƒã€‚ springbootå®˜æ–¹æ¨èæ–¹æ¡ˆ ã€‚
</code></pre><pre tabindex="0"><code>1 ã€æ¨¡æ¿å¿…é¡»ç¬¦åˆxml
è§„èŒƒï¼Œå°±è¿™ä¸€ç‚¹å°±å¯
ä»¥åˆ¤æ­»åˆ‘ï¼å¤ªä¸æ–¹ä¾¿
äº†ï¼jsè„šæœ¬å¿…é¡»åŠ å…¥/
</code></pre><h5 id="ä½¿ç”¨é¡¹ç›®ä¸">ä½¿ç”¨é¡¹ç›®ä¸</h5>
<h5 id="å¤š">å¤š</h5>
<h5 id="å› ä¸ºæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ˜¯å¾®æœåŠ¡çš„æ¶æ„-ä¸€åˆ‡éƒ½æ˜¯é¢å‘æœåŠ¡çš„æ€æƒ³-æ‰€ä»¥æ³¨å†Œå’Œ">å› ä¸ºæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ˜¯å¾®æœåŠ¡çš„æ¶æ„, ä¸€åˆ‡éƒ½æ˜¯é¢å‘æœåŠ¡çš„æ€æƒ³, æ‰€ä»¥æ³¨å†Œå’Œ</h5>
<h5 id="å‘çŸ­ä¿¡æˆ‘ä»¬å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªå¾®æœåŠ¡-å› ä¸ºå‘çŸ­ä¿¡è¿™ä¸ªåŠ¨ä½œä¸ä¸€å®šç”¨æˆ·æ³¨å†Œçš„æ—¶">å‘çŸ­ä¿¡æˆ‘ä»¬å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªå¾®æœåŠ¡, å› ä¸ºå‘çŸ­ä¿¡è¿™ä¸ªåŠ¨ä½œä¸ä¸€å®šç”¨æˆ·æ³¨å†Œçš„æ—¶</h5>
<h5 id="å€™é‡‡ç”¨ç”¨åˆ°-å…¶ä»–æ¨¡å—åƒæ˜¯ç»‘å®šé‚®ç®±å•Š-å¿˜è®°å¯†ç è¿™äº›ä¹Ÿè¦ç”¨åˆ°å‘çŸ­ä¿¡-æ‰€ä»¥æ‹†">å€™é‡‡ç”¨ç”¨åˆ°, å…¶ä»–æ¨¡å—åƒæ˜¯ç»‘å®šé‚®ç®±å•Š, å¿˜è®°å¯†ç è¿™äº›ä¹Ÿè¦ç”¨åˆ°å‘çŸ­ä¿¡, æ‰€ä»¥æ‹†</h5>
<h5 id="åˆ†æˆäº†ä¸¤ä¸ªå¾®æœåŠ¡-è¿™ä¹Ÿæ˜¯æé«˜äº†ä»£ç çš„å¤ç”¨æ€§">åˆ†æˆäº†ä¸¤ä¸ªå¾®æœåŠ¡. è¿™ä¹Ÿæ˜¯æé«˜äº†ä»£ç çš„å¤ç”¨æ€§.</h5>
<h5 id="çŸ­ä¿¡å¾®æœåŠ¡æ˜¯æ‹†åˆ†å‡ºæ¥äº†ä½†æ˜¯ä¸€ä¸ªæ˜¯æ³¨å†Œå¾®æœåŠ¡ä¸€ä¸ªæ˜¯çŸ­ä¿¡å¾®æœåŠ¡-è¿™ä¸¤">çŸ­ä¿¡å¾®æœåŠ¡æ˜¯æ‹†åˆ†å‡ºæ¥äº†,ä½†æ˜¯ä¸€ä¸ªæ˜¯æ³¨å†Œå¾®æœåŠ¡,ä¸€ä¸ªæ˜¯çŸ­ä¿¡å¾®æœåŠ¡, è¿™ä¸¤</h5>
<p>ä¸ªå¾®æœåŠ¡ä¹‹é—´æ˜¯å¯ä»¥é€šè¿‡feignç»„ä»¶è¿›è¡Œè°ƒç”¨. ä½†æ˜¯, å¦‚æœåŒä¸€æ®µæ—¶é—´æœ‰å¤§é‡ç”¨
æˆ·æ¥æ³¨å†Œæˆ‘è¿™ä¸ªå¹³å°, åªç”¨feignç»„ä»¶ä¼šé€ æˆè°ƒç”¨é˜¿é‡Œäº‘ç»„ä»¶çš„æ—¶å€™å‘ç”Ÿé˜»å¡,
ä¹Ÿå°±æ˜¯ä¼šæœ‰å¯èƒ½é‡åˆ°ç”¨ä¸è¿Ÿè¿Ÿæ”¶ä¸åˆ°çŸ­ä¿¡éªŒè¯ç , æ‰€ä»¥æˆ‘ä»¬ä¸ºäº†è®©ä¸¤ä¸ªè§£è€¦åˆ
çš„å¾®æœåŠ¡è¿›è¡Œæ¶ˆæ¯åŒæ­¥, æˆ‘ä»¬åŠ å…¥äº†æ¶ˆæ¯ä¸­é—´ä»¶, æ³¨å†Œå¾®æœåŠ¡ç”Ÿäº§æ¶ˆæ¯(è·å–åˆ°
çš„ç”¨æˆ·æ‰‹æœºå·)å°†æ¶ˆæ¯å‘é€åˆ°ä¸­é—´ä»¶ä¸­, çŸ­ä¿¡å¾®æœåŠ¡æ¶ˆè´¹æ¶ˆæ¯å‘é€éªŒè¯ç , ä¸­é—´
ä»¶çš„ä½œç”¨å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—, ç»™ç”¨æˆ·æ’é˜Ÿçš„ä½œç”¨, è¿™æ ·å°±è§£å†³äº†é˜»å¡é—®é¢˜äº†.
é‚£ä¹ˆå¸‚é¢ä¸Šæœ‰çš„æ¶ˆæ¯ä¸­é—´ä»¶æœ‰ä»€ä¹ˆå‘¢?RabbtiMQ,ActiveMq&ndash;&gt;è¿™é‡Œå¯¹æ¯”
ä¸‹äºŒè€…ä¼˜ç¼ºç‚¹, ç€é‡è¯´RabbitMqä¼˜ç‚¹, æ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†å®ƒ. é‚£æ¶‰åŠåˆ°
RabbitMQæ¶ˆæ¯ä¸­é—´ä»¶æˆ‘ç§ä¸‹é‡Œå¯¹ä»–ä¹Ÿåšäº†ç ”ç©¶, å®ƒå¸¸ç”¨çš„ 5 ç§å‘æ¶ˆæ¯æ¨¡å¼å•Š,
æ¶ˆæ¯ä¸¢å¤±è§£å†³æ–¹æ¡ˆ, æ¶ˆæ¯å †ç§¯è§£å†³æ–¹æ¡ˆå•Š, è¿™ä¸ªæˆ‘å…ˆæŠŠæ³¨å†Œä¸šåŠ¡è·Ÿæ‚¨ä»‹ç»å®Œæ‚¨å¦‚
æœæ„Ÿå…´è¶£æˆ‘ç¨åè·Ÿæ‚¨ä»‹ç».(è¯¦ç»†ä»‹ç»å°±æ˜¯å•ç‹¬çš„RabbitMqé‚£ä¸ªæŠ€æœ¯ç‚¹äº†.)
å’±ä»¬ç»§ç»­è¯´, åˆšæ‰è¯´çš„åŠ å…¥ä¸­é—´ä»¶ç»™ç”¨æˆ·æ’é˜Ÿ, è¿™æ ·æˆ‘ä»¬å°±èƒ½æ­£å¸¸å‘é€çŸ­ä¿¡
äº†, åˆšæ‰æœ‰è·Ÿæ‚¨æåˆ°å‘çŸ­ä¿¡çš„æµç¨‹, æˆ‘ä»¬è°ƒç”¨äº†é˜¿é‡Œäº‘è·å¾—çš„çŸ­ä¿¡, è¦å‘Šè¯‰ç”¨æˆ·
è®©ä»–çŸ¥é“, æ‰€ä»¥è¿™ä¸ªéªŒè¯ç è‚¯å®šè¦å­˜åˆ°ä¸€ä¸ªåœ°æ–¹, å­˜åˆ°å“ªé‡Œå‘¢?æˆ‘ä»¬è€ƒè™‘åˆ°ä¸¤ç§
æ–¹æ¡ˆ, è€Œä¸”è¿™ä¸ªéªŒè¯ç æ˜¯æœ‰æ—¶æ•ˆæ€§è´¨çš„, æˆ‘ä»¬è®¾å®šçš„æ˜¯ 10 åˆ†é’Ÿåè¿‡æœŸ. æ‰€ä»¥ç¬¬
ä¸€ç§æ–¹æ¡ˆå­˜åˆ°æœ¬åœ°, ä½†è¦è®¾ç½®ä¸ªå®šæ—¶ä»»åŠ¡, æ¯ 10 åˆ†é’Ÿæ¸…é™¤ä¸€æ¬¡, è¿™æ ·åŠŸèƒ½å¯ä»¥
å®ç°, ä½†åˆåŠ å¤§äº†å¼€å‘äººå‘˜çš„å¼€å‘æ•ˆç‡, æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•æˆ–å€ŸåŠ©å¤–ä¼ çš„ç»„ä»¶å°±èƒ½</p>
<p>æ¸…é™¤å‘¢?è¿™æ˜¯æœ‰äº†ç¬¬äºŒç§æ–¹æ¡ˆ,Redis. é¦–å…ˆRedisæ˜¯ä¸€ä¸ªéå…³ç³»å‹æ•°æ®åº“, æ•°æ®
å­˜åœ¨å†…å­˜å½“ä¸­è¯»å†™æ•ˆç‡å¾ˆé«˜, è¿™æ ·ä¹Ÿèƒ½æé«˜ç”¨æˆ·çš„ä½“éªŒç‡,Redisä¸­è‡ªå¸¦keyçš„
æœ‰æ•ˆæœŸ,æˆ‘ä»¬å¯ä»¥è®¾ç½®keyçš„æœ‰æ•ˆæœŸ 10 åˆ†é’Ÿ,è¿™æ ·å°±èƒ½è‡ªåŠ¨æ¸…é™¤éªŒè¯ç äº†, æ—¢ç„¶æ
åˆ°Redis, æ‚¨å¦‚æœæ„Ÿå…´è¶£æˆ‘ä¹Ÿå¯ä»¥è·Ÿæ‚¨è¯¦ç»†ä»‹ç»ä¸‹?(è¯¦ç»†ä»‹ç»å°±æ˜¯å•ç‹¬çš„Redis
é‚£ä¸ªæŠ€æœ¯ç‚¹äº†.)
(é¢˜å¤–è¯==&gt;æ³¨å†Œè¿™ä¸ªä¸šåŠ¡å°±æ¶‰åŠåˆ°ä¸¤ä¸ªæŠ€æœ¯ç‚¹, è™½ç„¶ä¸šåŠ¡æŒºç®€å•çš„, ä½†æ˜¯
Rediså’ŒRabbtiMqè¿™ä¹ˆå‡ºå½©çš„æŠ€æœ¯ç‚¹èƒ½èƒŒå…¨äº†,æ¯ä¸ªæŠ€æœ¯ç‚¹èƒŒä¼šäº†, å°±è¿™ä¸ªæ³¨
å†ŒåŠŸèƒ½å°±èƒ½è¯´ 1 ä¸ªå°æ—¶,offerå°±èƒ½æ‹¿åˆ°äº†,å…¶ä»–çš„ä¸šåŠ¡ä¹Ÿæ˜¯è¿™æ ·çš„, ä¸šåŠ¡ä¸­æœ‰æŠ€
æœ¯, æ¶‰åŠåˆ°æŠ€æœ¯å°±å¾€å…¨åŠ›æ·±äº†è¯´.)
<strong>( 2 )å¦‚ä½•å®ç°çš„</strong>
ç”¨æˆ·æœç´¢åˆ°è‡ªå·±å¿ƒä»ªçš„å•†å“åå¯èƒ½ä¼šå‘ç”Ÿè´­ä¹°ï¼Œä½†åœ¨è´­ä¹°å‰å¿…é¡»å…ˆç™»å½•ï¼Œæ‰€
ä»¥åœ¨æ­¤ä¹‹å‰éœ€è¦å…ˆæ³¨å†Œç”¨æˆ·ï¼Œåœ¨ç”¨æˆ·æ³¨å†Œæ—¶éœ€è¦å…ˆè¿›è¡Œæ•°æ®æ ¡éªŒå’Œè·å–éªŒè¯ç ã€‚
å½“ç”¨æˆ·å¡«å†™å®Œç”¨æˆ·åæˆ–æ‰‹æœºå·åï¼Œä¼šå‘åå°å‘é€å¼‚æ­¥è¯·æ±‚ï¼Œåå°è·å–ç”¨æˆ·å
æˆ–æ‰‹æœºå·ç ä¼šå¯¹æ•°æ®è¿›è¡Œå”¯ä¸€æ ¡éªŒï¼Œè‹¥æ˜¯æœªæ³¨å†Œè¿‡å°±ä¼šè¿”å›å¯ç”¨ï¼Œåä¹‹è¿”å›ä¸å¯
ç”¨ã€‚
æ­£ç¡®å¡«å†™æ‰‹æœºå·ç åå¯ä»¥ç‚¹å‡»å‘é€éªŒè¯ç ï¼Œåå°æ¥æ”¶åˆ°é¡µé¢å‘é€è¿‡æ¥æ‰‹æœº
å·ï¼Œç¡®è®¤æ— è¯¯åï¼Œéšæœºç”Ÿæˆ 6 ä½éªŒè¯ç ï¼Œä¿å­˜åˆ°Redisä¸­ 5 åˆ†é’Ÿã€‚è°ƒç”¨çŸ­ä¿¡å¾®
æœåŠ¡å°†æ‰‹æœºå·å’ŒéªŒè¯ç å‘é€è¿‡å»ï¼ŒçŸ­ä¿¡å¾®æœåŠ¡ç›‘å¬åˆ°å‘é€éªŒè¯ç æ¶ˆæ¯åï¼Œä¼šä½¿ç”¨
é˜¿é‡Œå¤§äºå‘é€éªŒè¯ç åˆ°æŒ‡å®šæ‰‹æœºå·ç ã€‚
å½“ç”¨æˆ·å¡«å†™å®Œæ‰€æœ‰ä¸ªäººä¿¡æ¯å¹¶ä¸”æ•°æ®æ ¡éªŒæ— è¯¯ï¼ŒéªŒè¯ç å¡«å†™å®Œæˆåå¯ä»¥è¿›è¡Œ
æœ€åçš„ç”¨æˆ·æ³¨å†Œã€‚
æ³¨å†Œå½“æ—¶æˆ‘ä»¬è€ƒè™‘åˆ°ä¸¤ç§æ–¹æ¡ˆ,ç¬¬ä¸€ç§æ˜¯ç»™ç”¨æˆ·å‘é€é‚®ä»¶é€šçŸ¥ç”¨æˆ·, ç¬¬äºŒç§</p>
<h5 id="ç»™è·å–ç”¨æˆ·æ‰‹æœºå·ç»™ç”¨æˆ·å‘é€çŸ­ä¿¡éªŒè¯ç å› ä¸ºç°åœ¨è¿˜æ˜¯æ‰‹æœºæ³¨å†Œæ¯”è¾ƒæ–¹ä¾¿æ‰€ä»¥">ç»™è·å–ç”¨æˆ·æ‰‹æœºå·ç»™ç”¨æˆ·å‘é€çŸ­ä¿¡éªŒè¯ç ,å› ä¸ºç°åœ¨è¿˜æ˜¯æ‰‹æœºæ³¨å†Œæ¯”è¾ƒæ–¹ä¾¿æ‰€ä»¥</h5>
<h5 id="é‡‡ç”¨äº†æ‰‹æœºæ³¨å†Œ-å‘çŸ­ä¿¡çš„è¯ç›´æ¥é‡‡ç”¨äº†ç¬¬ä¸‰æ–¹ç»„ä»¶-è°ƒç”¨é˜¿é‡Œäº‘ç»™ç”¨æˆ·å‘é€çŸ­">é‡‡ç”¨äº†æ‰‹æœºæ³¨å†Œ, å‘çŸ­ä¿¡çš„è¯ç›´æ¥é‡‡ç”¨äº†ç¬¬ä¸‰æ–¹ç»„ä»¶, è°ƒç”¨é˜¿é‡Œäº‘ç»™ç”¨æˆ·å‘é€çŸ­</h5>
<h5 id="ä¿¡-å…·ä½“ä¸šåŠ¡å¦‚ä¸‹">ä¿¡, å…·ä½“ä¸šåŠ¡å¦‚ä¸‹:</h5>
<h5 id="--æ ¡éªŒç”¨æˆ·åæˆ–æ‰‹æœºå·å”¯ä¸€">- æ ¡éªŒç”¨æˆ·åæˆ–æ‰‹æœºå·å”¯ä¸€ï¼›</h5>
<h5 id="--å‘é€éªŒè¯ç ">- å‘é€éªŒè¯ç ï¼›</h5>
<h5 id="--æ³¨å†Œ">- æ³¨å†Œ</h5>
<h5 id="--æ ¡éªŒçŸ­ä¿¡éªŒè¯ç ">- æ ¡éªŒçŸ­ä¿¡éªŒè¯ç ï¼›</h5>
<h5 id="--åŠ å¯†ç”¨æˆ·è¾“å…¥çš„å¯†ç ">- åŠ å¯†ç”¨æˆ·è¾“å…¥çš„å¯†ç ï¼›</h5>
<h5 id="--ä¿å­˜åˆ°æ•°æ®åº“ä¸­">- ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</h5>
<h5 id="ç”¨æˆ·å‘ç”Ÿè´­ä¹°è¡Œä¸ºä¹‹å‰å¿…é¡»å…ˆæœ‰ç”¨æˆ·æ‰€ä»¥ç”¨æˆ·æ³¨å†Œæ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä¸ªç¯">ç”¨æˆ·å‘ç”Ÿè´­ä¹°è¡Œä¸ºä¹‹å‰å¿…é¡»å…ˆæœ‰ç”¨æˆ·ï¼Œæ‰€ä»¥ç”¨æˆ·æ³¨å†Œæ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä¸ªç¯</h5>
<h5 id="èŠ‚ç”¨æˆ·æ³¨å†Œä¸»è¦æ˜¯æ”¶é›†ç”¨æˆ·çš„ä¿¡æ¯ç”¨æˆ·åœ¨ç”¨æˆ·é¡µé¢å¡«å†™ç”¨æˆ·ä¿¡æ¯ç”¨æˆ·å">èŠ‚ã€‚ç”¨æˆ·æ³¨å†Œä¸»è¦æ˜¯æ”¶é›†ç”¨æˆ·çš„ä¿¡æ¯ã€‚â‘ ç”¨æˆ·åœ¨ç”¨æˆ·é¡µé¢å¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼Œç”¨æˆ·å</h5>
<h5 id="æˆ–æ‰‹æœºå·è¿™æ—¶è¦è¿›è¡Œå”¯ä¸€æ ¡éªŒæ‰‹æœºå·å¡«å†™å®Œæ¯•åéœ€è¦ç‚¹å‡»å‘é€éªŒè¯ç å¹¶">æˆ–æ‰‹æœºå·ï¼Œè¿™æ—¶è¦è¿›è¡Œå”¯ä¸€æ ¡éªŒã€‚â‘¡æ‰‹æœºå·å¡«å†™å®Œæ¯•åéœ€è¦ç‚¹å‡»å‘é€éªŒè¯ç ï¼Œå¹¶</h5>
<h5 id="å¡«å†™æ”¶åˆ°çš„éªŒè¯ç ç”¨æˆ·æ•°æ®æ”¶é›†é½å…¨åè¿›è¡Œæ³¨å†Œæ³¨å†Œæ—¶éœ€è¦è¿›è¡ŒéªŒè¯ç æ ¡">å¡«å†™æ”¶åˆ°çš„éªŒè¯ç ã€‚â‘¢ç”¨æˆ·æ•°æ®æ”¶é›†é½å…¨åè¿›è¡Œæ³¨å†Œï¼Œæ³¨å†Œæ—¶éœ€è¦è¿›è¡ŒéªŒè¯ç æ ¡</h5>
<h5 id="éªŒæ ¡éªŒæ— è¯¯åéœ€è¦å¯¹ç”¨æˆ·çš„å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†æœ€åä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“">éªŒï¼Œæ ¡éªŒæ— è¯¯åéœ€è¦å¯¹ç”¨æˆ·çš„å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œæœ€åä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°æ•°æ®åº“ã€‚</h5>
<h3 id="10-8-2-é˜¿é‡Œå¤§äº">10 8 2 é˜¿é‡Œå¤§äº&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="é˜¿é‡Œå¤§äºåŸé˜¿é‡Œå¤§é±¼æ˜¯é˜¿é‡Œé€šä¿¡æ——ä¸‹äº§å“èåˆäº†ä¸‰å¤§è¿è¥å•†çš„é€šä¿¡èƒ½">é˜¿é‡Œå¤§äºï¼ˆåŸé˜¿é‡Œå¤§é±¼ï¼‰æ˜¯é˜¿é‡Œé€šä¿¡æ——ä¸‹äº§å“ï¼Œèåˆäº†ä¸‰å¤§è¿è¥å•†çš„é€šä¿¡èƒ½</h5>
<h5 id="åŠ›é€šè¿‡å°†ä¼ ç»Ÿé€šä¿¡ä¸šåŠ¡å’Œèƒ½åŠ›ä¸äº’è”ç½‘ç›¸ç»“åˆåˆ›æ–°èåˆé˜¿é‡Œå·´å·´ç”Ÿæ€å†…å®¹">åŠ›ï¼Œé€š+è¿‡å°†ä¼ ç»Ÿé€šä¿¡ä¸šåŠ¡å’Œèƒ½åŠ›ä¸äº’è”ç½‘ç›¸ç»“åˆï¼Œåˆ›æ–°èåˆé˜¿é‡Œå·´å·´ç”Ÿæ€å†…å®¹ï¼Œ</h5>
<h5 id="å…¨åŠ›ä¸ºä¸­å°ä¼ä¸šå’Œå¼€å‘è€…æä¾›ä¼˜è´¨æœåŠ¡é˜¿é‡Œå¤§äºæä¾›åŒ…æ‹¬çŸ­ä¿¡è¯­éŸ³æµé‡ç›´">å…¨åŠ›ä¸ºä¸­å°ä¼ä¸šå’Œå¼€å‘è€…æä¾›ä¼˜è´¨æœåŠ¡ã€‚é˜¿é‡Œå¤§äºæä¾›åŒ…æ‹¬çŸ­ä¿¡ã€è¯­éŸ³ã€æµé‡ç›´</h5>
<h5 id="å……ç§å¯†ä¸“çº¿åº—é“ºæ‰‹æœºå·ç­‰ä¸ªæ€§åŒ–æœåŠ¡é€šè¿‡é˜¿é‡Œå¤§äºç”¨æ·˜å®å¸æˆ·æ‰“é€šä¸‰å¤§">å……ã€ç§å¯†ä¸“çº¿ã€åº—é“ºæ‰‹æœºå·ç­‰ä¸ªæ€§åŒ–æœåŠ¡ã€‚é€šè¿‡é˜¿é‡Œå¤§äºï¼Œç”¨æ·˜å®å¸æˆ·æ‰“é€šä¸‰å¤§</h5>
<h5 id="è¿è¥å•†é€šä¿¡èƒ½åŠ›é€šè¿‡è¿™ä¸ªå¹³å°ä¸­å°ä¼ä¸šåŠå¼€å‘è€…å¯ä»¥åœ¨æœ€çŸ­çš„æ—¶é—´å†…å®ç°çŸ­">è¿è¥å•†é€šä¿¡èƒ½åŠ›ï¼Œé€šè¿‡è¿™ä¸ªå¹³å°ï¼Œä¸­å°ä¼ä¸šåŠå¼€å‘è€…å¯ä»¥åœ¨æœ€çŸ­çš„æ—¶é—´å†…å®ç°çŸ­</h5>
<h5 id="ä¿¡éªŒè¯ç å‘é€çŸ­ä¿¡æœåŠ¡æé†’è¯­éŸ³éªŒè¯ç è¯­éŸ³æœåŠ¡é€šçŸ¥ivråŠå‘¼å«ä¸­å¿ƒ">ä¿¡éªŒè¯ç å‘é€ã€çŸ­ä¿¡æœåŠ¡æé†’ã€è¯­éŸ³éªŒè¯ç ã€è¯­éŸ³æœåŠ¡é€šçŸ¥ã€IVRåŠå‘¼å«ä¸­å¿ƒã€</h5>
<h5 id="ç å·åå‘æµé‡éšç§ä¿æŠ¤ç›¸å…³çš„èƒ½åŠ›å®ç°äº’è”ç½‘ç”µä¿¡åŒ–">ç å·ã€åå‘æµé‡ã€éšç§ä¿æŠ¤ç›¸å…³çš„èƒ½åŠ›ï¼Œå®ç°äº’è”ç½‘ç”µä¿¡åŒ–ã€‚</h5>
<h2 id="10-9-ç”¨æˆ·ç™»å½•jwtredis">10 9 ç”¨æˆ·ç™»å½•(JWT+Redis)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h2>
<h3 id="10-9-1-æˆæƒä¸šåŠ¡æ€è·¯ç™»å½•">10 9 1 æˆæƒä¸šåŠ¡æ€è·¯ï¼ˆç™»å½•ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="ç›®å‰å¸‚é¢ä¸Šæµè¡Œçš„æœ‰-æœ‰çŠ¶æ€ç™»å½•å’Œæ— çŠ¶æ€ç™»å½•ä¸¤ç§æ–¹å¼">ç›®å‰å¸‚é¢ä¸Šæµè¡Œçš„æœ‰ æœ‰çŠ¶æ€ç™»å½•å’Œæ— çŠ¶æ€ç™»å½•ä¸¤ç§æ–¹å¼.</h5>
<h5 id="-1-æœ‰çŠ¶æ€ç™»å½•">( 1 )æœ‰çŠ¶æ€ç™»å½•</h5>
<h5 id="æœ‰çŠ¶æ€æœåŠ¡å³æœåŠ¡ç«¯éœ€è¦è®°å½•æ¯æ¬¡ä¼šè¯çš„å®¢æˆ·ç«¯ä¿¡æ¯ä»è€Œè¯†åˆ«å®¢æˆ·">æœ‰çŠ¶æ€æœåŠ¡ï¼Œå³æœåŠ¡ç«¯éœ€è¦è®°å½•æ¯æ¬¡ä¼šè¯çš„å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œä»è€Œè¯†åˆ«å®¢æˆ·</h5>
<pre tabindex="0"><code>ç«¯èº«ä»½ï¼Œæ ¹æ®ç”¨æˆ·èº«ä»½è¿›è¡Œè¯·æ±‚çš„å¤„ç†ï¼Œå…¸å‹çš„è®¾è®¡å¦‚tomcatä¸­çš„sessionã€‚
ä¾‹å¦‚ç™»å½•ï¼šç”¨æˆ·ç™»å½•åï¼Œæˆ‘ä»¬æŠŠç™»å½•è€…çš„ä¿¡æ¯ä¿å­˜åœ¨æœåŠ¡ç«¯sessionä¸­ï¼Œ
å¹¶ä¸”ç»™ç”¨æˆ·ä¸€ä¸ªcookieå€¼ï¼Œè®°å½•å¯¹åº”çš„sessionã€‚ç„¶åä¸‹æ¬¡è¯·æ±‚ï¼Œç”¨æˆ·æº
å¸¦cookieå€¼æ¥ï¼Œæˆ‘ä»¬å°±èƒ½è¯†åˆ«åˆ°å¯¹åº”sessionï¼Œä»è€Œæ‰¾åˆ°ç”¨æˆ·çš„ä¿¡æ¯ã€‚
ï¬ æœ‰çŠ¶æ€ç™»å½•çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
ïµ æœåŠ¡ç«¯ä¿å­˜å¤§é‡æ•°æ®ï¼Œå¢åŠ æœåŠ¡ç«¯å‹åŠ›
ïµ æœåŠ¡ç«¯ä¿å­˜ç”¨æˆ·çŠ¶æ€ï¼Œæ— æ³•è¿›è¡Œæ°´å¹³æ‰©å±•.
ïµ å®¢æˆ·ç«¯è¯·æ±‚ä¾èµ–æœåŠ¡ç«¯ï¼Œå¤šæ¬¡è¯·æ±‚å¿…é¡»è®¿é—®åŒä¸€å°æœåŠ¡å™¨
( 2 ) é‚£ä»€ä¹ˆæ˜¯æ— çŠ¶æ€ç™»å½•å‘¢?
å¾®æœåŠ¡é›†ç¾¤ä¸­çš„æ¯ä¸ªæœåŠ¡ï¼Œå¯¹å¤–æä¾›çš„éƒ½æ˜¯Resté£æ ¼çš„æ¥å£ã€‚è€ŒRest
é£æ ¼çš„ä¸€ä¸ªæœ€é‡è¦çš„è§„èŒƒå°±æ˜¯ï¼šæœåŠ¡çš„æ— çŠ¶æ€æ€§ï¼Œå³ï¼š
ïµ æœåŠ¡ç«¯ä¸ä¿å­˜ä»»ä½•å®¢æˆ·ç«¯è¯·æ±‚è€…ä¿¡æ¯
</code></pre><h5 id="-å®¢æˆ·ç«¯çš„æ¯æ¬¡è¯·æ±‚å¿…é¡»å…·å¤‡è‡ªæè¿°ä¿¡æ¯é€šè¿‡è¿™äº›ä¿¡æ¯è¯†åˆ«å®¢æˆ·ç«¯">ïµ å®¢æˆ·ç«¯çš„æ¯æ¬¡è¯·æ±‚å¿…é¡»å…·å¤‡è‡ªæè¿°ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯è¯†åˆ«å®¢æˆ·ç«¯</h5>
<h5 id="èº«ä»½">èº«ä»½.</h5>
<h5 id="-å¸¦æ¥çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢">ï¬ å¸¦æ¥çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</h5>
<h5 id="-å®¢æˆ·ç«¯è¯·æ±‚ä¸ä¾èµ–æœåŠ¡ç«¯çš„ä¿¡æ¯ä»»ä½•å¤šæ¬¡è¯·æ±‚ä¸éœ€è¦å¿…é¡»è®¿é—®åˆ°">ïµ å®¢æˆ·ç«¯è¯·æ±‚ä¸ä¾èµ–æœåŠ¡ç«¯çš„ä¿¡æ¯ï¼Œä»»ä½•å¤šæ¬¡è¯·æ±‚ä¸éœ€è¦å¿…é¡»è®¿é—®åˆ°</h5>
<h5 id="åŒä¸€å°æœåŠ¡">åŒä¸€å°æœåŠ¡.</h5>
<h5 id="-æœåŠ¡ç«¯çš„é›†ç¾¤å’ŒçŠ¶æ€å¯¹å®¢æˆ·ç«¯é€æ˜">ïµ æœåŠ¡ç«¯çš„é›†ç¾¤å’ŒçŠ¶æ€å¯¹å®¢æˆ·ç«¯é€æ˜.</h5>
<h5 id="-æœåŠ¡ç«¯å¯ä»¥ä»»æ„çš„è¿ç§»å’Œä¼¸ç¼©">ïµ æœåŠ¡ç«¯å¯ä»¥ä»»æ„çš„è¿ç§»å’Œä¼¸ç¼©.</h5>
<h5 id="-å‡å°æœåŠ¡ç«¯å­˜å‚¨å‹åŠ›">ïµ å‡å°æœåŠ¡ç«¯å­˜å‚¨å‹åŠ›.</h5>
<h5 id="-æ— çŠ¶æ€ç™»å½•çš„æµç¨‹">ï¬ æ— çŠ¶æ€ç™»å½•çš„æµç¨‹ï¼š</h5>
<h5 id="-å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡æ—¶æœåŠ¡ç«¯å¯¹ç”¨æˆ·è¿›è¡Œä¿¡æ¯è®¤è¯ç™»å½•">ïµ å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡æ—¶ï¼ŒæœåŠ¡ç«¯å¯¹ç”¨æˆ·è¿›è¡Œä¿¡æ¯è®¤è¯ï¼ˆç™»å½•ï¼‰</h5>
<pre tabindex="0"><code>ïµ è®¤è¯é€šè¿‡ï¼Œå°†ç”¨æˆ·ä¿¡æ¯è¿›è¡ŒåŠ å¯†å½¢æˆtokenï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä½œä¸º
ç™»å½•å‡­è¯.
ïµ ä»¥åæ¯æ¬¡è¯·æ±‚ï¼Œå®¢æˆ·ç«¯éƒ½æºå¸¦è®¤è¯çš„token
ïµ æœåŠ¡çš„å¯¹tokenè¿›è¡Œè§£å¯†ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æ•ˆã€‚
</code></pre><h5 id="æ•´ä¸ªç™»å½•è¿‡ç¨‹ä¸­æœ€å…³é”®çš„ç‚¹æ˜¯ä»€ä¹ˆ">æ•´ä¸ªç™»å½•è¿‡ç¨‹ä¸­ï¼Œæœ€å…³é”®çš„ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p><strong>tokençš„å®‰å…¨æ€§</strong>
tokenæ˜¯è¯†åˆ«å®¢æˆ·ç«¯èº«ä»½çš„å”¯ä¸€æ ‡ç¤ºï¼Œå¦‚æœåŠ å¯†ä¸å¤Ÿä¸¥å¯†ï¼Œè¢«äººä¼ªé€ é‚£
å°±å®Œè›‹äº†ã€‚</p>
<pre tabindex="0"><code>é‡‡ç”¨ä½•ç§æ–¹å¼åŠ å¯†æ‰æ˜¯å®‰å…¨å¯é çš„å‘¢ï¼Ÿ
æˆ‘ä»¬å°†é‡‡ç”¨ JWT+RSAéå¯¹ç§°åŠ å¯†.
( 3 )æˆ‘ä»¬æ€ä¹ˆåšçš„?
</code></pre><h5 id="ç”¨æˆ·åœ¨ç™»å½•é¡µé¢æ­£ç¡®å¡«å†™ç”¨æˆ·åå’Œå¯†ç åç‚¹å‡»ç™»å½•è¯·æ±‚ä¼šæºå¸¦ç”¨æˆ·åå’Œ">ç”¨æˆ·åœ¨ç™»å½•é¡µé¢æ­£ç¡®å¡«å†™ç”¨æˆ·åå’Œå¯†ç åï¼Œç‚¹å‡»ç™»å½•ï¼Œè¯·æ±‚ä¼šæºå¸¦ç”¨æˆ·åå’Œ</h5>
<p>å¯†ç åˆ°æˆæƒä¸­å¿ƒå¾®æœåŠ¡ï¼Œæˆæƒä¸­å¿ƒå¾®æœåŠ¡ä½¿ç”¨Feignç»„ä»¶è®¿é—®ç”¨æˆ·å¾®æœåŠ¡æ ¹æ®
ç”¨æˆ·åå’Œå¯†ç æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œåˆ¤æ–­è¿”å›çš„ç”¨æˆ·æ˜¯å¦ä¸ºNULLï¼Œä¸ä¸ºNULLæ ¹æ®ç§
é’¥ç”Ÿäº§JWTå¹¶å†™å…¥cookieåˆ°æµè§ˆå™¨ã€‚</p>
<p>1 ã€ç”¨æˆ·è¯·æ±‚ç™»å½•ï¼Œæºå¸¦ç”¨æˆ·åå¯†ç åˆ°æˆæƒä¸­å¿ƒ
2 ã€æˆæƒä¸­å¿ƒæºå¸¦ç”¨æˆ·åå¯†ç ï¼Œåˆ°ç”¨æˆ·ä¸­å¿ƒæŸ¥è¯¢ç”¨æˆ·
3 ã€æŸ¥è¯¢å¦‚æœæ­£ç¡®ï¼Œç”ŸæˆJWTå‡­è¯ï¼ŒæŸ¥è¯¢é”™è¯¯åˆ™è¿”å› 400 ,
4 ã€è¿”å›JWTç»™ç”¨æˆ·
ç”¨æˆ·ç™»å½•ï¼Œé‡‡ç”¨çš„æ˜¯ JWT çš„æ— çŠ¶æ€ç™»å½•ã€‚â‘ å½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡æ—¶ï¼Œ
æœåŠ¡ç«¯ä¼šå¯¹ç”¨æˆ·è¿›è¡Œä¿¡æ¯è®¤è¯ï¼ˆå»è°ƒç”¨ç”¨æˆ·å¾®æœåŠ¡å»æ ¹æ®ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒæŸ¥è¯¢
éªŒè¯ï¼‰ã€‚â‘¡å¦‚æœè®¤è¯é€šè¿‡ï¼Œæˆæƒä¸­å¿ƒä¼šå°†ç”¨æˆ·ä¿¡æ¯è¿›è¡ŒåŠ å¯†å½¢æˆtokenï¼ˆcookieï¼‰ï¼Œ
è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä½œä¸ºç™»å½•å‡­è¯ã€‚â‘¢ä»¥åæ¯æ¬¡è¯·æ±‚ï¼Œå®¢æˆ·ç«¯éƒ½æºå¸¦è®¤è¯çš„tokenï¼Œ
ç”±æ¯ä¸€ä¸ªå¾®æœåŠ¡è¿›è¡Œè§£å¯†ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æ•ˆã€‚
<strong>åŠ å¯†æŠ€æœ¯æœ‰å“ªäº›ï¼Ÿ</strong>
â‘ å¯¹ç§°åŠ å¯†ï¼Œå¦‚AESï¼›
â‘¡éå¯¹ç§°åŠ å¯†ï¼Œå¦‚RSAï¼›(è¿™ä¹Ÿæ˜¯æˆ‘ä»¬é‡‡ç”¨çš„ä¸€ç§æ–¹å¼, ç§é’¥åŠ å¯†, å…¬é’¥è§£å¯†)
â‘¢ä¸å¯é€†åŠ å¯†ï¼Œå¦‚MD 5 ã€‚
<strong>æ€ä¹ˆæ‰èƒ½æé«˜JWTéªŒè¯æ–¹å¼ï¼Ÿ</strong>
ä¿®æ”¹åçš„ JWTtoken ä½¿ç”¨ç§é’¥åŠ å¯†ï¼ŒæŠŠå…¬é’¥ä¸‹å‘åˆ°æ¯ä¸€ä¸ªå¾®æœåŠ¡ï¼Œæ¯ä¸€ä¸ª
å¾® æœ åŠ¡ å¯ ä»¥ ä½¿ ç”¨å…¬ é’¥ è¿› è¡Œ éªŒ è¯ ç­¾ å ï¼ˆ application.yml ä½¿ ç”¨
springCloudConfig ç»„ä»¶ å’Œ springCloudBuså¯ä»¥å®Œæˆç»Ÿä¸€é…ç½®ï¼‰ã€‚</p>
<h5 id="-4--æˆæƒä¸­å¿ƒçš„ä¸»è¦èŒè´£">( 4 ) æˆæƒä¸­å¿ƒçš„ä¸»è¦èŒè´£ï¼š</h5>
<h5 id="4-1-ç”¨æˆ·ç™»å½•">4. 1 ç”¨æˆ·ç™»å½•ï¼š</h5>
<h5 id="-æ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚">ïµ æ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚ï¼Œ</h5>
<h5 id="-é€šè¿‡ç”¨æˆ·ä¸­å¿ƒçš„æ¥å£æ ¡éªŒç”¨æˆ·åå¯†ç ">ïµ é€šè¿‡ç”¨æˆ·ä¸­å¿ƒçš„æ¥å£æ ¡éªŒç”¨æˆ·åå¯†ç </h5>
<h5 id="-ä½¿ç”¨ç§é’¥ç”Ÿæˆjwtå¹¶è¿”å›">ïµ ä½¿ç”¨ç§é’¥ç”ŸæˆJWTå¹¶è¿”å›</h5>
<h5 id="ä¸Šé¢ä»‹ç»çš„å°±æ˜¯ç”¨æˆ·ç™»å½•åŠŸèƒ½çš„å®ç°-é™¤äº†ç™»å½•åŠŸèƒ½è¿˜æœ‰å¦‚ä¸‹åŠŸèƒ½">ä¸Šé¢ä»‹ç»çš„å°±æ˜¯ç”¨æˆ·ç™»å½•åŠŸèƒ½çš„å®ç°, é™¤äº†ç™»å½•åŠŸèƒ½è¿˜æœ‰å¦‚ä¸‹åŠŸèƒ½.</h5>
<h5 id="4-2-ç”¨æˆ·ç™»å½•çŠ¶æ€æ ¡éªŒ">4. 2 ç”¨æˆ·ç™»å½•çŠ¶æ€æ ¡éªŒ</h5>
<p>åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œå…¶å®å°±æ˜¯tokençš„æ ¡éªŒ
4. 3 ç”¨æˆ·ç™»å‡º-&gt;ç”¨æˆ·é€‰æ‹©é€€å‡ºç™»å½•åï¼Œè¦è®©tokenå¤±æ•ˆ
ï¬ ç¬¬ä¸€ç§æ–¹æ¡ˆ:
ïµ ç”¨æˆ·ç‚¹å‡»é€€å‡ºï¼Œå‘èµ·è¯·æ±‚åˆ°æœåŠ¡ç«¯
ïµ æœåŠ¡ç«¯åˆ é™¤ç”¨æˆ·sessionå³å¯
æˆ‘ä»¬ç°åœ¨ç™»å½•æ˜¯æ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ²¡æœ‰sessionï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ
æ˜¯ä¸æ˜¯ç›´æ¥åˆ é™¤cookieå°±å¯ä»¥äº†ã€‚åˆ«å¿˜äº†ï¼Œæˆ‘ä»¬è®¾ç½®äº†httponlyï¼ŒJSæ— æ³•
æ“ä½œcookieã€‚å› æ­¤ï¼Œåˆ é™¤cookieä¹Ÿå¿…é¡»å‘èµ·è¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œç”±æœåŠ¡ç«¯æ¥åˆ é™¤
cookieã€‚</p>
<pre tabindex="0"><code>é‚£ä¹ˆï¼Œæ˜¯ä¸æ˜¯åˆ é™¤äº†cookieï¼Œç”¨æˆ·å°±å®Œæˆäº†é€€å‡ºç™»å½•å‘¢ï¼Ÿ
</code></pre><p>è®¾æƒ³ä¸€ä¸‹ï¼Œåˆ é™¤äº†cookieï¼Œåªæ˜¯è®©ç”¨æˆ·åœ¨å½“å‰æµè§ˆå™¨ä¸Šçš„tokenåˆ é™¤
äº†ï¼Œä½†æ˜¯è¿™ä¸ª <strong>tokenä¾ç„¶æ˜¯æœ‰æ•ˆçš„</strong> ï¼è¿™å°±æ˜¯JWTçš„å¦å¤–ä¸€ä¸ªç¼ºç‚¹äº†ï¼Œæ— æ³•æ§åˆ¶
TOKENè®©å…¶å¤±æ•ˆã€‚å¦‚æœç”¨æˆ·æå‰å¤‡ä»½äº†tokenï¼Œé‚£ä¹ˆé‡æ–°å¡«å†™åˆ°cookieåï¼Œ
ç™»å½•çŠ¶æ€ä¾ç„¶æœ‰æ•ˆã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ <strong>ä¸ä»…ä»…è¦è®©æµè§ˆå™¨ç«¯æ¸…é™¤cookieï¼Œè€Œä¸”è¦è®©è¿™ä¸ªcookieä¸­çš„
tokenå¤±æ•ˆ</strong> ï¼</p>
<p>ï¬ ç¬¬äºŒç§æ–¹æ¡ˆ: å¤±æ•ˆtokené»‘åå•</p>
<p>æ€æ ·æ‰èƒ½å®ç°è¿™æ ·çš„æ•ˆæœå‘¢ï¼Ÿ
æœ‰å¾ˆå¤šåŠæ³•ï¼Œä½†æ˜¯æ— è®ºå“ªç§æ€è·¯ï¼Œéƒ½ç»•ä¸å¯ä¸€ç‚¹ï¼šJWTçš„æ— æ³•ä¿®æ”¹ç‰¹æ€§ã€‚å› 
æ­¤ <strong>æˆ‘ä»¬ä¸èƒ½ä¿®æ”¹tokenæ¥æ ‡è®°tokenæ— æ•ˆï¼Œè€Œæ˜¯åœ¨æœåŠ¡ç«¯è®°å½•tokençŠ¶æ€</strong> ï¼Œ
äºæ˜¯å°±è¿èƒŒäº†æ— çŠ¶æ€æ€§çš„ç‰¹æ€§ã€‚</p>
<pre tabindex="0"><code>ïµ å¦‚æœè¦è®°å½•æ¯ä¸€ä¸ªtokençŠ¶æ€ï¼Œä¼šé€ æˆæå¤§çš„æœåŠ¡ç«¯å‹åŠ›ï¼Œæˆ‘æä¾›ä¸€ç§
æ€è·¯ï¼Œå¯ä»¥åœ¨è½»é‡çº§æ•°æ®é‡ä¸‹ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ï¼š
ïµ ç”¨æˆ·è¿›è¡Œæ³¨é”€ç±»å‹æ“ä½œæ—¶ï¼ˆæ¯”å¦‚é€€å‡ºã€ä¿®æ”¹å¯†ç ï¼‰ï¼Œæ ¡éªŒtokenæœ‰æ•ˆæ€§ï¼Œ
å¹¶è§£ætokenä¿¡æ¯
ïµ æŠŠtokençš„idå­˜å…¥redisï¼Œå¹¶è®¾ç½®æœ‰æ•ˆæœŸä¸ºtokençš„å‰©ä½™æœ‰æ•ˆæœŸ
ïµ æ ¡éªŒç”¨æˆ·ç™»å½•çŠ¶æ€çš„æ¥å£ï¼Œé™¤äº†è¦æ­£å¸¸é€»è¾‘å¤–ï¼Œè¿˜å¿…é¡»åˆ¤æ–­tokençš„id
æ˜¯å¦å­˜åœ¨äºredis
ïµ å¦‚æœå­˜åœ¨ï¼Œåˆ™è¯æ˜tokenæ— æ•ˆï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¯æ˜æœ‰æ•ˆ
ç­‰äºæ˜¯åœ¨Redisä¸­è®°å½•å¤±æ•ˆtokençš„é»‘åå•ï¼Œé»‘åå•çš„æ—¶é—´ä¸ç”¨å¤ªé•¿ï¼Œæœ€
</code></pre><p>é•¿ä¹Ÿå°±æ˜¯tokençš„æœ‰æ•ˆæœŸï¼š 30 åˆ†é’Ÿï¼Œå› æ­¤æœåŠ¡ç«¯æ•°æ®å­˜å‚¨å‹åŠ›ä¼šå‡å°‘ã€‚
ï¬ ç”¨æˆ·ç™»å½•çŠ¶æ€åˆ·æ–°&ndash;&gt; <strong>tokenæ€ä¹ˆè¿›è¡Œåˆ·æ–°ï¼ˆç»­ç­¾é—®é¢˜ï¼‰ï¼Ÿ</strong>
ç”¨æˆ·ç™»å½•ä¸€æ®µæ—¶é—´åï¼ŒJWTå¯èƒ½è¿‡æœŸï¼Œéœ€è¦åˆ·æ–°æœ‰æ•ˆæœŸ
JWTå†…éƒ¨è®¾ç½®äº†tokençš„æœ‰æ•ˆæœŸï¼Œé»˜è®¤æ˜¯ 30 åˆ†é’Ÿï¼Œ 30 åˆ†é’Ÿåç”¨æˆ·çš„ç™»
å½•ä¿¡æ¯å°±æ— æ•ˆäº†ï¼Œç”¨æˆ·éœ€è¦é‡æ–°ç™»å½•ï¼Œç”¨æˆ·ä½“éªŒä¸å¥½ã€‚è€Œä¸”JWTè¿˜æœ‰ä¸€ä¸ª
éå¸¸æ˜æ˜¾çš„ç¼ºç‚¹ï¼šJWTç”Ÿæˆåæ— æ³•æ›´æ”¹ã€‚å› æ­¤æˆ‘ä»¬æ— æ³•ä¿®æ”¹tokenä¸­çš„æœ‰
æ•ˆæœŸï¼Œä¹Ÿå°±æ˜¯æ— æ³•ç»­ç­¾ã€‚è§£å†³æ–¹å¼ï¼šæ¯æ¬¡è¯·æ±‚æˆ‘ä»¬éœ€è¦åœ¨tokenå³å°†åˆ°æœŸæ—¶ï¼Œ
é‡æ–°ç”Ÿæˆä¸€ä¸ªtokenã€‚è¿™å°±éœ€è¦è®¾ç½®ä¸€ä¸ªæœ€å°åˆ·æ–°æ—¶é—´ã€‚ç”¨æˆ·åœ¨è¯·æ±‚æ—¶ï¼Œæˆ‘
ä»¬è¦æ ¹æ®è¯·æ±‚æ¥çš„tokenä¸­çš„è¿‡æœŸæ—¶é—´ -ï¼ˆå‡ï¼‰ æœ€å°åˆ·æ–°æ—¶é—´çš„å€¼ å’Œ å½“
å‰ç³»ç»Ÿçš„æ—¶é—´è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå¤§äºå½“å‰ç³»ç»Ÿæ—¶é—´ï¼ˆåœ¨å½“å‰ç³»ç»Ÿæ—¶é—´ä¹‹å‰ï¼‰ï¼Œ
æˆ‘ä»¬å°±é‡æ–°ç”Ÿæˆä¸€ä¸ªtokenæ·»åŠ åˆ°cookieè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>
<h3 id="10-9-2-é‰´æƒä¸šåŠ¡æ€è·¯æ¯ä¸ªå¾®æœåŠ¡éªŒè¯æ˜¯å¦ç™»å½•">10 9 2 é‰´æƒä¸šåŠ¡æ€è·¯ï¼ˆæ¯ä¸ªå¾®æœåŠ¡éªŒè¯æ˜¯å¦ç™»å½•ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>ç™»å½•æˆåŠŸåç”¨æˆ·æ¯æ¬¡è®¿é—®å¾®æœåŠ¡éƒ½ä¼šè·å–cookieä¸­çš„JWTï¼Œåˆ©ç”¨å…¬é’¥éªŒè¯
tokenã€‚è‹¥æ˜¯JWTæ— æ•ˆå°±ä¼šè¿”å› 401 ï¼Œæœ‰æ•ˆå°±ä¼šè¿”å›ç”¨æˆ·ç›®æ ‡èµ„æºã€‚</p>
<h5 id="é‰´æƒæµç¨‹">é‰´æƒæµç¨‹ï¼š</h5>
<h5 id="ç”¨æˆ·è¯·æ±‚æŸä¸€ä¸ªå¾®æœåŠ¡åŠŸèƒ½ä¼šæºå¸¦jwt">â‘ ç”¨æˆ·è¯·æ±‚æŸä¸€ä¸ªå¾®æœåŠ¡åŠŸèƒ½ï¼Œä¼šæºå¸¦JWTï¼›</h5>
<h5 id="ç”¨æˆ·è¯·æ±‚æŸä¸€ä¸ªå¾®æœåŠ¡åŠŸèƒ½æºå¸¦-jwt">â‘ ç”¨æˆ·è¯·æ±‚æŸä¸€ä¸ªå¾®æœåŠ¡åŠŸèƒ½ï¼Œæºå¸¦ JWTï¼›</h5>
<h5 id="å¾®æœåŠ¡å·¥å…·å…¬é’¥è¿›è¡Œé‰´æƒ">â‘¡å¾®æœåŠ¡å·¥å…·å…¬é’¥è¿›è¡Œé‰´æƒï¼›</h5>
<h5 id="å¦‚æœé‰´æƒæˆåŠŸè¿”å›ç»“æœ">â‘¢å¦‚æœé‰´æƒæˆåŠŸï¼Œè¿”å›ç»“æœï¼›</h5>
<h5 id="å¦‚æœé‰´æƒå¤±è´¥è¿”å›-401-æ²¡æœ‰æƒé™">â‘£å¦‚æœé‰´æƒå¤±è´¥ï¼Œè¿”å› 401 ï¼ˆæ²¡æœ‰æƒé™ï¼‰ã€‚</h5>
<h5 id="å¤§éƒ¨åˆ†çš„å¾®æœåŠ¡éƒ½å¿…é¡»åšè¿™æ ·çš„æƒé™åˆ¤æ–­ä½†æ˜¯å¦‚æœåœ¨æ¯ä¸ªå¾®æœåŠ¡å•ç‹¬åšæƒ">å¤§éƒ¨åˆ†çš„å¾®æœåŠ¡éƒ½å¿…é¡»åšè¿™æ ·çš„æƒé™åˆ¤æ–­ï¼Œä½†æ˜¯å¦‚æœåœ¨æ¯ä¸ªå¾®æœåŠ¡å•ç‹¬åšæƒ</h5>
<h5 id="é™æ§åˆ¶æ¯ä¸ªå¾®æœåŠ¡ä¸Šçš„æƒé™ä»£ç å°±ä¼šæœ‰é‡å¤å¦‚ä½•æ›´ä¼˜é›…çš„å®Œæˆæƒé™æ§åˆ¶å‘¢">é™æ§åˆ¶ï¼Œæ¯ä¸ªå¾®æœåŠ¡ä¸Šçš„æƒé™ä»£ç å°±ä¼šæœ‰é‡å¤ï¼Œå¦‚ä½•æ›´ä¼˜é›…çš„å®Œæˆæƒé™æ§åˆ¶å‘¢ï¼Ÿ</h5>
<h5 id="æˆ‘ä»¬å¯ä»¥åœ¨æ•´ä¸ªæœåŠ¡çš„å…¥å£å®ŒæˆæœåŠ¡çš„æƒé™æ§åˆ¶è¿™æ ·å¾®æœåŠ¡ä¸­å°±æ— éœ€å†åš">æˆ‘ä»¬å¯ä»¥åœ¨æ•´ä¸ªæœåŠ¡çš„å…¥å£å®ŒæˆæœåŠ¡çš„æƒé™æ§åˆ¶ï¼Œè¿™æ ·å¾®æœåŠ¡ä¸­å°±æ— éœ€å†åš</h5>
<h5 id="äº†å¦‚å›¾">äº†ï¼Œå¦‚å›¾ï¼š</h5>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨Zuulç¼–å†™æ‹¦æˆªå™¨ï¼Œå¯¹ç”¨æˆ·çš„tokenè¿›è¡Œæ ¡éªŒï¼Œå®Œæˆåˆæ­¥çš„
æƒé™åˆ¤æ–­.</p>
<p>é™æ§åˆ¶ï¼Œä¸€èˆ¬æœ‰ç²—ç²’åº¦ã€ç»†ç²’åº¦æ§åˆ¶ä¹‹åˆ†ï¼Œä½†ä¸ç®¡å“ªç§ï¼Œå‰ææ˜¯ç”¨æˆ·å¿…é¡»å…ˆ
ç™»å½•ã€‚çŸ¥é“è®¿é—®è€…æ˜¯è°ï¼Œæ‰èƒ½çŸ¥é“è¿™ä¸ªäººå…·å¤‡æ€æ ·çš„æƒé™ï¼Œå¯ä»¥è®¿é—®é‚£äº›æœåŠ¡èµ„
æºï¼ˆä¹Ÿå°±æ˜¯å¾®æœåŠ¡æ¥å£ï¼‰ã€‚</p>
<h5 id="å› æ­¤æƒé™æ§åˆ¶çš„åŸºæœ¬æµç¨‹æ˜¯è¿™æ ·">å› æ­¤ï¼Œæƒé™æ§åˆ¶çš„åŸºæœ¬æµç¨‹æ˜¯è¿™æ ·ï¼š</h5>
<pre tabindex="0"><code>1 ï¼‰è·å–ç”¨æˆ·çš„ç™»å½•å‡­è¯jwt.
2 ï¼‰è§£æjwtï¼Œè·å–ç”¨æˆ·èº«ä»½.
å¦‚æœè§£æå¤±è´¥ï¼Œè¯æ˜æ²¡æœ‰ç™»å½•ï¼Œè¿”å› 401
å¦‚æœè§£ææˆåŠŸï¼Œç»§ç»­å‘ä¸‹
3 ï¼‰æ ¹æ®èº«ä»½ï¼ŒæŸ¥è¯¢ç”¨æˆ·æƒé™ä¿¡æ¯.
4 ï¼‰è·å–å½“å‰è¯·æ±‚èµ„æºï¼ˆå¾®æœåŠ¡æ¥å£è·¯å¾„ï¼‰.
5 ï¼‰åˆ¤æ–­æ˜¯å¦æœ‰è®¿é—®èµ„æºçš„æƒé™
</code></pre><h5 id="ä¸€èˆ¬æƒé™ä¿¡æ¯ä¼šå­˜å‚¨åˆ°æ•°æ®åº“ä¼šå¯¹åº”è§’è‰²è¡¨å’Œæƒé™è¡¨">ä¸€èˆ¬æƒé™ä¿¡æ¯ä¼šå­˜å‚¨åˆ°æ•°æ®åº“ï¼Œä¼šå¯¹åº”è§’è‰²è¡¨å’Œæƒé™è¡¨ï¼š</h5>
<h5 id="-è§’è‰²å°±æ˜¯èº«ä»½ä¾‹å¦‚æ™®é€šç”¨æˆ·é‡‘é’»ç”¨æˆ·é»‘é’»ç”¨æˆ·å•†å“ç®¡ç†">ï® è§’è‰²ï¼šå°±æ˜¯èº«ä»½ï¼Œä¾‹å¦‚æ™®é€šç”¨æˆ·ï¼Œé‡‘é’»ç”¨æˆ·ï¼Œé»‘é’»ç”¨æˆ·ï¼Œå•†å“ç®¡ç†</h5>
<h5 id="å‘˜">å‘˜</h5>
<h5 id="-æƒé™å°±æ˜¯å¯è®¿é—®çš„è®¿é—®èµ„æºå¦‚æœæ˜¯urlçº§åˆ«çš„æƒé™æ§åˆ¶åŒ…å«">ï® æƒé™ï¼šå°±æ˜¯å¯è®¿é—®çš„è®¿é—®èµ„æºï¼Œå¦‚æœæ˜¯URLçº§åˆ«çš„æƒé™æ§åˆ¶ï¼ŒåŒ…å«</h5>
<h5 id="è¯·æ±‚æ–¹å¼è¯·æ±‚è·¯å¾„ç­‰ä¿¡æ¯">è¯·æ±‚æ–¹å¼ã€è¯·æ±‚è·¯å¾„ã€ç­‰ä¿¡æ¯</h5>
<h5 id="ä¸€ä¸ªè§’è‰²ä¸€èˆ¬ä¼šæœ‰å¤šä¸ªæƒé™ä¸€ä¸ªæƒé™ä¹Ÿå¯ä»¥å±äºå¤šä¸ªç”¨æˆ·å±äºå¤šå¯¹å¤šå…³">ä¸€ä¸ªè§’è‰²ä¸€èˆ¬ä¼šæœ‰å¤šä¸ªæƒé™ï¼Œä¸€ä¸ªæƒé™ä¹Ÿå¯ä»¥å±äºå¤šä¸ªç”¨æˆ·ï¼Œå±äºå¤šå¯¹å¤šå…³</h5>
<h5 id="ç³»æ ¹æ®è§’è‰²å¯ä»¥æŸ¥è¯¢åˆ°å¯¹åº”çš„æ‰€æœ‰æƒé™å†æ ¹æ®æƒé™åˆ¤æ–­æ˜¯å¦å¯ä»¥è®¿é—®å½“å‰èµ„">ç³»ã€‚æ ¹æ®è§’è‰²å¯ä»¥æŸ¥è¯¢åˆ°å¯¹åº”çš„æ‰€æœ‰æƒé™ï¼Œå†æ ¹æ®æƒé™åˆ¤æ–­æ˜¯å¦å¯ä»¥è®¿é—®å½“å‰èµ„</h5>
<h5 id="æºå³å¯">æºå³å¯ã€‚</h5>
<h3 id="10-9-3-ä»€ä¹ˆæ˜¯æœ‰çŠ¶æ€ç™»å½•">10 9 3 ä»€ä¹ˆæ˜¯æœ‰çŠ¶æ€ç™»å½•ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="æœ‰çŠ¶æ€æœåŠ¡å³æœåŠ¡ç«¯éœ€è¦è®°å½•æ¯æ¬¡ä¼šè¯çš„å®¢æˆ·ç«¯ä¿¡æ¯ä»è€Œè¯†åˆ«å®¢æˆ·ç«¯èº«">æœ‰çŠ¶æ€æœåŠ¡ï¼Œå³æœåŠ¡ç«¯éœ€è¦è®°å½•æ¯æ¬¡ä¼šè¯çš„å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œä»è€Œè¯†åˆ«å®¢æˆ·ç«¯èº«</h5>
<p>ä»½ï¼Œæ ¹æ®ç”¨æˆ·èº«ä»½è¿›è¡Œè¯·æ±‚çš„å¤„ç†ï¼Œå…¸å‹çš„è®¾è®¡å¦‚tomcatä¸­çš„sessionã€‚
<strong>ç¼ºç‚¹</strong>
æœåŠ¡ç«¯ä¿å­˜å¤§é‡æ•°æ®ï¼Œå¢åŠ æœåŠ¡ç«¯å‹åŠ›ã€‚
æœåŠ¡ç«¯ä¿å­˜ç”¨æˆ·çŠ¶æ€ï¼Œæ— æ³•è¿›è¡Œæ°´å¹³æ‰©å±•ã€‚
å®¢æˆ·ç«¯è¯·æ±‚ä¾èµ–æœåŠ¡ç«¯ï¼Œå¤šæ¬¡è¯·æ±‚å¿…é¡»è®¿é—®åŒä¸€å°æœåŠ¡å™¨ã€‚</p>
<h3 id="10-9-4-ä»€ä¹ˆæ˜¯æ— çŠ¶æ€ç™»å½•">10 9 4 ä»€ä¹ˆæ˜¯æ— çŠ¶æ€ç™»å½•ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<p>å¾®æœåŠ¡é›†ç¾¤ä¸­çš„æ¯ä¸ªæœåŠ¡ï¼Œå¯¹å¤–æä¾›çš„éƒ½æ˜¯Resté£æ ¼çš„æ¥å£ã€‚è€ŒResté£æ ¼
çš„ä¸€ä¸ªæœ€é‡è¦çš„è§„èŒƒå°±æ˜¯ï¼šæœåŠ¡çš„æ— çŠ¶æ€ æ€§ï¼Œå³ï¼š
æœåŠ¡ç«¯ä¸ä¿å­˜ä»»ä½•å®¢æˆ·ç«¯è¯·æ±‚è€…ä¿¡æ¯ã€‚
å®¢æˆ·ç«¯çš„æ¯æ¬¡è¯·æ±‚å¿…é¡»å…·å¤‡è‡ªæè¿°ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯è¯†åˆ«å®¢æˆ·ç«¯èº«ä»½ã€‚
<strong>ä¼˜ç‚¹</strong>
å®¢æˆ·ç«¯è¯·æ±‚ä¸ä¾èµ–æœåŠ¡ç«¯çš„ä¿¡æ¯ï¼Œä»»ä½•å¤šæ¬¡è¯·æ±‚ä¸éœ€è¦å¿…é¡»è®¿é—®åˆ°åŒä¸€å°æœ
åŠ¡ã€‚
æœåŠ¡ç«¯çš„é›†ç¾¤å’ŒçŠ¶æ€å¯¹å®¢æˆ·ç«¯é€æ˜ã€‚
æœåŠ¡ç«¯å¯ä»¥ä»»æ„çš„è¿ç§»å’Œä¼¸ç¼©ã€‚
å‡å°æœåŠ¡ç«¯å­˜å‚¨å‹åŠ›ã€‚</p>
<h3 id="10-9-5-jwt">10 9 5 JWT&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>JSONWebTokenï¼ˆJWTï¼‰æ˜¯ä¸€ä¸ªéå¸¸è½»å·§çš„è§„èŒƒã€‚è¿™ä¸ªè§„èŒƒå…è®¸æˆ‘ä»¬ä½¿ç”¨
JWTåœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’å®‰å…¨å¯é çš„ä¿¡æ¯ã€‚</p>
<p><strong>10. 9. 5. 1 ç»„æˆ</strong></p>
<p>ä¸€ä¸ªJWTå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå¤´éƒ¨ã€è½½è·ä¸ç­¾åã€‚
<strong>å¤´éƒ¨ï¼ˆHeaderï¼‰</strong>
å¤´éƒ¨ç”¨äºæè¿°å…³äºè¯¥JWTçš„æœ€åŸºæœ¬çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å…¶ç±»å‹ä»¥åŠç­¾åæ‰€ç”¨çš„ç®—
æ³•ç­‰ã€‚è¿™ä¹Ÿå¯ä»¥è¢«è¡¨ç¤ºæˆä¸€ä¸ªJSONå¯¹è±¡ã€‚
{&ldquo;typ&rdquo;:&ldquo;JWT&rdquo;,&ldquo;alg&rdquo;:&ldquo;HS 256 &ldquo;}
åœ¨å¤´éƒ¨æŒ‡æ˜äº†ç­¾åç®—æ³•æ˜¯ HS 256 ç®—æ³•ã€‚ æˆ‘ä»¬è¿›è¡Œ BASE 64 ç¼–ç 
ï¼ˆ <a class="link" href="http://base"  target="_blank" rel="noopener"
    >http://base</a> 64 .xpcha.com/ ï¼‰ ï¼Œ ç¼– ç  å çš„ å­— ç¬¦ ä¸² å¦‚ ä¸‹ ï¼š
eyJ 0 eXAiOiJKV 1 QiLCJhbGciOiJIUzI 1 NiJ 9
<strong>è½½è·ï¼ˆplayloadï¼‰</strong>
è½½è·å°±æ˜¯å­˜æ”¾æœ‰æ•ˆä¿¡æ¯çš„åœ°æ–¹ã€‚è¿™ä¸ªåå­—åƒæ˜¯ç‰¹æŒ‡é£æœºä¸Šæ‰¿è½½çš„è´§å“ï¼Œè¿™äº›
æœ‰æ•ˆä¿¡æ¯åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š
<strong>1. æ ‡å‡†ä¸­æ³¨å†Œçš„å£°æ˜ï¼ˆå»ºè®®ä½†ä¸å¼ºåˆ¶ä½¿ç”¨ï¼‰</strong>
iss:jwtç­¾å‘è€…
sub:jwtæ‰€é¢å‘çš„ç”¨æˆ·
aud: æ¥æ”¶jwtçš„ä¸€æ–¹
exp:jwtçš„è¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªè¿‡æœŸæ—¶é—´å¿…é¡»è¦å¤§äºç­¾å‘æ—¶é—´
nbf: å®šä¹‰åœ¨ä»€ä¹ˆæ—¶é—´ä¹‹å‰ï¼Œè¯¥jwtéƒ½æ˜¯ä¸å¯ç”¨çš„.
iat:jwtçš„ç­¾å‘æ—¶é—´
jti:jwtçš„å”¯ä¸€èº«ä»½æ ‡è¯†ï¼Œä¸»è¦ç”¨æ¥ä½œä¸ºä¸€æ¬¡æ€§token
<strong>2 .å…¬å…±çš„å£°æ˜</strong>
å…¬å…±çš„å£°æ˜å¯ä»¥æ·»åŠ ä»»ä½•çš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ·»åŠ ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯æˆ–å…¶ä»–ä¸šåŠ¡</p>
<h5 id="éœ€è¦çš„å¿…è¦ä¿¡æ¯ä½†ä¸å»ºè®®æ·»åŠ æ•æ„Ÿä¿¡æ¯å› ä¸ºè¯¥éƒ¨åˆ†åœ¨å®¢æˆ·ç«¯å¯è§£å¯†">éœ€è¦çš„å¿…è¦ä¿¡æ¯.ä½†ä¸å»ºè®®æ·»åŠ æ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºè¯¥éƒ¨åˆ†åœ¨å®¢æˆ·ç«¯å¯è§£å¯†ã€‚</h5>
<h5 id="3-ç§æœ‰çš„å£°æ˜">3. ç§æœ‰çš„å£°æ˜</h5>
<h5 id="ç§æœ‰å£°æ˜æ˜¯æä¾›è€…å’Œæ¶ˆè´¹è€…æ‰€å…±åŒå®šä¹‰çš„å£°æ˜ä¸€èˆ¬ä¸å»ºè®®å­˜æ”¾æ•æ„Ÿä¿¡">ç§æœ‰å£°æ˜æ˜¯æä¾›è€…å’Œæ¶ˆè´¹è€…æ‰€å…±åŒå®šä¹‰çš„å£°æ˜ï¼Œä¸€èˆ¬ä¸å»ºè®®å­˜æ”¾æ•æ„Ÿä¿¡</h5>
<p>æ¯ï¼Œå› ä¸ºbase 64 æ˜¯å¯¹ç§°è§£å¯†çš„ï¼Œæ„å‘³ç€è¯¥éƒ¨åˆ†ä¿¡æ¯å¯ä»¥å½’ç±»ä¸ºæ˜æ–‡ä¿¡æ¯ã€‚
è¿™ä¸ªæŒ‡çš„å°±æ˜¯è‡ªå®šä¹‰çš„claimã€‚æ¯”å¦‚å‰é¢é‚£ä¸ªç»“æ„ä¸¾ä¾‹ä¸­çš„adminå’Œname
éƒ½å±äºè‡ªå®šçš„claimã€‚è¿™äº›claimè·ŸJWTæ ‡å‡†è§„å®šçš„claimåŒºåˆ«åœ¨äºï¼šJWT
è§„å®šçš„claimï¼ŒJWTçš„æ¥æ”¶æ–¹åœ¨æ‹¿åˆ°JWTä¹‹åï¼Œéƒ½çŸ¥é“æ€ä¹ˆå¯¹è¿™äº›æ ‡å‡†çš„
claimè¿›è¡ŒéªŒè¯(è¿˜ä¸çŸ¥é“æ˜¯å¦èƒ½å¤ŸéªŒè¯)ï¼›è€Œprivateclaimsä¸ä¼šéªŒè¯ï¼Œé™¤
éæ˜ç¡®å‘Šè¯‰æ¥æ”¶æ–¹è¦å¯¹è¿™äº›claimè¿›è¡ŒéªŒè¯ä»¥åŠè§„åˆ™æ‰è¡Œã€‚å®šä¹‰ä¸€ä¸ª
payloadï¼š
{&ldquo;sub&rdquo;:&rdquo; 1234567890 &ldquo;,&ldquo;name&rdquo;:&ldquo;JohnDoe&rdquo;,&ldquo;admin&rdquo;:true}
ç„¶åå°†å…¶è¿›è¡Œbase 64 åŠ å¯†ï¼Œå¾—åˆ°Jwtçš„ç¬¬äºŒéƒ¨åˆ†ã€‚
eyJzdWIiOiIxMjM 0 NTY 3 ODkwIiwibmFtZSI 6 IkpvaG 4 gRG 9 lIiwiYW
RtaW 4 iOnRydWV 9
<strong>ç­¾è¯ï¼ˆsignatureï¼‰</strong>
jwtçš„ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ä¸€ä¸ªç­¾è¯ä¿¡æ¯ï¼Œè¿™ä¸ªç­¾è¯ä¿¡æ¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š
header(base 64 åçš„)
payload(base 64 åçš„)
secret
è¿™ä¸ªéƒ¨åˆ†éœ€è¦base 64 åŠ å¯†åçš„headerå’Œbase 64 åŠ å¯†åçš„payloadä½¿ç”¨.
è¿æ¥ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç„¶åé€šè¿‡headerä¸­å£°æ˜çš„åŠ å¯†æ–¹å¼è¿›è¡ŒåŠ ç›secretç»„åˆ
åŠ å¯†ï¼Œç„¶åå°±æ„æˆäº†jwtçš„ç¬¬ä¸‰éƒ¨åˆ†ã€‚</p>
<p>eyJhbGciOiJIUzI 1 NiIsInR 5 cCI 6 IkpXVCJ 9 .eyJzdWIiOiIxMjM 0 NTY 3 ODk
wIiwibmFtZSI 6 IkpvaG 4 gRG 9 lIiwiYWRtaW 4 iOnRydWV 9 .TJVA 95 OrM 7 E 2 cB
ab 30 RMHrHDcEfxjoYZgeFONFh 7 HgQ
<strong>æ³¨æ„</strong>
secretæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œjwtçš„ç­¾å‘ç”Ÿæˆä¹Ÿæ˜¯åœ¨æœåŠ¡å™¨ç«¯çš„ï¼Œsecretå°±
æ˜¯ç”¨æ¥è¿›è¡Œjwtçš„ç­¾å‘å’Œjwtçš„éªŒè¯ï¼Œæ‰€ä»¥ï¼Œå®ƒå°±æ˜¯ä½ æœåŠ¡ç«¯çš„ç§é’¥ï¼Œåœ¨ä»»ä½•åœº
æ™¯éƒ½ä¸åº”è¯¥æµéœ²å‡ºå»ã€‚ä¸€æ—¦å®¢æˆ·ç«¯å¾—çŸ¥è¿™ä¸ªsecret, é‚£å°±æ„å‘³ç€å®¢æˆ·ç«¯æ˜¯å¯ä»¥è‡ª
æˆ‘ç­¾å‘jwtäº†ã€‚
**ä½¿ç”¨åœºæ™¯</p>
<ol>
<li>ä¸€æ¬¡æ€§éªŒè¯**
æ¯”å¦‚ç”¨æˆ·æ³¨å†Œåéœ€è¦å‘ä¸€å°é‚®ä»¶è®©å…¶æ¿€æ´»è´¦æˆ·ï¼Œé€šå¸¸é‚®ä»¶ä¸­éœ€è¦æœ‰ä¸€ä¸ªé“¾
æ¥ï¼Œè¿™ä¸ªé“¾æ¥éœ€è¦å…·å¤‡ä»¥ä¸‹çš„ç‰¹æ€§ï¼šèƒ½å¤Ÿæ ‡è¯†ç”¨æˆ·ï¼Œè¯¥é“¾æ¥å…·æœ‰æ—¶æ•ˆæ€§ï¼ˆé€šå¸¸åª
å…è®¸å‡ å°æ—¶ä¹‹å†…æ¿€æ´»ï¼‰ï¼Œä¸èƒ½è¢«ç¯¡æ”¹ä»¥æ¿€æ´»å…¶å®ƒå¯èƒ½çš„è´¦æˆ·&hellip;&hellip;è¿™ç§åœºæ™¯å°±å’Œ jwt
çš„ç‰¹æ€§éå¸¸è´´è¿‘ï¼Œjwt çš„ payloadä¸­å›ºå®šçš„å‚æ•°ï¼šiss ç­¾å‘è€…å’Œ exp è¿‡æœŸæ—¶é—´
æ­£æ˜¯ä¸ºå…¶åšå‡†å¤‡çš„ã€‚
<strong>2 .restfulapiçš„æ— çŠ¶æ€è®¤è¯</strong>
ä½¿ç”¨ jwt æ¥åš restfulapi çš„èº«ä»½è®¤è¯ä¹Ÿæ˜¯å€¼å¾—æ¨å´‡çš„ä¸€ç§ä½¿ç”¨æ–¹æ¡ˆã€‚å®¢æˆ·
ç«¯å’ŒæœåŠ¡ç«¯å…±äº« secretï¼›è¿‡æœŸæ—¶é—´ç”±æœåŠ¡ç«¯æ ¡éªŒï¼Œå®¢æˆ·ç«¯å®šæ—¶åˆ·æ–°ï¼›ç­¾åä¿¡æ¯
ä¸å¯è¢«ä¿®æ”¹&hellip;&hellip;springsecurityoauthjwt æä¾›äº†ä¸€å¥—å®Œæ•´çš„ jwt è®¤è¯ä½“ç³»ï¼Œ
ä»¥ç¬”è€…çš„ç»éªŒæ¥çœ‹ï¼šä½¿ç”¨ oauth 2 æˆ– jwt æ¥åš restfulapi çš„è®¤è¯éƒ½æ²¡æœ‰å¤§é—®
é¢˜ï¼Œoauth 2 åŠŸèƒ½æ›´å¤šï¼Œæ”¯æŒçš„åœºæ™¯æ›´ä¸°å¯Œï¼Œåè€…å®ç°ç®€å•ã€‚
<strong>3 .ä½¿ç”¨ jwt åšå•ç‚¹ç™»å½•+ä¼šè¯ç®¡ç†(ä¸æ¨è)</strong></li>
</ol>
<p><strong>10. 9. 5. 2 é¢è¯•é—®é¢˜ï¼š</strong></p>
<p><strong>10. 9. 5. 2. 1 JWTtoken æ³„éœ²äº†æ€ä¹ˆåŠï¼Ÿ(å¸¸é—®)</strong></p>
<p>ä½¿ç”¨ https åŠ å¯†ä½ çš„åº”ç”¨ï¼Œè¿”å› jwt ç»™å®¢æˆ·ç«¯æ—¶è®¾ç½® httpOnly=true å¹¶
ä¸”ä½¿ç”¨ cookie è€Œä¸æ˜¯ LocalStorage å­˜å‚¨ jwtï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ XSS æ”»å‡»å’Œ
CSRFæ”»å‡»ã€‚</p>
<p><strong>10. 9. 5. 2. 2 Secretå¦‚ä½•è®¾è®¡ï¼Ÿ</strong></p>
<p>jwt å”¯ä¸€å­˜å‚¨åœ¨æœåŠ¡ç«¯çš„åªæœ‰ä¸€ä¸ª secretï¼Œä¸ªäººè®¤ä¸ºè¿™ä¸ª secret åº”è¯¥è®¾è®¡
æˆå’Œç”¨æˆ·ç›¸å…³çš„å±æ€§ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ‰€æœ‰ç”¨æˆ·å…¬ç”¨çš„ç»Ÿä¸€å€¼ã€‚è¿™æ ·å¯ä»¥æœ‰æ•ˆçš„é¿å…
ä¸€äº›æ³¨é”€å’Œä¿®æ”¹å¯†ç æ—¶é‡åˆ°çš„çª˜å¢ƒã€‚</p>
<p><strong>10. 9. 5. 2. 3 æ³¨é”€å’Œä¿®æ”¹å¯†ç ï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿçš„ session+cookieæ–¹æ¡ˆç”¨æˆ·ç‚¹å‡»æ³¨é”€ï¼ŒæœåŠ¡ç«¯æ¸…ç©º session å³å¯ï¼Œ
å› ä¸ºçŠ¶æ€ä¿å­˜åœ¨æœåŠ¡ç«¯ã€‚ä½† jwt çš„æ–¹æ¡ˆå°±æ¯”è¾ƒéš¾åŠäº†ï¼Œå› ä¸º jwt æ˜¯æ— çŠ¶æ€çš„ï¼Œ
æœåŠ¡ç«¯é€šè¿‡è®¡ç®—æ¥æ ¡éªŒæœ‰æ•ˆæ€§ã€‚æ²¡æœ‰å­˜å‚¨èµ·æ¥ï¼Œæ‰€ä»¥å³ä½¿å®¢æˆ·ç«¯åˆ é™¤äº† jwtï¼Œä½†
æ˜¯è¯¥ jwt è¿˜æ˜¯åœ¨æœ‰æ•ˆæœŸå†…ï¼Œåªä¸è¿‡å¤„äºä¸€ä¸ªæ¸¸ç¦»çŠ¶æ€ã€‚åˆ†æä¸‹ç—›ç‚¹ï¼šæ³¨é”€å˜å¾—
å¤æ‚çš„åŸå› åœ¨äº jwt çš„æ— çŠ¶æ€ã€‚æä¾›å‡ ä¸ªæ–¹æ¡ˆï¼Œè§†å…·ä½“çš„ä¸šåŠ¡æ¥å†³å®šèƒ½ä¸èƒ½æ¥
å—ï¼š
ä»…ä»…æ¸…ç©ºå®¢æˆ·ç«¯çš„ cookieï¼Œè¿™æ ·ç”¨æˆ·è®¿é—®æ—¶å°±ä¸ä¼šæºå¸¦ jwtï¼ŒæœåŠ¡ç«¯å°±è®¤
ä¸ºç”¨æˆ·éœ€è¦é‡æ–°ç™»å½•ã€‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å‡æ³¨é”€ï¼Œå¯¹äºç”¨æˆ·è¡¨ç°å‡ºé€€å‡ºçš„è¡Œä¸ºï¼Œå®
é™…ä¸Šè¿™ä¸ªæ—¶å€™æºå¸¦å¯¹åº”çš„ jwt ä¾æ—§å¯ä»¥è®¿é—®ç³»ç»Ÿã€‚</p>
<p>æ¸…ç©ºæˆ–ä¿®æ”¹æœåŠ¡ç«¯çš„ç”¨æˆ·å¯¹åº”çš„ secretï¼Œè¿™æ ·åœ¨ç”¨æˆ·æ³¨é”€åï¼Œjwt æœ¬èº«ä¸å˜ï¼Œ
ä½†æ˜¯ç”±äº secret ä¸å­˜åœ¨æˆ–æ”¹å˜ï¼Œåˆ™æ— æ³•å®Œæˆæ ¡éªŒã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå°† secret è®¾
è®¡æˆå’Œç”¨æˆ·ç›¸å…³çš„åŸå› ã€‚
å€ŸåŠ©ç¬¬ä¸‰æ–¹å­˜å‚¨è‡ªå·±ç®¡ç† jwt çš„çŠ¶æ€ï¼Œå¯ä»¥ä»¥ jwt ä¸º keyï¼Œå®ç°å» Redis
ä¸€ç±»çš„ç¼“å­˜ä¸­é—´ä»¶ä¸­å»æ ¡éªŒå­˜åœ¨æ€§ã€‚æ–¹æ¡ˆè®¾è®¡å¹¶ä¸éš¾ï¼Œä½†æ˜¯å¼•å…¥ Redisä¹‹åï¼Œ
å°±æŠŠæ— çŠ¶æ€çš„ jwt ç¡¬ç”Ÿç”Ÿå˜æˆäº†æœ‰çŠ¶æ€äº†ï¼Œè¿èƒŒäº† jwt çš„åˆè¡·ã€‚å®é™…ä¸Šè¿™ä¸ªæ–¹
æ¡ˆå’Œ session éƒ½å·®ä¸å¤šäº†ã€‚
ä¿®æ”¹å¯†ç åˆ™ç•¥å¾®æœ‰äº›ä¸åŒï¼Œå‡è®¾å·è¢«åˆ°äº†ï¼Œä¿®æ”¹å¯†ç ï¼ˆæ˜¯ç”¨æˆ·å¯†ç ï¼Œä¸æ˜¯ jwt
çš„ secretï¼‰ä¹‹åï¼Œç›—å·è€…åœ¨åŸ jwt æœ‰æ•ˆæœŸä¹‹å†…ä¾æ—§å¯ä»¥ç»§ç»­è®¿é—®ç³»ç»Ÿï¼Œæ‰€ä»¥ä»…
ä»…æ¸…ç©º cookie è‡ªç„¶æ˜¯ä¸å¤Ÿçš„ï¼Œè¿™æ—¶ï¼Œéœ€è¦å¼ºåˆ¶æ€§çš„ä¿®æ”¹ secretã€‚</p>
<p><strong>10. 9. 5. 2. 4 å¦‚ä½•è§£å†³ç»­ç­¾é—®é¢˜</strong></p>
<p>ä¼ ç»Ÿçš„ cookie ç»­ç­¾æ–¹æ¡ˆä¸€èˆ¬éƒ½æ˜¯æ¡†æ¶è‡ªå¸¦çš„ï¼Œsession æœ‰æ•ˆæœŸ 30 åˆ†é’Ÿï¼Œ
30 åˆ†é’Ÿå†…å¦‚æœæœ‰è®¿é—®ï¼Œsession æœ‰æ•ˆæœŸè¢«åˆ·æ–°è‡³ 30 åˆ†é’Ÿã€‚è€Œ jwt æœ¬èº«çš„
payloadä¹‹ä¸­ä¹Ÿæœ‰ä¸€ä¸ª exp è¿‡æœŸæ—¶é—´å‚æ•°ï¼Œæ¥ä»£è¡¨ä¸€ä¸ª jwt çš„æ—¶æ•ˆæ€§ï¼Œè€Œ jwt
æƒ³å»¶æœŸè¿™ä¸ª exp å°±æœ‰ç‚¹èº«ä¸ç”±å·±äº†ï¼Œå› ä¸º payload æ˜¯å‚ä¸ç­¾åçš„ï¼Œä¸€æ—¦è¿‡æœŸ
æ—¶é—´è¢«ä¿®æ”¹ï¼Œæ•´ä¸ª jwt ä¸²å°±å˜äº†ï¼Œjwt çš„ç‰¹æ€§å¤©ç„¶ä¸æ”¯æŒç»­ç­¾ã€‚
**è§£å†³æ–¹æ¡ˆ</p>
<ol>
<li>æ¯æ¬¡è¯·æ±‚åˆ·æ–° jwtã€‚**
jwt ä¿®æ”¹ payload ä¸­çš„ expåæ•´ä¸ª jwt ä¸²å°±ä¼šå‘ç”Ÿæ”¹å˜ï¼Œé‚£å°±è®©å®ƒå˜å¥½
äº†ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½è¿”å›ä¸€ä¸ªæ–°çš„ jwt ç»™å®¢æˆ·ç«¯ã€‚åªæ˜¯è¿™ç§æ–¹æ¡ˆå¤ªæš´åŠ›äº†ï¼Œä¼šå¸¦æ¥
çš„æ€§èƒ½é—®é¢˜ã€‚</li>
</ol>
<p><strong>2 .åªè¦å¿«è¦è¿‡æœŸçš„æ—¶å€™åˆ·æ–° jwt</strong>
æ­¤æ–¹æ¡ˆæ˜¯åŸºäºä¸Šä¸ªæ–¹æ¡ˆçš„æ”¹é€ ç‰ˆï¼Œåªåœ¨å‰ä¸€ä¸ªjwtçš„æœ€åå‡ åˆ†é’Ÿè¿”å›ç»™å®¢æˆ·
ç«¯ä¸€ä¸ªæ–°çš„ jwtã€‚è¿™æ ·åšï¼Œè§¦å‘åˆ·æ–° jwt åŸºæœ¬å°±è¦çœ‹è¿æ°”äº†ï¼Œå¦‚æœç”¨æˆ·æ°å·§åœ¨
æœ€åå‡ åˆ†é’Ÿè®¿é—®äº†æœåŠ¡å™¨ï¼Œè§¦å‘äº†åˆ·æ–°ï¼Œä¸‡äº‹å¤§å‰ã€‚å¦‚æœç”¨æˆ·è¿ç»­æ“ä½œäº† 27 åˆ†
é’Ÿï¼Œåªæœ‰æœ€åçš„ 3 åˆ†é’Ÿæ²¡æœ‰æ“ä½œï¼Œå¯¼è‡´æœªåˆ·æ–° jwtï¼Œæ— ç–‘ä¼šä»¤ç”¨æˆ·æŠ“ç‹‚ã€‚
<strong>3. å®Œå–„ refreshToken</strong>
å€Ÿé‰´ oauth 2 çš„è®¾è®¡ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ä¸€ä¸ª refreshTokenï¼Œå…è®¸å®¢æˆ·ç«¯ä¸»åŠ¨
åˆ·æ–° jwtã€‚ä¸€èˆ¬è€Œè¨€ï¼Œjwt çš„è¿‡æœŸæ—¶é—´å¯ä»¥è®¾ç½®ä¸ºæ•°å°æ—¶ï¼Œè€Œ refreshToken çš„
è¿‡æœŸæ—¶é—´è®¾ç½®ä¸ºæ•°å¤©ã€‚
<strong>4. ä½¿ç”¨ Redis è®°å½•ç‹¬ç«‹çš„è¿‡æœŸæ—¶é—´</strong>
åœ¨ Redis ä¸­å•ç‹¬ä¸ºæ¯ä¸ª jwt è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œæ¯æ¬¡è®¿é—®æ—¶åˆ·æ–° jwt çš„è¿‡æœŸæ—¶
é—´ï¼Œè‹¥ jwt ä¸å­˜åœ¨ä¸ Redis ä¸­åˆ™è®¤ä¸ºè¿‡æœŸã€‚</p>
<p><strong>10. 9. 5. 2. 5 å¦‚ä½•é˜²æ­¢ä»¤ç‰Œè¢«ç›—ç”¨ï¼Ÿ</strong></p>
<p><strong>ä»¤ç‰Œï¼š</strong></p>
<p>eyJhbGciOiJIUzI 1 NiJ 9 .eyJqdGkiOiJObzAwMDEiLCJpYXQiOjE 1 Njk
xNTg 4 MDgsInN 1 YiI 6 IuS 4 u-mimCIsImlzcyI 6 Ind 3 dy 5 pdGhlaW 1 hLmNvbSI
sImV 4 cCI 6 MTU 2 OTE 1 ODgyMywiYWRkcmVzcyI 6 IuS 4 reWbvSIsIm 1 vbmV
5 IjoxMDAsImFnZSI 6 MjV 9 .lkaOahBKcQ-c 8 sBPp 1 Op-siL 2 k 6 RiwcEiR 17 JsZ
Dw 98</p>
<h5 id="å¦‚æœä»¤ç‰Œè¢«ç›—åªè¦è¯¥ä»¤ç‰Œä¸è¿‡æœŸä»»ä½•æœåŠ¡éƒ½å¯ä»¥ä½¿ç”¨è¯¥ä»¤ç‰Œæœ‰å¯">å¦‚æœä»¤ç‰Œè¢«ç›—ï¼Œåªè¦è¯¥ä»¤ç‰Œä¸è¿‡æœŸï¼Œä»»ä½•æœåŠ¡éƒ½å¯ä»¥ä½¿ç”¨è¯¥ä»¤ç‰Œï¼Œæœ‰å¯</h5>
<h5 id="èƒ½å¼•èµ·ä¸å®‰å…¨æ“ä½œæˆ‘ä»¬å¯ä»¥åœ¨æ¯æ¬¡ç”Ÿæˆä»¤ç‰Œçš„æ—¶å€™å°†ç”¨æˆ·çš„å®¢æˆ·ç«¯ä¿¡æ¯è·å–">èƒ½å¼•èµ·ä¸å®‰å…¨æ“ä½œã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ¯æ¬¡ç”Ÿæˆä»¤ç‰Œçš„æ—¶å€™ï¼Œå°†ç”¨æˆ·çš„å®¢æˆ·ç«¯ä¿¡æ¯è·å–ï¼Œ</h5>
<h5 id="åŒæ—¶è·å–ç”¨æˆ·çš„ipä¿¡æ¯ç„¶åå°†ipå’Œå®¢æˆ·ç«¯ä¿¡æ¯ä»¥md-5-çš„æ–¹å¼è¿›è¡ŒåŠ å¯†æ”¾">åŒæ—¶è·å–ç”¨æˆ·çš„IPä¿¡æ¯ï¼Œç„¶åå°†IPå’Œå®¢æˆ·ç«¯ä¿¡æ¯ä»¥MD 5 çš„æ–¹å¼è¿›è¡ŒåŠ å¯†ï¼Œæ”¾</h5>
<h5 id="åˆ°ä»¤ç‰Œä¸­ä½œä¸ºè½½è·çš„ä¸€éƒ¨åˆ†ç”¨æˆ·æ¯æ¬¡è®¿é—®å¾®æœåŠ¡çš„æ—¶å€™è¦å…ˆç»è¿‡å¾®æœåŠ¡ç½‘å…³">åˆ°ä»¤ç‰Œä¸­ä½œä¸ºè½½è·çš„ä¸€éƒ¨åˆ†ï¼Œç”¨æˆ·æ¯æ¬¡è®¿é—®å¾®æœåŠ¡çš„æ—¶å€™ï¼Œè¦å…ˆç»è¿‡å¾®æœåŠ¡ç½‘å…³ï¼Œ</h5>
<h5 id="æ­¤æ—¶æˆ‘ä»¬ä¹Ÿè·å–ç”¨æˆ·å®¢æˆ·ç«¯ä¿¡æ¯åŒæ—¶è·å–ç”¨æˆ·çš„ipç„¶åå°†ipå’Œå®¢æˆ·ç«¯ä¿¡æ¯">æ­¤æ—¶æˆ‘ä»¬ä¹Ÿè·å–ç”¨æˆ·å®¢æˆ·ç«¯ä¿¡æ¯ï¼ŒåŒæ—¶è·å–ç”¨æˆ·çš„IPï¼Œç„¶åå°†IPå’Œå®¢æˆ·ç«¯ä¿¡æ¯</h5>
<h5 id="æ‹¼æ¥åˆ°ä¸€èµ·å†è¿›è¡Œmd-5-åŠ å¯†å¦‚æœmd-5-å€¼å’Œè½½è·ä¸ä¸€è‡´è¯´æ˜ç”¨æˆ·çš„ipå‘ç”Ÿ">æ‹¼æ¥åˆ°ä¸€èµ·å†è¿›è¡ŒMD 5 åŠ å¯†ï¼Œå¦‚æœMD 5 å€¼å’Œè½½è·ä¸ä¸€è‡´ï¼Œè¯´æ˜ç”¨æˆ·çš„IPå‘ç”Ÿ</h5>
<h5 id="äº†å˜åŒ–æˆ–è€…ç»ˆç«¯å‘ç”Ÿäº†å˜åŒ–æœ‰è¢«ç›—çš„å«Œç–‘æ­¤æ—¶ä¸è®©è®¿é—®å³å¯è¿™ç§è§£å†³æ–¹æ¡ˆ">äº†å˜åŒ–æˆ–è€…ç»ˆç«¯å‘ç”Ÿäº†å˜åŒ–ï¼Œæœ‰è¢«ç›—çš„å«Œç–‘ï¼Œæ­¤æ—¶ä¸è®©è®¿é—®å³å¯ã€‚è¿™ç§è§£å†³æ–¹æ¡ˆ</h5>
<h5 id="æ¯”è¾ƒæœ‰æ•ˆ">æ¯”è¾ƒæœ‰æ•ˆã€‚</h5>
<h5 id="å½“ç„¶è¿˜æœ‰ä¸€äº›åˆ«çš„æ–¹æ³•ä¹Ÿèƒ½å‡å°‘ä»¤ç‰Œè¢«ç›—ç”¨çš„æ¦‚ç‡ä¾‹å¦‚è®¾ç½®ä»¤ç‰Œè¶…">å½“ç„¶ï¼Œè¿˜æœ‰ä¸€äº›åˆ«çš„æ–¹æ³•ä¹Ÿèƒ½å‡å°‘ä»¤ç‰Œè¢«ç›—ç”¨çš„æ¦‚ç‡ï¼Œä¾‹å¦‚è®¾ç½®ä»¤ç‰Œè¶…</h5>
<h5 id="æ—¶æ—¶é—´ä¸è¦å¤ªé•¿">æ—¶æ—¶é—´ä¸è¦å¤ªé•¿ã€‚</h5>
<h3 id="10-9-6-åŠ å¯†æŠ€æœ¯">10 9 6 åŠ å¯†æŠ€æœ¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="åŠ å¯†æŠ€æœ¯æ˜¯å¯¹ä¿¡æ¯è¿›è¡Œç¼–ç å’Œè§£ç çš„æŠ€æœ¯ç¼–ç æ˜¯æŠŠåŸæ¥å¯è¯»ä¿¡æ¯åˆç§°æ˜æ–‡">åŠ å¯†æŠ€æœ¯æ˜¯å¯¹ä¿¡æ¯è¿›è¡Œç¼–ç å’Œè§£ç çš„æŠ€æœ¯ï¼Œç¼–ç æ˜¯æŠŠåŸæ¥å¯è¯»ä¿¡æ¯ï¼ˆåˆç§°æ˜æ–‡ï¼‰</h5>
<h5 id="è¯‘æˆä»£ç å½¢å¼åˆç§°å¯†æ–‡å…¶é€†è¿‡ç¨‹å°±æ˜¯è§£ç è§£å¯†åŠ å¯†æŠ€æœ¯çš„è¦ç‚¹æ˜¯åŠ ">è¯‘æˆä»£ç å½¢å¼ï¼ˆåˆç§°å¯†æ–‡ï¼‰ï¼Œå…¶é€†è¿‡ç¨‹å°±æ˜¯è§£ç ï¼ˆè§£å¯†ï¼‰ï¼ŒåŠ å¯†æŠ€æœ¯çš„è¦ç‚¹æ˜¯åŠ </h5>
<h5 id="å¯†ç®—æ³•åŠ å¯†ç®—æ³•å¯ä»¥åˆ†ä¸ºä¸‰ç±»">å¯†ç®—æ³•ï¼ŒåŠ å¯†ç®—æ³•å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š</h5>
<p><strong>å¯¹ç§°åŠ å¯†ï¼Œå¦‚AES</strong>
åŸºæœ¬åŸç†ï¼šå°†æ˜æ–‡åˆ†æˆNä¸ªç»„ï¼Œç„¶åä½¿ç”¨å¯†é’¥å¯¹å„ä¸ªç»„è¿›è¡ŒåŠ å¯†ï¼Œå½¢æˆå„è‡ª
çš„å¯†æ–‡ï¼Œæœ€åæŠŠæ‰€æœ‰çš„åˆ†ç»„å¯†æ–‡è¿›è¡Œåˆå¹¶ï¼Œå½¢æˆæœ€ç»ˆçš„å¯†æ–‡ã€‚
ä¼˜åŠ¿ï¼šç®—æ³•å…¬å¼€ã€è®¡ç®—é‡å°ã€åŠ å¯†é€Ÿåº¦å¿«ã€åŠ å¯†æ•ˆç‡é«˜
ç¼ºé™·ï¼šåŒæ–¹éƒ½ä½¿ç”¨åŒæ ·å¯†é’¥ï¼Œå®‰å…¨æ€§å¾—ä¸åˆ°ä¿è¯
<strong>éå¯¹ç§°åŠ å¯†ï¼Œå¦‚RSA</strong>
åŸºæœ¬åŸç†ï¼šåŒæ—¶ç”Ÿæˆä¸¤æŠŠå¯†é’¥ï¼šç§é’¥å’Œå…¬é’¥ï¼Œç§é’¥éšç§˜ä¿å­˜ï¼Œå…¬é’¥å¯ä»¥ä¸‹å‘</p>
<h5 id="ç»™ä¿¡ä»»å®¢æˆ·ç«¯ç§é’¥åŠ å¯†æŒæœ‰ç§é’¥æˆ–å…¬é’¥æ‰å¯ä»¥è§£å¯†å…¬é’¥åŠ å¯†æŒæœ‰ç§é’¥æ‰å¯è§£">ç»™ä¿¡ä»»å®¢æˆ·ç«¯ç§é’¥åŠ å¯†ï¼ŒæŒæœ‰ç§é’¥æˆ–å…¬é’¥æ‰å¯ä»¥è§£å¯†å…¬é’¥åŠ å¯†ï¼ŒæŒæœ‰ç§é’¥æ‰å¯è§£</h5>
<h5 id="å¯†">å¯†</h5>
<h5 id="ä¼˜ç‚¹å®‰å…¨éš¾ä»¥ç ´è§£">ä¼˜ç‚¹ï¼šå®‰å…¨ï¼Œéš¾ä»¥ç ´è§£</h5>
<h5 id="ç¼ºç‚¹ç®—æ³•æ¯”è¾ƒè€—æ—¶">ç¼ºç‚¹ï¼šç®—æ³•æ¯”è¾ƒè€—æ—¶</h5>
<p><strong>ä¸å¯é€†åŠ å¯†ï¼Œå¦‚MD 5 ï¼ŒSHA</strong>
åŸºæœ¬åŸç†ï¼šåŠ å¯†è¿‡ç¨‹ä¸­ä¸éœ€è¦ä½¿ç”¨å¯†é’¥ï¼Œè¾“å…¥æ˜æ–‡åç”±ç³»ç»Ÿç›´æ¥ç»è¿‡åŠ å¯†ç®—
æ³•å¤„ç†æˆå¯†æ–‡ï¼Œè¿™ç§åŠ å¯†åçš„æ•°æ®æ˜¯æ— æ³•è¢«è§£å¯†çš„ï¼Œæ— æ³•æ ¹æ®å¯†æ–‡æ¨ç®—å‡ºæ˜æ–‡ã€‚
<strong>RSA</strong>
1977 å¹´ï¼Œä¸‰ä½æ•°å­¦å®¶Rivestã€Shamir å’Œ Adleman è®¾è®¡çš„ä¸€ç§ç®—æ³•ï¼Œå¯
ä»¥å®ç°éå¯¹ç§°åŠ å¯†ã€‚è¿™ç§ç®—æ³•ç”¨ä»–ä»¬ä¸‰ä¸ªäººçš„åå­—ç¼©å†™ï¼šRSAã€‚
ä¸ºä»€ä¹ˆè¦ä½¿ç”¨RSA éå¯¹ç§°åŠ å¯†
ä½¿ç”¨éå¯¹ç§°åŠ å¯†çš„ç‰¹æ€§ï¼Œä¸ç”¨æ‹…å¿ƒå…¬é’¥æ³„æ¼é—®é¢˜ï¼Œå› ä¸ºå…¬é’¥æ˜¯æ— æ³•ä¼ªé€ ç­¾åçš„ã€‚</p>
<h2 id="10-10-è´­ç‰©è½¦localstorageredis">10 10 è´­ç‰©è½¦(localstorage+Redis)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="10-10-1-ä¸šåŠ¡æ€è·¯">10 10 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="è´­ç‰©è½¦æ•°æ®ç»“æ„----å¯¹è±¡çš„æ•°ç»„-">è´­ç‰©è½¦æ•°æ®ç»“æ„ &mdash;&gt;å¯¹è±¡çš„æ•°ç»„ [{&hellip;},{&hellip;},{&hellip;}]</h5>
<h5 id="ä¸ç®¡ç”¨æˆ·æ˜¯å¦ç™»å½•éƒ½éœ€è¦å®ç°è´­ç‰©è½¦åŠŸèƒ½é‚£ä¹ˆå·²ç™»å½•å’Œæœªç™»å½•æƒ…å†µä¸‹è´­ç‰©">ä¸ç®¡ç”¨æˆ·æ˜¯å¦ç™»å½•,éƒ½éœ€è¦å®ç°è´­ç‰©è½¦åŠŸèƒ½,é‚£ä¹ˆå·²ç™»å½•å’Œæœªç™»å½•æƒ…å†µä¸‹,è´­ç‰©</h5>
<h5 id="è½¦æ•°æ®åº”è¯¥å­˜æ”¾åœ¨å“ªé‡Œå‘¢">è½¦æ•°æ®åº”è¯¥å­˜æ”¾åœ¨å“ªé‡Œå‘¢</h5>
<h5 id="-1-æœªç™»å½•è´­ç‰©è½¦">( 1 )æœªç™»å½•è´­ç‰©è½¦:</h5>
<h5 id="ç”¨æˆ·å¦‚æœæœªç™»å½•å°†æ•°æ®ä¿å­˜åœ¨ä¸æœåŠ¡ç«¯å­˜åœ¨ä¸€äº›é—®é¢˜">ç”¨æˆ·å¦‚æœæœªç™»å½•,å°†æ•°æ®ä¿å­˜åœ¨ä¸æœåŠ¡ç«¯å­˜åœ¨ä¸€äº›é—®é¢˜:</h5>
<h5 id="æ— æ³•ç¡®å®šç”¨æˆ·èº«ä»½éœ€è¦å€ŸåŠ©äºå®¢æˆ·ç«¯å­˜å‚¨è¯†åˆ«èº«ä»½">â‘ æ— æ³•ç¡®å®šç”¨æˆ·èº«ä»½,éœ€è¦å€ŸåŠ©äºå®¢æˆ·ç«¯å­˜å‚¨è¯†åˆ«èº«ä»½</h5>
<h5 id="æœåŠ¡ç«¯æ•°æ®å­˜å‚¨å‹åŠ›å¢åŠ è€Œä¸”å¯èƒ½æ˜¯æ— æ•ˆæ•°æ®">â‘¡æœåŠ¡ç«¯æ•°æ®å­˜å‚¨å‹åŠ›å¢åŠ ,è€Œä¸”å¯èƒ½æ˜¯æ— æ•ˆæ•°æ®</h5>
<h5 id="é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æŠŠæ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯è¿™æ ·æ¯ä¸ªç”¨æˆ·ä¿å­˜è‡ªå·±çš„æ•°æ®å°±ä¸å­˜åœ¨">é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æŠŠæ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯,è¿™æ ·æ¯ä¸ªç”¨æˆ·ä¿å­˜è‡ªå·±çš„æ•°æ®,å°±ä¸å­˜åœ¨</h5>
<h5 id="èº«ä»½è¯†åˆ«çš„é—®é¢˜äº†è€Œä¸”ä¹Ÿè§£å†³äº†æœåŠ¡ç«¯æ•°æ®åº“å­˜å‚¨å‹åŠ›çš„é—®é¢˜">èº«ä»½è¯†åˆ«çš„é—®é¢˜äº†,è€Œä¸”ä¹Ÿè§£å†³äº†æœåŠ¡ç«¯æ•°æ®åº“å­˜å‚¨å‹åŠ›çš„é—®é¢˜</h5>
<p>Webæœ¬åœ°å­˜å‚¨ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼:
â‘ LocalStorageï¼šlocalStorage æ–¹æ³•å­˜å‚¨çš„æ•°æ®æ²¡æœ‰æ—¶é—´é™åˆ¶ã€‚ç¬¬äºŒå¤©ã€
ç¬¬äºŒå‘¨æˆ–ä¸‹ä¸€å¹´ä¹‹åï¼Œæ•°æ®ä¾ç„¶å¯ç”¨(æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå®ç°æœ¬åœ°å­˜å‚¨)
â‘¡SessionStorageï¼šsessionStorage æ–¹æ³•é’ˆå¯¹ä¸€ä¸ª session è¿›è¡Œæ•°æ®å­˜
å‚¨ã€‚å½“ç”¨æˆ·å…³é—­æµè§ˆå™¨çª—å£åï¼Œæ•°æ®ä¼šè¢«åˆ é™¤
æ³¨æ„:localStorageå’ŒSessionStorageéƒ½åªèƒ½ä¿å­˜å­—ç¬¦ä¸²,å› æ­¤åœ¨ä½¿ç”¨æ—¶è¦
æ³¨æ„
localStorageè¯­æ³•:
localStorage.setItem(&ldquo;key&rdquo;,&ldquo;value&rdquo;);// å­˜å‚¨æ•°æ®
localStorage.getItem(&ldquo;key&rdquo;);// è·å–æ•°æ®
localStorage.removeItem(&ldquo;key&rdquo;);// åˆ é™¤æ•°æ®
<strong>( 2 )å·²ç™»å½•è´­ç‰©è½¦:</strong>
é¦–å…ˆæƒ³åˆ°çš„æ˜¯æ•°æ®åº“,ä¸å¤Ÿè´­ç‰©è½¦æ•°æ®æ¯”è¾ƒç‰¹æ®Š,è¯»å’Œå†™éƒ½æ¯”è¾ƒé¢‘ç¹,å­˜å‚¨æ•°æ®
åº“å‹åŠ›ä¼šæ¯”è¾ƒå¤§.å› æ­¤æˆ‘ä»¬å¿…é¡»è€ƒè™‘å­˜å…¥redisä¸­,è€ƒè™‘åˆ°rediså­˜å‚¨ç©ºé—´é—®é¢˜,æˆ‘
ä»¬å¯ä»¥é™åˆ¶è´­ç‰©è½¦æœ€å¤§æ·»åŠ å•†å“æ•°
<strong>ç¬¬ä¸€æ­¥:è¦æƒ³åŠæ³•è·å–ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯,è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯çš„æ–¹å¼:</strong>
æ–¹å¼ä¸€:é¡µé¢ç›´æ¥æŠŠç”¨æˆ·ä½œä¸ºè¯·æ±‚å‚æ•°ä¼ é€’
ä¼˜ç‚¹:ç®€å•ï¼Œæ–¹ä¾¿ï¼Œä»£ç é‡ä¸º 0
ç¼ºç‚¹:ä¸å®‰å…¨ï¼Œå› ä¸ºè°ƒç”¨è´­ç‰©è½¦CRUDçš„è¯·æ±‚æ˜¯ä»é¡µé¢å‘è¿‡æ¥çš„ï¼Œæˆ‘
ä»¬ä¸èƒ½ç¡®å®šè¿™ä¸ªä¼ é€’æ¥çš„idæ˜¯ä¸æ˜¯çœŸçš„æ˜¯ç”¨æˆ·çš„id</p>
<p>æ–¹æ‹¾äºŒ:è‡ªå·±ä»cookieçš„tokenä¸­è§£æJWT
ä¼˜ç‚¹:å®‰å…¨
ç¼ºç‚¹:éœ€è¦é‡å¤æ ¡éªŒJWTï¼Œå·²ç»åœ¨ç½‘å…³ä¸­åšè¿‡äº†,ä»£ç éº»çƒ¦
æ–¹å¼ä¸‰:åœ¨ç½‘å…³æ ¡éªŒç”¨æˆ·çš„æ—¶å€™ï¼ŒæŠŠç”¨æˆ·ä¿¡æ¯ä¼ é€’åˆ°åé¢çš„å¾®æœåŠ¡
ä¼˜ç‚¹:å®‰å…¨ï¼Œå¹¶ä¸”å¾®æœåŠ¡ä¸éœ€è¦è‡ªå·±è§£æ
ç¼ºç‚¹:éœ€è¦åœ¨ç½‘å…³åŠ å…¥æ–°çš„é€»è¾‘
å¾®æœåŠ¡ä¹Ÿè¦å†™å›å»ç”¨æˆ·çš„é€»è¾‘ï¼Œä»£ç éº»çƒ¦
æˆ‘ä»¬é€‰æ‹©æ–¹å¼äºŒï¼Œä½†æ˜¯æ–¹å¼äºŒä¸­çš„éœ€è¦è§£æJWTï¼Œæ€§èƒ½å¤ªå·®ï¼Œå› ä¸ºtoken
ä¸­çš„è½½è·æ˜¯BASE 64 ç¼–ç ï¼Œå¯ä»¥ä¸ç”¨éªŒè¯jwtï¼Œç›´æ¥è§£æè½½è·å³å¯
<strong>ç¬¬äºŒæ­¥:è´­ç‰©è½¦ä¸­çš„æ¯ä¸ªä¸šåŠ¡éƒ½éœ€è¦è·å–å½“å‰ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœåœ¨æ¯ä¸ªæ¥
å£ä¸­éƒ½å†™è¿™æ ·ä¸€æ®µé€»è¾‘ï¼Œæ˜¾ç„¶æ˜¯å†—ä½™çš„ã€‚æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥åˆ©ç”¨AOPçš„æ€æƒ³ï¼Œæ‹¦
æˆªæ¯ä¸€ä¸ªè¿›å…¥controllerçš„è¯·æ±‚ï¼Œç»Ÿä¸€å®Œæˆç™»å½•ç”¨æˆ·çš„è·å–å‘¢</strong>
â‘ ç¼–å†™AOPæ‹¦æˆªï¼Œç»Ÿä¸€è·å–ç™»å½•ç”¨æˆ·:è¿™ä¸ªå¯ä»¥ä½¿ç”¨SpringMVCçš„é€š
ç”¨æ‹¦æˆªå™¨ï¼šHandlerInterceptoræ¥å®ç°
â‘¡æŠŠç”¨æˆ·ä¿å­˜èµ·æ¥ï¼Œæ–¹ä¾¿åé¢çš„controllerä½¿ç”¨,æ¯æ¬¡è¯·æ±‚éƒ½æœ‰ä¸åŒçš„ç”¨
æˆ·ä¿¡æ¯ï¼Œåœ¨å¹¶å‘è¯·æ±‚æƒ…å†µä¸‹ï¼Œå¿…é¡»ä¿è¯æ¯æ¬¡è¯·æ±‚ä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯äº’ä¸å¹²æ‰°ï¼Œçº¿ç¨‹
ç‹¬ç«‹
é—®é¢˜?ç”¨æˆ·ä¿¡æ¯ä¿å­˜åˆ°å“ª?
<strong>ç¬¬ä¸‰æ­¥:åœ¨å¹¶å‘è¯·æ±‚æƒ…å†µä¸‹ï¼Œå› ä¸ºæ¯æ¬¡è¯·æ±‚éƒ½æœ‰ä¸åŒçš„ç”¨æˆ·ä¿¡æ¯ï¼Œæˆ‘ä»¬å¿…é¡»ä¿
è¯æ¯æ¬¡è¯·æ±‚ä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯äº’ä¸å¹²æ‰°ï¼Œçº¿ç¨‹ç‹¬ç«‹ã€‚æ³¨æ„ï¼šè¿™é‡Œä¸æ˜¯è§£å†³å¤šçº¿ç¨‹èµ„
æºå…±äº«é—®é¢˜ï¼Œè€Œæ˜¯è¦ä¿è¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç”¨æˆ·èµ„æºï¼Œäº’ä¸å¹²æ‰°ã€‚è€ŒJDKä¸­
æä¾›çš„ThreadLocalæ°å¥½æ»¡è¶³è¿™ä¸ªéœ€æ±‚</strong></p>
<p>ThreadLocalå…³é”®ç‚¹:
æ¥å£æ–¹æ³•:
publicvoidset(Tvalue)è®¾ç½®å½“å‰çº¿ç¨‹çš„çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼
PublicTget() è¯¥æ–¹æ³•è¿”å›å½“å‰çº¿ç¨‹æ‰€å¯¹åº”çš„çº¿ç¨‹å±€éƒ¨å˜é‡
Publicvoidremove() å°†å½“å‰çº¿ç¨‹å±€éƒ¨å˜é‡çš„å€¼åˆ é™¤ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°‘
å†…å­˜çš„å ç”¨ï¼Œè¯¥æ–¹æ³•æ˜¯JDK 5. 0 æ–°å¢çš„æ–¹æ³•
ProtectedTinitialValue() è¿”å›è¯¥çº¿ç¨‹å±€éƒ¨å˜é‡çš„åˆå§‹å€¼</p>
<h5 id="ç¬¬å››æ­¥è´­ç‰©è½¦çš„æ•°æ®ç»“æ„">ç¬¬å››æ­¥:è´­ç‰©è½¦çš„æ•°æ®ç»“æ„</h5>
<p>Redisæ•°æ®ç»“æ„çš„é€‰æ‹©
é¦–å…ˆä¸åŒç”¨æˆ·åº”è¯¥æœ‰ç‹¬ç«‹çš„è´­ç‰©è½¦ï¼Œå› æ­¤è´­ç‰©è½¦åº”è¯¥ä»¥ç”¨æˆ·çš„ä½œä¸ºkeyæ¥å­˜
å‚¨ï¼ŒValueæ˜¯ç”¨æˆ·çš„æ‰€æœ‰è´­ç‰©è½¦ä¿¡æ¯ã€‚è¿™æ ·çœ‹æ¥åŸºæœ¬çš„k-vç»“æ„å°±å¯ä»¥äº†
ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯¹è´­ç‰©è½¦ä¸­çš„å•†å“è¿›è¡Œå¢ã€åˆ ã€æ”¹æ“ä½œï¼ŒåŸºæœ¬éƒ½éœ€è¦æ ¹æ®å•†å“id
è¿›è¡Œåˆ¤æ–­ï¼Œä¸ºäº†æ–¹ä¾¿åæœŸå¤„ç†ï¼Œæˆ‘ä»¬çš„è´­ç‰©è½¦ä¹Ÿåº”è¯¥æ˜¯k-vç»“æ„ï¼Œkeyæ˜¯å•†å“idï¼Œ
valueæ‰æ˜¯è¿™ä¸ªå•†å“çš„è´­ç‰©è½¦ä¿¡æ¯
ç»¼ä¸Šæ‰€è¿°,æˆ‘ä»¬çš„è´­ç‰©è½¦ç»“æ„æ˜¯ä¸€ä¸ªåŒå±‚map:
Map&lt;String,Map&lt;String,String&raquo;
ç¬¬ä¸€å±‚Mapï¼ŒKeyæ˜¯ç”¨æˆ·id
ç¬¬äºŒå±‚Mapï¼ŒKeyæ˜¯è´­ç‰©è½¦ä¸­å•†å“idï¼Œå€¼æ˜¯è´­ç‰©è½¦æ•°æ®</p>
<h3 id="10-10-2-html-5-webå­˜å‚¨">10 10 2 Html 5 webå­˜å‚¨&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<p>Html 5 æä¾›äº†ä¸¤ç§åœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„æ–°æ–¹æ³•ï¼š
localStorageï¼šæ²¡æœ‰æ—¶é—´é™åˆ¶çš„æ•°æ®å­˜å‚¨
SessionStorageï¼šé’ˆå¯¹ä¸€ä¸ªsessionçš„æ•°æ®å­˜å‚¨ï¼ˆå…³é—­æµè§ˆå™¨ï¼‰
ä¹‹å‰è¿™äº›éƒ½æ˜¯ç”±cookieå®Œæˆçš„ã€‚ä½†æ˜¯cookieä¸é€‚åˆå¤§é‡æ•°æ®çš„å­˜å‚¨ï¼Œå› ä¸º
å®ƒä»¬ç”±æ¯ä¸ªå¯¹æœåŠ¡å™¨çš„è¯·æ±‚æ¥ä¼ é€’ï¼Œè¿™ä½¿å¾—cookieé€Ÿåº¦å¾ˆæ…¢è€Œä¸”æ•ˆç‡ä¹Ÿä¸é«˜ã€‚
åœ¨Html 5 ä¸­ï¼Œæ•°æ®ä¸æ˜¯ç”±æ¯ä¸ªæœåŠ¡å™¨è¯·æ±‚ä¼ é€’çš„ï¼Œè€Œæ˜¯åªæœ‰åœ¨è¯·æ±‚æ—¶ä½¿ç”¨
æ•°æ®ã€‚å®ƒä½¿åœ¨ä¸å½±å“ç½‘ç«™æ€§èƒ½çš„æƒ…å†µä¸‹å­˜å‚¨å¤§é‡æ•°æ®æˆä¸ºå¯èƒ½ã€‚
å¯¹äºä¸åŒçš„ç½‘ç«™ï¼Œæ•°æ®å­˜å‚¨äºä¸åŒçš„åŒºåŸŸï¼Œå¹¶ä¸”ä¸€ä¸ªç½‘ç«™åªèƒ½è®¿é—®å…¶è‡ªèº«çš„
æ•°æ®ã€‚
Html 5 ä½¿ç”¨JavaScriptæ¥å­˜å‚¨å’Œè®¿é—®æ•°æ®ã€‚
<strong>æ³¨æ„</strong> ï¼šlocalStorageå’ŒSessionStorageéƒ½åªèƒ½ä¿å­˜å­—ç¬¦ä¸²ã€‚</p>
<h3 id="10-10-3-redis">10 10 3 Redis&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<p><strong>10. 10. 3. 1 ä»€ä¹ˆæ˜¯Redis</strong></p>
<p>æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSICè¯­è¨€ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„
æ—¥å¿—å‹ã€é«˜æ€§èƒ½çš„Key-Valueæ•°æ®åº“ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„APIã€‚</p>
<p><strong>10. 10. 3. 2 Redisçš„å­˜å‚¨ç»“æ„æœ‰å“ªäº›</strong></p>
<p><strong>String</strong> ï¼Œå­—ç¬¦ä¸²ï¼Œæ˜¯ Redisçš„æœ€åŸºæœ¬çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚
æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ï¼Œæœ€å¤§èƒ½å­˜å‚¨ 512 MBã€‚</p>
<p><strong>Hash</strong> ï¼Œæ•£åˆ—ï¼Œæ˜¯ä¸€ä¸ªé”®å€¼(key=&gt;value)å¯¹é›†åˆã€‚string ç±»å‹çš„ field å’Œ
value çš„æ˜ å°„è¡¨ï¼Œç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚æ¯ä¸ª hash å¯ä»¥å­˜å‚¨ 232 - 1 é”®å€¼
å¯¹ï¼ˆ 40 å¤šäº¿ï¼‰
<strong>List</strong> ï¼Œåˆ—è¡¨ï¼Œæ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒ
ç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚æœ€å¤šå¯å­˜å‚¨ 232 - 1 å…ƒç´ 
( 4294967295 , æ¯ä¸ªåˆ—è¡¨å¯å­˜å‚¨ 40 å¤šäº¿)ã€‚
<strong>Set</strong> ï¼Œé›†åˆï¼Œ æ˜¯ string ç±»å‹çš„æ— åºé›†åˆï¼Œæœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 -
1 ( 4294967295 , æ¯ä¸ªé›†åˆå¯å­˜å‚¨ 40 å¤šäº¿ä¸ªæˆå‘˜)ã€‚
<strong>Sortedset</strong> ï¼Œæœ‰åºé›†åˆï¼Œå’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸
é‡å¤çš„æˆå‘˜ã€‚ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚Redisæ­£æ˜¯
é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚zsetçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°
(score)å´å¯ä»¥é‡å¤ã€‚</p>
<p><strong>10. 10. 3. 3 Redisçš„ä¼˜ç‚¹</strong></p>
<ol>
<li>çº¯å†…å­˜æ“ä½œã€‚</li>
<li>å•çº¿ç¨‹æ“ä½œï¼Œé¿å…äº†é¢‘ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</li>
<li>é‡‡ç”¨äº†éé˜»å¡I/Oå¤šè·¯å¤ç”¨æœºåˆ¶ã€‚
<strong>I/Oå¤šè·¯å¤ç”¨æœºåˆ¶</strong>
I/Oå¤šè·¯å¤ç”¨å°±æ˜¯åªæœ‰å•ä¸ªçº¿ç¨‹ï¼Œé€šè¿‡è·Ÿè¸ªæ¯ä¸ªI/Oæµçš„çŠ¶æ€ï¼Œæ¥ç®¡ç†å¤šä¸ª
I/Oæµã€‚</li>
</ol>
<p><strong>10. 10. 3. 4 Redisçš„ç¼ºç‚¹</strong></p>
<p><strong>ç¼“å­˜å’Œæ•°æ®åº“åŒå†™ä¸€è‡´æ€§é—®é¢˜</strong>
ä¸€è‡´æ€§çš„é—®é¢˜å¾ˆå¸¸è§ï¼Œå› ä¸ºåŠ å…¥äº†ç¼“å­˜ä¹‹åï¼Œè¯·æ±‚æ˜¯å…ˆä»Redisä¸­æŸ¥è¯¢ï¼Œå¦‚
æœRedisä¸­å­˜åœ¨æ•°æ®å°±ä¸ä¼šèµ°æ•°æ®åº“äº†ï¼Œå¦‚æœä¸èƒ½ä¿è¯ç¼“å­˜è·Ÿæ•°æ®åº“çš„ä¸€è‡´æ€§å°±
ä¼šå¯¼è‡´è¯·æ±‚è·å–åˆ°çš„æ•°æ®ä¸æ˜¯æœ€æ–°çš„æ•°æ®ã€‚
è§£å†³æ–¹æ¡ˆï¼š
1 ã€ç¼–å†™åˆ é™¤ç¼“å­˜çš„æ¥å£ï¼Œåœ¨æ›´æ–°æ•°æ®åº“çš„åŒæ—¶ï¼Œè°ƒç”¨åˆ é™¤ç¼“å­˜çš„æ¥å£åˆ é™¤
ç¼“å­˜ä¸­çš„æ•°æ®ã€‚è¿™ä¹ˆåšä¼šæœ‰è€¦åˆé«˜ä»¥åŠè°ƒç”¨æ¥å£å¤±è´¥çš„æƒ…å†µã€‚
2 ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼šActiveMQï¼Œæ¶ˆæ¯é€šçŸ¥ã€‚
<strong>ç¼“å­˜çš„å¹¶å‘ç«äº‰é—®é¢˜</strong>
å¹¶å‘ç«äº‰ï¼ŒæŒ‡çš„æ˜¯åŒæ—¶æœ‰å¤šä¸ªå­ç³»ç»Ÿå»setåŒä¸€ä¸ªkeyå€¼ã€‚
è§£å†³æ–¹æ¡ˆï¼šæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯å‡†å¤‡ä¸€ä¸ªåˆ†å¸ƒå¼é”ï¼Œå¤§å®¶å»æŠ¢é”ï¼ŒæŠ¢åˆ°é”å°±åš
setæ“ä½œå³å¯
<strong>ç¼“å­˜é›ªå´©é—®é¢˜</strong>
ç¼“å­˜é›ªå´©ï¼Œå³ç¼“å­˜åŒä¸€æ—¶é—´å¤§é¢ç§¯çš„å¤±æ•ˆï¼Œè¿™ä¸ªæ—¶å€™åˆæ¥äº†ä¸€æ³¢è¯·æ±‚ï¼Œç»“æœ
è¯·æ±‚éƒ½æ€¼åˆ°æ•°æ®åº“ä¸Šï¼Œä»è€Œå¯¼è‡´æ•°æ®åº“è¿æ¥å¼‚å¸¸ã€‚
è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>ç»™ç¼“å­˜çš„å¤±æ•ˆæ—¶é—´ï¼ŒåŠ ä¸Šä¸€ä¸ªéšæœºå€¼ï¼Œé¿å…é›†ä½“å¤±æ•ˆã€‚</li>
<li>ä½¿ç”¨äº’æ–¥é”ï¼Œä½†æ˜¯è¯¥æ–¹æ¡ˆååé‡æ˜æ˜¾ä¸‹é™äº†ã€‚</li>
<li>æ­å»ºRedisé›†ç¾¤ã€‚
<strong>ç¼“å­˜å‡»ç©¿é—®é¢˜</strong>
ç¼“å­˜ç©¿é€ï¼Œå³é»‘å®¢æ•…æ„å»è¯·æ±‚ç¼“å­˜ä¸­ä¸å­˜åœ¨çš„æ•°æ®ï¼Œå¯¼è‡´æ‰€æœ‰çš„è¯·æ±‚éƒ½æ€¼åˆ°</li>
</ol>
<h5 id="æ•°æ®åº“ä¸Šä»è€Œæ•°æ®åº“è¿æ¥å¼‚å¸¸">æ•°æ®åº“ä¸Šï¼Œä»è€Œæ•°æ®åº“è¿æ¥å¼‚å¸¸ã€‚</h5>
<h5 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆï¼š</h5>
<h5 id="1-åˆ©ç”¨äº’æ–¥é”ç¼“å­˜å¤±æ•ˆçš„æ—¶å€™å…ˆå»è·å¾—é”å¾—åˆ°é”äº†å†å»è¯·æ±‚æ•°æ®">1 ã€åˆ©ç”¨äº’æ–¥é”ï¼Œç¼“å­˜å¤±æ•ˆçš„æ—¶å€™ï¼Œå…ˆå»è·å¾—é”ï¼Œå¾—åˆ°é”äº†ï¼Œå†å»è¯·æ±‚æ•°æ®</h5>
<h5 id="åº“æ²¡å¾—åˆ°é”åˆ™ä¼‘çœ ä¸€æ®µæ—¶é—´é‡è¯•">åº“ã€‚æ²¡å¾—åˆ°é”ï¼Œåˆ™ä¼‘çœ ä¸€æ®µæ—¶é—´é‡è¯•ã€‚</h5>
<p>2 ã€é‡‡ç”¨å¼‚æ­¥æ›´æ–°ç­–ç•¥ï¼Œæ— è®ºkeyæ˜¯å¦å–åˆ°å€¼ï¼Œéƒ½ç›´æ¥è¿”å›ï¼Œvalueå€¼ä¸­ç»´
æŠ¤ä¸€ä¸ªç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼Œç¼“å­˜å¦‚æœè¿‡æœŸï¼Œå¼‚æ­¥èµ·ä¸€ä¸ªçº¿ç¨‹å»è¯»æ•°æ®åº“ï¼Œæ›´æ–°ç¼“å­˜ã€‚</p>
<p><strong>10. 10. 3. 5 Redisçš„æŒä¹…åŒ–</strong></p>
<p>Redisæä¾›äº†ä¸¤ç§æŒä¹…åŒ–çš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯RDBï¼ˆRedisDataBaseï¼‰å’ŒAOF
ï¼ˆAppendOnlyFileï¼‰ã€‚
<strong>RDB</strong> ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯åœ¨ä¸åŒçš„æ—¶é—´ç‚¹ï¼Œå°†Rediså­˜å‚¨çš„æ•°æ®ç”Ÿæˆå¿«ç…§å¹¶å­˜
å‚¨åˆ°ç£ç›˜ç­‰ä»‹è´¨ä¸Šã€‚
<strong>AOF</strong> ï¼Œåˆ™æ˜¯æ¢äº†ä¸€ä¸ªè§’åº¦æ¥å®ç°æŒä¹…åŒ–ï¼Œé‚£å°±æ˜¯å°†Redisæ‰§è¡Œè¿‡çš„æ‰€æœ‰å†™æŒ‡
ä»¤è®°å½•ä¸‹æ¥ï¼Œåœ¨ä¸‹æ¬¡Redisé‡æ–°å¯åŠ¨æ—¶ï¼Œåªè¦æŠŠè¿™äº›å†™æŒ‡ä»¤ä»å‰åˆ°åå†é‡å¤æ‰§è¡Œ
ä¸€éï¼Œå°±å¯ä»¥å®ç°æ•°æ®æ¢å¤äº†ã€‚
RDBå’ŒAOFä¸¤ç§æ–¹å¼ä¹Ÿå¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœRedisé‡å¯çš„
è¯ï¼Œåˆ™ä¼šä¼˜å…ˆé‡‡ç”¨AOFæ–¹å¼æ¥è¿›è¡Œæ•°æ®æ¢å¤ï¼Œè¿™æ˜¯å› ä¸ºAOFæ–¹å¼çš„æ•°æ®æ¢å¤å®Œ
æ•´åº¦æ›´é«˜ã€‚</p>
<p><strong>10. 10. 3. 6 RDB</strong></p>
<p>RDBæŒä¹…åŒ–æ–¹å¼ï¼Œæ˜¯å°†RedisæŸä¸€æ—¶åˆ»çš„æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œæ˜¯ä¸€ç§å¿«ç…§
å¼çš„æŒä¹…åŒ–æ–¹æ³•ã€‚</p>
<p>RDBæŒä¹…åŒ–æ–¹å¼ï¼šRedisåœ¨è¿›è¡Œæ•°æ®æŒä¹…åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå…ˆå°†æ•°æ®å†™å…¥åˆ°ä¸€
ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹éƒ½ç»“æŸäº†ï¼Œæ‰ä¼šç”¨è¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ›¿æ¢ä¸Šæ¬¡æŒä¹…åŒ–å¥½
çš„æ–‡ä»¶ã€‚æ­£æ˜¯è¿™ç§ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬å¯ä»¥éšæ—¶æ¥è¿›è¡Œå¤‡ä»½ï¼Œå› ä¸ºå¿«ç…§æ–‡ä»¶æ€»æ˜¯å®Œæ•´å¯
ç”¨çš„ã€‚
å¯¹äºRDBæ–¹å¼ï¼ŒRedisä¼šå•ç‹¬åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œè€Œä¸»è¿›ç¨‹æ˜¯ä¸
ä¼šè¿›è¡Œä»»ä½•IOæ“ä½œçš„ï¼Œè¿™æ ·å°±ç¡®ä¿äº†Redisæé«˜çš„æ€§èƒ½ã€‚
<strong>RDBä¼˜ç‚¹</strong> ï¼šå¦‚æœéœ€è¦è¿›è¡Œå¤§è§„æ¨¡æ•°æ®çš„æ¢å¤ï¼Œä¸”å¯¹äºæ•°æ®æ¢å¤çš„å®Œæ•´æ€§ä¸
æ˜¯éå¸¸æ•æ„Ÿï¼Œé‚£RDBæ–¹å¼è¦æ¯”AOFæ–¹å¼æ›´åŠ çš„é«˜æ•ˆã€‚
<strong>RDBç¼ºç‚¹</strong> ï¼šå¦‚æœä½ å¯¹æ•°æ®çš„å®Œæ•´æ€§éå¸¸æ•æ„Ÿï¼Œé‚£ä¹ˆRDBæ–¹å¼å°±ä¸å¤ªé€‚åˆä½ ï¼Œ
å› ä¸ºå³ä½¿ä½ æ¯ 5 åˆ†é’Ÿéƒ½æŒä¹…åŒ–ä¸€æ¬¡ï¼Œå½“Redisæ•…éšœæ—¶ï¼Œä»ç„¶ä¼šæœ‰è¿‘ 5 åˆ†é’Ÿçš„æ•°
æ®ä¸¢å¤±ã€‚æ‰€ä»¥ï¼ŒRedisè¿˜æä¾›äº†å¦ä¸€ç§æŒä¹…åŒ–æ–¹å¼ï¼Œé‚£å°±æ˜¯AOFã€‚</p>
<p><strong>10. 10. 3. 7 AOF</strong></p>
<p>AOFæ–¹å¼æ˜¯å°†æ‰§è¡Œè¿‡çš„å†™æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼Œåœ¨æ•°æ®æ¢å¤æ—¶æŒ‰ç…§ä»å‰åˆ°åçš„é¡ºåº
å†å°†æŒ‡ä»¤éƒ½æ‰§è¡Œä¸€éã€‚
å®ç°æ–¹å¼ï¼šæˆ‘ä»¬é€šè¿‡é…ç½®Redis.confä¸­çš„appendonlyyeså°±å¯ä»¥æ‰“å¼€AOF
åŠŸèƒ½ã€‚å¦‚æœæœ‰å†™æ“ä½œï¼ˆå¦‚SETç­‰ï¼‰ï¼ŒRediså°±ä¼šè¢«è¿½åŠ åˆ°AOFæ–‡ä»¶çš„æœ«å°¾ã€‚
AOFæŒä¹…åŒ–çš„æ–¹å¼ï¼šé»˜è®¤çš„AOFæŒä¹…åŒ–ç­–ç•¥æ˜¯æ¯ç§’é’Ÿfsyncä¸€æ¬¡ï¼ˆfsync
æ˜¯æŒ‡æŠŠç¼“å­˜ä¸­çš„å†™æŒ‡ä»¤è®°å½•åˆ°ç£ç›˜ä¸­ï¼‰ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRedisä»ç„¶å¯ä»¥ä¿
æŒå¾ˆå¥½çš„å¤„ç†æ€§èƒ½ï¼Œå³ä½¿Redisæ•…éšœï¼Œä¹Ÿåªä¼šä¸¢å¤±æœ€è¿‘ 1 ç§’é’Ÿçš„æ•°æ®ã€‚
å¦‚æœåœ¨è¿½åŠ æ—¥å¿—æ—¶ï¼Œæ°å¥½é‡åˆ°ç£ç›˜ç©ºé—´æ»¡æˆ–æ–­ç”µç­‰æƒ…å†µå¯¼è‡´æ—¥å¿—å†™å…¥ä¸å®Œ
æ•´ï¼Œä¹Ÿæ²¡æœ‰å…³ç³»ï¼ŒRedisæä¾›äº†Redis-check-aofå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥è¿›è¡Œæ—¥å¿—ä¿®å¤ã€‚</p>
<h5 id="å› ä¸ºé‡‡ç”¨äº†è¿½åŠ æ–¹å¼å¦‚æœä¸åšä»»ä½•å¤„ç†çš„è¯aofæ–‡ä»¶ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§">å› ä¸ºé‡‡ç”¨äº†è¿½åŠ æ–¹å¼ï¼Œå¦‚æœä¸åšä»»ä½•å¤„ç†çš„è¯ï¼ŒAOFæ–‡ä»¶ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œ</h5>
<p>ä¸ºæ­¤ï¼ŒRedisæä¾›äº†AOFæ–‡ä»¶é‡å†™ï¼ˆrewriteï¼‰æœºåˆ¶ï¼Œå³å½“AOFæ–‡ä»¶çš„å¤§å°è¶…
è¿‡æ‰€è®¾å®šçš„é˜ˆå€¼æ—¶ï¼ŒRediså°±ä¼šå¯åŠ¨AOFæ–‡ä»¶çš„å†…å®¹å‹ç¼©ï¼Œåªä¿ç•™å¯ä»¥æ¢å¤æ•°
æ®çš„æœ€å°æŒ‡ä»¤é›†ã€‚ä¸¾ä¸ªä¾‹å­æˆ–è®¸æ›´å½¢è±¡ï¼Œå‡å¦‚æˆ‘ä»¬è°ƒç”¨äº† 100 æ¬¡INCRæŒ‡ä»¤ï¼Œ
åœ¨AOFæ–‡ä»¶ä¸­å°±è¦å­˜å‚¨ 100 æ¡æŒ‡ä»¤ï¼Œä½†è¿™æ˜æ˜¾æ˜¯å¾ˆä½æ•ˆçš„ï¼Œå®Œå…¨å¯ä»¥æŠŠè¿™ 100
æ¡æŒ‡ä»¤åˆå¹¶æˆä¸€æ¡SETæŒ‡ä»¤ï¼Œè¿™å°±æ˜¯é‡å†™æœºåˆ¶çš„åŸç†ã€‚
<strong>AOFä¼˜ç‚¹</strong> ï¼šæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªåœºæ™¯å†ç°æ¥è¯´æ˜ã€‚æŸåŒå­¦åœ¨æ“ä½œRedisæ—¶ï¼Œä¸å°
å¿ƒæ‰§è¡Œäº†FLUSHALLï¼Œå¯¼è‡´Rediså†…å­˜ä¸­çš„æ•°æ®å…¨éƒ¨è¢«æ¸…ç©ºäº†ï¼Œè¿™æ˜¯å¾ˆæ‚²å‰§çš„
äº‹æƒ…ã€‚ä¸è¿‡è¿™ä¹Ÿä¸æ˜¯ä¸–ç•Œæœ«æ—¥ï¼Œåªè¦Redisé…ç½®äº†AOFæŒä¹…åŒ–æ–¹å¼ï¼Œä¸”AOF
æ–‡ä»¶è¿˜æ²¡æœ‰è¢«é‡å†™ï¼ˆrewriteï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€å¿«çš„é€Ÿåº¦æš‚åœRediså¹¶ç¼–è¾‘AOF
æ–‡ä»¶ï¼Œå°†æœ€åä¸€è¡Œçš„FLUSHALLå‘½ä»¤åˆ é™¤ï¼Œç„¶åé‡å¯Redisï¼Œå°±å¯ä»¥æ¢å¤Redis
çš„æ‰€æœ‰æ•°æ®åˆ°FLUSHALLä¹‹å‰çš„çŠ¶æ€äº†ã€‚æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Œè¿™å°±æ˜¯AOFæŒä¹…åŒ–æ–¹
å¼çš„å¥½å¤„ä¹‹ä¸€ã€‚ä½†æ˜¯å¦‚æœAOFæ–‡ä»¶å·²ç»è¢«é‡å†™äº†ï¼Œé‚£å°±æ— æ³•é€šè¿‡è¿™ç§æ–¹æ³•æ¥æ¢
å¤æ•°æ®äº†ã€‚
<strong>AOFç¼ºç‚¹</strong> ï¼šæ¯”å¦‚åœ¨åŒæ ·æ•°æ®è§„æ¨¡çš„æƒ…å†µä¸‹ï¼ŒAOFæ–‡ä»¶è¦æ¯”RDBæ–‡ä»¶çš„ä½“ç§¯
å¤§ã€‚è€Œä¸”ï¼ŒAOFæ–¹å¼çš„æ¢å¤é€Ÿåº¦ä¹Ÿè¦æ…¢äºRDBæ–¹å¼ã€‚
å¦‚æœä½ ç›´æ¥æ‰§è¡ŒBGREWRITEAOFå‘½ä»¤ï¼Œé‚£ä¹ˆRedisä¼šç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„AOF
æ–‡ä»¶ï¼Œå…¶ä¸­ä¾¿åŒ…æ‹¬äº†å¯ä»¥æ¢å¤ç°æœ‰æ•°æ®çš„æœ€å°‘çš„å‘½ä»¤é›†ã€‚
å¦‚æœè¿æ°”æ¯”è¾ƒå·®ï¼ŒAOFæ–‡ä»¶å‡ºç°äº†è¢«å†™åçš„æƒ…å†µï¼Œä¹Ÿä¸å¿…è¿‡åˆ†æ‹…å¿§ï¼ŒRedis
å¹¶ä¸ä¼šè´¸ç„¶åŠ è½½è¿™ä¸ªæœ‰é—®é¢˜çš„AOFæ–‡ä»¶ï¼Œè€Œæ˜¯æŠ¥é”™é€€å‡ºã€‚è¿™æ—¶å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥
éª¤æ¥ä¿®å¤å‡ºé”™çš„æ–‡ä»¶ï¼š</p>
<ol>
<li>å¤‡ä»½è¢«å†™åçš„AOFæ–‡ä»¶ã€‚</li>
</ol>
<pre tabindex="0"><code>2. è¿è¡ŒRedis-check-aof â€“fixè¿›è¡Œä¿®å¤ã€‚
3. ç”¨diff-uæ¥çœ‹ä¸‹ä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ï¼Œç¡®è®¤é—®é¢˜ç‚¹ã€‚
4 .é‡å¯Redisï¼ŒåŠ è½½ä¿®å¤åçš„AOFæ–‡ä»¶ã€‚
</code></pre><p><strong>10. 10. 3. 8 Redisé›†ç¾¤</strong></p>
<p><strong>ä»å¤åˆ¶
ä¸»ä»å¤åˆ¶åŸç†</strong>
ä»æœåŠ¡å™¨è¿æ¥ä¸»æœåŠ¡å™¨ï¼Œå‘é€SYNCå‘½ä»¤ã€‚
ä¸»æœåŠ¡å™¨æ¥æ”¶åˆ°SYNCå‘½ååï¼Œå¼€å§‹æ‰§è¡ŒBGSAVEå‘½ä»¤ç”ŸæˆRDBæ–‡ä»¶å¹¶ä½¿
ç”¨ç¼“å†²åŒºè®°å½•æ­¤åæ‰§è¡Œçš„æ‰€æœ‰å†™å‘½ä»¤ã€‚
ä¸»æœåŠ¡å™¨BGSAVEæ‰§è¡Œå®Œåï¼Œå‘æ‰€æœ‰ä»æœåŠ¡å™¨å‘é€å¿«ç…§æ–‡ä»¶ï¼Œå¹¶åœ¨å‘é€æœŸé—´
ç»§ç»­è®°å½•è¢«æ‰§è¡Œçš„å†™å‘½ä»¤ã€‚
ä»æœåŠ¡å™¨æ”¶åˆ°å¿«ç…§æ–‡ä»¶åä¸¢å¼ƒæ‰€æœ‰æ—§æ•°æ®ï¼Œè½½å…¥æ”¶åˆ°çš„å¿«ç…§ã€‚
ä¸»æœåŠ¡å™¨å¿«ç…§å‘é€å®Œæ¯•åå¼€å§‹å‘ä»æœåŠ¡å™¨å‘é€ç¼“å†²åŒºä¸­çš„å†™å‘½ä»¤ã€‚
ä»æœåŠ¡å™¨å®Œæˆå¯¹å¿«ç…§çš„è½½å…¥ï¼Œå¼€å§‹æ¥æ”¶å‘½ä»¤è¯·æ±‚ï¼Œå¹¶æ‰§è¡Œæ¥è‡ªä¸»æœåŠ¡å™¨ç¼“å†²
åŒºçš„å†™å‘½ä»¤ï¼ˆä»æœåŠ¡å™¨åˆå§‹åŒ–å®Œæˆï¼‰ã€‚
ä¸»æœåŠ¡å™¨æ¯æ‰§è¡Œä¸€ä¸ªå†™å‘½ä»¤å°±ä¼šå‘ä»æœåŠ¡å™¨å‘é€ç›¸åŒçš„å†™å‘½ä»¤ï¼Œä»æœåŠ¡å™¨æ¥
æ”¶å¹¶æ‰§è¡Œæ”¶åˆ°çš„å†™å‘½ä»¤ï¼ˆä»æœåŠ¡å™¨åˆå§‹åŒ–å®Œæˆåçš„æ“ä½œï¼‰ã€‚
<strong>ä¼˜ç‚¹</strong>
æ”¯æŒä¸»ä»å¤åˆ¶ï¼Œä¸»æœºä¼šè‡ªåŠ¨å°†æ•°æ®åŒæ­¥åˆ°ä»æœºï¼Œå¯ä»¥è¿›è¡Œè¯»å†™åˆ†ç¦»ã€‚
ä¸ºäº†åˆ†è½½Masterçš„è¯»æ“ä½œå‹åŠ›ï¼ŒSlaveæœåŠ¡å™¨å¯ä»¥ä¸ºå®¢æˆ·ç«¯æä¾›åªè¯»æ“ä½œ
çš„æœåŠ¡ï¼Œå†™æœåŠ¡ä»ç„¶å¿…é¡»ç”±Masteræ¥å®Œæˆã€‚</p>
<p>SlaveåŒæ ·å¯ä»¥æ¥å—å…¶å®ƒSlavesçš„è¿æ¥å’ŒåŒæ­¥è¯·æ±‚ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆçš„åˆ†è½½
Masterçš„åŒæ­¥å‹åŠ›ã€‚
MasterServeræ˜¯ä»¥éé˜»å¡çš„æ–¹å¼ä¸ºSlavesæä¾›æœåŠ¡ã€‚æ‰€ä»¥åœ¨Master-Slave
åŒæ­¥æœŸé—´ï¼Œå®¢æˆ·ç«¯ä»ç„¶å¯ä»¥æäº¤æŸ¥è¯¢æˆ–ä¿®æ”¹è¯·æ±‚ã€‚
SlaveServeråŒæ ·æ˜¯ä»¥éé˜»å¡çš„æ–¹å¼å®Œæˆæ•°æ®åŒæ­¥ã€‚åœ¨åŒæ­¥æœŸé—´ï¼Œå¦‚æœæœ‰å®¢
æˆ·ç«¯æäº¤æŸ¥è¯¢è¯·æ±‚ï¼ŒRedisåˆ™è¿”å›åŒæ­¥ä¹‹å‰çš„æ•°æ®ã€‚
<strong>ç¼ºç‚¹</strong>
Redisä¸å…·å¤‡è‡ªåŠ¨å®¹é”™å’Œæ¢å¤åŠŸèƒ½ï¼Œä¸»æœºä»æœºçš„å®•æœºéƒ½ä¼šå¯¼è‡´å‰ç«¯éƒ¨åˆ†è¯»å†™
è¯·æ±‚å¤±è´¥ï¼Œéœ€è¦ç­‰å¾…æœºå™¨é‡å¯æˆ–è€…æ‰‹åŠ¨åˆ‡æ¢å‰ç«¯çš„IPæ‰èƒ½æ¢å¤ã€‚
ä¸»æœºå®•æœºï¼Œå®•æœºå‰æœ‰éƒ¨åˆ†æ•°æ®æœªèƒ½åŠæ—¶åŒæ­¥åˆ°ä»æœºï¼Œåˆ‡æ¢IPåè¿˜ä¼šå¼•å…¥æ•°
æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œé™ä½äº†ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚
Redisè¾ƒéš¾æ”¯æŒåœ¨çº¿æ‰©å®¹ï¼Œåœ¨é›†ç¾¤å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶åœ¨çº¿æ‰©å®¹ä¼šå˜å¾—å¾ˆå¤æ‚ã€‚
<strong>å“¨å…µæ¨¡å¼</strong>
å½“ä¸»æœåŠ¡å™¨ä¸­æ–­æœåŠ¡åï¼Œå¯ä»¥å°†ä¸€ä¸ªä»æœåŠ¡å™¨å‡çº§ä¸ºä¸»æœåŠ¡å™¨ï¼Œä»¥ä¾¿ç»§ç»­æ
ä¾›æœåŠ¡ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹éœ€è¦äººå·¥æ‰‹åŠ¨æ¥æ“ä½œã€‚ä¸ºæ­¤ï¼ŒRedis 2. 8 ä¸­æä¾›äº†å“¨å…µå·¥
å…·æ¥å®ç°è‡ªåŠ¨åŒ–çš„ç³»ç»Ÿç›‘æ§å’Œæ•…éšœæ¢å¤åŠŸèƒ½ã€‚
å“¨å…µçš„ä½œç”¨å°±æ˜¯ç›‘æ§Redisç³»ç»Ÿçš„è¿è¡ŒçŠ¶å†µï¼Œå®ƒçš„åŠŸèƒ½åŒ…æ‹¬ä»¥ä¸‹ä¸¤ä¸ªã€‚
1 ã€ç›‘æ§ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚
2 ã€ä¸»æœåŠ¡å™¨å‡ºç°æ•…éšœæ—¶è‡ªåŠ¨å°†ä»æœåŠ¡å™¨è½¬æ¢ä¸ºä¸»æœåŠ¡å™¨ã€‚
<strong>å“¨å…µçš„å·¥ä½œæ–¹å¼</strong>
æ¯ä¸ªSentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹ä»¥æ¯ç§’é’Ÿä¸€æ¬¡çš„é¢‘ç‡å‘æ•´ä¸ªé›†ç¾¤ä¸­çš„Masterä¸»
æœåŠ¡å™¨ï¼ŒSlaveä»æœåŠ¡å™¨ä»¥åŠå…¶ä»–Sentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹å‘é€ä¸€ä¸ª PING å‘½ä»¤ã€‚</p>
<p>å¦‚æœä¸€ä¸ªå®ä¾‹ï¼ˆinstanceï¼‰è·ç¦»æœ€åä¸€æ¬¡æœ‰æ•ˆå›å¤ PING å‘½ä»¤çš„æ—¶é—´è¶…è¿‡
down-after-millisecondsé€‰é¡¹æ‰€æŒ‡å®šçš„å€¼ï¼Œåˆ™è¿™ä¸ªå®ä¾‹ä¼šè¢« Sentineï¼ˆl å“¨å…µï¼‰
è¿›ç¨‹æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ï¼ˆSDOWNï¼‰ã€‚
å¦‚æœä¸€ä¸ªMasterä¸»æœåŠ¡å™¨è¢«æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ï¼ˆSDOWNï¼‰ï¼Œåˆ™æ­£åœ¨ç›‘è§†è¿™
ä¸ªMasterä¸»æœåŠ¡å™¨çš„æ‰€æœ‰ Sentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹è¦ä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡ç¡®è®¤
Masterä¸»æœåŠ¡å™¨çš„ç¡®è¿›å…¥äº†ä¸»è§‚ä¸‹çº¿çŠ¶æ€ã€‚
å½“æœ‰è¶³å¤Ÿæ•°é‡çš„Sentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹ï¼ˆå¤§äºç­‰äºé…ç½®æ–‡ä»¶æŒ‡å®šçš„å€¼ï¼‰åœ¨æŒ‡
å®šçš„æ—¶é—´èŒƒå›´å†…ç¡®è®¤Masterä¸»æœåŠ¡å™¨è¿›å…¥äº†ä¸»è§‚ä¸‹çº¿çŠ¶æ€ï¼ˆSDOWNï¼‰ï¼Œ åˆ™
Masterä¸»æœåŠ¡å™¨ä¼šè¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿ï¼ˆODOWNï¼‰ã€‚
åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Sentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹ä¼šä»¥æ¯ 10 ç§’ä¸€æ¬¡çš„é¢‘ç‡å‘é›†
ç¾¤ä¸­çš„æ‰€æœ‰Masterä¸»æœåŠ¡å™¨ã€Slaveä»æœåŠ¡å™¨å‘é€ INFO å‘½ä»¤ã€‚
å½“Masterä¸»æœåŠ¡å™¨è¢« Sentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿ï¼ˆODOWNï¼‰
æ—¶ï¼ŒSentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹å‘ä¸‹çº¿çš„ Masterä¸»æœåŠ¡å™¨çš„æ‰€æœ‰ Slaveä»æœåŠ¡å™¨
å‘é€ INFOå‘½ä»¤çš„é¢‘ç‡ä¼šä» 10 ç§’ä¸€æ¬¡æ”¹ä¸ºæ¯ç§’ä¸€æ¬¡ã€‚
è‹¥æ²¡æœ‰è¶³å¤Ÿæ•°é‡çš„ Sentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹åŒæ„ Masterä¸»æœåŠ¡å™¨ä¸‹çº¿ï¼Œ
Masterä¸»æœåŠ¡å™¨çš„å®¢è§‚ä¸‹çº¿çŠ¶æ€å°±ä¼šè¢«ç§»é™¤ã€‚è‹¥Masterä¸»æœåŠ¡å™¨é‡æ–°å‘
Sentinelï¼ˆå“¨å…µï¼‰è¿›ç¨‹å‘é€ PING å‘½ä»¤è¿”å›æœ‰æ•ˆå›å¤ï¼ŒMasterä¸»æœåŠ¡å™¨çš„ä¸»è§‚
ä¸‹çº¿çŠ¶æ€å°±ä¼šè¢«ç§»é™¤ã€‚
<strong>ä¼˜ç‚¹</strong>
å“¨å…µæ¨¡å¼æ˜¯åŸºäºä¸»ä»æ¨¡å¼çš„ï¼Œæ‰€æœ‰ä¸»ä»çš„ä¼˜ç‚¹ï¼Œå“¨å…µæ¨¡å¼éƒ½å…·æœ‰ã€‚
ä¸»ä»å¯ä»¥è‡ªåŠ¨åˆ‡æ¢ï¼Œç³»ç»Ÿæ›´å¥å£®ï¼Œå¯ç”¨æ€§æ›´é«˜ã€‚
<strong>ç¼ºç‚¹</strong></p>
<p>Redisè¾ƒéš¾æ”¯æŒåœ¨çº¿æ‰©å®¹ï¼Œåœ¨é›†ç¾¤å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶åœ¨çº¿æ‰©å®¹ä¼šå˜å¾—å¾ˆå¤æ‚ã€‚
<strong>Redis-Clusteré›†ç¾¤</strong>
Redisçš„å“¨å…µæ¨¡å¼åŸºæœ¬å·²ç»å¯ä»¥å®ç°é«˜å¯ç”¨ï¼Œè¯»å†™åˆ†ç¦»ï¼Œä½†æ˜¯åœ¨è¿™ç§æ¨¡å¼ä¸‹
æ¯å°RedisæœåŠ¡å™¨éƒ½å­˜å‚¨ç›¸åŒçš„æ•°æ®ï¼Œå¾ˆæµªè´¹å†…å­˜ï¼Œæ‰€ä»¥åœ¨Redis 3. 0 ä¸ŠåŠ å…¥äº†
clusteræ¨¡å¼ï¼Œå®ç°çš„Redisçš„åˆ†å¸ƒå¼å­˜å‚¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯å°RedisèŠ‚ç‚¹ä¸Šå­˜å‚¨ä¸
åŒçš„å†…å®¹ã€‚
Redis-Clusteré‡‡ç”¨æ— ä¸­å¿ƒç»“æ„,å®ƒçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š
æ‰€æœ‰çš„RedisèŠ‚ç‚¹å½¼æ­¤äº’è”(PING-PONGæœºåˆ¶),å†…éƒ¨ä½¿ç”¨äºŒè¿›åˆ¶åè®®ä¼˜åŒ–ä¼ 
è¾“é€Ÿåº¦å’Œå¸¦å®½ã€‚
èŠ‚ç‚¹çš„failæ˜¯é€šè¿‡é›†ç¾¤ä¸­è¶…è¿‡åŠæ•°çš„èŠ‚ç‚¹æ£€æµ‹å¤±æ•ˆæ—¶æ‰ç”Ÿæ•ˆã€‚
å®¢æˆ·ç«¯ä¸RedisèŠ‚ç‚¹ç›´è¿,ä¸éœ€è¦ä¸­é—´ä»£ç†å±‚.å®¢æˆ·ç«¯ä¸éœ€è¦è¿æ¥é›†ç¾¤æ‰€æœ‰èŠ‚
ç‚¹,è¿æ¥é›†ç¾¤ä¸­ä»»ä½•ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹å³å¯ã€‚
<strong>å·¥ä½œæ–¹å¼</strong>
åœ¨Redisçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œéƒ½æœ‰è¿™ä¹ˆä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯æ’æ§½ï¼ˆslotï¼‰ï¼Œå®ƒçš„
å–å€¼èŒƒå›´æ˜¯ï¼š 0 - 16383 ã€‚è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯clusterï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªé›†ç¾¤ç®¡ç†çš„
æ’ä»¶ã€‚å½“æˆ‘ä»¬çš„å­˜å–çš„keyåˆ°è¾¾çš„æ—¶å€™ï¼ŒRedisä¼šæ ¹æ®crc 16 çš„ç®—æ³•å¾—å‡ºä¸€ä¸ªç»“
æœï¼Œç„¶åæŠŠç»“æœå¯¹ 16384 æ±‚ä½™æ•°ï¼Œè¿™æ ·æ¯ä¸ª key éƒ½ä¼šå¯¹åº”ä¸€ä¸ªç¼–å·åœ¨
0 - 16383 ä¹‹é—´çš„å“ˆå¸Œæ§½ï¼Œé€šè¿‡è¿™ä¸ªå€¼ï¼Œå»æ‰¾åˆ°å¯¹åº”çš„æ’æ§½æ‰€å¯¹åº”çš„èŠ‚ç‚¹ï¼Œç„¶å
ç›´æ¥è‡ªåŠ¨è·³è½¬åˆ°è¿™ä¸ªå¯¹åº”çš„èŠ‚ç‚¹ä¸Šè¿›è¡Œå­˜å–æ“ä½œã€‚
ä¸ºäº†ä¿è¯é«˜å¯ç”¨ï¼ŒRedis-clusteré›†ç¾¤å¼•å…¥äº†ä¸»ä»æ¨¡å¼ï¼Œä¸€ä¸ªä¸»èŠ‚ç‚¹å¯¹åº”ä¸€
ä¸ªæˆ–è€…å¤šä¸ªä»èŠ‚ç‚¹ï¼Œå½“ä¸»èŠ‚ç‚¹å®•æœºçš„æ—¶å€™ï¼Œå°±ä¼šå¯ç”¨ä»èŠ‚ç‚¹ã€‚å½“å…¶å®ƒä¸»èŠ‚ç‚¹ping
ä¸€ä¸ªä¸»èŠ‚ç‚¹Aæ—¶ï¼Œå¦‚æœåŠæ•°ä»¥ä¸Šçš„ä¸»èŠ‚ç‚¹ä¸Aé€šä¿¡è¶…æ—¶ï¼Œé‚£ä¹ˆè®¤ä¸ºä¸»èŠ‚ç‚¹Aå®•</p>
<h5 id="æœºäº†å¦‚æœä¸»èŠ‚ç‚¹aå’Œå®ƒçš„ä»èŠ‚ç‚¹a-1-éƒ½å®•æœºäº†é‚£ä¹ˆè¯¥é›†ç¾¤å°±æ— æ³•å†æä¾›æœåŠ¡">æœºäº†ã€‚å¦‚æœä¸»èŠ‚ç‚¹Aå’Œå®ƒçš„ä»èŠ‚ç‚¹A 1 éƒ½å®•æœºäº†ï¼Œé‚£ä¹ˆè¯¥é›†ç¾¤å°±æ— æ³•å†æä¾›æœåŠ¡</h5>
<h5 id="äº†">äº†ã€‚</h5>
<p><strong>10. 10. 4 è´­ç‰©è½¦å­˜cookieé‡Œè¾¹ å¯ä»¥å®ç°ä¸ç™»å½•å°±å¯ä»¥ä½¿ç”¨è´­ç‰©è½¦
é‚£ä¹ˆç°åœ¨æ²¡æœ‰ç™»å½•æŠŠå•†å“å­˜è´­ç‰©è½¦äº†ç™»å½•äº†ç„¶åæ¢å°ç”µè„‘å¹¶ä¸”ç™»å½•
äº†è¿˜èƒ½ä¸èƒ½çœ‹è§è´­ç‰©è½¦çš„ä¿¡æ¯ï¼Ÿå¦‚æœçœ‹ä¸åˆ°æ€ä¹ˆåšåˆ°cookieåŒæ­¥ï¼Œ
å°±æ˜¯åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Šå¯ä»¥çœ‹åˆ°è´­ç‰©è½¦ä¿¡æ¯</strong></p>
<p>ä¹ä¼˜å•†åŸç°é˜¶æ®µä½¿ç”¨çš„ä»…ä»…æ˜¯æŠŠè´­ç‰©è½¦çš„å•†å“å†™å…¥cookieä¸­ï¼Œè¿™æ ·æœåŠ¡ç«¯
åŸºæœ¬ä¸Šæ²¡æœ‰å­˜å‚¨çš„å‹åŠ›ã€‚ä½†æ˜¯å¼Šç«¯å°±æ˜¯ç”¨æˆ·æ›´æ¢ç”µè„‘åè´­ç‰©è½¦ä¸èƒ½åŒæ­¥ã€‚
<strong>æˆ‘ä»¬çš„ä¹ä¼˜å•†åŸé¡¹ç›®æ˜¯æŠŠè´­ç‰©è½¦ä¿¡æ¯ä¿å­˜åœ¨äº†å®¢æˆ·ç«¯localStorageæœ¬åœ°å­˜å‚¨,
æœªç™»å½•æ—¶å¯ä»¥æŸ¥è¯¢åˆ°è´­ç‰©è½¦(é€šè¿‡SpuIDæŸ¥è¯¢æ‰€æœ‰Sku)
æ‰“ç®—ä¸‹ä¸€æ­¥è¿™ä¹ˆå®ç°ï¼šå½“ç”¨æˆ·æ²¡æœ‰ç™»å½•æ—¶å‘è´­ç‰©è½¦æ·»åŠ å•†å“æ˜¯æ·»åŠ åˆ°
cookieä¸­ï¼Œå½“ç”¨æˆ·ç™»å½•åè´­ç‰©è½¦çš„ä¿¡æ¯æ˜¯å­˜å‚¨åœ¨Redisä¸­çš„å¹¶ä¸”æ˜¯è·Ÿç”¨æˆ·id
å‘å…³è”çš„ï¼Œæ­¤æ—¶ä½ æ›´æ¢ç”µè„‘åä½¿ç”¨åŒä¸€è´¦å·ç™»å½•è´­ç‰©è½¦çš„ä¿¡æ¯å°±ä¼šå±•ç¤ºå‡ºæ¥ã€‚</strong></p>
<p><strong>10. 10. 5 å¦‚æœç”¨æˆ·ä¸€ç›´æ·»åŠ è´­ç‰©è½¦æ·»åŠ å•†å“æ€ä¹ˆåŠï¼Ÿå¹¶ä¸”ä»–æ·»åŠ ä¸€
æ¬¡ä½ æŸ¥è¯¢ä¸€æ¬¡æ•°æ®åº“ï¼Ÿäº’è”ç½‘ä¸Šç”¨æˆ·é‚£ä¹ˆå¤šï¼Œè¿™æ ·ä¼šå¯¹æ•°æ®åº“é€ æˆå¾ˆ
å¤§å‹åŠ›æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>å½“å‰æˆ‘ä»¬ä½¿ç”¨cookieçš„æ–¹å¼æ¥ä¿å­˜è´­ç‰©è½¦çš„æ•°æ®ï¼Œæ‰€ä»¥å½“ç”¨æˆ·å¾€è´­ç‰©è½¦ä¸­
æ·»åŠ å•†å“æ—¶ï¼Œå¹¶ä¸å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œã€‚å°†æ¥æŠŠè´­ç‰©è½¦å•†å“æ”¾å…¥Redisä¸­ï¼ŒRedis
æ˜¯å¯ä»¥æŒä¹…åŒ–çš„å¯ä»¥æ°¸ä¹…ä¿å­˜ï¼Œæ­¤æ—¶å°±ç®—æ˜¯é¢‘ç¹çš„å¾€è´­ç‰©è½¦ä¸­æ·»åŠ æ•°æ®ä¹Ÿæ²¡ç”¨ä»€
ä¹ˆé—®é¢˜ã€‚</p>
<p><strong>10. 10. 6 Redisä¸ºä»€ä¹ˆå¯ä»¥åšç¼“å­˜ï¼Ÿé¡¹ç›®ä¸­ä½¿ç”¨Redisçš„ç›®çš„æ˜¯ä»€
ä¹ˆï¼ŸRedisä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ</strong></p>
<p>1 .Redisæ˜¯key-valueå½¢å¼çš„nosqlæ•°æ®åº“ã€‚å¯ä»¥å¿«é€Ÿçš„å®šä½åˆ°æ‰€æŸ¥æ‰¾çš„
keyï¼Œå¹¶æŠŠå…¶ä¸­çš„valueå–å‡ºæ¥ã€‚å¹¶ä¸”Redisçš„æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯æ”¾åˆ°å†…å­˜ä¸­ï¼Œå­˜
å–çš„é€Ÿåº¦éå¸¸å¿«ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨æ¥åšç¼“å­˜ä½¿ç”¨ã€‚
2 .é¡¹ç›®ä¸­ä½¿ç”¨Redisä¸€èˆ¬éƒ½æ˜¯ä½œä¸ºç¼“å­˜æ¥ä½¿ç”¨çš„ï¼Œç¼“å­˜çš„ç›®çš„å°±æ˜¯ä¸ºäº†å‡è½»
æ•°æ®åº“çš„å‹åŠ›æé«˜å­˜å–çš„æ•ˆç‡ã€‚
3 .åœ¨äº’è”ç½‘é¡¹ç›®ä¸­åªè¦æ˜¯æ¶‰åŠé«˜å¹¶å‘æˆ–è€…æ˜¯å­˜åœ¨å¤§é‡è¯»æ•°æ®çš„æƒ…å†µä¸‹éƒ½å¯ä»¥
ä½¿ç”¨Redisä½œä¸ºç¼“å­˜ã€‚å½“ç„¶Redisæä¾›ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œé™¤äº†ç¼“å­˜è¿˜å¯ä»¥æ ¹æ®
å®é™…çš„ä¸šåŠ¡åœºæ™¯æ¥å†³å®šRedisçš„ä½œç”¨ã€‚ä¾‹å¦‚ä½¿ç”¨Redisä¿å­˜ç”¨æˆ·çš„è´­ç‰©è½¦ä¿¡æ¯ã€
ç”Ÿæˆè®¢å•å·ã€è®¿é—®é‡è®¡æ•°å™¨ã€ä»»åŠ¡é˜Ÿåˆ—ã€æ’è¡Œæ¦œç­‰ã€‚</p>
<h4 id="10-10-7-å¯¹rediså’Œmemcacheæœ‰æ²¡æœ‰äº†è§£ä¸ºä»€ä¹ˆé€‰æ‹©redis">10 10 7 å¯¹Rediså’ŒMemcacheæœ‰æ²¡æœ‰äº†è§£,ä¸ºä»€ä¹ˆé€‰æ‹©Redis?&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>Memcacheæ— æŒä¹…åŒ–ï¼š MemecacheæŠŠæ•°æ®å…¨éƒ¨å­˜åœ¨å†…å­˜ä¹‹ä¸­ï¼Œæ–­ç”µ
åä¼šæŒ‚æ‰ä¸”æ•°æ®ä¸èƒ½è¶…è¿‡å†…å­˜å¤§å°ã€‚ è€ŒRedisæœ‰éƒ¨ä»½å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œè¿™æ ·èƒ½ä¿è¯
æ•°æ®çš„æŒä¹…æ€§(é»˜è®¤RDBæ¨¡å¼)
Memcacheåªæ”¯æŒK-Vç»“æ„,Redisæœ‰å¤æ‚çš„æ•°æ®ç±»å‹ã€‚
Memcacheæ˜¯å¤šçº¿ç¨‹,æ€§èƒ½æ¯”Redis(å•çº¿ç¨‹)å·®
åœ¨è¿™é‡Œå¯èƒ½ä¼šæœ‰äººé—®ï¼šå¤šçº¿ç¨‹ä¸æ˜¯åº”è¯¥æ¯”å•çº¿ç¨‹æ€§èƒ½è¦æ›´å¥½å—?
è¿™æ˜¯å› ä¸ºMemcacheå¤§å¤šæ•°æ—¶é—´ç”¨åœ¨äº†åˆ‡æ¢çº¿ç¨‹ä¸Šã€‚</p>
<h4 id="10-10-8-redisé¢è¯•ç»å¸¸ä¼šé—®åˆ°çš„é—®é¢˜">10 10 8 Redisé¢è¯•ç»å¸¸ä¼šé—®åˆ°çš„é—®é¢˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<p><strong>10. 10. 8. 1 redisçš„è¿‡æœŸç­–ç•¥ä»¥åŠå†…å­˜æ·˜æ±°æœºåˆ¶</strong></p>
<p>redisé‡‡ç”¨çš„æ˜¯å®šæœŸåˆ é™¤+æƒ°æ€§åˆ é™¤ç­–ç•¥ã€‚</p>
<p>ï¬ <strong>ä¸ºä»€ä¹ˆä¸ç”¨å®šæ—¶åˆ é™¤ç­–ç•¥?</strong></p>
<p>å®šæ—¶åˆ é™¤,ç”¨ä¸€ä¸ªå®šæ—¶å™¨æ¥è´Ÿè´£ç›‘è§†key,è¿‡æœŸåˆ™è‡ªåŠ¨åˆ é™¤ã€‚è™½ç„¶å†…å­˜åŠæ—¶é‡Š
æ”¾ï¼Œä½†æ˜¯ååˆ†æ¶ˆè€—CPUèµ„æºã€‚åœ¨å¤§å¹¶å‘è¯·æ±‚ä¸‹ï¼ŒCPUè¦å°†æ—¶é—´åº”ç”¨åœ¨å¤„ç†è¯·æ±‚ï¼Œ
è€Œä¸æ˜¯åˆ é™¤key,å› æ­¤æ²¡æœ‰é‡‡ç”¨è¿™ä¸€ç­–ç•¥.</p>
<p>ï¬ <strong>å®šæœŸåˆ é™¤+æƒ°æ€§åˆ é™¤æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢?</strong></p>
<p>å®šæœŸåˆ é™¤ï¼Œredisé»˜è®¤æ¯ä¸ª 100 msæ£€æŸ¥ï¼Œæ˜¯å¦æœ‰è¿‡æœŸçš„key,æœ‰è¿‡æœŸkeyåˆ™
åˆ é™¤ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œredisä¸æ˜¯æ¯ä¸ª 100 mså°†æ‰€æœ‰çš„keyæ£€æŸ¥ä¸€æ¬¡ï¼Œè€Œæ˜¯éš
æœºæŠ½å–è¿›è¡Œæ£€æŸ¥(å¦‚æœæ¯éš” 100 ms,å…¨éƒ¨keyè¿›è¡Œæ£€æŸ¥ï¼Œrediså²‚ä¸æ˜¯å¡æ­»)ã€‚å› æ­¤ï¼Œ
å¦‚æœåªé‡‡ç”¨å®šæœŸåˆ é™¤ç­–ç•¥ï¼Œä¼šå¯¼è‡´å¾ˆå¤škeyåˆ°æ—¶é—´æ²¡æœ‰åˆ é™¤ã€‚</p>
<p>äºæ˜¯ï¼Œæƒ°æ€§åˆ é™¤æ´¾ä¸Šç”¨åœºã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ä½ è·å–æŸä¸ªkeyçš„æ—¶å€™ï¼Œredisä¼šæ£€
æŸ¥ä¸€ä¸‹ï¼Œè¿™ä¸ªkeyå¦‚æœè®¾ç½®äº†è¿‡æœŸæ—¶é—´é‚£ä¹ˆæ˜¯å¦è¿‡æœŸäº†ï¼Ÿå¦‚æœè¿‡æœŸäº†æ­¤æ—¶å°±ä¼š
åˆ é™¤ã€‚</p>
<p>ï¬ <strong>é‡‡ç”¨å®šæœŸåˆ é™¤+æƒ°æ€§åˆ é™¤å°±æ²¡å…¶ä»–é—®é¢˜äº†ä¹ˆ?</strong></p>
<p>ä¸æ˜¯çš„ï¼Œå¦‚æœå®šæœŸåˆ é™¤æ²¡åˆ é™¤keyã€‚ç„¶åä½ ä¹Ÿæ²¡å³æ—¶å»è¯·æ±‚keyï¼Œä¹Ÿå°±æ˜¯è¯´
æƒ°æ€§åˆ é™¤ä¹Ÿæ²¡ç”Ÿæ•ˆã€‚è¿™æ ·ï¼Œredisçš„å†…å­˜ä¼šè¶Šæ¥è¶Šé«˜ã€‚é‚£ä¹ˆå°±åº”è¯¥é‡‡ç”¨å†…å­˜æ·˜æ±°</p>
<p>æœºåˆ¶ã€‚åœ¨redis.confä¸­æœ‰ä¸€è¡Œé…ç½®#maxmemory-policyvolatile-lruè¯¥é…ç½®å°±
æ˜¯é…å†…å­˜æ·˜æ±°ç­–ç•¥çš„.</p>
<p>1 ï¼‰noevictionï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œæ–°å†™å…¥æ“ä½œä¼šæŠ¥é”™ã€‚
åº”è¯¥æ²¡äººç”¨å§ã€‚</p>
<p>2 ï¼‰allkeys-lruï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨é”®ç©ºé—´ä¸­ï¼Œç§»é™¤æœ€
è¿‘æœ€å°‘ä½¿ç”¨çš„keyã€‚æ¨èä½¿ç”¨ï¼Œç›®å‰é¡¹ç›®åœ¨ç”¨è¿™ç§ã€‚</p>
<p>3 ï¼‰allkeys-randomï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨é”®ç©ºé—´ä¸­ï¼Œ
éšæœºç§»é™¤æŸä¸ªkeyã€‚åº”è¯¥ä¹Ÿæ²¡äººç”¨å§ï¼Œä½ ä¸åˆ æœ€å°‘ä½¿ç”¨Key,å»éšæœºåˆ ã€‚</p>
<p>4 ï¼‰volatile-lruï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´
çš„é”®ç©ºé—´ä¸­ï¼Œç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„keyã€‚è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯æŠŠredisæ—¢å½“ç¼“å­˜ï¼Œåˆ
åšæŒä¹…åŒ–å­˜å‚¨çš„æ—¶å€™æ‰ç”¨ã€‚ä¸æ¨è</p>
<p>5 ï¼‰volatile-randomï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸ
æ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œéšæœºç§»é™¤æŸä¸ªkeyã€‚ä¾ç„¶ä¸æ¨è</p>
<p>6 ï¼‰volatile-ttlï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„
é”®ç©ºé—´ä¸­ï¼Œæœ‰æ›´æ—©è¿‡æœŸæ—¶é—´çš„keyä¼˜å…ˆç§»é™¤ã€‚ä¸æ¨è</p>
<p>psï¼šå¦‚æœæ²¡æœ‰è®¾ç½® expireçš„key, ä¸æ»¡è¶³å…ˆå†³æ¡ä»¶(prerequisites); é‚£ä¹ˆ
volatile-lru,volatile-random å’Œ volatile-ttl ç­–ç•¥çš„è¡Œä¸º, å’Œ noeviction(ä¸
åˆ é™¤) åŸºæœ¬ä¸Šä¸€è‡´ã€‚</p>
<p><strong>10. 10. 8. 2 rediså’Œæ•°æ®åº“åŒå†™ä¸€è‡´æ€§é—®é¢˜</strong></p>
<p>åˆ†æ:ä¸€è‡´æ€§é—®é¢˜æ˜¯åˆ†å¸ƒå¼å¸¸è§é—®é¢˜ï¼Œè¿˜å¯ä»¥å†åˆ†ä¸ºæœ€ç»ˆä¸€è‡´æ€§å’Œå¼ºä¸€è‡´æ€§ã€‚
æ•°æ®åº“å’Œç¼“å­˜åŒå†™ï¼Œå°±å¿…ç„¶ä¼šå­˜åœ¨ä¸ä¸€è‡´çš„é—®é¢˜ã€‚ç­”è¿™ä¸ªé—®é¢˜ï¼Œå…ˆæ˜ç™½ä¸€ä¸ªå‰æã€‚
å°±æ˜¯å¦‚æœå¯¹æ•°æ®æœ‰å¼ºä¸€è‡´æ€§è¦æ±‚ï¼Œä¸èƒ½æ”¾ç¼“å­˜ã€‚æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡ï¼Œåªèƒ½ä¿è¯æœ€ç»ˆ
ä¸€è‡´æ€§ã€‚å¦å¤–ï¼Œæˆ‘ä»¬æ‰€åšçš„æ–¹æ¡ˆå…¶å®ä»æ ¹æœ¬ä¸Šæ¥è¯´ï¼Œåªèƒ½è¯´é™ä½ä¸ä¸€è‡´å‘ç”Ÿçš„æ¦‚
ç‡ï¼Œæ— æ³•å®Œå…¨é¿å…ã€‚å› æ­¤ï¼Œæœ‰å¼ºä¸€è‡´æ€§è¦æ±‚çš„æ•°æ®ï¼Œä¸èƒ½æ”¾ç¼“å­˜ã€‚</p>
<p>é¦–å…ˆï¼Œé‡‡å–æ­£ç¡®æ›´æ–°ç­–ç•¥ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ ç¼“å­˜ã€‚å…¶æ¬¡ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨
åˆ é™¤ç¼“å­˜å¤±è´¥çš„é—®é¢˜ï¼Œæä¾›ä¸€ä¸ªè¡¥å¿æªæ–½å³å¯ï¼Œä¾‹å¦‚åˆ©ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p>
<p><strong>10. 10. 8. 3 å¦‚ä½•åº”å¯¹ç¼“å­˜ç©¿é€å’Œç¼“å­˜é›ªå´©é—®é¢˜</strong></p>
<p><strong>åˆ†æ:è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œè¯´å¥å®åœ¨è¯ï¼Œä¸€èˆ¬ä¸­å°å‹ä¼ ç»Ÿè½¯ä»¶ä¼ä¸šï¼Œå¾ˆéš¾ç¢°åˆ°è¿™ä¸ªé—®é¢˜ã€‚
å¦‚æœæœ‰å¤§å¹¶å‘çš„é¡¹ç›®ï¼Œæµé‡æœ‰å‡ ç™¾ä¸‡å·¦å³ã€‚è¿™ä¸¤ä¸ªé—®é¢˜ä¸€å®šè¦æ·±åˆ»è€ƒè™‘ã€‚</strong></p>
<p><strong>å›ç­”:å¦‚ä¸‹æ‰€ç¤º:</strong></p>
<p><strong>ç¼“å­˜ç©¿é€ï¼Œå³é»‘å®¢æ•…æ„å»è¯·æ±‚ç¼“å­˜ä¸­ä¸å­˜åœ¨çš„æ•°æ®ï¼Œå¯¼è‡´æ‰€æœ‰çš„è¯·æ±‚éƒ½æ€¼åˆ°æ•°æ®
åº“ä¸Šï¼Œä»è€Œæ•°æ®åº“è¿æ¥å¼‚å¸¸ã€‚</strong></p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<p>(ä¸€) <strong>åˆ©ç”¨äº’æ–¥é”</strong> ï¼Œç¼“å­˜å¤±æ•ˆçš„æ—¶å€™ï¼Œå…ˆå»è·å¾—é”ï¼Œå¾—åˆ°é”äº†ï¼Œå†å»è¯·æ±‚æ•°æ®åº“ã€‚
æ²¡å¾—åˆ°é”ï¼Œåˆ™ä¼‘çœ ä¸€æ®µæ—¶é—´é‡è¯•</p>
<p>(äºŒ) <strong>é‡‡ç”¨å¼‚æ­¥æ›´æ–°ç­–ç•¥</strong> ï¼Œæ— è®ºkeyæ˜¯å¦å–åˆ°å€¼ï¼Œéƒ½ç›´æ¥è¿”å›ã€‚valueå€¼ä¸­ç»´æŠ¤ä¸€
ä¸ªç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼Œç¼“å­˜å¦‚æœè¿‡æœŸï¼Œå¼‚æ­¥èµ·ä¸€ä¸ªçº¿ç¨‹å»è¯»æ•°æ®åº“ï¼Œæ›´æ–°ç¼“å­˜ã€‚éœ€è¦
åšç¼“å­˜é¢„çƒ­(é¡¹ç›®å¯åŠ¨å‰ï¼Œå…ˆåŠ è½½ç¼“å­˜)æ“ä½œã€‚</p>
<p>(ä¸‰) <strong>æä¾›ä¸€ä¸ªèƒ½è¿…é€Ÿåˆ¤æ–­è¯·æ±‚æ˜¯å¦æœ‰æ•ˆçš„æ‹¦æˆªæœºåˆ¶</strong> ï¼Œæ¯”å¦‚ï¼Œåˆ©ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå†…
éƒ¨ç»´æŠ¤ä¸€ç³»åˆ—åˆæ³•æœ‰æ•ˆçš„keyã€‚è¿…é€Ÿåˆ¤æ–­å‡ºï¼Œè¯·æ±‚æ‰€æºå¸¦çš„Keyæ˜¯å¦åˆæ³•æœ‰æ•ˆã€‚
å¦‚æœä¸åˆæ³•ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚</p>
<p><strong>ç¼“å­˜é›ªå´©ï¼Œå³ç¼“å­˜åŒä¸€æ—¶é—´å¤§é¢ç§¯çš„å¤±æ•ˆï¼Œè¿™ä¸ªæ—¶å€™åˆæ¥äº†ä¸€æ³¢è¯·æ±‚ï¼Œç»“æœè¯·æ±‚
éƒ½æ€¼åˆ°æ•°æ®åº“ä¸Šï¼Œä»è€Œå¯¼è‡´æ•°æ®åº“è¿æ¥å¼‚å¸¸ã€‚</strong></p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<p>(ä¸€) <strong>ç»™ç¼“å­˜çš„å¤±æ•ˆæ—¶é—´</strong> ï¼ŒåŠ ä¸Šä¸€ä¸ªéšæœºå€¼ï¼Œé¿å…é›†ä½“å¤±æ•ˆã€‚</p>
<p>(äºŒ) <strong>ä½¿ç”¨äº’æ–¥é”</strong> ï¼Œä½†æ˜¯è¯¥æ–¹æ¡ˆååé‡æ˜æ˜¾ä¸‹é™äº†ã€‚</p>
<p>(ä¸‰) <strong>åŒç¼“å­˜</strong> ã€‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªç¼“å­˜ï¼Œç¼“å­˜Aå’Œç¼“å­˜Bã€‚ç¼“å­˜Açš„å¤±æ•ˆæ—¶é—´ä¸º 20 åˆ†é’Ÿï¼Œ
ç¼“å­˜Bä¸è®¾å¤±æ•ˆæ—¶é—´ã€‚è‡ªå·±åšç¼“å­˜é¢„çƒ­æ“ä½œã€‚ç„¶åç»†åˆ†ä»¥ä¸‹å‡ ä¸ªå°ç‚¹:</p>
<pre tabindex="0"><code>Iä»ç¼“å­˜Aè¯»æ•°æ®åº“ï¼Œæœ‰åˆ™ç›´æ¥è¿”å›ã€‚
IIAæ²¡æœ‰æ•°æ®ï¼Œç›´æ¥ä»Bè¯»æ•°æ®ï¼Œç›´æ¥è¿”å›ï¼Œå¹¶ä¸”å¼‚æ­¥å¯åŠ¨ä¸€ä¸ªæ›´æ–°çº¿ç¨‹ã€‚
III æ›´æ–°çº¿ç¨‹åŒæ—¶æ›´æ–°ç¼“å­˜Aå’Œç¼“å­˜Bã€‚
</code></pre><p><strong>10. 10. 8. 4 å¦‚ä½•è§£å†³redisçš„å¹¶å‘ç«äº‰keyé—®é¢˜</strong></p>
<p><strong>åˆ†æ:</strong> è¿™ä¸ªé—®é¢˜å¤§è‡´å°±æ˜¯ï¼ŒåŒæ—¶æœ‰å¤šä¸ªå­ç³»ç»Ÿå»setä¸€ä¸ªkeyã€‚è¿™ä¸ªæ—¶å€™è¦æ³¨æ„ä»€
ä¹ˆå‘¢ï¼Ÿ</p>
<p>( 1 )å¦‚æœå¯¹è¿™ä¸ªkeyæ“ä½œï¼Œä¸è¦æ±‚é¡ºåº
è¿™ç§æƒ…å†µä¸‹ï¼Œå‡†å¤‡ä¸€ä¸ªåˆ†å¸ƒå¼é”ï¼Œå¤§å®¶å»æŠ¢é”ï¼ŒæŠ¢åˆ°é”å°±åšsetæ“ä½œå³
å¯ï¼Œæ¯”è¾ƒç®€å•ã€‚</p>
<p>( 2 )å¦‚æœå¯¹è¿™ä¸ªkeyæ“ä½œï¼Œè¦æ±‚é¡ºåº
å‡è®¾æœ‰ä¸€ä¸ªkey 1 ,ç³»ç»ŸAéœ€è¦å°†key 1 è®¾ç½®ä¸ºvalueA,ç³»ç»ŸBéœ€è¦å°†key 1
è®¾ç½®ä¸ºvalueB,ç³»ç»ŸCéœ€è¦å°†key 1 è®¾ç½®ä¸ºvalueC.</p>
<p>æœŸæœ›æŒ‰ç…§key 1 çš„valueå€¼æŒ‰ç…§ valueAâ€“&gt;valueBâ€“&gt;valueCçš„é¡ºåºå˜
åŒ–ã€‚è¿™ç§æ—¶å€™æˆ‘ä»¬åœ¨æ•°æ®å†™å…¥æ•°æ®åº“çš„æ—¶å€™ï¼Œéœ€è¦ä¿å­˜ä¸€ä¸ªæ—¶é—´æˆ³ã€‚å‡è®¾æ—¶é—´æˆ³
å¦‚ä¸‹</p>
<p>ç³»ç»ŸAkey 1 {valueA 3 : 00 }
ç³»ç»ŸBkey 1 {valueB 3 : 05 }
ç³»ç»ŸCkey 1 {valueC 3 : 10 }
é‚£ä¹ˆï¼Œå‡è®¾è¿™ä¼šç³»ç»ŸBå…ˆæŠ¢åˆ°é”ï¼Œå°†key 1 è®¾ç½®ä¸º{valueB 3 : 05 }ã€‚æ¥ä¸‹
æ¥ç³»ç»ŸAæŠ¢åˆ°é”ï¼Œå‘ç°è‡ªå·±çš„valueAçš„æ—¶é—´æˆ³æ—©äºç¼“å­˜ä¸­çš„æ—¶é—´æˆ³ï¼Œé‚£å°±ä¸åš
setæ“ä½œäº†ã€‚ä»¥æ­¤ç±»æ¨ã€‚</p>
<p>å…¶ä»–æ–¹æ³•ï¼Œæ¯”å¦‚åˆ©ç”¨é˜Ÿåˆ—ï¼Œå°†setæ–¹æ³•å˜æˆä¸²è¡Œè®¿é—®ä¹Ÿå¯ä»¥ã€‚æ€»ä¹‹ï¼Œçµ
æ´»å˜é€šã€‚</p>
<p><strong>10. 10. 8. 5 mySQLé‡Œæœ‰ 2000 wæ•°æ®ï¼Œredisä¸­åªå­˜ 20 wçš„æ•°æ®ï¼Œ
å¦‚ä½•ä¿è¯redisä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®</strong></p>
<p><strong>é€šè¿‡é…ç½®Redisçš„æ·˜æ±°ç­–ç•¥ã€‚</strong> redis å†…å­˜æ•°æ®é›†å¤§å°ä¸Šå‡åˆ°ä¸€å®šå¤§å°çš„
æ—¶å€™ï¼Œå°±ä¼šæ–½è¡Œæ•°æ®æ·˜æ±°ç­–ç•¥ï¼ˆå›æ”¶ç­–ç•¥ï¼‰ã€‚</p>
<p><strong>10. 10. 8. 6 redisäº‹ç‰©çš„äº†è§£CAS(check-and-set æ“ä½œå®ç°ä¹è§‚
é” )?</strong></p>
<p>å’Œä¼—å¤šå…¶å®ƒæ•°æ®åº“ä¸€æ ·ï¼ŒRedisä½œä¸ºNoSQLæ•°æ®åº“ä¹ŸåŒæ ·æä¾›äº†äº‹åŠ¡æœºåˆ¶ã€‚åœ¨
Redisä¸­ï¼ŒMULTI/EXEC/DISCARD/WATCHè¿™å››ä¸ªå‘½ä»¤æ˜¯æˆ‘ä»¬å®ç°äº‹åŠ¡çš„åŸº
çŸ³ã€‚ç›¸ä¿¡å¯¹æœ‰å…³ç³»å‹æ•°æ®åº“å¼€å‘ç»éªŒçš„å¼€å‘è€…è€Œè¨€è¿™ä¸€æ¦‚å¿µå¹¶ä¸é™Œç”Ÿï¼Œå³ä¾¿å¦‚æ­¤ï¼Œ
æˆ‘ä»¬è¿˜æ˜¯ä¼šç®€è¦çš„åˆ—å‡ºRedisä¸­äº‹åŠ¡çš„å®ç°ç‰¹å¾ï¼š</p>
<p>1 ). åœ¨äº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½å°†ä¼šè¢«ä¸²è¡ŒåŒ–çš„é¡ºåºæ‰§è¡Œï¼Œäº‹åŠ¡æ‰§è¡ŒæœŸé—´ï¼Œ
Redisä¸ä¼šå†ä¸ºå…¶å®ƒå®¢æˆ·ç«¯çš„è¯·æ±‚æä¾›ä»»ä½•æœåŠ¡ï¼Œä»è€Œä¿è¯äº†äº‹ç‰©ä¸­çš„æ‰€æœ‰å‘½ä»¤
è¢«åŸå­çš„æ‰§è¡Œã€‚</p>
<p>2 ). å’Œå…³ç³»å‹æ•°æ®åº“ä¸­çš„äº‹åŠ¡ç›¸æ¯”ï¼Œåœ¨Redisäº‹åŠ¡ä¸­å¦‚æœæœ‰æŸä¸€æ¡å‘½ä»¤
æ‰§è¡Œå¤±è´¥ï¼Œå…¶åçš„å‘½ä»¤ä»ç„¶ä¼šè¢«ç»§ç»­æ‰§è¡Œã€‚</p>
<p>3 ). æˆ‘ä»¬å¯ä»¥é€šè¿‡MULTIå‘½ä»¤å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œæœ‰å…³ç³»å‹æ•°æ®åº“å¼€å‘ç»éªŒ
çš„äººå¯ä»¥å°†å…¶ç†è§£ä¸º&quot;BEGINTRANSACTION&quot;è¯­å¥ã€‚åœ¨è¯¥è¯­å¥ä¹‹åæ‰§è¡Œçš„å‘½ä»¤éƒ½</p>
<h5 id="å°†è¢«è§†ä¸ºäº‹åŠ¡ä¹‹å†…çš„æ“ä½œæœ€åæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰§è¡Œexecdiscardå‘½ä»¤æ¥æäº¤">å°†è¢«è§†ä¸ºäº‹åŠ¡ä¹‹å†…çš„æ“ä½œï¼Œæœ€åæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰§è¡ŒEXEC/DISCARDå‘½ä»¤æ¥æäº¤</h5>
<p>/å›æ»šè¯¥äº‹åŠ¡å†…çš„æ‰€æœ‰æ“ä½œã€‚è¿™ä¸¤ä¸ªRediså‘½ä»¤å¯è¢«è§†ä¸ºç­‰åŒäºå…³ç³»å‹æ•°æ®åº“ä¸­
çš„COMMIT/ROLLBACKè¯­å¥ã€‚</p>
<p>4 ). åœ¨äº‹åŠ¡å¼€å¯ä¹‹å‰ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´å‡ºç°é€šè®¯æ•…éšœå¹¶å¯¼è‡´ç½‘
ç»œæ–­å¼€ï¼Œå…¶åæ‰€æœ‰å¾…æ‰§è¡Œçš„è¯­å¥éƒ½å°†ä¸ä¼šè¢«æœåŠ¡å™¨æ‰§è¡Œã€‚ç„¶è€Œå¦‚æœç½‘ç»œä¸­æ–­äº‹ä»¶
æ˜¯å‘ç”Ÿåœ¨å®¢æˆ·ç«¯æ‰§è¡ŒEXECå‘½ä»¤ä¹‹åï¼Œé‚£ä¹ˆè¯¥äº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«æœåŠ¡å™¨æ‰§
è¡Œã€‚</p>
<p>5 ). å½“ä½¿ç”¨Append-Onlyæ¨¡å¼æ—¶ï¼ŒRedisä¼šé€šè¿‡è°ƒç”¨ç³»ç»Ÿå‡½æ•°writeå°†
è¯¥äº‹åŠ¡å†…çš„æ‰€æœ‰å†™æ“ä½œåœ¨æœ¬æ¬¡è°ƒç”¨ä¸­å…¨éƒ¨å†™å…¥ç£ç›˜ã€‚ç„¶è€Œå¦‚æœåœ¨å†™å…¥çš„è¿‡ç¨‹ä¸­å‡º
ç°ç³»ç»Ÿå´©æºƒï¼Œå¦‚ç”µæºæ•…éšœå¯¼è‡´çš„å®•æœºï¼Œé‚£ä¹ˆæ­¤æ—¶ä¹Ÿè®¸åªæœ‰éƒ¨åˆ†æ•°æ®è¢«å†™å…¥åˆ°ç£ç›˜ï¼Œ
è€Œå¦å¤–ä¸€éƒ¨åˆ†æ•°æ®å´å·²ç»ä¸¢å¤±ã€‚
RedisæœåŠ¡å™¨ä¼šåœ¨é‡æ–°å¯åŠ¨æ—¶æ‰§è¡Œä¸€ç³»åˆ—å¿…è¦çš„ä¸€è‡´æ€§æ£€æµ‹ï¼Œä¸€æ—¦å‘ç°ç±»ä¼¼é—®
é¢˜ï¼Œå°±ä¼šç«‹å³é€€å‡ºå¹¶ç»™å‡ºç›¸åº”çš„é”™è¯¯æç¤ºã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±è¦å……åˆ†åˆ©ç”¨Rediså·¥å…·
åŒ…ä¸­æä¾›çš„redis-check-aofå·¥å…·ï¼Œè¯¥å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½åˆ°æ•°æ®ä¸ä¸€è‡´çš„é”™
è¯¯ï¼Œå¹¶å°†å·²ç»å†™å…¥çš„éƒ¨åˆ†æ•°æ®è¿›è¡Œå›æ»šã€‚ä¿®å¤ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å†æ¬¡é‡æ–°å¯åŠ¨
RedisæœåŠ¡å™¨äº†ã€‚</p>
<p><strong>10. 10. 8. 7 WATCHå‘½ä»¤å’ŒåŸºäºCASçš„ä¹è§‚é”ï¼š</strong></p>
<p>åœ¨Redisçš„äº‹åŠ¡ä¸­ï¼ŒWATCHå‘½ä»¤å¯ç”¨äºæä¾›CAS(check-and-set)åŠŸ
èƒ½ã€‚å‡è®¾æˆ‘ä»¬é€šè¿‡WATCHå‘½ä»¤åœ¨äº‹åŠ¡æ‰§è¡Œä¹‹å‰ç›‘æ§äº†å¤šä¸ªKeysï¼Œå€˜è‹¥åœ¨
WATCHä¹‹åæœ‰ä»»ä½•Keyçš„å€¼å‘ç”Ÿäº†å˜åŒ–ï¼ŒEXECå‘½ä»¤æ‰§è¡Œçš„äº‹åŠ¡éƒ½å°†è¢«æ”¾å¼ƒï¼Œ</p>
<p>åŒæ—¶è¿”å›Nullmulti-bulkåº”ç­”ä»¥é€šçŸ¥è°ƒç”¨è€…äº‹åŠ¡æ‰§è¡Œå¤±è´¥ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å†æ¬¡å‡
è®¾Redisä¸­å¹¶æœªæä¾›incrå‘½ä»¤æ¥å®Œæˆé”®å€¼çš„åŸå­æ€§é€’å¢ï¼Œå¦‚æœè¦å®ç°è¯¥åŠŸèƒ½ï¼Œ
æˆ‘ä»¬åªèƒ½è‡ªè¡Œç¼–å†™ç›¸åº”çš„ä»£ç ã€‚å…¶ä¼ªç å¦‚ä¸‹ï¼š</p>
<p>val=GETmykey
val=val+ 1
SETmykey$val
ä»¥ä¸Šä»£ç åªæœ‰åœ¨å•è¿æ¥çš„æƒ…å†µä¸‹æ‰å¯ä»¥ä¿è¯æ‰§è¡Œç»“æœæ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºå¦‚
æœåœ¨åŒä¸€æ—¶åˆ»æœ‰å¤šä¸ªå®¢æˆ·ç«¯åœ¨åŒæ—¶æ‰§è¡Œè¯¥æ®µä»£ç ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°å¤šçº¿ç¨‹ç¨‹åºä¸­ç»
å¸¸å‡ºç°çš„ä¸€ç§é”™è¯¯åœºæ™¯â€“ç«æ€äº‰ç”¨(racecondition)ã€‚æ¯”å¦‚ï¼Œå®¢æˆ·ç«¯Aå’ŒBéƒ½åœ¨
åŒä¸€æ—¶åˆ»è¯»å–äº†mykeyçš„åŸæœ‰å€¼ï¼Œå‡è®¾è¯¥å€¼ä¸º 10 ï¼Œæ­¤åä¸¤ä¸ªå®¢æˆ·ç«¯åˆå‡å°†è¯¥å€¼
åŠ ä¸€åsetå›RedisæœåŠ¡å™¨ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´mykeyçš„ç»“æœä¸º 11 ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬è®¤
ä¸ºçš„ 12 ã€‚ä¸ºäº†è§£å†³ç±»ä¼¼çš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©WATCHå‘½ä»¤çš„å¸®åŠ©ï¼Œè§å¦‚ä¸‹ä»£
ç ï¼š</p>
<p>WATCHmykey
val=GETmykey
val=val+ 1
MULTI
SETmykey$val
EXEC
å’Œæ­¤å‰ä»£ç ä¸åŒçš„æ˜¯ï¼Œæ–°ä»£ç åœ¨è·å–mykeyçš„å€¼ä¹‹å‰å…ˆé€šè¿‡WATCHå‘½ä»¤ç›‘æ§
äº†è¯¥é”®ï¼Œæ­¤ååˆå°†setå‘½ä»¤åŒ…å›´åœ¨äº‹åŠ¡ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆçš„ä¿è¯æ¯ä¸ªè¿æ¥åœ¨æ‰§</p>
<p>è¡ŒEXECä¹‹å‰ï¼Œå¦‚æœå½“å‰è¿æ¥è·å–çš„mykeyçš„å€¼è¢«å…¶å®ƒè¿æ¥çš„å®¢æˆ·ç«¯ä¿®æ”¹ï¼Œé‚£
ä¹ˆå½“å‰è¿æ¥çš„EXECå‘½ä»¤å°†æ‰§è¡Œå¤±è´¥ã€‚è¿™æ ·è°ƒç”¨è€…åœ¨åˆ¤æ–­è¿”å›å€¼åå°±å¯ä»¥è·æ‚‰
valæ˜¯å¦è¢«é‡æ–°è®¾ç½®æˆåŠŸã€‚
<strong>10. 10. 8. 9 redisçš„ç¼“å­˜å¤±æ•ˆç­–ç•¥å’Œä¸»é”®å¤±æ•ˆæœºåˆ¶</strong>
ä½œä¸ºç¼“å­˜ç³»ç»Ÿéƒ½è¦å®šæœŸæ¸…ç†æ— æ•ˆæ•°æ®ï¼Œå°±éœ€è¦ä¸€ä¸ªä¸»é”®å¤±æ•ˆå’Œæ·˜æ±°ç­–ç•¥.
åœ¨Rediså½“ä¸­ï¼Œæœ‰ç”Ÿå­˜æœŸçš„keyè¢«ç§°ä¸ºvolatileã€‚åœ¨åˆ›å»ºç¼“å­˜æ—¶ï¼Œè¦ä¸ºç»™å®šçš„
keyè®¾ç½®ç”Ÿå­˜æœŸï¼Œå½“keyè¿‡æœŸçš„æ—¶å€™ï¼ˆç”Ÿå­˜æœŸä¸º 0 ï¼‰ï¼Œå®ƒå¯èƒ½ä¼šè¢«åˆ é™¤ã€‚
<strong>1 ã€å½±å“ç”Ÿå­˜æ—¶é—´çš„ä¸€äº›æ“ä½œ</strong>
ç”Ÿå­˜æ—¶é—´å¯ä»¥é€šè¿‡ä½¿ç”¨ DEL å‘½ä»¤æ¥åˆ é™¤æ•´ä¸ª key æ¥ç§»é™¤ï¼Œæˆ–è€…è¢« SETå’Œ
GETSET å‘½ä»¤è¦†ç›–åŸæ¥çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¿®æ”¹keyå¯¹åº”çš„valueå’Œä½¿ç”¨å¦å¤–ç›¸åŒçš„
keyå’Œvalueæ¥è¦†ç›–ä»¥åï¼Œå½“å‰æ•°æ®çš„ç”Ÿå­˜æ—¶é—´ä¸åŒã€‚</p>
<p>æ¯”å¦‚è¯´ï¼Œå¯¹ä¸€ä¸ª key æ‰§è¡ŒINCRå‘½ä»¤ï¼Œå¯¹ä¸€ä¸ªåˆ—è¡¨è¿›è¡ŒLPUSHå‘½ä»¤ï¼Œæˆ–è€…å¯¹
ä¸€ä¸ªå“ˆå¸Œè¡¨æ‰§è¡ŒHSETå‘½ä»¤ï¼Œè¿™ç±»æ“ä½œéƒ½ä¸ä¼šä¿®æ”¹ key æœ¬èº«çš„ç”Ÿå­˜æ—¶é—´ã€‚å¦ä¸€æ–¹é¢ï¼Œ
å¦‚æœä½¿ç”¨RENAMEå¯¹ä¸€ä¸ª key è¿›è¡Œæ”¹åï¼Œé‚£ä¹ˆæ”¹ååçš„ keyçš„ç”Ÿå­˜æ—¶é—´å’Œæ”¹åå‰
ä¸€æ ·ã€‚</p>
<p>RENAMEå‘½ä»¤çš„å¦ä¸€ç§å¯èƒ½æ˜¯ï¼Œå°è¯•å°†ä¸€ä¸ªå¸¦ç”Ÿå­˜æ—¶é—´çš„ key æ”¹åæˆå¦ä¸€ä¸ª
å¸¦ç”Ÿå­˜æ—¶é—´çš„ another_key ï¼Œè¿™æ—¶æ—§çš„ another_key(ä»¥åŠå®ƒçš„ç”Ÿå­˜æ—¶é—´)ä¼šè¢«åˆ é™¤ï¼Œ
ç„¶åæ—§çš„ key ä¼šæ”¹åä¸º another_key ï¼Œå› æ­¤ï¼Œæ–°çš„ another_key çš„ç”Ÿå­˜æ—¶é—´ä¹Ÿå’Œ</p>
<p>åŸæœ¬çš„ key ä¸€æ ·ã€‚ä½¿ç”¨PERSISTå‘½ä»¤å¯ä»¥åœ¨ä¸åˆ é™¤ key çš„æƒ…å†µä¸‹ï¼Œç§»é™¤ key çš„ç”Ÿ
å­˜æ—¶é—´ï¼Œè®© key é‡æ–°æˆä¸ºä¸€ä¸ªpersistentkey ã€‚</p>
<p><strong>2 ã€å¦‚ä½•æ›´æ–°ç”Ÿå­˜æ—¶é—´</strong>
å¯ä»¥å¯¹ä¸€ä¸ªå·²ç»å¸¦æœ‰ç”Ÿå­˜æ—¶é—´çš„ key æ‰§è¡ŒEXPIREå‘½ä»¤ï¼Œæ–°æŒ‡å®šçš„ç”Ÿå­˜æ—¶é—´ä¼š
å–ä»£æ—§çš„ç”Ÿå­˜æ—¶é—´ã€‚è¿‡æœŸæ—¶é—´çš„ç²¾åº¦å·²ç»è¢«æ§åˆ¶åœ¨ 1 msä¹‹å†…ï¼Œä¸»é”®å¤±æ•ˆçš„æ—¶é—´å¤æ‚åº¦
æ˜¯Oï¼ˆ 1 ï¼‰ï¼ŒEXPIREå’ŒTTLå‘½ä»¤æ­é…ä½¿ç”¨ï¼ŒTTLå¯ä»¥æŸ¥çœ‹keyçš„å½“å‰ç”Ÿå­˜æ—¶é—´ã€‚è®¾ç½®
æˆåŠŸè¿”å› 1 ï¼›å½“ key ä¸å­˜åœ¨æˆ–è€…ä¸èƒ½ä¸º key è®¾ç½®ç”Ÿå­˜æ—¶é—´æ—¶ï¼Œè¿”å› 0 ã€‚</p>
<p><strong>æœ€å¤§ç¼“å­˜é…ç½®</strong>
åœ¨ redisä¸­ï¼Œå…è®¸ç”¨æˆ·è®¾ç½®æœ€å¤§ä½¿ç”¨å†…å­˜å¤§å°server.maxmemoryé»˜è®¤ä¸º 0 ï¼Œ
æ²¡æœ‰æŒ‡å®šæœ€å¤§ç¼“å­˜ï¼Œå¦‚æœæœ‰æ–°çš„æ•°æ®æ·»åŠ ï¼Œè¶…è¿‡æœ€å¤§å†…å­˜ï¼Œåˆ™ä¼šä½¿rediså´©æºƒï¼Œæ‰€ä»¥
ä¸€å®šè¦è®¾ç½®ã€‚rediså†…å­˜æ•°æ®é›†å¤§å°ä¸Šå‡åˆ°ä¸€å®šå¤§å°çš„æ—¶å€™ï¼Œå°±ä¼šå®è¡Œæ•°æ®æ·˜æ±°ç­–ç•¥ã€‚
<strong>redis æä¾› 6 ç§æ•°æ®æ·˜æ±°ç­–ç•¥ï¼š</strong></p>
<pre tabindex="0"><code>volatile-lruï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ï¼ˆserver.db[i].expiresï¼‰ä¸­æŒ‘
é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®æ·˜æ±°
volatile-ttlï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ï¼ˆserver.db[i].expiresï¼‰ä¸­æŒ‘
é€‰å°†è¦è¿‡æœŸçš„æ•°æ®æ·˜æ±°
volatile-randomï¼šä»å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ•°æ®é›†ï¼ˆserver.db[i].expiresï¼‰
ä¸­ä»»æ„é€‰æ‹©æ•°æ®æ·˜æ±°
allkeys-lruï¼šä»æ•°æ®é›†ï¼ˆserver.db[i].dictï¼‰ä¸­æŒ‘é€‰æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®
æ·˜æ±°
</code></pre><p>allkeys-randomï¼šä»æ•°æ®é›†ï¼ˆserver.db[i].dictï¼‰ä¸­ä»»æ„é€‰æ‹©æ•°æ®æ·˜æ±°
no-envictionï¼ˆé©±é€ï¼‰ï¼šç¦æ­¢é©±é€æ•°æ®
æ³¨æ„è¿™é‡Œçš„ 6 ç§æœºåˆ¶ï¼Œvolatileå’Œallkeysè§„å®šäº†æ˜¯å¯¹å·²è®¾ç½®è¿‡æœŸæ—¶é—´çš„
æ•°æ®é›†æ·˜æ±°æ•°æ®è¿˜æ˜¯ä»å…¨éƒ¨æ•°æ®é›†æ·˜æ±°æ•°æ®ï¼Œåé¢çš„lruã€ttlä»¥åŠrandomæ˜¯ä¸‰
ç§ä¸åŒçš„æ·˜æ±°ç­–ç•¥ï¼Œå†åŠ ä¸Šä¸€ç§no-envictionæ°¸ä¸å›æ”¶çš„ç­–ç•¥ã€‚</p>
<p>ä½¿ç”¨ç­–ç•¥è§„åˆ™ï¼š
1 ã€å¦‚æœæ•°æ®å‘ˆç°å¹‚å¾‹åˆ†å¸ƒï¼Œä¹Ÿå°±æ˜¯ä¸€éƒ¨åˆ†æ•°æ®è®¿é—®é¢‘ç‡é«˜ï¼Œä¸€éƒ¨åˆ†æ•°æ®
è®¿é—®é¢‘ç‡ä½ï¼Œåˆ™ä½¿ç”¨allkeys-lru</p>
<p>2 ã€å¦‚æœæ•°æ®å‘ˆç°å¹³ç­‰åˆ†å¸ƒï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰çš„æ•°æ®è®¿é—®é¢‘ç‡éƒ½ç›¸åŒï¼Œåˆ™ä½¿ç”¨
allkeys-random</p>
<p>ä¸‰ç§æ•°æ®æ·˜æ±°ç­–ç•¥ï¼š
ttlå’Œrandomæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå®ç°ä¹Ÿä¼šæ¯”è¾ƒç®€å•ã€‚ä¸»è¦æ˜¯Lruæœ€è¿‘æœ€å°‘ä½¿ç”¨æ·˜
æ±°ç­–ç•¥ï¼Œè®¾è®¡ä¸Šä¼šå¯¹keyæŒ‰å¤±æ•ˆæ—¶é—´æ’åºï¼Œç„¶åå–æœ€å…ˆå¤±æ•ˆçš„keyè¿›è¡Œæ·˜æ±°ã€‚</p>
<p><strong>10. 10. 8. 10 è¯»å†™åˆ†ç¦»æ¨¡å‹</strong></p>
<p>é€šè¿‡å¢åŠ SlaveDBçš„æ•°é‡ï¼Œè¯»çš„æ€§èƒ½å¯ä»¥çº¿æ€§å¢é•¿ã€‚ä¸ºäº†é¿å…MasterDB
çš„å•ç‚¹æ•…éšœï¼Œé›†ç¾¤ä¸€èˆ¬éƒ½ä¼šé‡‡ç”¨ä¸¤å°MasterDBåšåŒæœºçƒ­å¤‡ï¼Œæ‰€ä»¥æ•´ä¸ªé›†ç¾¤çš„
è¯»å’Œå†™çš„å¯ç”¨æ€§éƒ½éå¸¸é«˜ã€‚</p>
<p>è¯»å†™åˆ†ç¦»æ¶æ„çš„ç¼ºé™·åœ¨äºï¼Œä¸ç®¡æ˜¯Masterè¿˜æ˜¯Slaveï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¿…é¡»ä¿
å­˜å®Œæ•´çš„æ•°æ®ï¼Œå¦‚æœåœ¨æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œé›†ç¾¤çš„æ‰©å±•èƒ½åŠ›è¿˜æ˜¯å—é™äºå•ä¸ªèŠ‚
ç‚¹çš„å­˜å‚¨èƒ½åŠ›ï¼Œè€Œä¸”å¯¹äºWrite-intensiveç±»å‹çš„åº”ç”¨ï¼Œè¯»å†™åˆ†ç¦»æ¶æ„å¹¶ä¸é€‚åˆã€‚</p>
<p><strong>10. 10. 8. 11 ä½¿ç”¨è¿‡Redisåˆ†å¸ƒå¼é”ä¹ˆï¼Œå®ƒæ˜¯ä»€ä¹ˆå›äº‹ï¼Ÿ</strong></p>
<p>å…ˆæ‹¿setnxæ¥äº‰æŠ¢é”ï¼ŒæŠ¢åˆ°ä¹‹åï¼Œå†ç”¨expireç»™é”åŠ ä¸€ä¸ªè¿‡æœŸæ—¶é—´é˜²æ­¢
é”å¿˜è®°äº†é‡Šæ”¾ã€‚</p>
<p><strong>10. 10. 8. 12 å¦‚æœæœ‰å¤§é‡çš„keyéœ€è¦è®¾ç½®åŒä¸€æ—¶é—´è¿‡æœŸï¼Œä¸€èˆ¬éœ€è¦æ³¨
æ„ä»€ä¹ˆï¼Ÿ</strong></p>
<p>å¦‚æœå¤§é‡çš„keyè¿‡æœŸæ—¶é—´è®¾ç½®çš„è¿‡äºé›†ä¸­ï¼Œåˆ°è¿‡æœŸçš„é‚£ä¸ªæ—¶é—´ç‚¹ï¼Œrediså¯èƒ½ä¼š
å‡ºç°çŸ­æš‚çš„å¡é¡¿ç°è±¡ã€‚ä¸€èˆ¬éœ€è¦åœ¨æ—¶é—´ä¸ŠåŠ ä¸€ä¸ªéšæœºå€¼ï¼Œä½¿å¾—è¿‡æœŸæ—¶é—´åˆ†æ•£ä¸€äº›ã€‚</p>
<p><strong>10. 10. 8. 13 Redisçš„åŒæ­¥æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ</strong></p>
<p>Rediså¯ä»¥ä½¿ç”¨ä¸»ä»åŒæ­¥ï¼Œä»ä»åŒæ­¥ã€‚ç¬¬ä¸€æ¬¡åŒæ­¥æ—¶ï¼Œä¸»èŠ‚ç‚¹åšä¸€æ¬¡bgsaveï¼Œ
å¹¶åŒæ—¶å°†åç»­ä¿®æ”¹æ“ä½œè®°å½•åˆ°å†…å­˜bufferï¼Œå¾…å®Œæˆåå°†rdbæ–‡ä»¶å…¨é‡åŒæ­¥åˆ°å¤
åˆ¶èŠ‚ç‚¹ï¼Œå¤åˆ¶èŠ‚ç‚¹æ¥å—å®Œæˆåå°†rdbé•œåƒåŠ è½½åˆ°å†…å­˜ã€‚åŠ è½½å®Œæˆåï¼Œå†é€šçŸ¥ä¸»
èŠ‚ç‚¹å°†æœŸé—´ä¿®æ”¹çš„æ“ä½œè®°å½•åŒæ­¥åˆ°å¤åˆ¶èŠ‚ç‚¹è¿›è¡Œé‡æ”¾å°±å®Œæˆäº†åŒæ­¥è¿‡ç¨‹ã€‚</p>
<p><strong>10. 10. 8. 13 æ˜¯å¦ä½¿ç”¨è¿‡Redisé›†ç¾¤ï¼Œé›†ç¾¤çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>RedisSentinalç€çœ¼äºé«˜å¯ç”¨ï¼Œåœ¨masterå®•æœºæ—¶ä¼šè‡ªåŠ¨å°†slaveæå‡ä¸ºmasterï¼Œ
ç»§ç»­æä¾›æœåŠ¡ã€‚</p>
<p>RedisClusterç€çœ¼äºæ‰©å±•æ€§ï¼Œåœ¨å•ä¸ªrediså†…å­˜ä¸è¶³æ—¶ï¼Œä½¿ç”¨Clusterè¿›è¡Œåˆ†
ç‰‡å­˜å‚¨ã€‚</p>
<h3 id="10-11-è®¢å•ç³»ç»Ÿ">10 11 è®¢å•ç³»ç»Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h4 id="10-11-1-ä¸šåŠ¡æ€è·¯">10 11 1 ä¸šåŠ¡æ€è·¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="å½“æˆ‘ä»¬æäº¤è®¢å•æ—¶ä¼šè®¾ç½®åŠå°æ—¶çš„æ”¯ä»˜æ—¶é—´å¦‚æœè¿™åŠå°æ—¶ä¹‹å†…ä¸ºæ”¯ä»˜çš„">å½“æˆ‘ä»¬æäº¤è®¢å•æ—¶ï¼Œä¼šè®¾ç½®åŠå°æ—¶çš„æ”¯ä»˜æ—¶é—´ï¼Œå¦‚æœè¿™åŠå°æ—¶ä¹‹å†…ä¸ºæ”¯ä»˜çš„</h5>
<h5 id="è¯æˆ‘ä»¬ä¼šå°†è¯¥è®¢å•å–æ¶ˆåŒæ—¶å°†è´­ç‰©è½¦çš„å•†å“åˆ é™¤å¦‚æœåŠå°æ—¶ä¹‹å†…æ”¯ä»˜æˆåŠŸ">è¯ï¼Œæˆ‘ä»¬ä¼šå°†è¯¥è®¢å•å–æ¶ˆï¼ŒåŒæ—¶å°†è´­ç‰©è½¦çš„å•†å“åˆ é™¤ã€‚å¦‚æœåŠå°æ—¶ä¹‹å†…æ”¯ä»˜æˆåŠŸ</h5>
<h5 id="çš„è¯ä¼šç”Ÿæˆä¸€ä¸ªè®¢å•ä¿¡æ¯è®¢å•çš„çŠ¶æ€æ˜¾ç¤ºä¸ºå¾…å‘è´§æˆ‘ä»¬ä¼šæ ¹æ®è®¢å•çš„æ”¶ä»¶äºº">çš„è¯ä¼šç”Ÿæˆä¸€ä¸ªè®¢å•ä¿¡æ¯ï¼Œè®¢å•çš„çŠ¶æ€æ˜¾ç¤ºä¸ºå¾…å‘è´§ã€‚æˆ‘ä»¬ä¼šæ ¹æ®è®¢å•çš„æ”¶ä»¶äºº</h5>
<h5 id="å»è°ƒç”¨ç‰©æµçš„æ¥å£ç”Ÿæˆç‰©æµå•é€šçŸ¥ç‰©æµäººå‘˜å–è´§å½“å¿«é€’äººå‘˜æå–å•†å“ä»¥å">å»è°ƒç”¨ç‰©æµçš„æ¥å£ç”Ÿæˆç‰©æµå•ï¼Œé€šçŸ¥ç‰©æµäººå‘˜å–è´§ã€‚å½“å¿«é€’äººå‘˜æå–å•†å“ä»¥åï¼Œ</h5>
<h5 id="è®¢å•çš„çŠ¶æ€æ›´æ”¹ä¸ºå·²å‘è´§åŒæ—¶ä¹°å®¶å¯ä»¥åœ¨è®¢å•ä¿¡æ¯é¡µé¢çš„ç‰©æµçŠ¶æ€æŸ¥çœ‹ç‰©æµä¿¡">è®¢å•çš„çŠ¶æ€æ›´æ”¹ä¸ºå·²å‘è´§ï¼ŒåŒæ—¶ä¹°å®¶å¯ä»¥åœ¨è®¢å•ä¿¡æ¯é¡µé¢çš„ç‰©æµçŠ¶æ€æŸ¥çœ‹ç‰©æµä¿¡</h5>
<h5 id="æ¯ç‰©æµä¿¡æ¯æˆ‘ä»¬é‡‡ç”¨çš„å®šæ—¶ä»»åŠ¡æ²¡ä¸¤ä¸ªå°æ—¶é€šè¿‡ç‰©æµç»™çš„æ¥å£ä¸­è·å–ç‰©æµä¿¡">æ¯ã€‚ç‰©æµä¿¡æ¯æˆ‘ä»¬é‡‡ç”¨çš„å®šæ—¶ä»»åŠ¡ï¼Œæ²¡ä¸¤ä¸ªå°æ—¶é€šè¿‡ç‰©æµç»™çš„æ¥å£ä¸­è·å–ç‰©æµä¿¡</h5>
<h5 id="æ¯å¦‚æœæŸ¥è¯¢å‡ºæ¥çš„ç‰©æµä¿¡æ¯æ²¡åšæ”¹å˜çš„è¯æˆ‘ä»¬ä¸æ›´æ–°æ•°æ®å¦‚æœä¿¡æ¯æ”¹å˜æˆ‘ä»¬">æ¯ï¼Œå¦‚æœæŸ¥è¯¢å‡ºæ¥çš„ç‰©æµä¿¡æ¯æ²¡åšæ”¹å˜çš„è¯æˆ‘ä»¬ä¸æ›´æ–°æ•°æ®ï¼Œå¦‚æœä¿¡æ¯æ”¹å˜æˆ‘ä»¬</h5>
<h5 id="ä¼šåœ¨ä¹‹å‰çš„ç‰©æµä¿¡æ¯ä¸‹å¢åŠ ä¸€ä¸ªæ–°çš„ç‰©æµèŠ‚ç‚¹ä¿¡æ¯å½“å¿«é€’å·¥ä½œäººå‘˜å°†å•†å“é€åˆ°">ä¼šåœ¨ä¹‹å‰çš„ç‰©æµä¿¡æ¯ä¸‹å¢åŠ ä¸€ä¸ªæ–°çš„ç‰©æµèŠ‚ç‚¹ä¿¡æ¯ã€‚å½“å¿«é€’å·¥ä½œäººå‘˜å°†å•†å“é€åˆ°</h5>
<h5 id="ç”¨æˆ·æ‰‹ä¸­ä»¥åæˆ‘ä»¬çš„è®¢å•çŠ¶æ€ä¼šæ”¹å˜æˆå·²æ”¶è´§ç”¨æˆ·å¯ä»¥åœ¨è¿™ä¸ªè®¢å•ä¸‹è¯„ä»·è¿™">ç”¨æˆ·æ‰‹ä¸­ä»¥åï¼Œæˆ‘ä»¬çš„è®¢å•çŠ¶æ€ä¼šæ”¹å˜æˆå·²æ”¶è´§ã€‚ç”¨æˆ·å¯ä»¥åœ¨è¿™ä¸ªè®¢å•ä¸‹è¯„ä»·è¿™</h5>
<h5 id="ä¸ªå•†å“">ä¸ªå•†å“ã€‚</h5>
<h5 id="å½“ç”¨æˆ·è®¢å•ä¸‹å®Œä»¥åå‘ç°è´­ä¹°æœ‰è¯¯æˆ–è€…æ”¶åˆ°å•†å“æ—¶å‘ç°æœ‰é—®é¢˜å¯ä»¥ç”³è¯·é€€">å½“ç”¨æˆ·è®¢å•ä¸‹å®Œä»¥åå‘ç°è´­ä¹°æœ‰è¯¯æˆ–è€…æ”¶åˆ°å•†å“æ—¶å‘ç°æœ‰é—®é¢˜å¯ä»¥ç”³è¯·é€€</h5>
<h5 id="è´§æˆ–è€…æ¢è´§çš„æµç¨‹ç‚¹å‡»ç”³è¯·é€€è´§æŒ‰é’®ä»¥åæˆ‘ä»¬ä¼šæ ¹æ®è¿™ç¬”è®¢å•å»ç”Ÿæˆä¸€ç¬”é€€è´§">è´§æˆ–è€…æ¢è´§çš„æµç¨‹ï¼Œç‚¹å‡»ç”³è¯·é€€è´§æŒ‰é’®ä»¥åæˆ‘ä»¬ä¼šæ ¹æ®è¿™ç¬”è®¢å•å»ç”Ÿæˆä¸€ç¬”é€€è´§</h5>
<h5 id="å•ç”³è¯·é€€è´§å•ç”³è¯·ç”±å•†å®¶è´Ÿè´£å®¡æ ¸å¦‚æœå®¡æ ¸é€šè¿‡ä¹°å®¶å°†å•†å“å¯„å›å½“å•†å®¶æ”¶">å•ç”³è¯·ï¼Œé€€è´§å•ç”³è¯·ç”±å•†å®¶è´Ÿè´£å®¡æ ¸ï¼Œå¦‚æœå®¡æ ¸é€šè¿‡ä¹°å®¶å°†å•†å“å¯„å›ï¼Œå½“å•†å®¶æ”¶</h5>
<h5 id="åˆ°å•†å“ä»¥åæ ¹æ®é€€è´§å•çš„é€€è´§ä¿¡æ¯æ ¹æ®å•†å“æ¯”è¾ƒç¡®è®¤æ­£ç¡®çš„æ—¶å€™å…³é—­é€€è´§å•è´§">åˆ°å•†å“ä»¥åæ ¹æ®é€€è´§å•çš„é€€è´§ä¿¡æ¯æ ¹æ®å•†å“æ¯”è¾ƒç¡®è®¤æ­£ç¡®çš„æ—¶å€™å…³é—­é€€è´§å•ï¼Œè´§</h5>
<h5 id="æ¬¾ä¼šé€€å›åˆ°ä¹°å®¶">æ¬¾ä¼šé€€å›åˆ°ä¹°å®¶ã€‚</h5>
<h3 id="10-12-æ”¯ä»˜ç³»ç»Ÿ">10 12 æ”¯ä»˜ç³»ç»Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h4 id="10-12-1-ä¸šåŠ¡æ€è·¯å¾®ä¿¡æ”¯ä»˜">10 12 1 ä¸šåŠ¡æ€è·¯(å¾®ä¿¡æ”¯ä»˜)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="1-å•†æˆ·ç³»ç»Ÿæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„å•†å“ç”Ÿæˆè®¢å•">1 ï¼å•†æˆ·ç³»ç»Ÿæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„å•†å“ç”Ÿæˆè®¢å•ã€‚</h5>
<h5 id="2-ç”¨æˆ·ç¡®è®¤æ”¯ä»˜åæ ¹æ®å¾®ä¿¡ç»Ÿä¸€ä¸‹å•apiå‘å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿå‘å‡ºè¯·æ±‚æˆ‘">2. ç”¨æˆ·ç¡®è®¤æ”¯ä»˜åæ ¹æ®å¾®ä¿¡ã€ç»Ÿä¸€ä¸‹å•APIã€‘ï¼Œå‘å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿå‘å‡ºè¯·æ±‚ï¼ˆæˆ‘</h5>
<p>ä»¬é€šè¿‡httpclientæ–¹å¼è¯·æ±‚çš„ï¼‰ã€‚
3. å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œå…ˆç”Ÿæˆé¢„æ”¯ä»˜è®¢å•ï¼Œç„¶åç»™å•†æˆ·ç³»ç»Ÿè¿”å›äºŒç»´ç 
è¿æ¥ã€‚
4. å•†æˆ·ç³»ç»Ÿæ‹¿åˆ°è¿”å›å€¼å­—ç¬¦ä¸²ï¼Œè½¬æ¢æˆå¯¹è±¡ï¼Œç„¶åå–å‡ºäºŒç»´ç è¿æ¥ç”ŸæˆäºŒç»´ç ã€‚
5. ç”¨æˆ·é€šè¿‡å¾®ä¿¡â€œæ‰«ä¸€æ‰«â€åŠŸèƒ½æ‰«æäºŒç»´ç ï¼Œå¾®ä¿¡å®¢æˆ·ç«¯å°†æ‰«ç å†…å®¹å‘é€åˆ°å¾®</p>
<h5 id="ä¿¡æ”¯ä»˜ç³»ç»Ÿ">ä¿¡æ”¯ä»˜ç³»ç»Ÿã€‚</h5>
<h5 id="6-å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ¥æ”¶åˆ°æ”¯ä»˜è¯·æ±‚éªŒè¯é“¾æ¥æœ‰æ•ˆæ€§åå‘èµ·æ”¯ä»˜è¯·æ±‚å®¢æˆ·ç¡®è®¤">6. å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ¥æ”¶åˆ°æ”¯ä»˜è¯·æ±‚ï¼ŒéªŒè¯é“¾æ¥æœ‰æ•ˆæ€§åå‘èµ·æ”¯ä»˜ï¼Œè¯·æ±‚å®¢æˆ·ç¡®è®¤ï¼Œ</h5>
<h5 id="ç„¶åæˆ‘ä»¬çš„å¾®ä¿¡ç«¯å°±ä¼šå¼¹å‡ºéœ€è¦ç¡®è®¤æ”¯ä»˜çš„é¡µé¢">ç„¶åæˆ‘ä»¬çš„å¾®ä¿¡ç«¯å°±ä¼šå¼¹å‡ºéœ€è¦ç¡®è®¤æ”¯ä»˜çš„é¡µé¢ã€‚</h5>
<h5 id="7-ç”¨æˆ·è¾“å…¥å¯†ç ç¡®è®¤æ”¯ä»˜å¹¶æäº¤æˆæƒ">7. ç”¨æˆ·è¾“å…¥å¯†ç ï¼Œç¡®è®¤æ”¯ä»˜å¹¶æäº¤æˆæƒã€‚</h5>
<h5 id="8-å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ ¹æ®ç”¨æˆ·æˆæƒå®Œæˆäº¤æ˜“">8. å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ ¹æ®ç”¨æˆ·æˆæƒå®Œæˆäº¤æ˜“ã€‚</h5>
<h5 id="9-å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ”¯ä»˜æˆåŠŸåå‘å¾®ä¿¡å®¢æˆ·ç«¯è¿”å›äº¤æ˜“ç»“æœå¹¶å°†äº¤æ˜“ç»“æœé€šè¿‡çŸ­">9. å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ”¯ä»˜æˆåŠŸåå‘å¾®ä¿¡å®¢æˆ·ç«¯è¿”å›äº¤æ˜“ç»“æœï¼Œå¹¶å°†äº¤æ˜“ç»“æœé€šè¿‡çŸ­</h5>
<h5 id="ä¿¡å¾®ä¿¡æç¤ºç”¨æˆ·">ä¿¡ã€å¾®ä¿¡æç¤ºç”¨æˆ·ã€‚</h5>
<h5 id="10-å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿé€šè¿‡å‘é€å¼‚æ­¥æ¶ˆæ¯é€šçŸ¥å•†æˆ·ç³»ç»Ÿåå°æ”¯ä»˜ç»“æœå•†æˆ·ç³»ç»Ÿéœ€å›">10. å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿé€šè¿‡å‘é€å¼‚æ­¥æ¶ˆæ¯é€šçŸ¥å•†æˆ·ç³»ç»Ÿåå°æ”¯ä»˜ç»“æœï¼Œå•†æˆ·ç³»ç»Ÿéœ€å›</h5>
<h5 id="å¤æ¥æ”¶æƒ…å†µé€šçŸ¥å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿä¸å†å‘é€è¯¥å•çš„é€šçŸ¥">å¤æ¥æ”¶æƒ…å†µï¼Œé€šçŸ¥å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿä¸å†å‘é€è¯¥å•çš„é€šçŸ¥ã€‚</h5>
<h5 id="11-æœªæ”¶åˆ°æ”¯ä»˜é€šçŸ¥çš„æƒ…å†µå•†æˆ·ç³»ç»Ÿå¯è°ƒç”¨æŸ¥è¯¢è®¢å•app">11. æœªæ”¶åˆ°æ”¯ä»˜é€šçŸ¥çš„æƒ…å†µï¼Œå•†æˆ·ç³»ç»Ÿå¯è°ƒç”¨ã€æŸ¥è¯¢è®¢å•APPã€‘ã€‚</h5>
<h5 id="12-å•†æˆ·ç¡®è®¤è®¢å•å·²ç»æ”¯ä»˜åç»™ç”¨æˆ·å‘è´§">12. å•†æˆ·ç¡®è®¤è®¢å•å·²ç»æ”¯ä»˜åç»™ç”¨æˆ·å‘è´§ã€‚</h5>
<h4 id="10-12-2-æ”¯ä»˜æ¥å£æ˜¯æ€ä¹ˆåšçš„">10 12 2 æ”¯ä»˜æ¥å£æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="é¢è¯•ä¸­å¯ä»¥è¯´æ”¯ä»˜è¿™éƒ¨åˆ†ä¸æ˜¯æˆ‘ä»¬åšçš„æˆ‘ä»¬é¡¹ç›®ä¸­å¹¶æ²¡æœ‰æ¶‰åŠæ”¯ä»˜éƒ¨åˆ†çš„">é¢è¯•ä¸­å¯ä»¥è¯´æ”¯ä»˜è¿™éƒ¨åˆ†ä¸æ˜¯æˆ‘ä»¬åšçš„ï¼Œæˆ‘ä»¬é¡¹ç›®ä¸­å¹¶æ²¡æœ‰æ¶‰åŠæ”¯ä»˜éƒ¨åˆ†çš„</h5>
<h5 id="å¤„ç†å¦‚æœæƒ³äº†è§£æ”¯ä»˜æ˜¯å¦‚ä½•å®ç°å¯ä»¥å‚è€ƒä¹‹å‰å­¦è¿‡çš„æ˜“å®æ”¯ä»˜ç›¸å…³å¤„ç†ä»¥åŠæ”¯">å¤„ç†ã€‚å¦‚æœæƒ³äº†è§£æ”¯ä»˜æ˜¯å¦‚ä½•å®ç°å¯ä»¥å‚è€ƒä¹‹å‰å­¦è¿‡çš„æ˜“å®æ”¯ä»˜ç›¸å…³å¤„ç†ä»¥åŠæ”¯</h5>
<h5 id="ä»˜å®å¾®ä¿¡æ”¯ä»˜ç›¸å…³æ–‡æ¡£">ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ç›¸å…³æ–‡æ¡£ã€‚</h5>
<h4 id="10-12-3-ç¬¬ä¸€ä¸ªæ˜¯å½“ä¸¤ä¸ªå®¢æˆ·åŒæ—¶ä¹°ä¸€ä»¶å•†å“æ—¶åº“å­˜åªæœ‰ä¸€ä¸ªäº†æ€ä¹ˆæ§åˆ¶">10 12 3 ç¬¬ä¸€ä¸ªæ˜¯å½“ä¸¤ä¸ªå®¢æˆ·åŒæ—¶ä¹°ä¸€ä»¶å•†å“æ—¶åº“å­˜åªæœ‰ä¸€ä¸ªäº†,æ€ä¹ˆæ§åˆ¶?&hellip;&hellip;&hellip;&hellip;.</h4>
<p>å¯ä»¥ä½¿ç”¨MySQLçš„è¡Œé”æœºåˆ¶ï¼Œå®ç°ä¹è§‚é”ï¼Œåœ¨æ›´æ–°å•†å“ä¹‹å‰å°†å•†å“é”å®šï¼Œ
å…¶ä»–ç”¨æˆ·æ— æ³•è¯»å–ï¼Œå½“æ­¤ç”¨æˆ·æ“ä½œå®Œæ¯•åé‡Šæ”¾é”ã€‚å½“å¹¶å‘é‡é«˜çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿
ç”¨ç¼“å­˜å·¥å…·ä¾‹å¦‚Redisæ¥ç®¡ç†åº“å­˜ã€‚</p>
<h2 id="åä¸€åæ¬¡æ–¹é¡¹ç›®äº†è§£">åä¸€ï¼åæ¬¡æ–¹é¡¹ç›®(äº†è§£)&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="11-1-åæ¬¡æ–¹èƒŒæ™¯">11 1 åæ¬¡æ–¹èƒŒæ™¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h4 id="11-1-1-éœ€æ±‚åˆ†æ">11 1 1 éœ€æ±‚åˆ†æ&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="é¦–å…ˆè¯¥é¡¹ç›®å·¥ç¨‹é‡‡ç”¨çš„æ˜¯å‰åç«¯åˆ†ç¦»çš„å¼€å‘å½¢å¼ä¸ºä»€ä¹ˆè¦é‡‡ç”¨å‰åç«¯åˆ†">é¦–å…ˆï¼Œè¯¥é¡¹ç›®å·¥ç¨‹é‡‡ç”¨çš„æ˜¯å‰åç«¯åˆ†ç¦»çš„å¼€å‘å½¢å¼ã€‚ä¸ºä»€ä¹ˆè¦é‡‡ç”¨å‰åç«¯åˆ†</h5>
<h5 id="ç¦»çš„å¼€å‘å½¢å¼å‘¢">ç¦»çš„å¼€å‘å½¢å¼å‘¢ï¼Ÿ</h5>
<h5 id="åæ¬¡æ–¹æ˜¯ç¨‹åºå‘˜çš„ä¸“å±ç¤¾äº¤å¹³å°åŒ…æ‹¬å¤´æ¡é—®ç­”æ´»åŠ¨äº¤å‹åæ§½æ‹›è˜">ã€Šåæ¬¡æ–¹ã€‹æ˜¯ç¨‹åºå‘˜çš„ä¸“å±ç¤¾äº¤å¹³å°ï¼ŒåŒ…æ‹¬å¤´æ¡.é—®ç­”.æ´»åŠ¨.äº¤å‹.åæ§½.æ‹›è˜</h5>
<h5 id="å…­å¤§é¢‘é“">å…­å¤§é¢‘é“ã€‚</h5>
<h5 id="åæ¬¡æ–¹åç§°çš„ç”±æ¥-2-çš„-10-æ¬¡æ–¹ä¸º-1024-ç¨‹åºå‘˜éƒ½æ‡‚çš„">åæ¬¡æ–¹åç§°çš„ç”±æ¥: 2 çš„ 10 æ¬¡æ–¹ä¸º 1024 ï¼Œç¨‹åºå‘˜éƒ½æ‡‚çš„ã€‚</h5>
<h4 id="11-1-2-å‰åç«¯åˆ†ç¦»çš„ä¼˜ç‚¹å’Œå¿…è¦æ€§">11 1 2 å‰åç«¯åˆ†ç¦»çš„ä¼˜ç‚¹å’Œå¿…è¦æ€§&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="å‰ç«¯jsåšå¤§éƒ¨åˆ†çš„æ•°æ®å¤„ç†å·¥ä½œå‡å°‘å¯¹æœåŠ¡å™¨çš„å‹åŠ›">å‰ç«¯JSåšå¤§éƒ¨åˆ†çš„æ•°æ®å¤„ç†å·¥ä½œï¼Œå‡å°‘å¯¹æœåŠ¡å™¨çš„å‹åŠ›ï¼›</h5>
<h5 id="åç«¯é”™è¯¯ä¸ä¼šç›´æ¥åæ˜ åˆ°å‰å°æé«˜ç”¨æˆ·ä½“éªŒåº¦">åç«¯é”™è¯¯ä¸ä¼šç›´æ¥åæ˜ åˆ°å‰å°ï¼Œæé«˜ç”¨æˆ·ä½“éªŒåº¦ï¼›</h5>
<p>ä¸åŒç»ˆç«¯ï¼ˆpad/mobile/pcï¼‰çš„å…´èµ·ï¼Œå•ä¸€æµè§ˆå™¨ç«¯çš„è®¿é—®å·²ç»ä¸èƒ½æ»¡è¶³
ç”¨æˆ·çš„éœ€æ±‚ï¼›
JSèƒ½å¤Ÿå¾ˆå¥½çš„é€‚åº”å‰ç«¯çš„æ•ˆæœä½†æ˜¯å¾ˆéš¾åšåˆ°ä¸æœåŠ¡å™¨çš„é€šè®¯ï¼Œåç«¯åˆæ— æ³•
å¾ˆå¥½çš„å»è°ƒæ•´å‰ç«¯é¡µé¢ï¼›
æé«˜å¼€å‘æ•ˆç‡ï¼Œåç«¯è´Ÿè´£ä¸šåŠ¡/æ•°æ®æ¥å£ï¼Œå‰ç«¯è´Ÿè´£å±•ç°/äº¤äº’é€»è¾‘ï¼ŒåŒä¸€ä»½
æ•°æ®æ¥å£ï¼Œå¯ä»¥å®šåˆ¶å¼€å‘å¤šä¸ªç‰ˆæœ¬ã€‚ï¼ˆä¸€èˆ¬é¡¹ç›®åæœŸä¼šé’ˆå¯¹æ€§çš„æ•´ç†å¼€å‘æ¥å£
APIæ–¹ä¾¿å†…å¤–éƒ¨çš„è°ƒç”¨è®¿é—®ï¼‰</p>
<h4 id="11-1-3-ä»€ä¹ˆæ˜¯å‰åç«¯åˆ†ç¦»">11 1 3 ä»€ä¹ˆæ˜¯å‰åç«¯åˆ†ç¦»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>ç»ç”±åˆ†æè®¨è®ºä»¥åŠèµ„æ–™çš„æ”¶é›†ï¼Œæˆ‘ä»¬æ‰€ä¸€è‡´è®¤åŒçš„æ¦‚å¿µæ˜¯SPAï¼ˆsingle-page
applicationï¼‰ï¼Œæ‰€æœ‰ç”¨åˆ°çš„å±•ç°æ•°æ®éƒ½æ˜¯åç«¯é€šè¿‡å¼‚æ­¥æ¥å£ï¼ˆajax.jsonï¼‰çš„æ–¹
å¼å®ç°çš„ï¼Œå‰ç«¯ç›´ç®¡å±•ç°ã€‚
ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼ŒSPAç¡®å®åšåˆ°äº†å‰åç«¯åˆ†ç¦»ï¼Œä½†è¿™ç§æ–¹å¼å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š
ï¼ˆ 1 ï¼‰ WEBæœåŠ¡ä¸­ï¼ŒSPAç±»å çš„æ¯”ä¾‹å¾ˆå°‘ã€‚å¾ˆå¤šåœºæ™¯ä¸‹è¿˜æœ‰åŒæ­¥/åŒæ­¥+å¼‚
æ­¥æ··åˆçš„æ¨¡å¼ï¼ŒSPAä¸èƒ½ä½œä¸ºä¸€ç§é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼›ç°é˜¶æ®µçš„SPAå¼€å‘æ¨¡å¼ï¼Œ
æ¥å£é€šå¸¸æ˜¯æŒ‰ç…§å±•ç°é€»è¾‘æ¥æä¾›çš„ï¼Œæœ‰æ—¶å€™ä¸ºäº†æé«˜æ•ˆç‡ï¼Œåç«¯ä¼šå¸®æˆ‘ä»¬å¤„ç†ä¸€
äº›å±•ç°é€»è¾‘ï¼Œè¿™å°±æ„å‘³ç€åç«¯è¿˜æ˜¯æ¶‰è¶³äº†Viewå±‚çš„å·¥ä½œï¼Œä¸æ˜¯çœŸæ­£çš„å‰åç«¯åˆ†
ç¦»ã€‚
ï¼ˆ 2 ï¼‰SPAå¼çš„å‰åç«¯åˆ†ç¦»ï¼Œæ˜¯ä»ç‰©ç†å±‚åšåŒºåˆ†ï¼ˆè®¤ä¸ºåªè¦æ˜¯å®¢æˆ·ç«¯çš„å°±æ˜¯
å‰ç«¯ï¼ŒæœåŠ¡å™¨ç«¯çš„å°±æ˜¯åç«¯ï¼‰ï¼Œè¿™ç§åˆ†æ³•å·²ç»æ— æ³•æ»¡è¶³æˆ‘ä»¬å‰åç«¯åˆ†ç¦»çš„éœ€æ±‚ï¼Œ
æˆ‘ä»¬è®¤ä¸ºä»èŒè´£ä¸Šåˆ’åˆ†æ‰èƒ½æ»¡è¶³ç›®å‰æˆ‘ä»¬çš„ä½¿ç”¨åœºæ™¯ï¼š
å‰ç«¯ï¼šè´Ÿè´£Viewå’ŒControllerå±‚ï¼›åªè´Ÿè´£Modelå±‚ï¼Œä¸šåŠ¡å¤„ç†/æ•°æ®ç­‰ã€‚</p>
<h4 id="11-1-4-ä¸ºä»€ä¹ˆè¦å‰åç«¯åˆ†ç¦»">11 1 4 ä¸ºä»€ä¹ˆè¦å‰åç«¯åˆ†ç¦»&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="é¡¹ç›®èƒŒæ™¯éšç€äº’è”ç½‘çš„å‘å±•åœ¨ä¸€å®šç¨‹åº¦ä¸Šæå¤§çš„æ‹‰è¿‘äº†äººä¸äººä¹‹é—´çš„è·">é¡¹ç›®èƒŒæ™¯ï¼šéšç€äº’è”ç½‘çš„å‘å±•ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæå¤§çš„æ‹‰è¿‘äº†äººä¸äººä¹‹é—´çš„è·</h5>
<h5 id="ç¦»å´åˆåœ¨æŸç§ç¨‹åº¦ä¸Šå¢åŠ äº†äººä¸äººä¹‹é—´çš„éš”è†œæˆ‘ä»¬è¿«åˆ‡çš„æƒ³è¦æ›´å¤šäººçš„å…³æ³¨å´">ç¦»å´åˆåœ¨æŸç§ç¨‹åº¦ä¸Šå¢åŠ äº†äººä¸äººä¹‹é—´çš„éš”è†œã€‚æˆ‘ä»¬è¿«åˆ‡çš„æƒ³è¦æ›´å¤šäººçš„å…³æ³¨å´</h5>
<h5 id="å¾€å¾€é™·å…¥ç¤¾äº¤å¹³å°æ³›æ»¥çš„æ¼©æ¶¡åŸºäºè¿™ç§æƒ…å†µæˆ‘ä»¬å¼€å‘äº†åæ¬¡æ–¹åº”ç”¨äºit">å¾€å¾€é™·å…¥ç¤¾äº¤å¹³å°æ³›æ»¥çš„æ¼©æ¶¡ï¼ŒåŸºäºè¿™ç§æƒ…å†µæˆ‘ä»¬å¼€å‘äº†ã€Šåæ¬¡æ–¹ã€‹åº”ç”¨äºIT</h5>
<h5 id="æ–¹é¢åŒå­¦çš„æ²Ÿé€šäº¤æµè®©åŒæ ·çš„äººè¯´åŒæ ·çš„è¯å¾—åˆ°æ›´å¤šçš„å…±é¸£ä¸ç†è§£">æ–¹é¢åŒå­¦çš„æ²Ÿé€š.äº¤æµã€‚è®©åŒæ ·çš„äººï¼Œè¯´åŒæ ·çš„è¯ï¼Œå¾—åˆ°æ›´å¤šçš„å…±é¸£ä¸ç†è§£ã€‚</h5>
<h5 id="é¡µé¢åŸå‹çš„ä»‹ç»å±•ç¤º">é¡µé¢åŸå‹çš„ä»‹ç».å±•ç¤ºï¼š</h5>
<h5 id="ä»¥ä¸Šæ˜¯é¦–é¡µçš„åŸå‹å±•ç¤ºå…¶ä½™ç•Œé¢åŸå‹åœ¨åé¢åŠŸèƒ½å®ç°è¿‡ç¨‹ä¸­é€æ­¥è¿›">ä»¥ä¸Šï¼Œæ˜¯é¦–é¡µçš„åŸå‹å±•ç¤ºã€‚å…¶ä½™ç•Œé¢åŸå‹åœ¨åé¢åŠŸèƒ½å®ç°è¿‡ç¨‹ä¸­é€æ­¥è¿›</h5>
<h5 id="è¡Œå±•ç¤º">è¡Œå±•ç¤ºã€‚</h5>
<h5 id="é™¤æ­¤ä¹‹å¤–é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä¸€èˆ¬è¿˜ä¼šæœ‰é¡¹ç›®éœ€æ±‚æ–‡æ¡£ä¸€èˆ¬ç”±äº§å“æ–¹é¢">é™¤æ­¤ä¹‹å¤–ï¼Œé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä¸€èˆ¬è¿˜ä¼šæœ‰é¡¹ç›®éœ€æ±‚æ–‡æ¡£ï¼ˆä¸€èˆ¬ç”±äº§å“æ–¹é¢</h5>
<h5 id="æ¥æ’°å†™æœ‰çš„å…¬å¸å¯èƒ½ä¸ºäº†åŠ å¿«å¼€å‘è¿›åº¦å¾€å¾€å…ˆå°†è¿™éƒ¨åˆ†å·¥ä½œæ”¾ä¸€æ”¾ä»¥å¯¼è‡´äºå">æ¥æ’°å†™ï¼‰æœ‰çš„å…¬å¸å¯èƒ½ä¸ºäº†åŠ å¿«å¼€å‘è¿›åº¦å¾€å¾€å…ˆå°†è¿™éƒ¨åˆ†å·¥ä½œæ”¾ä¸€æ”¾ä»¥å¯¼è‡´äºå</h5>
<h5 id="æœŸè¿›è¡Œé¡¹ç›®è°ƒæ•´çš„æ—¶å€™å¸¦æ¥è¯¸å¤šå±éšœæ‰€ä»¥åœ¨è¿™ä¸€å—æˆ‘è¿˜æ˜¯å»ºè®®æ— è®ºé¡¹ç›®ç´§å¼ ">æœŸè¿›è¡Œé¡¹ç›®è°ƒæ•´çš„æ—¶å€™å¸¦æ¥è¯¸å¤šå±éšœã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸€å—æˆ‘è¿˜æ˜¯å»ºè®®æ— è®ºé¡¹ç›®ç´§å¼ </h5>
<h5 id="ä¸å¦è¿™æ–¹é¢è¿˜æ˜¯è¦æœ‰çš„">ä¸å¦è¿™æ–¹é¢è¿˜æ˜¯è¦æœ‰çš„ã€‚</h5>
<h4 id="11-1-5-åæ¬¡æ–¹é¡¹ç›®èƒŒæ™¯">11 1 5 åæ¬¡æ–¹é¡¹ç›®èƒŒæ™¯&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li>1 ç³»ç»Ÿæ¶æ„</li>
</ol>
</li>
</ol>
</li>
</ol>
<h5 id="åæ¬¡æ–¹é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„ç³»ç»Ÿæ¶æ„åç«¯æ¶æ„ä¸º">ã€Šåæ¬¡æ–¹ã€‹é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„ç³»ç»Ÿæ¶æ„ï¼Œåç«¯æ¶æ„ä¸º:</h5>
<pre tabindex="0"><code>SpringBoot+SpringCloud+SpringMVC+SpringData
æˆ‘ä»¬æŠŠè¿™ç§æ¶æ„ä¹Ÿç§°ä¹‹ä¸ºå…¨å®¶æ¡¶ã€‚
</code></pre><ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li>2 ç‰¹è‰²</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>åæ¬¡æ–¹é‡‡ç”¨äº†å½“å‰ä¸»æµçš„å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ï¼Œåç«¯ä½¿ç”¨Springå…¨å®¶æ¡¶
æ¡†æ¶ï¼ˆå³SpringBoot+SpringCloud+SpringData+SpringMVCï¼‰å¼€å‘å¾®
æœåŠ¡ï¼›å‰ç«¯ä½¿ç”¨ä»¥Node.jsä¸ºæ ¸å¿ƒçš„Vueå…¨å¥—ç”Ÿæ€è§£å†³æ–¹æ¡ˆã€‚é¡¹ç›®ä¸­æ¶µç›–äº†å¾®</p>
<h5 id="æœåŠ¡è®¤è¯å¾®æœåŠ¡ç½‘å…³å¾®æœåŠ¡ç†”æ–­å¾®æœåŠ¡é›†ä¸­é…ç½®å¾®æœåŠ¡æŒç»­é›†æˆç¬¬ä¸‰æ–¹ç™»é™†">æœåŠ¡è®¤è¯.å¾®æœåŠ¡ç½‘å…³.å¾®æœåŠ¡ç†”æ–­.å¾®æœåŠ¡é›†ä¸­é…ç½®.å¾®æœåŠ¡æŒç»­é›†æˆ.ç¬¬ä¸‰æ–¹ç™»é™†.</h5>
<h5 id="äº‘å­˜å‚¨çˆ¬è™«äººå·¥æ™ºèƒ½å•é¡µé¢spaæœåŠ¡ç«¯æ¸²æŸ“ssrç­‰-30-ä½™ç§è§£å†³æ–¹æ¡ˆ">äº‘å­˜å‚¨.çˆ¬è™«.äººå·¥æ™ºèƒ½.å•é¡µé¢(SPA).æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ç­‰ 30 ä½™ç§è§£å†³æ–¹æ¡ˆã€‚</h5>
<h5 id="é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ–¹å¼è¿›è¡Œç³»ç»Ÿå¼€å‘">é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ–¹å¼è¿›è¡Œç³»ç»Ÿå¼€å‘</h5>
<h5 id="é‡‡ç”¨æ¨¡å—åŒ–çš„è¯¾ç¨‹è®¾è®¡åˆ†ä¸ºå¾®æœåŠ¡å¼€å‘å‰ç«¯ç³»ç»Ÿå¼€å‘çˆ¬è™«ä¸äººå·¥æ™ºèƒ½">é‡‡ç”¨æ¨¡å—åŒ–çš„è¯¾ç¨‹è®¾è®¡ï¼Œåˆ†ä¸ºå¾®æœåŠ¡å¼€å‘ï¼Œå‰ç«¯ç³»ç»Ÿå¼€å‘ï¼Œçˆ¬è™«ä¸äººå·¥æ™ºèƒ½</h5>
<h5 id="å¼€å‘ä¸‰ä¸ªæ¨¡å—">å¼€å‘ä¸‰ä¸ªæ¨¡å—</h5>
<pre tabindex="0"><code>æ‰“é€ Javaå…¨æ ˆå¼å·¥ç¨‹å¸ˆ,è®©å­¦å‘˜ç«™åœ¨Javaè½¯ä»¶å¼€å‘çš„é‡‘å­—å¡”é¡¶ç«¯
</code></pre><ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li><strong>3 æ¨¡å—åˆ’åˆ†</strong></li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>åæ¬¡æ–¹å·¥ç¨‹å…±åˆ†ä¸º 18 ä¸ªå­æ¨¡å—(å…¶ä¸­ 17 ä¸ªæ˜¯å¾®æœåŠ¡)ã€‚
å¦‚ä¸‹ï¼š
</code></pre><h5 id="æ¨¡å—åç§°-æ¨¡å—ä¸­æ–‡åç§°">æ¨¡å—åç§° æ¨¡å—ä¸­æ–‡åç§°</h5>
<p>tensquare_common å…¬å…±æ¨¡å—
tensquare_article æ–‡ç« å¾®æœåŠ¡
tensquare_base åŸºç¡€å¾®æœåŠ¡
tensquare_friend äº¤å‹å¾®æœåŠ¡
tensquare_gatherinng æ´»åŠ¨å¾®æœåŠ¡
tensquare_qa é—®ç­”å¾®æœåŠ¡
tensquare_recruit æ‹›è˜å¾®æœåŠ¡
tensquare_user ç”¨æˆ·å¾®æœåŠ¡
tensquare_spit åæ§½å¾®æœåŠ¡
tensquare_search æœç´¢å¾®æœåŠ¡
tensquare_web å‰å°å¾®æœåŠ¡ç½‘å…³</p>
<pre tabindex="0"><code>tensquare_manager åå°å¾®æœåŠ¡ç½‘å…³
tensquare_eureka æ³¨å†Œä¸­å¿ƒ
tensquare_config é…ç½®ä¸­å¿ƒ
tensquare_sms çŸ­ä¿¡å¾®æœåŠ¡
tensquare_article_crawler æ–‡ç« çˆ¬è™«å¾®æœåŠ¡
tensquare_user_crawler ç”¨æˆ·çˆ¬è™«å¾®æœåŠ¡
tensquare_ai äººå·¥æ™ºèƒ½å¾®æœåŠ¡
</code></pre><ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li>4 è¡¨ç»“æ„åˆ†æ</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>æ–‡ä»¶å æ•°æ®åº“è¯´æ˜
tensquare_article.sql æ–‡ç« 
tensquare_base.sql åŸºç¡€
tensquare_friend.sql äº¤å‹
tensquare_gatherinng.sql æ´»åŠ¨
tensquare_qa.sql é—®ç­”
tensquare_recruit.sql æ‹›è˜
tensquare_user.sql ç”¨æˆ·
</code></pre><ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li>5 APIæ–‡æ¡£</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>å‰åç«¯çº¦å®šè¿”å›ç åˆ—è¡¨ï¼š
çŠ¶æ€ç  è¯´æ˜
20000 æˆåŠŸ
20001 å¤±è´¥
20002 ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯
20003 æƒé™ä¸è¶³
20004 è¿œç¨‹è°ƒç”¨å¤±è´¥
20005 é‡å¤æ“ä½œ
</code></pre><ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li>6 å¼€å‘ç¯å¢ƒ</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>è½¯ä»¶ ç‰ˆæœ¬
JDK^1.^8
æ•°æ®åº“ MySQL 5. 7
å¼€å‘å·¥å…· IDEA 2017. 1
maven 3. 3. 9
docker 1. 13. 1
æ“ä½œç³»ç»Ÿ centos 7
</code></pre><ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li>7 é¡¹ç›®ä¸»è¦æŠ€æœ¯ä»¥åŠåŠŸèƒ½å®ç°</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>1 å‰ç«¯ç¯å¢ƒæ­å»º
ç« èŠ‚å†…å®¹ï¼šåæ¬¡æ–¹éœ€æ±‚.æŠ€æœ¯æ¶æ„ï¼Œç†è§£å‰åç«¯åˆ†ç¦»å¼€å‘æ¨¡å¼,Node.jsåŸºæœ¬
ä½¿ç”¨æ–¹æ³•ï¼Œç†è§£æ¨¡å—åŒ–ç¼–ç¨‹, åŒ…èµ„æºç®¡ç†å™¨NPMçš„ä½¿ç”¨,webpackçš„ä½œç”¨,vs
codeå¼€å‘å·¥å…·çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•,ES 6 å¸¸ç”¨çš„æ–°ç‰¹æ€§è¯­æ³•</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>11. 1. 5. 7. 2 APIæ–‡æ¡£ä¸æ¨¡æ‹Ÿæ•°æ®æ¥å£
ç« èŠ‚å†…å®¹ï¼šRESTfulæ¶æ„, è¿ç”¨Swaggerç¼–å†™APIæ–‡æ¡£,Mock.jsåŸºæœ¬è¯­æ³•,
</code></pre><p>easyMockå®ç°æ¨¡æ‹Ÿæ¥å£çš„ç¼–å†™</p>
<ol start="11">
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>3 ä½¿ç”¨ElementUIå¼€å‘ç®¡ç†åå°
ç« èŠ‚å†…å®¹ï¼šelementUIæä¾›çš„è„šæ‰‹æ¶æ­å»ºç®¡ç†åå°çš„æ–¹æ³•,elementUIçš„
tableç»„ä»¶çš„ä½¿ç”¨å’Œå®ç°åˆ—è¡¨åŠŸèƒ½,elementUIçš„paginationç»„ä»¶çš„ä½¿ç”¨å’Œå®ç°
åˆ†é¡µåŠŸèƒ½,elementUIçš„formç›¸å…³ç»„ä»¶çš„ä½¿ç”¨å’Œå®ç°æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½,elementUI
çš„dialogç»„ä»¶å’Œ$messageçš„ä½¿ç”¨å’Œå®ç°å¼¹å‡ºçª—å£å’Œæ¶ˆæ¯æç¤ºåŠŸèƒ½,elementUI
çš„selectç»„ä»¶çš„ä½¿ç”¨å’Œå®ç°ä¸‹æ‹‰åˆ—è¡¨åŠŸèƒ½, æ–°å¢æ•°æ®å’Œä¿®æ”¹æ•°æ®çš„åŠŸèƒ½,
confirmçš„ä½¿ç”¨å’Œå®ç°è¯¢é—®ä¸åˆ é™¤åŠŸèƒ½</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>4 ç½‘ç«™å‰å°
ç« èŠ‚å†…å®¹ï¼šNUXTæ¡†æ¶çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•, åæ¬¡æ–¹ç½‘ç«™å‰å°çš„æ­å»º, åæ¬¡æ–¹ç½‘
ç«™å‰å°æ´»åŠ¨æ¨¡å—çš„åŠŸèƒ½, åæ¬¡æ–¹ç½‘ç«™å‰å°æ‹›è˜æ¨¡å—çš„åŠŸèƒ½, ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½,
js-cookieçš„ä½¿ç”¨, å¾®ä¿¡æ‰«ç ç™»é™†çš„åŠŸèƒ½,nuxtåµŒå¥—è·¯ç”±çš„ä½¿ç”¨, åæ§½åˆ—è¡¨ä¸è¯¦
ç»†é¡µ, å‘åæ§½ä¸è¯„è®ºåŠŸèƒ½, é—®ç­”é¢‘é“åŠŸèƒ½,DataURLå’Œé˜¿é‡Œäº‘OSS</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>5 ç³»ç»Ÿè®¾è®¡ä¸å·¥ç¨‹æ­å»º
ç« èŠ‚å†…å®¹ï¼šåæ¬¡æ–¹çš„éœ€æ±‚åˆ†æ, åæ¬¡æ–¹çš„ç³»ç»Ÿè®¾è®¡,é¡¹ç›®çš„å‰æœŸå‡†å¤‡å·¥ä½œï¼ˆé…
ç½®JDKä¸ æœ¬åœ°ä»“åº“ï¼‰, åæ¬¡æ–¹çˆ¶æ¨¡å—ä¸å…¬å…±æ¨¡å—çš„æ­å»º, åŸºç¡€å¾®æœåŠ¡-æ ‡ç­¾
CRUDçš„åŠŸèƒ½ï¼ŒæŒæ¡å…¬å…±å¼‚å¸¸å¤„ç†ç±»</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>6 å¾®æœåŠ¡åŠŸèƒ½å¼€å‘
ç« èŠ‚å†…å®¹ï¼šåŸºç¡€å¾®æœåŠ¡çš„å¼€å‘, æ‹›è˜å¾®æœåŠ¡çš„å¼€å‘, é—®ç­”å¾®æœåŠ¡çš„å¼€å‘, æ–‡
ç« å¾®æœåŠ¡çš„å¼€å‘,SpringCacheä¸SpringDataRedisçš„ä½¿ç”¨</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>7 æ–‡æ¡£å‹æ•°æ®åº“MongoDB
ç« èŠ‚å†…å®¹ï¼šMongoDbçš„ç‰¹ç‚¹å’Œä½“ç³»ç»“æ„, å¸¸ç”¨çš„MongoDBå‘½ä»¤,ä½¿ç”¨è¿
ç”¨Javaæ“ä½œMongoDB, ä½¿ç”¨SpringDataMongoDBå®Œæˆåæ§½å¾®æœåŠ¡çš„å¼€å‘,
ä½¿ç”¨SpringDataMongoDBå®Œæˆè¯„è®ºç³»ç»Ÿçš„å¼€å‘</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>8 æ¶ˆæ¯ä¸­é—´ä»¶RabbitMQä¸æœç´¢å¾®æœåŠ¡
ç« èŠ‚å†…å®¹ï¼šæ¶ˆæ¯é˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯ä»¥åŠRabbitMQçš„ä¸»è¦æ¦‚å¿µ,RabbitMQå®‰
è£…ä»¥åŠRabbitMQä¸‰ç§æ¨¡å¼çš„å…¥é—¨æ¡ˆä¾‹, ç”¨æˆ·æ³¨å†Œï¼Œèƒ½å¤Ÿå°†æ¶ˆæ¯å‘é€ç»™
RabbitMQ, çŸ­ä¿¡å¾®æœåŠ¡ï¼Œèƒ½å¤Ÿæ¥æ”¶æ¶ˆæ¯å¹¶è°ƒç”¨é˜¿é‡Œäº‘é€šä¿¡å®ŒæˆçŸ­ä¿¡å‘é€, æœç´¢
å¾®æœåŠ¡</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>9 å¯†ç åŠ å¯†ä¸å¾®æœåŠ¡é‰´æƒJWT
ç« èŠ‚å†…å®¹ï¼š BCryptå¯†ç åŠ å¯†ç®—æ³•å®ç°æ³¨å†Œä¸ç™»é™†åŠŸèƒ½,å¸¸è§çš„è®¤è¯æœºåˆ¶,JWTçš„ç»„æˆ
éƒ¨åˆ†ä»¥åŠä½¿ç”¨JWTçš„ä¼˜ç‚¹,ä½¿ç”¨JJWTåˆ›å»ºå’Œè§£ætoken,ä½¿ç”¨JJWTå®Œæˆå¾®æœåŠ¡é‰´æƒ</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>10 SpringCloudåˆå…¥æ±Ÿæ¹–&amp;SpringCloudä¸€ç»Ÿå¤©ä¸‹
ç« èŠ‚å†…å®¹ï¼š SpringCloudåŒ…å«çš„ä¸»è¦æ¡†æ¶,SpringCloudåŒ…å«çš„ä¸»è¦æ¡†æ¶,ä½¿ç”¨æœåŠ¡
å‘ç°ç»„ä»¶Eureka,ä½¿ç”¨Feignå®ç°æœåŠ¡é—´çš„è°ƒç”¨,äº¤å‹å¾®æœåŠ¡å¼€å‘,åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Hystrix
å®ç°å¾®æœåŠ¡ç†”æ–­,åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Zuulå®ç°å¾®æœåŠ¡ç½‘å…³,åœ¨é¡¹ç›®ä¸­ä½¿ç”¨SpringCloudConfig
å®ç°é…ç½®é›†ä¸­ç®¡ç†,åœ¨é¡¹ç›®ä¸­ä½¿ç”¨SpringCloudBuså®ç°é…ç½®çš„åœ¨çº¿æ›´æ–°</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<ol>
<li>
<ol start="5">
<li>
<ol start="7">
<li>11 çˆ¬è™«
ç« èŠ‚å†…å®¹ï¼šä»€ä¹ˆæ˜¯ç½‘ç»œçˆ¬è™«,ç½‘ç»œçˆ¬è™«å¯ä»¥åšä»€ä¹ˆ,ç½‘ç»œçˆ¬è™«å¸¸ç”¨çš„æŠ€æœ¯,çˆ¬è™«æ¡†æ¶
Webmagic,åæ¬¡æ–¹æ–‡ç« æ•°æ®çˆ¬å–,åæ¬¡æ–¹ç”¨æˆ·æ•°æ®çˆ¬å–ã€‚</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>11. 1. 5. 7. 12 äººå·¥æ™ºèƒ½
ç« èŠ‚å†…å®¹ï¼šå­¦ä¹ ç›®æ ‡,äººå·¥æ™ºèƒ½ä¸æœºå™¨å­¦ä¹ ,æ™ºèƒ½åˆ†ç±»,IKåˆ†è¯å™¨,Deeplearning 4 jä¹‹
</code></pre><p>Word 2 VEC,æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹,å®ç°æ™ºèƒ½åˆ†ç±»ã€‚</p>
<h3 id="11-2-åæ¬¡æ–¹é¡¹ç›®æŠ€æœ¯æ¶æ„">11 2 åæ¬¡æ–¹é¡¹ç›®æŠ€æœ¯æ¶æ„&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h3 id="11-3-åæ¬¡æ–¹é¡¹ç›®é¢è¯•å¸¸é—®é—®é¢˜">11 3 åæ¬¡æ–¹é¡¹ç›®é¢è¯•å¸¸é—®é—®é¢˜&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h4 id="11-3-1-å¯¹å¾®æœåŠ¡æœ‰ä½•äº†è§£äº†è§£">11 3 1 å¯¹å¾®æœåŠ¡æœ‰ä½•äº†è§£ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="å¾®æœåŠ¡åˆç§°å¾®æœåŠ¡-æ¶æ„æ˜¯ä¸€ç§æ¶æ„é£æ ¼å®ƒå°†åº”ç”¨ç¨‹åºæ„å»ºä¸ºä»¥ä¸šåŠ¡">å¾®æœåŠ¡ï¼Œåˆç§°å¾®æœåŠ¡ æ¶æ„ï¼Œæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºæ„å»ºä¸ºä»¥ä¸šåŠ¡</h5>
<h5 id="é¢†åŸŸä¸ºæ¨¡å‹çš„å°å‹è‡ªæ²»æœåŠ¡é›†åˆ-">é¢†åŸŸä¸ºæ¨¡å‹çš„å°å‹è‡ªæ²»æœåŠ¡é›†åˆ ã€‚</h5>
<h5 id="é€šä¿—çš„æ¥è¯´å°±æ˜¯å°†ä¸šåŠ¡æ¨¡å—åŒºåˆ†ä¸å—ç¼–ç¨‹è¯­è¨€é™åˆ¶æä¾›æ›´å¥½çš„å¯æ‰©å±•æ€§ç‹¬">é€šä¿—çš„æ¥è¯´å°±æ˜¯å°†ä¸šåŠ¡æ¨¡å—åŒºåˆ†ï¼Œä¸å—ç¼–ç¨‹è¯­è¨€é™åˆ¶ï¼Œæä¾›æ›´å¥½çš„å¯æ‰©å±•æ€§ï¼Œç‹¬</h5>
<h5 id="ç«‹å¼€å‘éƒ¨ç½²ä¸€ä¸ªä¸šåŠ¡æ¨¡å—çš„æ”¹åŠ¨ä¸ä¼šå½±å“åˆ°å…¶ä»–ä¸šåŠ¡å¯ä»¥å•ç‹¬å¤„ç†æ¯ä¸ªæœåŠ¡">ç«‹å¼€å‘éƒ¨ç½²ã€‚ä¸€ä¸ªä¸šåŠ¡æ¨¡å—çš„æ”¹åŠ¨ä¸ä¼šå½±å“åˆ°å…¶ä»–ä¸šåŠ¡ã€‚å¯ä»¥å•ç‹¬å¤„ç†æ¯ä¸ªæœåŠ¡</h5>
<h5 id="ç»„ä»¶çš„é—®é¢˜è€Œå¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºæ²¡æœ‰å½±å“æˆ–å½±å“æœ€å°">ç»„ä»¶çš„é—®é¢˜ï¼Œè€Œå¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºæ²¡æœ‰å½±å“æˆ–å½±å“æœ€å°ã€‚</h5>
<h4 id="11-3-2-å¾®æœåŠ¡æ¶æ„æœ‰å“ªäº›ä¼˜åŠ¿äº†è§£">11 3 2 å¾®æœåŠ¡æ¶æ„æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ç‹¬ç«‹å¼€å‘--æ‰€æœ‰å¾®æœåŠ¡éƒ½å¯ä»¥æ ¹æ®å„è‡ªçš„åŠŸèƒ½è½»æ¾å¼€å‘">ç‹¬ç«‹å¼€å‘ â€“ æ‰€æœ‰å¾®æœåŠ¡éƒ½å¯ä»¥æ ¹æ®å„è‡ªçš„åŠŸèƒ½è½»æ¾å¼€å‘</h5>
<h5 id="ç‹¬ç«‹éƒ¨ç½²--åŸºäºå…¶æœåŠ¡å¯ä»¥åœ¨ä»»ä½•åº”ç”¨ç¨‹åºä¸­å•ç‹¬éƒ¨ç½²å®ƒä»¬">ç‹¬ç«‹éƒ¨ç½² â€“ åŸºäºå…¶æœåŠ¡ï¼Œå¯ä»¥åœ¨ä»»ä½•åº”ç”¨ç¨‹åºä¸­å•ç‹¬éƒ¨ç½²å®ƒä»¬</h5>
<h5 id="æ•…éšœéš”ç¦»--å³ä½¿åº”ç”¨ç¨‹åºçš„ä¸€é¡¹æœåŠ¡ä¸èµ·ä½œç”¨ç³»ç»Ÿä»å¯ç»§ç»­è¿è¡Œ">æ•…éšœéš”ç¦» â€“ å³ä½¿åº”ç”¨ç¨‹åºçš„ä¸€é¡¹æœåŠ¡ä¸èµ·ä½œç”¨ï¼Œç³»ç»Ÿä»å¯ç»§ç»­è¿è¡Œ</h5>
<h5 id="æ··åˆæŠ€æœ¯å †æ ˆ--å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€å’ŒæŠ€æœ¯æ¥æ„å»ºåŒä¸€åº”ç”¨ç¨‹åºçš„ä¸åŒ">æ··åˆæŠ€æœ¯å †æ ˆ â€“ å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€å’ŒæŠ€æœ¯æ¥æ„å»ºåŒä¸€åº”ç”¨ç¨‹åºçš„ä¸åŒ</h5>
<h5 id="æœåŠ¡">æœåŠ¡</h5>
<h5 id="ç²’åº¦ç¼©æ”¾--å•ä¸ªç»„ä»¶å¯æ ¹æ®éœ€è¦è¿›è¡Œç¼©æ”¾æ— éœ€å°†æ‰€æœ‰ç»„ä»¶ç¼©æ”¾åœ¨ä¸€èµ·">ç²’åº¦ç¼©æ”¾ â€“ å•ä¸ªç»„ä»¶å¯æ ¹æ®éœ€è¦è¿›è¡Œç¼©æ”¾ï¼Œæ— éœ€å°†æ‰€æœ‰ç»„ä»¶ç¼©æ”¾åœ¨ä¸€èµ·</h5>
<h4 id="11-3-3-å¾®æœåŠ¡æœ‰å“ªäº›ç‰¹ç‚¹å¿…ä¼š">11 3 3 å¾®æœåŠ¡æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<h5 id="è§£è€¦--ç³»ç»Ÿå†…çš„æœåŠ¡å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯åˆ†ç¦»çš„å› æ­¤æ•´ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥è½»">è§£è€¦ â€“ ç³»ç»Ÿå†…çš„æœåŠ¡å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯åˆ†ç¦»çš„ã€‚å› æ­¤ï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥è½»</h5>
<h5 id="æ¾æ„å»ºæ›´æ”¹å’Œæ‰©å±•">æ¾æ„å»ºï¼Œæ›´æ”¹å’Œæ‰©å±•</h5>
<h5 id="ç»„ä»¶åŒ–--å¾®æœåŠ¡è¢«è§†ä¸ºå¯ä»¥è½»æ¾æ›´æ¢å’Œå‡çº§çš„ç‹¬ç«‹ç»„ä»¶">ç»„ä»¶åŒ– â€“ å¾®æœåŠ¡è¢«è§†ä¸ºå¯ä»¥è½»æ¾æ›´æ¢å’Œå‡çº§çš„ç‹¬ç«‹ç»„ä»¶</h5>
<h5 id="ä¸šåŠ¡èƒ½åŠ›--å¾®æœåŠ¡éå¸¸ç®€å•ä¸“æ³¨äºå•ä¸€åŠŸèƒ½">ä¸šåŠ¡èƒ½åŠ› â€“ å¾®æœåŠ¡éå¸¸ç®€å•ï¼Œä¸“æ³¨äºå•ä¸€åŠŸèƒ½</h5>
<h5 id="è‡ªæ²»--å¼€å‘äººå‘˜å’Œå›¢é˜Ÿå¯ä»¥å½¼æ­¤ç‹¬ç«‹å·¥ä½œä»è€Œæé«˜é€Ÿåº¦">è‡ªæ²» â€“ å¼€å‘äººå‘˜å’Œå›¢é˜Ÿå¯ä»¥å½¼æ­¤ç‹¬ç«‹å·¥ä½œï¼Œä»è€Œæé«˜é€Ÿåº¦</h5>
<h5 id="æŒç»­äº¤ä»˜--é€šè¿‡è½¯ä»¶åˆ›å»ºæµ‹è¯•å’Œæ‰¹å‡†çš„ç³»ç»Ÿè‡ªåŠ¨åŒ–å…è®¸é¢‘ç¹å‘å¸ƒè½¯">æŒç»­äº¤ä»˜ â€“ é€šè¿‡è½¯ä»¶åˆ›å»ºï¼Œæµ‹è¯•å’Œæ‰¹å‡†çš„ç³»ç»Ÿè‡ªåŠ¨åŒ–ï¼Œå…è®¸é¢‘ç¹å‘å¸ƒè½¯</h5>
<h5 id="ä»¶">ä»¶</h5>
<h5 id="è´£ä»»--å¾®æœåŠ¡ä¸å…³æ³¨åº”ç”¨ç¨‹åºä½œä¸ºé¡¹ç›®ç›¸åä»–ä»¬å°†åº”ç”¨ç¨‹åºè§†ä¸ºä»–">è´£ä»» â€“ å¾®æœåŠ¡ä¸å…³æ³¨åº”ç”¨ç¨‹åºä½œä¸ºé¡¹ç›®ã€‚ç›¸åï¼Œä»–ä»¬å°†åº”ç”¨ç¨‹åºè§†ä¸ºä»–</h5>
<h5 id="ä»¬è´Ÿè´£çš„äº§å“">ä»¬è´Ÿè´£çš„äº§å“</h5>
<h5 id="åˆ†æ•£æ²»ç†--é‡ç‚¹æ˜¯ä½¿ç”¨æ­£ç¡®çš„å·¥å…·æ¥åšæ­£ç¡®çš„å·¥ä½œè¿™æ„å‘³ç€æ²¡æœ‰æ ‡å‡†">åˆ†æ•£æ²»ç† â€“ é‡ç‚¹æ˜¯ä½¿ç”¨æ­£ç¡®çš„å·¥å…·æ¥åšæ­£ç¡®çš„å·¥ä½œã€‚è¿™æ„å‘³ç€æ²¡æœ‰æ ‡å‡†</h5>
<h5 id="åŒ–æ¨¡å¼æˆ–ä»»ä½•æŠ€æœ¯æ¨¡å¼å¼€å‘äººå‘˜å¯-ä»¥è‡ªç”±é€‰æ‹©æœ€æœ‰ç”¨çš„å·¥å…·æ¥è§£å†³ä»–ä»¬çš„é—®">åŒ–æ¨¡å¼æˆ–ä»»ä½•æŠ€æœ¯æ¨¡å¼ã€‚å¼€å‘äººå‘˜å¯ ä»¥è‡ªç”±é€‰æ‹©æœ€æœ‰ç”¨çš„å·¥å…·æ¥è§£å†³ä»–ä»¬çš„é—®</h5>
<h5 id="é¢˜-2">é¢˜</h5>
<h5 id="æ•æ·--å¾®æœåŠ¡æ”¯æŒæ•æ·å¼€å‘ä»»ä½•æ–°åŠŸèƒ½éƒ½å¯ä»¥å¿«é€Ÿå¼€å‘å¹¶å†æ¬¡ä¸¢å¼ƒ">æ•æ· â€“ å¾®æœåŠ¡æ”¯æŒæ•æ·å¼€å‘ã€‚ä»»ä½•æ–°åŠŸèƒ½éƒ½å¯ä»¥å¿«é€Ÿå¼€å‘å¹¶å†æ¬¡ä¸¢å¼ƒ</h5>
<h4 id="11-3-4-å¾®æœåŠ¡æ¶æ„å¦‚ä½•è¿ä½œå¿…ä¼š">11 3 4 å¾®æœåŠ¡æ¶æ„å¦‚ä½•è¿ä½œï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="å®¢æˆ·ç«¯--æ¥è‡ªä¸åŒè®¾å¤‡çš„ä¸åŒç”¨æˆ·å‘é€è¯·æ±‚">å®¢æˆ·ç«¯ â€“ æ¥è‡ªä¸åŒè®¾å¤‡çš„ä¸åŒç”¨æˆ·å‘é€è¯·æ±‚ã€‚</h5>
<h5 id="èº«ä»½æä¾›å•†--éªŒè¯ç”¨æˆ·æˆ–å®¢æˆ·èº«ä»½å¹¶é¢å‘å®‰å…¨ä»¤ç‰Œ">èº«ä»½æä¾›å•† â€“ éªŒè¯ç”¨æˆ·æˆ–å®¢æˆ·èº«ä»½å¹¶é¢å‘å®‰å…¨ä»¤ç‰Œã€‚</h5>
<h5 id="apiç½‘å…³--å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚">APIç½‘å…³ â€“ å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€‚</h5>
<h5 id="é™æ€å†…å®¹--å®¹çº³ç³»ç»Ÿçš„æ‰€æœ‰å†…å®¹">é™æ€å†…å®¹ â€“ å®¹çº³ç³»ç»Ÿçš„æ‰€æœ‰å†…å®¹ã€‚</h5>
<h5 id="ç®¡ç†--åœ¨èŠ‚ç‚¹ä¸Šå¹³è¡¡æœåŠ¡å¹¶è¯†åˆ«æ•…éšœ">ç®¡ç† â€“ åœ¨èŠ‚ç‚¹ä¸Šå¹³è¡¡æœåŠ¡å¹¶è¯†åˆ«æ•…éšœã€‚</h5>
<h5 id="æœåŠ¡å‘ç°--æŸ¥æ‰¾å¾®æœåŠ¡ä¹‹é—´é€šä¿¡è·¯å¾„çš„æŒ‡å—">æœåŠ¡å‘ç° â€“ æŸ¥æ‰¾å¾®æœåŠ¡ä¹‹é—´é€šä¿¡è·¯å¾„çš„æŒ‡å—ã€‚</h5>
<h5 id="å†…å®¹äº¤ä»˜ç½‘ç»œ--ä»£ç†æœåŠ¡å™¨åŠå…¶æ•°æ®ä¸­å¿ƒçš„åˆ†å¸ƒå¼ç½‘ç»œ">å†…å®¹äº¤ä»˜ç½‘ç»œ â€“ ä»£ç†æœåŠ¡å™¨åŠå…¶æ•°æ®ä¸­å¿ƒçš„åˆ†å¸ƒå¼ç½‘ç»œã€‚</h5>
<h5 id="è¿œç¨‹æœåŠ¡--å¯ç”¨é©»ç•™åœ¨itè®¾å¤‡ç½‘ç»œä¸Šçš„è¿œç¨‹è®¿é—®ä¿¡æ¯">è¿œç¨‹æœåŠ¡ â€“ å¯ç”¨é©»ç•™åœ¨ITè®¾å¤‡ç½‘ç»œä¸Šçš„è¿œç¨‹è®¿é—®ä¿¡æ¯ã€‚</h5>
<h4 id="11-3-5-å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆå¿…ä¼š">11 3 5 å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<pre tabindex="0"><code>å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç‚¹ å¾®æœåŠ¡æ¶æ„çš„ç¼ºç‚¹
è‡ªç”±ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯ å¢åŠ æ•…éšœæ’é™¤æŒ‘æˆ˜
æ¯ä¸ªå¾®æœåŠ¡éƒ½ä¾§é‡äºå•ä¸€åŠŸèƒ½ ç”±äºè¿œç¨‹å‘¼å«è€Œå¢åŠ å»¶è¿Ÿ
æ”¯æŒå•ä¸ªå¯éƒ¨ç½²å•å…ƒ å¢åŠ äº†é…ç½®å’Œå…¶ä»–æ“ä½œçš„å·¥ä½œé‡
å…è®¸ç»å¸¸å‘å¸ƒè½¯ä»¶ éš¾ä»¥ä¿æŒäº¤æ˜“å®‰å…¨
ç¡®ä¿æ¯é¡¹æœåŠ¡çš„å®‰å…¨æ€§ è‰°éš¾åœ°è·¨è¶Šå„ç§è¾¹ç•Œè·Ÿè¸ªæ•°æ®
</code></pre><pre tabindex="0"><code>å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç‚¹ å¾®æœåŠ¡æ¶æ„çš„ç¼ºç‚¹
å¤šä¸ªæœåŠ¡æ˜¯å¹¶è¡Œå¼€å‘å’Œéƒ¨ç½²çš„ éš¾ä»¥åœ¨æœåŠ¡ä¹‹é—´è¿›è¡Œç¼–ç 
</code></pre><h3 id="11-3-6-å•ç‰‡soaå’Œå¾®æœåŠ¡æ¶æ„æœ‰ä»€ä¹ˆåŒºåˆ«-å¿…ä¼š-">11. 3. 6 å•ç‰‡ï¼ŒSOAå’Œå¾®æœåŠ¡æ¶æ„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼ˆ å¿…ä¼š ï¼‰</h3>
<h5 id="å•ç‰‡æ¶æ„-ç±»ä¼¼äºå¤§å®¹å™¨å…¶ä¸­åº”ç”¨ç¨‹åºçš„æ‰€æœ‰è½¯ä»¶ç»„ä»¶ç»„è£…åœ¨ä¸€èµ·å¹¶ç´§å¯†">å•ç‰‡æ¶æ„ ç±»ä¼¼äºå¤§å®¹å™¨ï¼Œå…¶ä¸­åº”ç”¨ç¨‹åºçš„æ‰€æœ‰è½¯ä»¶ç»„ä»¶ç»„è£…åœ¨ä¸€èµ·å¹¶ç´§å¯†</h5>
<h5 id="å°è£…">å°è£…ã€‚</h5>
<h5 id="ä¸€ä¸ª-é¢å‘æœåŠ¡-çš„æ¶æ„æ˜¯ä¸€ç§ç›¸äº’é€šä¿¡æœåŠ¡çš„é›†åˆé€šä¿¡å¯ä»¥æ¶‰åŠç®€å•çš„æ•°">ä¸€ä¸ª é¢å‘æœåŠ¡ çš„æ¶æ„æ˜¯ä¸€ç§ç›¸äº’é€šä¿¡æœåŠ¡çš„é›†åˆã€‚é€šä¿¡å¯ä»¥æ¶‰åŠç®€å•çš„æ•°</h5>
<h5 id="æ®ä¼ é€’ä¹Ÿå¯ä»¥æ¶‰åŠä¸¤ä¸ªæˆ–å¤šä¸ªåè°ƒæŸäº›æ´»åŠ¨çš„æœåŠ¡">æ®ä¼ é€’ï¼Œä¹Ÿå¯ä»¥æ¶‰åŠä¸¤ä¸ªæˆ–å¤šä¸ªåè°ƒæŸäº›æ´»åŠ¨çš„æœåŠ¡ã€‚</h5>
<h5 id="å¾®æœåŠ¡-æ¶æ„æ˜¯ä¸€ç§æ¶æ„é£æ ¼å®ƒå°†åº”ç”¨ç¨‹åºæ„å»ºä¸ºä»¥ä¸šåŠ¡åŸŸä¸ºæ¨¡å‹çš„å°å‹">å¾®æœåŠ¡ æ¶æ„æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºæ„å»ºä¸ºä»¥ä¸šåŠ¡åŸŸä¸ºæ¨¡å‹çš„å°å‹</h5>
<h5 id="è‡ªæ²»æœåŠ¡é›†åˆ">è‡ªæ²»æœåŠ¡é›†åˆã€‚</h5>
<ol start="11">
<li>
<ol start="3">
<li>7 åœ¨ä½¿ç”¨å¾®æœåŠ¡æ¶æ„æ—¶ï¼Œæ‚¨é¢ä¸´å“ªäº›æŒ‘æˆ˜ï¼Ÿï¼ˆå¿…ä¼šï¼‰</li>
</ol>
</li>
</ol>
<p>å¼€å‘ä¸€äº›è¾ƒå°çš„å¾®æœåŠ¡å¬èµ·æ¥å¾ˆå®¹æ˜“ï¼Œä½†å¼€å‘å®ƒä»¬æ—¶ç»å¸¸é‡åˆ°çš„æŒ‘æˆ˜å¦‚
ä¸‹ã€‚
<strong>è‡ªåŠ¨åŒ–ç»„ä»¶</strong> ï¼šéš¾ä»¥è‡ªåŠ¨åŒ–ï¼Œå› ä¸ºæœ‰è®¸å¤šè¾ƒå°çš„ç»„ä»¶ã€‚å› æ­¤ï¼Œå¯¹äºæ¯ä¸ªç»„ä»¶ï¼Œ
æˆ‘ä»¬å¿…é¡»éµå¾ªBuildï¼ŒDeployå’ŒMonitorçš„å„ä¸ªé˜¶æ®µã€‚
<strong>æ˜“æ„Ÿæ€§</strong> ï¼šå°†å¤§é‡ç»„ä»¶ç»´æŠ¤åœ¨ä¸€èµ·å˜å¾—éš¾ä»¥éƒ¨ç½²ï¼Œç»´æŠ¤ï¼Œç›‘æ§å’Œè¯†åˆ«é—®é¢˜ã€‚
å®ƒéœ€è¦åœ¨æ‰€æœ‰ç»„ä»¶å‘¨å›´å…·æœ‰å¾ˆå¥½çš„æ„ŸçŸ¥èƒ½åŠ›ã€‚
<strong>é…ç½®ç®¡ç†</strong> ï¼šæœ‰æ—¶åœ¨å„ç§ç¯å¢ƒä¸­ç»´æŠ¤ç»„ä»¶çš„é…ç½®å˜å¾—å›°éš¾ã€‚
<strong>è°ƒè¯•</strong> ï¼šå¾ˆéš¾æ‰¾åˆ°é”™è¯¯çš„æ¯ä¸€é¡¹æœåŠ¡ã€‚ç»´æŠ¤é›†ä¸­å¼æ—¥å¿—è®°å½•å’Œä»ªè¡¨æ¿ä»¥è°ƒè¯•
é—®é¢˜è‡³å…³é‡è¦ã€‚</p>
<h4 id="11-3-8-soaå’Œå¾®æœåŠ¡æ¶æ„ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆå¿…ä¼š">11 3 8 SOAå’Œå¾®æœåŠ¡æ¶æ„ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p><strong>SOA å¾®æœåŠ¡</strong></p>
<h4 id="11-3-9-ä»€ä¹ˆæ˜¯è€¦åˆäº†è§£">11 3 9 ä»€ä¹ˆæ˜¯è€¦åˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="ç»„ä»¶ä¹‹é—´ä¾èµ–å…³ç³»å¼ºåº¦çš„åº¦é‡è¢«è®¤ä¸ºæ˜¯-è€¦åˆ-ä¸€ä¸ªå¥½çš„è®¾è®¡æ€»æ˜¯è¢«è®¤ä¸ºå…·æœ‰">ç»„ä»¶ä¹‹é—´ä¾èµ–å…³ç³»å¼ºåº¦çš„åº¦é‡è¢«è®¤ä¸ºæ˜¯ è€¦åˆ ã€‚ä¸€ä¸ªå¥½çš„è®¾è®¡æ€»æ˜¯è¢«è®¤ä¸ºå…·æœ‰</h5>
<h5 id="é«˜å†…èšåŠ›-å’Œ-ä½è€¦åˆæ€§-">é«˜å†…èšåŠ› å’Œ ä½è€¦åˆæ€§ ã€‚</h5>
<h4 id="11-3-10-ä»€ä¹ˆæ˜¯restrestfulæ¶æ„ä»¥åŠå®ƒçš„ç”¨é€”æ˜¯ä»€ä¹ˆäº†è§£">11 3 10 ä»€ä¹ˆæ˜¯Rest/Restfulæ¶æ„ä»¥åŠå®ƒçš„ç”¨é€”æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<pre tabindex="0"><code>Rest/RestfulWebæœåŠ¡æ˜¯ä¸€ç§å¸®åŠ©è®¡ç®—æœºç³»ç»Ÿé€šè¿‡Internetè¿›è¡Œé€šä¿¡çš„
æ¶æ„é£æ ¼ã€‚è¿™ä½¿å¾—å¾®æœåŠ¡æ›´å®¹æ˜“ç†è§£å’Œå®ç°ã€‚
å¾®æœåŠ¡å¯ä»¥ä½¿ç”¨æˆ–ä¸ä½¿ç”¨RESTfulAPIå®ç°ï¼Œä½†ä½¿ç”¨RESTfulAPIæ„å»ºæ¾æ•£è€¦åˆ
çš„å¾®æœåŠ¡æ€»æ˜¯æ›´å®¹æ˜“ã€‚
</code></pre><pre tabindex="0"><code>éµå¾ªâ€œ å°½å¯èƒ½å¤šçš„å…±äº« â€æ¶æ„æ–¹æ³• éµå¾ªâ€œå°½å¯èƒ½å°‘åˆ†äº« â€çš„æ¶æ„æ–¹æ³•
é‡è¦æ€§åœ¨äº ä¸šåŠ¡åŠŸèƒ½é‡ç”¨ é‡è¦æ€§åœ¨äºâ€œ æœ‰ç•ŒèƒŒæ™¯ â€ çš„æ¦‚å¿µ
ä»–ä»¬æœ‰ å…±åŒçš„ æ²»ç† å’Œæ ‡å‡† ä»–ä»¬ä¸“æ³¨äºäººä»¬çš„ åˆä½œå’Œå…¶ä»–é€‰æ‹©çš„è‡ªç”±
ä½¿ç”¨ ä¼ä¸šæœåŠ¡æ€»çº¿ï¼ˆESBï¼‰ è¿›è¡Œé€šä¿¡ ç®€å•çš„æ¶ˆæ¯ç³»ç»Ÿ
å®ƒä»¬æ”¯æŒ å¤šç§æ¶ˆæ¯åè®® ä»–ä»¬ä½¿ç”¨ è½»é‡çº§åè®® ï¼Œå¦‚ HTTP/RESTç­‰ã€‚
</code></pre><pre tabindex="0"><code>å¤šçº¿ç¨‹ï¼Œ æœ‰æ›´å¤šçš„å¼€é”€æ¥å¤„ç†I/O.
</code></pre><p>å•çº¿ç¨‹é€šå¸¸ä½¿ç”¨EventLoopåŠŸèƒ½è¿›è¡Œéé”å®šI/
Oå¤„ç†
æœ€å¤§åŒ–åº”ç”¨ç¨‹åºæœåŠ¡å¯é‡ç”¨æ€§ ä¸“æ³¨äºè§£è€¦
ä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“ æ›´å¸¸ç”¨ ç°ä»£ å…³ç³»æ•°æ®åº“ æ›´å¸¸ç”¨
ç³»ç»Ÿçš„å˜åŒ–éœ€è¦ä¿®æ”¹æ•´ä½“ ç³»ç»Ÿçš„å˜åŒ–æ˜¯åˆ›é€ ä¸€ç§æ–°çš„æœåŠ¡
DevOps/ContinuousDeliveryæ­£åœ¨
å˜å¾—æµè¡Œï¼Œä½†è¿˜ä¸æ˜¯ä¸»æµ</p>
<pre tabindex="0"><code>ä¸“æ³¨äºDevOps/æŒç»­äº¤ä»˜
</code></pre><p>Restfulæ¶æ„ï¼Œå°±æ˜¯ç›®å‰æœ€æµè¡Œçš„ä¸€ç§äº’è”ç½‘è½¯ä»¶æ¶æ„ã€‚å®ƒç»“æ„æ¸…æ™°.ç¬¦åˆæ ‡
å‡†.æ˜“ äºç†è§£.æ‰©å±•æ–¹ä¾¿ï¼Œæ‰€ä»¥æ­£å¾—åˆ°è¶Šæ¥è¶Šå¤šç½‘ç«™çš„é‡‡ç”¨ã€‚RESTè¿™ä¸ªè¯ï¼Œæ˜¯Roy
ThomasFieldingåœ¨ä»– 2000 å¹´çš„åšå£«è®ºæ–‡ä¸­æå‡ºçš„ã€‚
Restæ˜¯RepresentationalStateTransferçš„ç¼©å†™ï¼Œç¿»è¯‘æ˜¯â€è¡¨ç°å±‚çŠ¶æ€è½¬
åŒ–â€ã€‚
å¯ä»¥ æ€»ç»“ä¸ºä¸€å¥è¯:RESTæ˜¯æ‰€æœ‰Webåº”ç”¨éƒ½åº”è¯¥éµå®ˆçš„æ¶æ„è®¾è®¡æŒ‡å¯¼åŸ
åˆ™ã€‚
é¢å‘èµ„æºæ˜¯Restæœ€æ˜æ˜¾çš„ç‰¹å¾ï¼Œå¯¹äºåŒä¸€ä¸ªèµ„æºçš„ä¸€ç»„ä¸åŒçš„æ“ä½œã€‚èµ„æº
æ˜¯æœåŠ¡å™¨ ä¸Šä¸€ä¸ªå¯å‘½åçš„æŠ½è±¡æ¦‚å¿µï¼Œèµ„æºæ˜¯ä»¥åè¯ä¸ºæ ¸å¿ƒæ¥ç»„ç»‡çš„ï¼Œé¦–å…ˆå…³æ³¨
çš„æ˜¯åè¯ã€‚RESTè¦æ±‚ï¼Œå¿…é¡»é€šè¿‡ç»Ÿä¸€çš„æ¥å£æ¥å¯¹èµ„æºæ‰§è¡Œå„ç§æ“ä½œã€‚å¯¹äºæ¯ä¸ª
èµ„æºåªèƒ½æ‰§è¡Œä¸€ç»„æœ‰é™çš„æ“ ä½œã€‚
7 ä¸ªHTTPæ–¹æ³•ï¼šGET/POST/PUT/DELETE/PATCH/HEAD/OPTIONSã€‚</p>
<h4 id="11-3-11-ä½ å¯¹springbootæœ‰ä»€ä¹ˆäº†è§£å¿…ä¼š">11 3 11 ä½ å¯¹SpringBootæœ‰ä»€ä¹ˆäº†è§£ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h4>
<h5 id="äº‹å®ä¸Šéšç€æ–°åŠŸèƒ½çš„å¢åŠ å¼¹ç°§å˜å¾—è¶Šæ¥è¶Šå¤æ‚å¦‚æœå¿…é¡»å¯åŠ¨æ–°çš„">äº‹å®ä¸Šï¼Œéšç€æ–°åŠŸèƒ½çš„å¢åŠ ï¼Œå¼¹ç°§å˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚å¦‚æœå¿…é¡»å¯åŠ¨æ–°çš„</h5>
<p>springé¡¹ç›®ï¼Œåˆ™å¿…é¡»æ·»åŠ æ„å»ºè·¯å¾„æˆ–æ·»åŠ mavenä¾èµ–é¡¹ï¼Œé…ç½®åº”ç”¨ç¨‹åºæœåŠ¡å™¨ï¼Œ
æ·»åŠ springé…ç½®ã€‚æ‰€ä»¥ä¸€åˆ‡éƒ½å¿…é¡»ä»å¤´å¼€å§‹ã€‚
SpringBootæ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ã€‚ä½¿ç”¨SpringBootå¯ä»¥é¿å…æ‰€æœ‰æ ·æ¿ä»£ç 
å’ŒXMLé…ç½®ã€‚å¿«é€Ÿæ„å»ºé¡¹ç›®ã€‚æ„Ÿè§‰æ˜¯SpringMVCç²¾ç®€ç‰ˆã€‚</p>
<h4 id="11-3-12-ä»€ä¹ˆæ˜¯springå¼•å¯¼çš„æ‰§è¡Œå™¨å¿…ä¼š">11 3 12 ä»€ä¹ˆæ˜¯Springå¼•å¯¼çš„æ‰§è¡Œå™¨ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h4>
<p>SpringBootæ‰§è¡Œç¨‹åºæä¾›äº†restfulWebæœåŠ¡ï¼Œä»¥è®¿é—®ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œåº”
ç”¨ç¨‹åºçš„å½“å‰çŠ¶æ€ã€‚åœ¨æ‰§è¡Œå™¨çš„å¸®åŠ©ä¸‹ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥å„ç§æŒ‡æ ‡å¹¶ç›‘æ§æ‚¨çš„åº”ç”¨ç¨‹
åºã€‚</p>
<h4 id="11-3-13-ä»€ä¹ˆæ˜¯springcloudå¿…ä¼š">11 3 13 ä»€ä¹ˆæ˜¯SpringCloudï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>æ ¹æ®SpringCloudçš„å®˜æ–¹ç½‘ç«™ï¼ŒSpringCloudä¸ºå¼€å‘äººå‘˜æä¾›äº†å¿«é€Ÿæ„å»º
åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€äº›å¸¸è§æ¨¡å¼çš„å·¥å…·ï¼ˆä¾‹å¦‚é…ç½®ç®¡ç†ï¼ŒæœåŠ¡å‘ç°ï¼Œæ–­è·¯å™¨ï¼Œæ™ºèƒ½è·¯
ç”±ï¼Œé¢†å¯¼é€‰ä¸¾ï¼Œåˆ†å¸ƒå¼ä¼šè¯ï¼Œé›†ç¾¤çŠ¶æ€ï¼‰ã€‚</p>
<h4 id="11-3-14-springcloudè§£å†³äº†å“ªäº›é—®é¢˜å¿…ä¼š">11 3 14 SpringCloudè§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<p>åœ¨ä½¿ç”¨SpringBootå¼€å‘åˆ†å¸ƒå¼å¾®æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬é¢ä¸´çš„é—®é¢˜å¾ˆå°‘ç”±
SpringCloudè§£å†³ã€‚
<strong>ä¸åˆ†å¸ƒå¼ç³»ç»Ÿç›¸å…³çš„å¤æ‚æ€§</strong> â€“ åŒ…æ‹¬ç½‘ç»œé—®é¢˜ï¼Œå»¶è¿Ÿå¼€é”€ï¼Œå¸¦å®½é—®é¢˜ï¼Œå®‰å…¨é—®é¢˜ã€‚
<strong>å¤„ç†æœåŠ¡å‘ç°çš„èƒ½åŠ›</strong> â€“ æœåŠ¡å‘ç°å…è®¸é›†ç¾¤ä¸­çš„è¿›ç¨‹å’ŒæœåŠ¡æ‰¾åˆ°å½¼æ­¤å¹¶è¿›è¡Œé€š
ä¿¡ã€‚
<strong>è§£å†³å†—ä½™é—®é¢˜</strong> â€“ å†—ä½™é—®é¢˜ç»å¸¸å‘ç”Ÿåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ã€‚
<strong>è´Ÿè½½å¹³è¡¡</strong> â€“ æ”¹è¿›è·¨å¤šä¸ªè®¡ç®—èµ„æºï¼ˆä¾‹å¦‚è®¡ç®—æœºé›†ç¾¤ï¼Œç½‘ç»œé“¾æ¥ï¼Œä¸­å¤®å¤„ç†å•å…ƒï¼‰
çš„å·¥ä½œè´Ÿè½½åˆ†å¸ƒã€‚
<strong>å‡å°‘æ€§èƒ½é—®é¢˜</strong> â€“ å‡å°‘å› å„ç§æ“ä½œå¼€é”€å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<h4 id="11-3-15-åœ¨springmvcåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨webmvctestæ³¨é‡Šæœ‰ä»€ä¹ˆç”¨å¤„å¿…ä¼š">11 3 15 åœ¨SpringMVCåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨WebMvcTestæ³¨é‡Šæœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿï¼ˆå¿…ä¼šï¼‰</h4>
<p>åœ¨æµ‹è¯•ç›®æ ‡åªå…³æ³¨SpringMVCç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œ <strong>WebMvcTest</strong> æ³¨é‡Šç”¨äºå•å…ƒæµ‹
è¯•SpringMVCåº”ç”¨ç¨‹åºã€‚åœ¨ä¸Šé¢æ˜¾ç¤ºçš„å¿«ç…§ä¸­ï¼Œæˆ‘ä»¬åªæƒ³å¯åŠ¨
ToTestControllerã€‚æ‰§è¡Œæ­¤å•å…ƒæµ‹è¯•æ—¶ï¼Œä¸ä¼šå¯åŠ¨æ‰€æœ‰å…¶ä»–æ§åˆ¶å™¨å’Œæ˜ å°„ã€‚</p>
<h4 id="11-3-16-ä½ èƒ½å¦ç»™å‡ºå…³äºä¼‘æ¯å’Œå¾®æœåŠ¡çš„è¦ç‚¹å¿…ä¼š">11 3 16 ä½ èƒ½å¦ç»™å‡ºå…³äºä¼‘æ¯å’Œå¾®æœåŠ¡çš„è¦ç‚¹ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h4>
<h5 id="ä¼‘æ¯">ä¼‘æ¯</h5>
<p>è™½ç„¶æ‚¨å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°å¾®æœåŠ¡ï¼Œä½†RESToverHTTPæ˜¯å®ç°å¾®æœåŠ¡çš„
ä¸€ç§æ–¹å¼ã€‚RESTè¿˜å¯ç”¨äºå…¶ä»–åº”ç”¨ç¨‹åºï¼Œå¦‚Webåº”ç”¨ç¨‹åºï¼ŒAPIè®¾è®¡å’ŒMVC
åº”ç”¨ç¨‹åºï¼Œä»¥æä¾›ä¸šåŠ¡æ•°æ®ã€‚
<strong>å¾®æœåŠ¡</strong>
å¾®æœåŠ¡æ˜¯ä¸€ç§ä½“ç³»ç»“æ„ï¼Œå…¶ä¸­ç³»ç»Ÿçš„æ‰€æœ‰ç»„ä»¶éƒ½è¢«æ”¾å…¥å•ç‹¬çš„ç»„ä»¶ä¸­ï¼Œè¿™äº›
ç»„ä»¶å¯ä»¥å•ç‹¬æ„å»ºï¼Œéƒ¨ç½²å’Œæ‰©å±•ã€‚å¾®æœåŠ¡çš„æŸäº›åŸåˆ™å’Œæœ€ä½³å®è·µæœ‰åŠ©äºæ„å»ºå¼¹æ€§
åº”ç”¨ç¨‹åºã€‚
ç®€è€Œè¨€ä¹‹ï¼Œæ‚¨å¯ä»¥è¯´RESTæ˜¯æ„å»ºå¾®æœåŠ¡çš„åª’ä»‹ã€‚</p>
<h3 id="11-3-17-ä»€ä¹ˆæ˜¯ä¸åŒç±»å‹çš„å¾®æœåŠ¡æµ‹è¯•å¿…ä¼š">11 3 17 ä»€ä¹ˆæ˜¯ä¸åŒç±»å‹çš„å¾®æœåŠ¡æµ‹è¯•ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="åœ¨ä½¿ç”¨å¾®æœåŠ¡æ—¶ç”±äºæœ‰å¤šä¸ªå¾®æœåŠ¡ååŒå·¥ä½œæµ‹è¯•å˜å¾—éå¸¸å¤æ‚å› æ­¤">åœ¨ä½¿ç”¨å¾®æœåŠ¡æ—¶ï¼Œç”±äºæœ‰å¤šä¸ªå¾®æœåŠ¡ååŒå·¥ä½œï¼Œæµ‹è¯•å˜å¾—éå¸¸å¤æ‚ã€‚å› æ­¤ï¼Œ</h5>
<h5 id="æµ‹è¯•åˆ†ä¸ºä¸åŒçš„çº§åˆ«">æµ‹è¯•åˆ†ä¸ºä¸åŒçš„çº§åˆ«ã€‚</h5>
<h5 id="åœ¨-åº•å±‚-æˆ‘ä»¬æœ‰é¢å‘æŠ€æœ¯çš„æµ‹è¯•å¦‚å•å…ƒæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•è¿™äº›æ˜¯å®Œå…¨è‡ª">åœ¨ åº•å±‚ ï¼Œæˆ‘ä»¬æœ‰é¢å‘æŠ€æœ¯çš„æµ‹è¯•ï¼Œå¦‚å•å…ƒæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ã€‚è¿™äº›æ˜¯å®Œå…¨è‡ª</h5>
<h5 id="åŠ¨åŒ–çš„">åŠ¨åŒ–çš„ã€‚</h5>
<h5 id="åœ¨-ä¸­é—´å±‚é¢-æˆ‘ä»¬è¿›è¡Œäº†è¯¸å¦‚å‹åŠ›æµ‹è¯•å’Œå¯ç”¨æ€§æµ‹è¯•ä¹‹ç±»çš„æ¢ç´¢æ€§æµ‹è¯•">åœ¨ ä¸­é—´å±‚é¢ ï¼Œæˆ‘ä»¬è¿›è¡Œäº†è¯¸å¦‚å‹åŠ›æµ‹è¯•å’Œå¯ç”¨æ€§æµ‹è¯•ä¹‹ç±»çš„æ¢ç´¢æ€§æµ‹è¯•ã€‚</h5>
<h5 id="åœ¨-é¡¶å±‚-æˆ‘ä»¬çš„-éªŒæ”¶æµ‹è¯•æ•°é‡å¾ˆå°‘è¿™äº›éªŒæ”¶æµ‹è¯•æœ‰åŠ©äºåˆ©ç›Šç›¸å…³è€…ç†">åœ¨ é¡¶å±‚ ï¼Œæˆ‘ä»¬çš„ éªŒæ”¶æµ‹è¯•æ•°é‡å¾ˆå°‘ã€‚è¿™äº›éªŒæ”¶æµ‹è¯•æœ‰åŠ©äºåˆ©ç›Šç›¸å…³è€…ç†</h5>
<h5 id="è§£å’ŒéªŒè¯è½¯ä»¶åŠŸèƒ½">è§£å’ŒéªŒè¯è½¯ä»¶åŠŸèƒ½ã€‚</h5>
<h3 id="11-3-18-æ‚¨å¯¹distributedtransactionæœ‰ä½•äº†è§£å¿…ä¼š">11 3 18 æ‚¨å¯¹DistributedTransactionæœ‰ä½•äº†è§£ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="åˆ†å¸ƒå¼äº‹åŠ¡-æ˜¯æŒ‡å•ä¸ªäº‹ä»¶å¯¼è‡´ä¸¤ä¸ªæˆ–å¤šä¸ªä¸èƒ½ä»¥åŸå­æ–¹å¼æäº¤çš„å•ç‹¬æ•°æ®">åˆ†å¸ƒå¼äº‹åŠ¡ æ˜¯æŒ‡å•ä¸ªäº‹ä»¶å¯¼è‡´ä¸¤ä¸ªæˆ–å¤šä¸ªä¸èƒ½ä»¥åŸå­æ–¹å¼æäº¤çš„å•ç‹¬æ•°æ®</h5>
<h5 id="æºçš„çªå˜çš„ä»»ä½•æƒ…å†µåœ¨å¾®æœåŠ¡çš„ä¸–ç•Œä¸­å®ƒå˜å¾—æ›´åŠ å¤æ‚å› ä¸ºæ¯ä¸ªæœåŠ¡éƒ½æ˜¯">æºçš„çªå˜çš„ä»»ä½•æƒ…å†µã€‚åœ¨å¾®æœåŠ¡çš„ä¸–ç•Œä¸­ï¼Œå®ƒå˜å¾—æ›´åŠ å¤æ‚ï¼Œå› ä¸ºæ¯ä¸ªæœåŠ¡éƒ½æ˜¯</h5>
<h5 id="ä¸€ä¸ªå·¥ä½œå•å…ƒå¹¶ä¸”å¤§å¤šæ•°æ—¶å€™å¤šä¸ªæœåŠ¡å¿…é¡»ååŒå·¥ä½œæ‰èƒ½ä½¿ä¸šåŠ¡æˆåŠŸ">ä¸€ä¸ªå·¥ä½œå•å…ƒï¼Œå¹¶ä¸”å¤§å¤šæ•°æ—¶å€™å¤šä¸ªæœåŠ¡å¿…é¡»ååŒå·¥ä½œæ‰èƒ½ä½¿ä¸šåŠ¡æˆåŠŸã€‚</h5>
<h3 id="11-3-19-ä»€ä¹ˆæ˜¯idempotenceä»¥åŠå®ƒåœ¨å“ªé‡Œä½¿ç”¨å¿…ä¼š">11 3 19 ä»€ä¹ˆæ˜¯Idempotenceä»¥åŠå®ƒåœ¨å“ªé‡Œä½¿ç”¨ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="å¹‚ç­‰-æ€§æ˜¯èƒ½å¤Ÿä»¥è¿™æ ·çš„æ–¹å¼åšä¸¤æ¬¡äº‹æƒ…çš„ç‰¹æ€§å³æœ€ç»ˆç»“æœå°†ä¿æŒä¸å˜å³">å¹‚ç­‰ æ€§æ˜¯èƒ½å¤Ÿä»¥è¿™æ ·çš„æ–¹å¼åšä¸¤æ¬¡äº‹æƒ…çš„ç‰¹æ€§ï¼Œå³æœ€ç»ˆç»“æœå°†ä¿æŒä¸å˜ï¼Œå³</h5>
<h5 id="å¥½åƒå®ƒåªåšäº†ä¸€æ¬¡">å¥½åƒå®ƒåªåšäº†ä¸€æ¬¡ã€‚</h5>
<p><strong>ç”¨æ³•</strong> ï¼šåœ¨è¿œç¨‹æœåŠ¡æˆ–æ•°æ®æºä¸­ä½¿ç”¨ Idempotenceï¼Œè¿™æ ·å½“å®ƒå¤šæ¬¡æ¥æ”¶æŒ‡ä»¤
æ—¶ï¼Œå®ƒåªå¤„ç†æŒ‡ä»¤ä¸€æ¬¡ã€‚</p>
<h3 id="11-3-20-ä»€ä¹ˆæ˜¯æœ‰ç•Œä¸Šä¸‹æ–‡å¿…ä¼š">11 3 20 ä»€ä¹ˆæ˜¯æœ‰ç•Œä¸Šä¸‹æ–‡ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<h5 id="æœ‰ç•Œä¸Šä¸‹æ–‡æ˜¯åŸŸé©±åŠ¨è®¾è®¡çš„æ ¸å¿ƒæ¨¡å¼dddæˆ˜ç•¥è®¾è®¡éƒ¨é—¨çš„é‡ç‚¹æ˜¯å¤„ç†å¤§">æœ‰ç•Œä¸Šä¸‹æ–‡æ˜¯åŸŸé©±åŠ¨è®¾è®¡çš„æ ¸å¿ƒæ¨¡å¼ã€‚DDDæˆ˜ç•¥è®¾è®¡éƒ¨é—¨çš„é‡ç‚¹æ˜¯å¤„ç†å¤§</h5>
<h5 id="å‹æ¨¡å‹å’Œå›¢é˜Ÿdddé€šè¿‡å°†å¤§å‹æ¨¡å‹åˆ’åˆ†ä¸ºä¸åŒçš„æœ‰ç•Œä¸Šä¸‹æ–‡å¹¶æ˜ç¡®å…¶ç›¸äº’å…³">å‹æ¨¡å‹å’Œå›¢é˜Ÿã€‚DDDé€šè¿‡å°†å¤§å‹æ¨¡å‹åˆ’åˆ†ä¸ºä¸åŒçš„æœ‰ç•Œä¸Šä¸‹æ–‡å¹¶æ˜ç¡®å…¶ç›¸äº’å…³</h5>
<h5 id="ç³»æ¥å¤„ç†å¤§å‹æ¨¡å‹">ç³»æ¥å¤„ç†å¤§å‹æ¨¡å‹ã€‚</h5>
<h3 id="11-3-21-ä»€ä¹ˆæ˜¯åŒå› ç´ èº«ä»½éªŒè¯å¿…ä¼š">11 3 21 ä»€ä¹ˆæ˜¯åŒå› ç´ èº«ä»½éªŒè¯ï¼Ÿï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h5 id="åŒå› ç´ èº«ä»½éªŒè¯ä¸ºå¸æˆ·ç™»å½•è¿‡ç¨‹å¯ç”¨ç¬¬äºŒçº§èº«ä»½éªŒè¯">åŒå› ç´ èº«ä»½éªŒè¯ä¸ºå¸æˆ·ç™»å½•è¿‡ç¨‹å¯ç”¨ç¬¬äºŒçº§èº«ä»½éªŒè¯ã€‚</h5>
<h5 id="å› æ­¤å‡è®¾ç”¨æˆ·å¿…é¡»åªè¾“å…¥ç”¨æˆ·åå’Œå¯†ç é‚£ä¹ˆè¿™è¢«è®¤ä¸ºæ˜¯å•å› ç´ èº«ä»½éªŒè¯">å› æ­¤ï¼Œå‡è®¾ç”¨æˆ·å¿…é¡»åªè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œé‚£ä¹ˆè¿™è¢«è®¤ä¸ºæ˜¯å•å› ç´ èº«ä»½éªŒè¯ã€‚</h5>
<h3 id="11-3-22-åŒå› ç´ èº«ä»½éªŒè¯çš„å‡­æ®ç±»å‹æœ‰å“ªäº›äº†è§£">11 3 22 åŒå› ç´ èº«ä»½éªŒè¯çš„å‡­æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<h3 id="11-3-23-ä»€ä¹ˆæ˜¯å®¢æˆ·è¯ä¹¦äº†è§£">11 3 23 ä»€ä¹ˆæ˜¯å®¢æˆ·è¯ä¹¦ï¼Ÿï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<h5 id="å®¢æˆ·ç«¯ç³»ç»Ÿç”¨äºå‘è¿œç¨‹æœåŠ¡å™¨å‘å‡ºç»è¿‡èº«ä»½éªŒè¯çš„è¯·æ±‚çš„ä¸€ç§æ•°å­—è¯ä¹¦ç§°">å®¢æˆ·ç«¯ç³»ç»Ÿç”¨äºå‘è¿œç¨‹æœåŠ¡å™¨å‘å‡ºç»è¿‡èº«ä»½éªŒè¯çš„è¯·æ±‚çš„ä¸€ç§æ•°å­—è¯ä¹¦ç§°</h5>
<h5 id="ä¸º-å®¢æˆ·ç«¯è¯ä¹¦-å®¢æˆ·ç«¯è¯ä¹¦åœ¨è®¸å¤šç›¸äº’è®¤è¯è®¾è®¡ä¸­èµ·ç€éå¸¸é‡è¦çš„ä½œç”¨ä¸ºè¯·æ±‚">ä¸º å®¢æˆ·ç«¯è¯ä¹¦ ã€‚å®¢æˆ·ç«¯è¯ä¹¦åœ¨è®¸å¤šç›¸äº’è®¤è¯è®¾è®¡ä¸­èµ·ç€éå¸¸é‡è¦çš„ä½œç”¨ï¼Œä¸ºè¯·æ±‚</h5>
<h5 id="è€…çš„èº«ä»½æä¾›äº†å¼ºæœ‰åŠ›çš„ä¿è¯æ¯”å¦‚jwté‰´æƒç­‰">è€…çš„èº«ä»½æä¾›äº†å¼ºæœ‰åŠ›çš„ä¿è¯ã€‚æ¯”å¦‚JWTé‰´æƒç­‰ã€‚</h5>
<h2 id="11-4-åæ¬¡æ–¹æŠ€æœ¯ç‚¹">11 4 åæ¬¡æ–¹æŠ€æœ¯ç‚¹&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h2>
<h3 id="11-4-1-mongodbé«˜è–ªå¸¸é—®">11 4 1 MongoDBï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<ol start="11">
<li>
<ol start="4">
<li>
<ol>
<li>1 ä»€ä¹ˆæ˜¯MongoDB</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>MongoDBæ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ã€‚ç”±C++è¯­è¨€ç¼–å†™ã€‚æ—¨åœ¨
ä¸ºWEBåº”ç”¨æä¾›å¯æ‰©å±•çš„é«˜æ€§èƒ½æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚MongoDBæ˜¯ä¸€ä¸ªä»‹äºå…³
ç³»æ•°æ®åº“å’Œéå…³ç³»æ•°æ®åº“ä¹‹é—´çš„äº§å“ï¼Œæ˜¯éå…³ç³»æ•°æ®åº“å½“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€åƒå…³
ç³»æ•°æ®åº“çš„ã€‚å®ƒæ”¯æŒçš„æ•°æ®ç»“æ„éå¸¸æ¾æ•£ï¼Œæ˜¯ç±»ä¼¼jsonçš„bsonæ ¼å¼ï¼Œå› æ­¤å¯</p>
<h5 id="ä»¥å­˜å‚¨æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç±»å‹">ä»¥å­˜å‚¨æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç±»å‹ã€‚</h5>
<ol start="11">
<li>
<ol start="4">
<li>
<ol>
<li>2 MongoDBç‰¹ç‚¹</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>Mongoæœ€å¤§çš„ç‰¹ç‚¹æ˜¯å®ƒæ”¯æŒçš„æŸ¥è¯¢è¯­è¨€éå¸¸å¼ºå¤§ï¼Œå…¶è¯­æ³•æœ‰ç‚¹ç±»ä¼¼äºé¢å‘
å¯¹è±¡çš„æŸ¥è¯¢è¯­è¨€ï¼Œå‡ ä¹å¯ä»¥å®ç°ç±»ä¼¼å…³ç³»æ•°æ®åº“å•è¡¨æŸ¥è¯¢çš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œè€Œä¸”
è¿˜æ”¯æŒå¯¹æ•°æ®å»ºç«‹ç´¢å¼•ã€‚
å®ƒçš„ç‰¹ç‚¹æ˜¯é«˜æ€§èƒ½.æ˜“éƒ¨ç½².æ˜“ä½¿ç”¨ï¼Œå­˜å‚¨æ•°æ®éå¸¸æ–¹ä¾¿ã€‚ä¸»è¦åŠŸèƒ½ç‰¹æ€§æœ‰ï¼š</p>
<ol>
<li>
<p>é¢å‘é›†åˆå­˜å‚¨ï¼Œæ˜“å­˜å‚¨å¯¹è±¡ç±»å‹çš„æ•°æ®ã€‚</p>
</li>
<li>
<p>æ¨¡å¼è‡ªç”±ã€‚</p>
</li>
<li>
<p>æ”¯æŒåŠ¨æ€æŸ¥è¯¢ã€‚</p>
</li>
<li>
<p>æ”¯æŒå®Œå…¨ç´¢å¼•ï¼ŒåŒ…å«å†…éƒ¨å¯¹è±¡ã€‚</p>
</li>
<li>
<p>æ”¯æŒå¤åˆ¶å’Œæ•…éšœæ¢å¤ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨é«˜æ•ˆçš„äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨ï¼ŒåŒ…æ‹¬å¤§å‹å¯¹è±¡ï¼ˆå¦‚è§†é¢‘ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p>è‡ªåŠ¨å¤„ç†ç¢ç‰‡ï¼Œä»¥æ”¯æŒäº‘è®¡ç®—å±‚æ¬¡çš„æ‰©å±•æ€§ã€‚</p>
</li>
<li>
<p>æ”¯æŒRUBYï¼ŒPYTHONï¼ŒJAVAï¼ŒC++ï¼ŒPHPï¼ŒC#ç­‰å¤šç§è¯­è¨€ã€‚</p>
</li>
<li>
<p>æ–‡ä»¶å­˜å‚¨æ ¼å¼ä¸ºBSONï¼ˆä¸€ç§JSONçš„æ‰©å±•ï¼‰ã€‚</p>
</li>
<li>
<ol start="4">
<li>
<ol>
<li>3 MongoDBä½“ç³»ç»“æ„</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>MongoDB çš„é€»è¾‘ç»“æ„æ˜¯ä¸€ç§å±‚æ¬¡ç»“æ„ã€‚ä¸»è¦ç”±ï¼šæ–‡æ¡£(document).é›†åˆ
(collection).æ•°æ®åº“(database)è¿™ä¸‰éƒ¨åˆ†ç»„æˆçš„ã€‚é€»è¾‘ç»“æ„æ˜¯é¢å‘ç”¨æˆ·çš„ï¼Œç”¨æˆ·
ä½¿ç”¨ MongoDB å¼€å‘åº”ç”¨ç¨‹åºä½¿ç”¨çš„å°±æ˜¯é€»è¾‘ç»“æ„ã€‚</p>
<pre tabindex="0"><code>1. MongoDB çš„æ–‡æ¡£ï¼ˆdocumentï¼‰ï¼Œç›¸å½“äºå…³ç³»æ•°æ®åº“ä¸­çš„ä¸€
è¡Œè®°å½•ã€‚
2. å¤šä¸ªæ–‡æ¡£ç»„æˆä¸€ä¸ªé›†åˆï¼ˆcollectionï¼‰ï¼Œç›¸å½“äºå…³ç³»æ•°æ®åº“çš„è¡¨ã€‚
3. å¤šä¸ªé›†åˆï¼ˆcollectionï¼‰ï¼Œé€»è¾‘ä¸Šç»„ç»‡åœ¨ä¸€èµ·ï¼Œå°±æ˜¯æ•°æ®åº“
ï¼ˆdatabaseï¼‰ã€‚
4. ä¸€ä¸ª MongoDB å®ä¾‹æ”¯æŒå¤šä¸ªæ•°æ®åº“ï¼ˆdatabaseï¼‰ã€‚
</code></pre><ol start="11">
<li>
<ol start="4">
<li>
<ol>
<li>4 MongoDBæ•°æ®ç±»å‹</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="11-4-2-å³æ—¶é€šè®¯é«˜è–ªå¸¸é—®">11 4 2 å³æ—¶é€šè®¯ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..</h3>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="2">
<li>1 ä»€ä¹ˆæ˜¯å³æ—¶é€šä¿¡ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>å³æ—¶é€šä¿¡ï¼ˆInstantMessagingï¼Œç®€ç§°IMï¼‰æ˜¯ä¸€ä¸ªå…è®¸ä¸¤äººæˆ–å¤šäººä½¿ç”¨ç½‘
ç»œå®æ—¶çš„ä¼ é€’æ–‡å­—æ¶ˆæ¯.æ–‡ä»¶.è¯­éŸ³ä¸è§†é¢‘äº¤æµã€‚å³æ—¶é€šè®¯æŠ€æœ¯åº”ç”¨äºéœ€è¦ <strong>å®æ—¶</strong> æ”¶
å‘æ¶ˆæ¯çš„ä¸šåŠ¡åœºæ™¯ã€‚å³æ—¶é€šè®¯ä½¿ç”¨çš„æ˜¯é•¿è¿æ¥ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="2">
<li>2 ä»€ä¹ˆæ˜¯çŸ­è¿æ¥ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¯è¿›è¡Œä¸€æ¬¡é€šè®¯ï¼Œå°±å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œé€šè®¯ç»“æŸå°±ä¸­æ–­è¿æ¥ã€‚
HTTPæ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚-å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨TCPä¹‹ä¸Šã€‚HTTP/ 1. 0 ä½¿ç”¨
çš„TCPé»˜è®¤æ˜¯çŸ­è¿æ¥ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="2">
<li>3 <strong>ä»€ä¹ˆæ˜¯é•¿è¿æ¥ï¼Ÿ</strong></li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>æ˜¯æŒ‡åœ¨å»ºç«‹è¿æ¥åå¯ä»¥è¿ç»­å¤šæ¬¡å‘é€æ•°æ®ï¼Œç›´åˆ°åŒæ–¹æ–­å¼€è¿æ¥ã€‚
</code></pre><ol start="11">
<li>
<ol start="4">
<li>4 çŸ­è¿æ¥å’Œé•¿è¿æ¥çš„åŒºåˆ«ï¼Ÿ</li>
</ol>
</li>
<li>
<ol start="4">
<li>
<ol start="4">
<li>1 é€šè®¯æµç¨‹</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>çŸ­è¿æ¥ï¼šåˆ›å»ºè¿æ¥ -&gt; ä¼ è¾“æ•°æ® -&gt; å…³é—­è¿æ¥ â€‹ â€‹
é•¿è¿æ¥ï¼šåˆ›å»ºè¿æ¥ -&gt; ä¼ è¾“æ•°æ® -&gt; ä¿æŒè¿æ¥ -&gt; ä¼ è¾“æ•°æ® -&gt; &hellip;&hellip; -&gt;
å…³é—­è¿æ¥</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="4">
<li>2 é€‚ç”¨åœºæ™¯</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>çŸ­è¿æ¥ï¼šå¹¶å‘é‡å¤§ï¼Œæ•°æ®äº¤äº’ä¸é¢‘ç¹æƒ…å†µ
é•¿è¿æ¥ï¼šæ•°æ®äº¤äº’é¢‘ç¹ï¼Œç‚¹å¯¹ç‚¹çš„é€šè®¯
</code></pre><ol start="11">
<li>
<ol start="4">
<li>
<ol start="4">
<li>3 é€šè®¯æ–¹å¼</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>æ–¹å¼ è¯´æ˜
çŸ­è¿æ¥ æˆ‘è·Ÿä½ å‘ä¿¡æ¯ï¼Œå¿…é¡»ç­‰åˆ°ä½ å›å¤æˆ‘æˆ–è€…ç­‰äº†ä¸€ä¼šç­‰ä¸ä¸‹å»äº†ï¼Œå°±ç»“æŸé€šè®¯äº†
</code></pre><pre tabindex="0"><code>æ–¹å¼ è¯´æ˜
</code></pre><pre tabindex="0"><code>é•¿è¿æ¥
</code></pre><pre tabindex="0"><code>æˆ‘è·Ÿä½ å‘ä¿¡æ¯ï¼Œä¸€ç›´ä¿æŒé€šè®¯ï¼Œåœ¨ä¿æŒé€šè®¯è¿™ä¸ªæ—¶æ®µï¼Œæˆ‘å»åšå…¶ä»–äº‹æƒ…çš„å½“ä¸­ä½ å›å¤æˆ‘äº†ï¼Œæˆ‘èƒ½ç«‹åˆ»ä½ å›å¤äº†æˆ‘ä»€ä¹ˆï¼Œç„¶åå¯ä»¥å›åº”æˆ–è€…ä¸å›åº”ï¼Œç»§
ç»­åšäº‹
</code></pre><h3 id="11-4-3-websocketåè®®äº†è§£">11 4 3 websocketåè®®ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<ol start="11">
<li>
<ol start="4">
<li><strong>3.</strong> 1 ä½•ä¸ºwebsocketåè®®ï¼Ÿ</li>
</ol>
</li>
</ol>
<p>WebSocket æ˜¯ HTML 5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯
çš„åè®®ã€‚
ä½•è°“å…¨åŒå·¥ï¼šå…¨åŒå·¥ï¼ˆFullDuplexï¼‰æ˜¯é€šè®¯ä¼ è¾“çš„ä¸€ä¸ªæœ¯è¯­ã€‚åŒæ–¹åœ¨é€šä¿¡æ—¶å…
è®¸æ•°æ®åœ¨ä¸¤ä¸ªæ–¹å‘ä¸ŠåŒæ—¶ä¼ è¾“ï¼Œå®ƒåœ¨èƒ½åŠ›ä¸Šç›¸å½“äºä¸¤ä¸ªå•å·¥é€šä¿¡æ–¹å¼çš„ç»“åˆã€‚å…¨
åŒå·¥æŒ‡å¯ä»¥åŒæ—¶è¿›è¡Œä¿¡å·çš„åŒå‘ä¼ è¾“ã€‚æŒ‡Aâ†’Bçš„åŒæ—¶Bâ†’Aï¼Œå°±åƒæ˜¯åŒå‘è½¦é“ã€‚
å•å·¥å°±å°±åƒæ˜¯æ±½è½¦çš„å•è¡Œé“ï¼Œæ˜¯åœ¨åªå…è®¸ç”²æ–¹å‘ä¹™æ–¹ä¼ é€ä¿¡æ¯ï¼Œè€Œä¹™æ–¹ä¸èƒ½å‘ç”²
æ–¹ä¼ é€ ã€‚
åœ¨ WebSocketä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œå°±å¯ä»¥åˆ›å»ºæŒä¹…æ€§
çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ã€‚
åœ¨æ¨é€åŠŸèƒ½çš„å®ç°æŠ€æœ¯ä¸Šï¼Œç›¸æ¯”ä½¿ç”¨Ajax å®šæ—¶è½®è¯¢çš„æ–¹å¼(setInterval)ï¼Œ
WebSocket æ›´èŠ‚çœæœåŠ¡å™¨èµ„æºå’Œå¸¦å®½ã€‚
æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€æ•°æ®çš„åŠŸèƒ½æ˜¯websocketåè®®çš„å…¸å‹ä½¿ç”¨åœºæ™¯</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="3">
<li>2 websocketå¸¸ç”¨äº‹ä»¶æ–¹æ³•ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="11-4-4-æ¥å£åŠ å¯†åŠ å¯†æ–¹å¼é«˜è–ªå¸¸é—®">11 4 4 æ¥å£åŠ å¯†&amp;åŠ å¯†æ–¹å¼ï¼ˆé«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="4">
<li>1 æ‘˜è¦ç®—æ³•</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>æ¶ˆæ¯æ‘˜è¦æ˜¯æŠŠä»»æ„é•¿åº¦çš„è¾“å…¥æ‰å’Œè€Œäº§ç”Ÿé•¿åº¦å›ºå®šçš„ä¿¡æ¯ã€‚
æ¶ˆæ¯æ‘˜è¦ç®—æ³•çš„ä¸»è¦ç‰¹å¾æ˜¯åŠ å¯†è¿‡ç¨‹ä¸éœ€è¦å¯†é’¥ï¼Œå¹¶ä¸”ç»è¿‡åŠ å¯†çš„æ•°æ®
æ— æ³•è¢«è§£å¯†ï¼Œåªæœ‰è¾“å…¥ç›¸åŒçš„æ˜æ–‡æ•°æ®ç»è¿‡ç›¸åŒçš„æ¶ˆæ¯æ‘˜è¦ç®—æ³•æ‰èƒ½å¾—åˆ°ç›¸åŒçš„
å¯†æ–‡ã€‚æ¶ˆæ¯æ‘˜è¦ç®—æ³•ä¸å­˜åœ¨å¯†é’¥çš„ç®¡ç†ä¸åˆ†å‘é—®é¢˜ï¼Œé€‚åˆäºåˆ†å¸ƒå¼ç½‘ç»œä¸Šä½¿ç”¨ã€‚
<strong>æ¶ˆæ¯æ‘˜è¦çš„ä¸»è¦ç‰¹ç‚¹æœ‰ï¼š</strong>
æ— è®ºè¾“å…¥çš„æ¶ˆæ¯æœ‰å¤šé•¿ï¼Œè®¡ç®—å‡ºæ¥çš„æ¶ˆæ¯æ‘˜è¦çš„é•¿åº¦æ€»æ˜¯å›ºå®šçš„ã€‚
æ¶ˆæ¯æ‘˜è¦çœ‹èµ·æ¥æ˜¯â€œéšæœºçš„â€ã€‚è¿™äº›æ•°æ®çœ‹ä¸Šå»æ˜¯èƒ¡ä¹±çš„æ‚å‡‘åœ¨ä¸€èµ·çš„ã€‚
åªè¦è¾“å…¥çš„æ¶ˆæ¯ä¸åŒï¼Œå¯¹å…¶è¿›è¡Œæ‘˜è¦åäº§ç”Ÿçš„æ‘˜è¦æ¶ˆæ¯ä¹Ÿå¿…ä¸ç›¸åŒï¼›ä½†ç›¸åŒ
çš„è¾“å…¥å¿…ä¼šäº§ç”Ÿç›¸åŒçš„è¾“å‡ºã€‚
åªèƒ½è¿›è¡Œæ­£å‘çš„æ¶ˆæ¯æ‘˜è¦ï¼Œè€Œæ— æ³•ä»æ‘˜è¦ä¸­æ¢å¤å‡ºä»»ä½•æ¶ˆæ¯ï¼Œç”šè‡³æ ¹æœ¬å°±æ‰¾
ä¸åˆ°ä»»ä½•ä¸åŸä¿¡æ¯ç›¸å…³çš„ä¿¡æ¯ã€‚</p>
<h5 id="è™½ç„¶ç¢°æ’æ˜¯è‚¯å®šå­˜åœ¨çš„ä½†å¥½çš„æ‘˜è¦ç®—æ³•å¾ˆéš¾èƒ½ä»ä¸­æ‰¾åˆ°ç¢°æ’">è™½ç„¶â€œç¢°æ’â€æ˜¯è‚¯å®šå­˜åœ¨çš„ï¼Œä½†å¥½çš„æ‘˜è¦ç®—æ³•å¾ˆéš¾èƒ½ä»ä¸­æ‰¾åˆ°â€œç¢°æ’â€ã€‚</h5>
<h5 id="å³æ— æ³•æ‰¾åˆ°ä¸¤æ¡ä¸åŒæ¶ˆæ¯ä½†æ˜¯å®ƒä»¬çš„æ‘˜è¦ç›¸åŒ">å³æ— æ³•æ‰¾åˆ°ä¸¤æ¡ä¸åŒæ¶ˆæ¯ï¼Œä½†æ˜¯å®ƒä»¬çš„æ‘˜è¦ç›¸åŒã€‚</h5>
<h5 id="å¸¸è§çš„æ‘˜è¦ç®—æ³•crcmd-5-shaç­‰">å¸¸è§çš„æ‘˜è¦ç®—æ³•ï¼šCRC.MD 5 .SHAç­‰</h5>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="4">
<li>2 å¯¹ç§°åŠ å¯†</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>åŠ å¯†å’Œè§£å¯†ä½¿ç”¨ç›¸åŒå¯†é’¥çš„åŠ å¯†ç®—æ³•ã€‚
å¯¹ç§°åŠ å¯†çš„ç‰¹ç‚¹ï¼š
é€Ÿåº¦å¿«ï¼Œé€šå¸¸åœ¨æ¶ˆæ¯å‘é€æ–¹éœ€è¦åŠ å¯†å¤§é‡æ•°æ®æ—¶ä½¿ç”¨ã€‚
å¯†é’¥æ˜¯æ§åˆ¶åŠ å¯†åŠè§£å¯†è¿‡ç¨‹çš„æŒ‡ä»¤ã€‚
ç®—æ³•æ˜¯ä¸€ç»„è§„åˆ™ï¼Œè§„å®šå¦‚ä½•è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚
å…¸å‹åº”ç”¨åœºæ™¯ï¼šç¦»çº¿çš„å¤§é‡æ•°æ®åŠ å¯†ï¼ˆç”¨äºå­˜å‚¨çš„ï¼‰
å¸¸ç”¨çš„åŠ å¯†ç®—æ³•ï¼š
<strong>DES</strong>. 3 DES. <strong>AES</strong> .TDEA.Blowfish.RC 2 .RC 4 .RC 5 .IDEA.SKIPJACKç­‰ã€‚
åŠ å¯†çš„å®‰å…¨æ€§ä¸ä»…å–å†³äºåŠ å¯†ç®—æ³•æœ¬èº«ï¼Œå¯†é’¥ç®¡ç†çš„å®‰å…¨æ€§æ›´æ˜¯é‡è¦ã€‚å¦‚ä½•
æŠŠå¯†é’¥å®‰å…¨åœ°ä¼ é€’åˆ°è§£å¯†è€…æ‰‹ä¸Šå°±æˆäº†å¿…é¡»è¦è§£å†³çš„é—®é¢˜ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="4">
<li>3 éå¯¹ç§°åŠ å¯†</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>éå¯¹ç§°åŠ å¯†ç®—æ³•æ˜¯ä¸€ç§ <strong>å¯†é’¥</strong> çš„ä¿å¯†æ–¹æ³•ï¼ŒåŠ å¯†å’Œè§£å¯†ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„å¯†
é’¥ï¼Œå…¬å¼€å¯†é’¥ï¼ˆpublickey:ç®€ç§°å…¬é’¥ï¼‰å’Œç§æœ‰å¯†é’¥ï¼ˆprivatekey:ç®€ç§°ç§é’¥ï¼‰ã€‚å…¬
é’¥ä¸ç§é’¥æ˜¯ä¸€å¯¹ï¼Œå¦‚æœç”¨å…¬é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œåªæœ‰ç”¨å¯¹åº”çš„ç§é’¥æ‰èƒ½è§£å¯†ã€‚
éå¯¹ç§°åŠ å¯†ç®—æ³•çš„ç‰¹ç‚¹ï¼š
ï‚· ç®—æ³•å¼ºåº¦å¤æ‚</p>
<h5 id="-åŠ å¯†è§£å¯†é€Ÿåº¦æ²¡æœ‰å¯¹ç§°å¯†é’¥ç®—æ³•çš„é€Ÿåº¦å¿«">ï‚· åŠ å¯†è§£å¯†é€Ÿåº¦æ²¡æœ‰å¯¹ç§°å¯†é’¥ç®—æ³•çš„é€Ÿåº¦å¿«</h5>
<h5 id="ç»å…¸åº”ç”¨åœºæ™¯æ•°å­—ç­¾åå…¬é’¥åŠ å¯†ç§é’¥éªŒè¯">ç»å…¸åº”ç”¨åœºæ™¯ï¼šæ•°å­—ç­¾åï¼ˆå…¬é’¥åŠ å¯†ï¼Œç§é’¥éªŒè¯ï¼‰</h5>
<pre tabindex="0"><code>å¸¸ç”¨çš„ç®—æ³•ï¼š RSA .Elgamal.èƒŒåŒ…ç®—æ³•.Rabin.D-H.ECCï¼ˆæ¤­åœ†æ›²çº¿åŠ å¯†ç®—æ³•ï¼‰ã€‚
</code></pre><ol start="11">
<li>
<ol start="4">
<li>
<ol start="4">
<li>4 æ•°å­—ç­¾å</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>æ•°å­—ç­¾åï¼ˆåˆç§°å…¬é’¥æ•°å­—ç­¾åï¼‰æ˜¯ä¸€ç§ç±»ä¼¼å†™åœ¨çº¸ä¸Šçš„æ™®é€šçš„ç‰©ç†ç­¾åï¼Œ
æ˜¯ä½¿ç”¨äº†å…¬é’¥åŠ å¯†é¢†åŸŸçš„æŠ€æœ¯å®ç°ï¼Œç”¨äºé‰´åˆ«æ•°å­—ä¿¡æ¯çš„æ–¹æ³•ã€‚
æ•°å­—ç­¾åé€šå¸¸ä½¿ç”¨ç§é’¥ç”Ÿæˆç­¾åï¼Œä½¿ç”¨å…¬é’¥éªŒè¯ç­¾åã€‚
<strong>ç­¾ååŠéªŒè¯è¿‡ç¨‹ï¼š</strong></p>
<ol>
<li>å‘é€æ–¹ç”¨ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ï¼ˆä¾‹å¦‚MD 5 ï¼‰ä»æŠ¥æ–‡æ–‡æœ¬ä¸­ç”ŸæˆæŠ¥æ–‡æ‘˜
è¦,ç„¶åç”¨è‡ªå·±çš„ç§é’¥å¯¹è¿™ä¸ªæ‘˜è¦è¿›è¡ŒåŠ å¯†</li>
<li>å°†åŠ å¯†åçš„æ‘˜è¦ä½œä¸ºæŠ¥æ–‡çš„æ•°å­—ç­¾åå’ŒæŠ¥æ–‡ä¸€èµ·å‘é€ç»™æ¥æ”¶æ–¹</li>
<li>æ¥æ”¶æ–¹ç”¨ä¸å‘é€æ–¹ä¸€æ ·çš„å“ˆå¸Œå‡½æ•°ä»æ¥æ”¶åˆ°çš„åŸå§‹æŠ¥æ–‡ä¸­è®¡ç®—
å‡ºæŠ¥æ–‡æ‘˜è¦ï¼Œ</li>
<li>æ¥æ”¶æ–¹å†ç”¨å‘é€æ–¹çš„å…¬ç”¨å¯†é’¥æ¥å¯¹æŠ¥æ–‡é™„åŠ çš„æ•°å­—ç­¾åè¿›è¡Œè§£
å¯†</li>
<li>å¦‚æœè¿™ä¸¤ä¸ªæ‘˜è¦ç›¸åŒ.æ¥æ”¶æ–¹å°±èƒ½ç¡®è®¤è¯¥æ•°å­—ç­¾åæ˜¯å‘é€æ–¹çš„ã€‚
æ•°å­—ç­¾åéªŒè¯çš„ä¸¤ä¸ªä½œç”¨ï¼š
ï‚· ç¡®å®šæ¶ˆæ¯ç¡®å®æ˜¯ç”±å‘é€æ–¹ç­¾åå¹¶å‘å‡ºæ¥çš„
ï‚· ç¡®å®šæ¶ˆæ¯çš„å®Œæ•´æ€§</li>
</ol>
<h3 id="11-4-5-æ¶ˆæ¯é€šçŸ¥å¿…ä¼š">11 4 5 æ¶ˆæ¯é€šçŸ¥ï¼ˆå¿…ä¼šï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="5">
<li>1 æ¶ˆæ¯é€šçŸ¥çš„ä¸šåŠ¡åœºæ™¯</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>æ¶ˆæ¯é€šçŸ¥å¾®æœåŠ¡çš„å®šä½æ˜¯â€œå¹³å°å†…â€çš„â€œæ¶ˆæ¯â€åŠŸèƒ½ï¼Œåˆ†ä¸ºå…¨å‘˜æ¶ˆæ¯ï¼Œè®¢é˜…
ç±»æ¶ˆæ¯ï¼Œç‚¹å¯¹ç‚¹æ¶ˆæ¯ã€‚ä¾‹å¦‚ç³»ç»Ÿé€šçŸ¥ï¼Œç§ä¿¡ï¼Œ@ç±»æ¶ˆæ¯
<strong>å…¨å‘˜æ¶ˆæ¯</strong>
ç³»ç»Ÿé€šçŸ¥ï¼Œæ´»åŠ¨é€šçŸ¥ï¼Œç®¡ç†å‘˜å…¬å‘Šç­‰å…¨éƒ¨ç”¨æˆ·éƒ½ä¼šæ”¶åˆ°çš„æ¶ˆæ¯
<strong>è®¢é˜…ç±»æ¶ˆæ¯</strong>
å…³æ³¨æŸä¸€ç±»æ•°æ®çš„ç”¨æˆ·ï¼Œè¯¥ç±»æ•°æ®æœ‰æ›´æ–°æ—¶å‘ç”¨æˆ·å‘é€çš„æ¶ˆæ¯ã€‚ä¾‹å¦‚å…³æ³¨æŸ
ä½å¤§vçš„å¾®åšï¼Œå…¬ä¼—å·ï¼Œè®¢é˜…æŸä½çŸ¥åä½œå®¶çš„ä¸“æ 
<strong>ç‚¹å¯¹ç‚¹æ¶ˆæ¯</strong>
æŸä½ç”¨æˆ·å¯¹å¦å¤–ä¸€ä½ç”¨æˆ·è¿›è¡Œæ“ä½œåï¼Œç³»ç»Ÿå‘è¢«æ“ä½œçš„ç”¨æˆ·å‘é€çš„æ¶ˆæ¯ã€‚ä¾‹
å¦‚ç‚¹èµï¼Œå‘çº¢åŒ…ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="5">
<li>2 æ¶ˆæ¯é€šçŸ¥ä¸å³æ—¶é€šè®¯çš„åŒºåˆ«</li>
</ol>
</li>
</ol>
</li>
<li>
<ol start="4">
<li>
<ol start="5">
<li>3 æ¶ˆæ¯é€šçŸ¥å­˜åœ¨çš„é—®é¢˜</li>
</ol>
</li>
</ol>
</li>
<li>
<ol start="4">
<li>
<ol start="5">
<li>
<ol start="3">
<li>1 æ•°æ®åº“è®¿é—®å‹åŠ›å¤§</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>ç”¨æˆ·çš„é€šçŸ¥æ¶ˆæ¯å’Œæ–°é€šçŸ¥æé†’æ•°æ®éƒ½æ”¾åœ¨æ•°æ®åº“ä¸­ï¼Œæ•°æ®åº“çš„è¯»å†™æ“ä½œé¢‘
ç¹ï¼Œå°¤å…¶æ˜¯tb_notice_refreshè¡¨ï¼Œè®¿é—®å‹åŠ›å¤§ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="5">
<li>
<ol start="3">
<li>2 æœåŠ¡å™¨æ€§èƒ½å‹åŠ›å¤§</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>é‡‡ç”¨é¡µé¢è½®è¯¢è°ƒæ¥å£çš„æ–¹å¼å®ç°æœåŠ¡å™¨å‘ç”¨æˆ·æ¨é€æ¶ˆæ¯é€šçŸ¥ï¼ŒæœåŠ¡å™¨çš„æ¥å£
è®¿é—®å‹åŠ›å¤§ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="5">
<li>
<ol start="3">
<li>3 æ”¹è¿›çš„æ–¹æ³•</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>ä½¿ç”¨ rabbitmq å®ç°æ–°æ¶ˆæ¯æé†’æ•°æ®çš„ç¼“å­˜åŠŸèƒ½ï¼Œæ›¿ä»£tb_notice_refreshè¡¨
ä½¿ç”¨å…¨åŒå·¥é•¿è¿æ¥çš„æ–¹å¼å®ç°æœåŠ¡å™¨å‘ç”¨æˆ·æ¨é€æœ€æ–°çš„æ¶ˆæ¯é€šçŸ¥ï¼Œæ›¿æ¢è½®è¯¢</p>
<ul>
<li>é¡µé¢ä½¿ç”¨websocket
<ul>
<li>å¾®æœåŠ¡ç«¯ä½¿ç”¨å¼‚æ­¥é«˜æ€§èƒ½æ¡†æ¶netty</li>
</ul>
</li>
</ul>
<h3 id="11-4-6-redisåˆ†å¸ƒå¼ç¼“å­˜å¿…ä¼šé«˜è–ªå¸¸é—®">11 4 6 Redisåˆ†å¸ƒå¼ç¼“å­˜ï¼ˆå¿…ä¼šã€é«˜è–ªå¸¸é—®ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;</h3>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="6">
<li>1 Redisè¯»å†™åˆ†ç¦»</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>å•æœºRedisçš„è¯»å†™é€Ÿåº¦éå¸¸å¿«ï¼Œèƒ½å¤Ÿæ”¯æŒå¤§é‡ç”¨æˆ·çš„è®¿é—®ã€‚è™½ç„¶Redisçš„
æ€§èƒ½å¾ˆé«˜ï¼Œä½†æ˜¯å¯¹äºå¤§å‹ç½‘ç«™æ¥è¯´ï¼Œæ¯ç§’éœ€è¦è·å–çš„æ•°æ®è¿œè¿œè¶…è¿‡å•å°Redis
æœåŠ¡æ‰€èƒ½æ‰¿å—çš„å‹åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿«åˆ‡éœ€è¦ä¸€ç§æ–¹æ¡ˆèƒ½å¤Ÿè§£å†³å•å°RedisæœåŠ¡æ€§èƒ½
ä¸è¶³çš„é—®é¢˜ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="6">
<li>2 Redisæ€§èƒ½æµ‹è¯•</li>
</ol>
</li>
</ol>
</li>
<li>
<ol start="4">
<li>
<ol start="6">
<li>
<ol start="2">
<li>1 Redis-benchmark</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>Redis-benchmarkæ˜¯å®˜æ–¹è‡ªå¸¦çš„Redisæ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œç”¨æ¥æµ‹è¯•Redisåœ¨
å½“å‰ç¯å¢ƒä¸‹çš„è¯»å†™æ€§èƒ½ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨Redisçš„æ—¶å€™ï¼ŒæœåŠ¡å™¨çš„ç¡¬ä»¶é…ç½®.ç½‘ç»œçŠ¶
å†µ.æµ‹è¯•ç¯å¢ƒéƒ½ä¼šå¯¹Redisçš„æ€§èƒ½æœ‰æ‰€å½±å“ï¼Œæˆ‘ä»¬éœ€è¦å¯¹Rediså®æ—¶æµ‹è¯•ä»¥ç¡®å®š
Redisçš„å®é™…æ€§èƒ½ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="6">
<li>
<ol start="2">
<li>2 TPS.QPS.RT</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>å“åº”æ—¶é—´(RT)
å“åº”æ—¶é—´æ˜¯æŒ‡ç³»ç»Ÿå¯¹è¯·æ±‚ä½œå‡ºå“åº”çš„æ—¶é—´ã€‚
ç›´è§‚ä¸Šçœ‹ï¼Œè¿™ä¸ªæŒ‡æ ‡ä¸äººå¯¹è½¯ä»¶æ€§èƒ½çš„ä¸»è§‚æ„Ÿå—æ˜¯éå¸¸ä¸€è‡´çš„ï¼Œå› ä¸ºå®ƒå®Œæ•´
åœ°è®°å½•äº†æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿå¤„ç†è¯·æ±‚çš„æ—¶é—´ã€‚ç”±äºä¸€ä¸ªç³»ç»Ÿé€šå¸¸ä¼šæä¾›è®¸å¤šåŠŸèƒ½ï¼Œ
è€Œä¸åŒåŠŸèƒ½çš„ä¸šåŠ¡é€»è¾‘ä¹Ÿåƒå·®ä¸‡åˆ«ï¼Œå› è€Œä¸åŒåŠŸèƒ½çš„å“åº”æ—¶é—´ä¹Ÿä¸å°½ç›¸åŒã€‚
åœ¨è®¨è®ºä¸€ä¸ªç³»ç»Ÿçš„å“åº”æ—¶é—´æ—¶ï¼Œé€šå¸¸æ˜¯æŒ‡è¯¥ç³»ç»Ÿæ‰€æœ‰åŠŸèƒ½çš„å¹³å‡æ—¶é—´æˆ–è€…æ‰€
æœ‰åŠŸèƒ½çš„æœ€å¤§å“åº”æ—¶é—´ã€‚ååé‡TPSååé‡æ˜¯æŒ‡ç³»ç»Ÿåœ¨å•ä½æ—¶é—´å†…å¤„ç†è¯·æ±‚çš„
æ•°é‡ã€‚
å¯¹äºä¸€ä¸ªå¤šç”¨æˆ·çš„ç³»ç»Ÿï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªç”¨æˆ·ä½¿ç”¨æ—¶ç³»ç»Ÿçš„å¹³å‡å“åº”æ—¶é—´æ˜¯tï¼Œ
å½“æœ‰ä½ nä¸ªç”¨æˆ·ä½¿ç”¨æ—¶ï¼Œæ¯ä¸ªç”¨æˆ·çœ‹åˆ°çš„å“åº”æ—¶é—´é€šå¸¸å¹¶ä¸æ˜¯nÃ—tï¼Œè€Œå¾€å¾€æ¯”n
Ã—tå°å¾ˆå¤šã€‚è¿™æ˜¯å› ä¸ºåœ¨å¤„ç†å•ä¸ªè¯·æ±‚æ—¶ï¼Œåœ¨æ¯ä¸ªæ—¶é—´ç‚¹éƒ½å¯èƒ½æœ‰è®¸å¤šèµ„æºè¢«é—²
ç½®ï¼Œå½“å¤„ç†å¤šä¸ªè¯·æ±‚æ—¶ï¼Œå¦‚æœèµ„æºé…ç½®åˆç†ï¼Œæ¯ä¸ªç”¨æˆ·çœ‹åˆ°çš„å¹³å‡å“åº”æ—¶é—´å¹¶ä¸
éšç”¨æˆ·æ•°çš„å¢åŠ è€Œçº¿æ€§å¢åŠ ã€‚</p>
<h5 id="å®é™…ä¸Šä¸åŒç³»ç»Ÿçš„å¹³å‡å“åº”æ—¶é—´éšç”¨æˆ·æ•°å¢åŠ è€Œå¢é•¿çš„é€Ÿåº¦ä¹Ÿä¸å¤§ç›¸åŒ">å®é™…ä¸Šï¼Œä¸åŒç³»ç»Ÿçš„å¹³å‡å“åº”æ—¶é—´éšç”¨æˆ·æ•°å¢åŠ è€Œå¢é•¿çš„é€Ÿåº¦ä¹Ÿä¸å¤§ç›¸åŒï¼Œ</h5>
<h5 id="è¿™ä¹Ÿæ˜¯é‡‡ç”¨ååé‡æ¥åº¦é‡å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½çš„ä¸»è¦åŸå› ä¸€èˆ¬è€Œè¨€ååé‡æ˜¯ä¸€ä¸ª">è¿™ä¹Ÿæ˜¯é‡‡ç”¨ååé‡æ¥åº¦é‡å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½çš„ä¸»è¦åŸå› ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œååé‡æ˜¯ä¸€ä¸ª</h5>
<h5 id="æ¯”è¾ƒé€šç”¨çš„æŒ‡æ ‡ä¸¤ä¸ªå…·æœ‰ä¸åŒç”¨æˆ·æ•°å’Œç”¨æˆ·ä½¿ç”¨æ¨¡å¼çš„ç³»ç»Ÿå¦‚æœå…¶æœ€å¤§åå">æ¯”è¾ƒé€šç”¨çš„æŒ‡æ ‡ï¼Œä¸¤ä¸ªå…·æœ‰ä¸åŒç”¨æˆ·æ•°å’Œç”¨æˆ·ä½¿ç”¨æ¨¡å¼çš„ç³»ç»Ÿï¼Œå¦‚æœå…¶æœ€å¤§åå</h5>
<h5 id="é‡åŸºæœ¬ä¸€è‡´åˆ™å¯ä»¥åˆ¤æ–­ä¸¤ä¸ªç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›åŸºæœ¬ä¸€è‡´">é‡åŸºæœ¬ä¸€è‡´ï¼Œåˆ™å¯ä»¥åˆ¤æ–­ä¸¤ä¸ªç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›åŸºæœ¬ä¸€è‡´ã€‚</h5>
<h5 id="ä¸¾ä¾‹æ¥è¯´ç³»ç»Ÿèƒ½å¤„ç†çš„">ä¸¾ä¾‹æ¥è¯´ç³»ç»Ÿèƒ½å¤„ç†çš„</h5>
<h5 id="å¹¶å‘æ•°-100">å¹¶å‘æ•° 100</h5>
<p>å“åº”æ—¶é—´(RT) 100 ms
æ¯ç§’çš„TPS
ä¸€ä¸ªå¹¶å‘ï¼Œ 1 ç§’å°±æ˜¯ 1000 / 100 = 10 TPS
åä¸ªå¹¶å‘ï¼Œ 1 ç§’å°±æ˜¯ 1000 / 100 * 10 = 100 TPS
ç™¾ä¸ªå¹¶å‘ï¼Œ 1 ç§’å°±æ˜¯ 1000 / 100 * 100 = 1000 TPS
â€‹
ä»¥ä¸Šæ˜¯èµ„æºé…ç½®åˆç†çš„æƒ…å†µ
å¦‚æœç³»ç»Ÿèƒ½å¤„ç† 100 å¹¶å‘ï¼Œå´æœ‰ 200 ä¸ªå¹¶å‘è¯·æ±‚
1 ç§’å°±æ˜¯ 1000 /( 100 ä¹‹å‰çš„å“åº”æ—¶é—´+ç³»ç»Ÿå¤„ç†å¤šå‡ºçš„å¹¶å‘æ¶ˆè€—æ‰çš„æ—¶é—´
100 )* 100 = 500 TPS
â€‹
æ€»ç»“ï¼šååé‡å¿…ç„¶å’Œå½“å‰ç³»ç»Ÿæ˜¯å¦é…ç½®åˆç†æœ‰å…³ï¼Œè¶…è¿‡æœ€å¤§æ‰¿å—åï¼Œååé‡
ä¼šä¸‹é™ï¼Œç”Ÿæ´»ä¸­æƒ³æƒ³é¢å’Œå›­çš„å”®ç¥¨å¤„
æ¯ç§’æŸ¥è¯¢ç‡QPS
æ¯ç§’æŸ¥è¯¢ç‡QPSæ˜¯å¯¹ä¸€ä¸ªç‰¹å®šçš„æŸ¥è¯¢æœåŠ¡å™¨åœ¨è§„å®šæ—¶é—´å†…æ‰€å¤„ç†æµé‡
å¤šå°‘çš„è¡¡é‡æ ‡å‡†ï¼Œåœ¨äº’è”ç½‘ä¸­ï¼Œç»å¸¸ç”¨æ¯ç§’æŸ¥è¯¢ç‡æ¥è¡¡é‡æœåŠ¡å™¨çš„æ€§èƒ½ã€‚å¯¹åº”
fetches/secï¼Œå³æ¯ç§’çš„å“åº”è¯·æ±‚æ•°ï¼Œä¹Ÿå³æ˜¯æœ€å¤§ååèƒ½åŠ›ã€‚</p>
<h5 id="tpså’ŒqpsåŒºåˆ«">TPSå’ŒQPSåŒºåˆ«ï¼š</h5>
<p>TPSç‰µæ‰¯åˆ°ç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½ï¼Œå¦‚æœåªæ˜¯æƒ³äº†è§£Redisçš„æ€§èƒ½å°±ä¼šè¯¢é—®QPSä¸ç‰µ
æ‰¯ï¼Œç³»ç»Ÿæ¶æ„ï¼Œä¸šåŠ¡æ€§èƒ½ç­‰å› ç´ </p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="6">
<li>3 RedisåŒæ­¥åŸç†</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>Redisçš„ä¸»ä»å¤åˆ¶ï¼Œä¸»æœåŠ¡å™¨æ‰§è¡Œå†™æ“ä½œå‘½ä»¤ï¼Œä»æœåŠ¡å™¨ä¼šé€šè¿‡ä¸»æœåŠ¡å™¨çš„
æ•°æ®çš„å˜åŒ–ï¼ŒåŒæ­¥æ•°æ®åˆ°ä»æœåŠ¡å™¨ã€‚ä½†æ˜¯å¦‚æœä¸»æœåŠ¡å™¨ä¸‹çº¿ï¼Œä»æœåŠ¡å™¨æ— æ³•è¿æ¥
ä¸»æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæ•°æ®åŒæ­¥è¯¥å¦‚ä½•æ‹¿åˆ°ä¸èƒ½è¿æ¥ä¸»æœåŠ¡å™¨è¿™æ®µæ—¶é—´çš„å‘½ä»¤å‘¢ï¼Ÿ
ä¸»ä»å¤åˆ¶ä¸­çš„ä¸»ä»æœåŠ¡ï¨¸åŒæ–¹çš„æ•°æ®åº“å°†ä¿å­˜ç›¸åŒçš„æ•°æ®ï¼Œæ¦‚å¿µä¸Šå°†è¿™ç§ç°
è±¡ç§°ä½œæ•°æ®åº“çŠ¶æ€ä¸€è‡´ã€‚
Redisæ•°æ®åº“æŒä¹…åŒ–æœ‰ä¸¤ç§æ–¹å¼ï¼šRDBå…¨ï¥¾æŒä¹…åŒ–å’ŒAOFå¢é‡æŒä¹…åŒ–ã€‚
é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬çŸ¥é“Redisçš„ä¸»ä»å¤åˆ¶ï¼Œä¸»æœåŠ¡å™¨æ‰§è¡Œå†™æ“ä½œå‘½
ä»¤ï¼Œä»æœåŠ¡å™¨ä¼šé€šè¿‡ä¸»æœåŠ¡å™¨çš„æ•°æ®çš„å˜åŒ–ï¼ŒåŒæ­¥æ•°æ®åˆ°ä»æœåŠ¡å™¨ã€‚ä½†æ˜¯å¦‚æœä¸»
æœåŠ¡å™¨ä¸‹çº¿ï¼Œä»æœåŠ¡å™¨æ— æ³•è¿æ¥ä¸»æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæ•°æ®åŒæ­¥è¯¥å¦‚ä½•æ‹¿åˆ°ä¸èƒ½è¿æ¥ä¸»
æœåŠ¡å™¨è¿™æ®µæ—¶é—´çš„å‘½ä»¤å‘¢ï¼Ÿ
ä¸»ä»å¤åˆ¶ä¸­çš„ä¸»ä»æœåŠ¡ï¨¸åŒæ–¹çš„æ•°æ®åº“å°†ä¿å­˜ç›¸åŒçš„æ•°æ®ï¼Œæ¦‚å¿µä¸Šå°†è¿™
ç§ç°è±¡ç§°ä½œ <strong>æ•°æ®åº“çŠ¶æ€ä¸€è‡´</strong> ã€‚
Redisæ•°æ®åº“æŒä¹…åŒ–æœ‰ä¸¤ç§æ–¹å¼ï¼šRDBå…¨ï¥¾æŒä¹…åŒ–å’ŒAOFå¢é‡æŒä¹…åŒ–ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="6">
<li>4 Redisçš„é«˜å¯ç”¨Sentinel</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>é«˜å¯ç”¨æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„è®¾è®¡ä¸­å¿…é¡»è€ƒè™‘çš„å› ç´ ä¹‹ä¸€ï¼Œå®ƒæ˜¯é€šè¿‡æ¶æ„è®¾è®¡å‡
å°‘ç³»ç»Ÿï¥§èƒ½æä¾›æœåŠ¡çš„æ—¶é—´ã€‚ä¿è¯é«˜å¯ç”¨é€šå¸¸éµå¾ªä¸‹é¢å‡ ç‚¹ï¼š</p>
<h5 id="1-å•ç‚¹æ˜¯ç³»ç»Ÿé«˜å¯ç”¨çš„å¤§æ•Œåº”è¯¥å°½é‡åœ¨ç³»ç»Ÿè®¾è®¡çš„è¿‡ç¨‹ä¸­é¿å…å•ç‚¹">1. å•ç‚¹æ˜¯ç³»ç»Ÿé«˜å¯ç”¨çš„å¤§æ•Œï¼Œåº”è¯¥å°½é‡åœ¨ç³»ç»Ÿè®¾è®¡çš„è¿‡ç¨‹ä¸­é¿å…å•ç‚¹ã€‚</h5>
<h5 id="2-é€šè¿‡æ¶æ„è®¾è®¡è€Œä¿è¯ç³»ç»Ÿé«˜å¯ç”¨çš„å…¶æ ¸å¿ƒå‡†åˆ™æ˜¯å†—ä½™">2. é€šè¿‡æ¶æ„è®¾è®¡è€Œä¿è¯ç³»ç»Ÿé«˜å¯ç”¨çš„ï¼Œå…¶æ ¸å¿ƒå‡†åˆ™æ˜¯ï¼šå†—ä½™ã€‚</h5>
<h5 id="3-æ¯æ¬¡å‡ºç°æ•…éšœéœ€è¦äººå·¥ä»‹å…¥æ¢å¤ä¼šå¢åŠ ç³»ç»Ÿï¥§å¯ç”¨çš„æ—¶é—´å®ç°è‡ª">3. æ¯æ¬¡å‡ºç°æ•…éšœéœ€è¦äººå·¥ä»‹å…¥æ¢å¤ï¼Œä¼šå¢åŠ ç³»ç»Ÿï¥§å¯ç”¨çš„æ—¶é—´ï¼Œå®ç°è‡ª</h5>
<h5 id="åŠ¨æ•…éšœè½¬ç§»">åŠ¨æ•…éšœè½¬ç§»ã€‚</h5>
<h3 id="11-4-7-jucå¤šçº¿ç¨‹äº†è§£">11 4 7 JUCå¤šçº¿ç¨‹ï¼ˆäº†è§£ï¼‰&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</h3>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>1 è®¤è¯†å¤šçº¿ç¨‹</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>ä¸€ä¸ªé‡‡ç”¨äº†å¤šçº¿ç¨‹æŠ€æœ¯çš„åº”ç”¨ç¨‹åºå¯ä»¥æ›´å¥½åœ°åˆ©ç”¨ç³»ç»Ÿèµ„æºã€‚å…¶ä¸»è¦ä¼˜åŠ¿åœ¨
äºå……åˆ†åˆ©ç”¨äº†CPUçš„ç©ºé—²æ—¶é—´ç‰‡ï¼Œå¯ä»¥ç”¨å°½å¯èƒ½å°‘çš„æ—¶é—´æ¥å¯¹ç”¨æˆ·çš„è¦æ±‚åšå‡º
å“åº”ï¼Œä½¿å¾—è¿›ç¨‹çš„æ•´ä½“è¿è¡Œæ•ˆç‡å¾—åˆ°è¾ƒå¤§æé«˜ï¼ŒåŒæ—¶å¢å¼ºäº†åº”ç”¨ç¨‹åºçš„çµæ´»æ€§ã€‚
æ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œç”±äºåŒä¸€è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹æ˜¯å…±äº«åŒä¸€å†…å­˜ï¼Œæ‰€ä»¥ä¸éœ€è¦ç‰¹æ®Š
çš„æ•°æ®ä¼ é€æœºåˆ¶ï¼Œä¸éœ€è¦å»ºç«‹å…±äº«å­˜å‚¨åŒºæˆ–å…±äº«æ–‡ä»¶ï¼Œä»è€Œä½¿å¾—ä¸åŒä»»åŠ¡ä¹‹é—´çš„
åè°ƒæ“ä½œä¸è¿è¡Œ.æ•°æ®çš„äº¤äº’.èµ„æºçš„åˆ†é…ç­‰é—®é¢˜æ›´åŠ æ˜“äºè§£å†³ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>2 ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>è¿›ç¨‹å†…éƒ¨çš„ä¸€ä¸ªç‹¬ç«‹æ‰§è¡Œå•å…ƒï¼›ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶å¹¶å‘çš„è¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå¯
ä»¥ç†è§£ä¸ºä¸€ä¸ªè¿›ç¨‹ä¾¿ç›¸å½“äºä¸€ä¸ªå• CPU æ“ä½œç³»ç»Ÿï¼Œè€Œçº¿ç¨‹ä¾¿æ˜¯è¿™ä¸ªç³»ç»Ÿä¸­è¿è¡Œ
çš„å¤šä¸ªä»»åŠ¡ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>3 ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>æ˜¯æŒ‡ä¸€ä¸ªå†…å­˜ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œä¸€ä¸ª
åº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼›è¿›ç¨‹ä¹Ÿæ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿è¡Œç¨‹
åºçš„åŸºæœ¬å•ä½ï¼›ç³»ç»Ÿè¿è¡Œä¸€ä¸ªç¨‹åºå³æ˜¯ä¸€ä¸ªè¿›ç¨‹ä»åˆ›å»º.è¿è¡Œåˆ°æ¶ˆäº¡çš„è¿‡ç¨‹ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>4 è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>è¿›ç¨‹ï¼šæœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹ä¸­çš„æ•°æ®å­˜æ”¾ç©ºé—´ï¼ˆå †ç©ºé—´å’Œæ ˆç©ºé—´ï¼‰æ˜¯ç‹¬
ç«‹çš„ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚
çº¿ç¨‹ï¼šå †ç©ºé—´æ˜¯å…±äº«çš„ï¼Œæ ˆç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œçº¿ç¨‹æ¶ˆè€—çš„èµ„æºæ¯”è¿›ç¨‹å°çš„å¤šã€‚
æ³¨æ„ï¼š</p>
<ol>
<li>
<p>å› ä¸ºä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹æ˜¯å¹¶å‘è¿è¡Œçš„ï¼Œé‚£ä¹ˆä»å¾®è§‚è§’åº¦çœ‹ä¹Ÿ
æ˜¯æœ‰å…ˆåé¡ºåºçš„ï¼Œå“ªä¸ªçº¿ç¨‹æ‰§è¡Œå®Œå…¨å–å†³äº CPU çš„è°ƒåº¦ï¼Œç¨‹åºå‘˜æ˜¯ä¸èƒ½
å®Œå…¨æ§åˆ¶çš„ï¼ˆå¯ä»¥è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§,æœ‰é™åº¦çš„æ§åˆ¶é¡ºåºï¼‰ã€‚è€Œè¿™ä¹Ÿå°±é€ æˆ
çš„å¤šçº¿ç¨‹çš„éšæœºæ€§ã€‚</p>
</li>
<li>
<p>Javaç¨‹åºçš„è¿›ç¨‹é‡Œé¢è‡³å°‘åŒ…å«ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹ä¹Ÿå°±æ˜¯ main()
æ–¹æ³•çº¿ç¨‹ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯åƒåœ¾å›æ”¶æœºåˆ¶çº¿ç¨‹ã€‚æ¯ å½“ä½¿ç”¨ java å‘½ä»¤æ‰§è¡Œä¸€
ä¸ªç±»æ—¶ï¼Œå®é™…ä¸Šéƒ½ä¼šå¯åŠ¨ä¸€ä¸ª JVMï¼Œæ¯ä¸€ä¸ª JVM å®é™…ä¸Šå°±æ˜¯åœ¨æ“ä½œç³»
ç»Ÿä¸­å¯åŠ¨äº†ä¸€ä¸ª çº¿ç¨‹ï¼Œjava æœ¬èº«å…·å¤‡äº†åƒåœ¾çš„æ”¶é›†æœºåˆ¶ï¼Œæ‰€ä»¥åœ¨ Java
è¿è¡Œæ—¶è‡³å°‘ä¼šå¯åŠ¨ä¸¤ä¸ªçº¿ç¨‹ã€‚</p>
</li>
<li>
<p>ç”±äºåˆ›å»ºä¸€ä¸ªçº¿ç¨‹çš„å¼€é”€æ¯”åˆ›å»ºä¸€ä¸ªè¿›ç¨‹çš„å¼€é”€å°çš„å¤šï¼Œé‚£ä¹ˆæˆ‘
ä»¬åœ¨å¼€å‘å¤šä»»åŠ¡è¿è¡Œçš„æ—¶å€™ï¼Œé€šå¸¸è€ƒè™‘åˆ›å»º å¤šçº¿ç¨‹ï¼Œè€Œä¸æ˜¯åˆ›å»ºå¤šè¿›ç¨‹ã€‚</p>
</li>
<li>
<ol start="4">
<li>
<ol start="7">
<li>4 ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>çº¿ç¨‹å®‰å…¨é—®é¢˜éƒ½æ˜¯ç”±å…¨å±€å˜é‡åŠé™æ€å˜é‡å¼•èµ·çš„ã€‚è‹¥æ¯ä¸ªçº¿ç¨‹ä¸­å¯¹å…¨å±€å˜é‡.
é™æ€å˜é‡åªæœ‰è¯»æ“ä½œï¼Œè€Œæ— å†™ æ“ä½œï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªå…¨å±€å˜é‡æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›
è‹¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå†™æ“ä½œï¼Œä¸€èˆ¬éƒ½éœ€è¦è€ƒè™‘çº¿ç¨‹åŒæ­¥ï¼Œ å¦åˆ™çš„è¯å°±å¯èƒ½å½±
å“çº¿ç¨‹å®‰å…¨ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>5 ä»€ä¹ˆæ—¶å€™ä½¿ç”¨çº¿ç¨‹åŒæ­¥ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>å½“æˆ‘ä»¬ä½¿ç”¨å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€èµ„æºçš„æ—¶å€™ï¼Œä¸”å¤šä¸ªçº¿ç¨‹ä¸­å¯¹èµ„æºæœ‰å†™çš„æ“
ä½œï¼Œå°±å®¹æ˜“å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ è¦è§£å†³ä¸Šè¿°å¤šçº¿ç¨‹å¹¶å‘è®¿é—®ä¸€ä¸ªèµ„æºçš„å®‰å…¨é—®
é¢˜ï¼ŒJavaä¸­æä¾›äº†åŒæ­¥æœºåˆ¶(synchronized)æ¥è§£å†³ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>6 çº¿ç¨‹åŒæ­¥æœºåˆ¶æœ‰å“ªäº›ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>åŒæ­¥ä»£ç å—.åŒæ­¥æ–¹æ³•.locké”ç­‰ã€‚
</code></pre><ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>7 å¯¹æ­»é”çš„ç†è§£ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<pre tabindex="0"><code>å¤šçº¿ç¨‹æ­»é”ï¼šåŒæ­¥ä¸­åµŒå¥—åŒæ­¥,å¯¼è‡´é”æ— æ³•é‡Šæ”¾ã€‚
æ­»é”è§£å†³åŠæ³•ï¼šä¸è¦åœ¨åŒæ­¥ä¸­åµŒå¥—åŒæ­¥
</code></pre><ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>8 å¤šçº¿ç¨‹å¹¶å‘çš„ 3 ä¸ªç‰¹æ€§ï¼Ÿ</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>åŸå­æ€§ï¼Œå¯è§æ€§å’Œæœ‰åºæ€§ã€‚
åŸå­æ€§ï¼šå³ä¸€ä¸ªæ“ä½œæˆ–è€…å¤šä¸ªæ“ä½œ è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œå¹¶ä¸”æ‰§è¡Œçš„è¿‡ç¨‹ä¸ä¼šè¢«ä»»
ä½•å› ç´ æ‰“æ–­ï¼Œè¦ä¹ˆå°±éƒ½ä¸æ‰§è¡Œ</p>
<h5 id="å¯è§æ€§å½“å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼å…¶">å¯è§æ€§ï¼šå½“å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¿™ä¸ªå˜é‡çš„å€¼ï¼Œå…¶</h5>
<h5 id="ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³çœ‹å¾—åˆ°ä¿®æ”¹çš„å€¼">ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹å³çœ‹å¾—åˆ°ä¿®æ”¹çš„å€¼</h5>
<h5 id="æœ‰åºæ€§ç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œ">æœ‰åºæ€§ï¼šç¨‹åºæ‰§è¡Œçš„é¡ºåºæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºæ‰§è¡Œ</h5>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>9 é”ä¼˜åŒ–</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>synchronizedæ˜¯é‡é‡çº§é”ï¼Œæ•ˆç‡ä¸é«˜ã€‚ä½†åœ¨JDK 1. 6 ä¸­å¯¹synchronizeçš„
å®ç°è¿›è¡Œäº†å„ç§ä¼˜åŒ–ï¼Œä½¿å¾—å®ƒæ˜¾å¾—ä¸æ˜¯é‚£ä¹ˆé‡äº†ã€‚JDK 1. 6 å¯¹é”çš„å®ç°å¼•å…¥äº†å¤§
é‡çš„ä¼˜åŒ–ï¼Œå¦‚è‡ªæ—‹é”.é€‚åº”æ€§è‡ªæ—‹é”.é”æ¶ˆé™¤.é”ç²—åŒ–.åå‘é”.è½»é‡çº§é”ç­‰æŠ€æœ¯æ¥å‡
å°‘é”æ“ä½œçš„å¼€é”€ã€‚
é”ä¸»è¦å­˜åœ¨å››ç§çŠ¶æ€ï¼Œä¾æ¬¡æ˜¯ï¼šæ— é”çŠ¶æ€.åå‘é”çŠ¶æ€.è½»é‡çº§é”çŠ¶æ€.é‡
é‡çº§é”çŠ¶æ€ï¼Œä»–ä»¬ä¼šéšç€ç«äº‰çš„æ¿€çƒˆè€Œé€æ¸å‡çº§ã€‚
<strong>æ³¨æ„é”å¯ä»¥å‡çº§ä¸å¯é™çº§ï¼Œè¿™ç§ç­–ç•¥æ˜¯ä¸ºäº†æé«˜è·å¾—é”å’Œé‡Šæ”¾é”çš„æ•ˆç‡ã€‚</strong></p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>10 è‡ªæ—‹é”</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>çº¿ç¨‹çš„é˜»å¡å’Œå”¤é†’éœ€è¦CPUä»ç”¨æˆ·æ€è½¬ä¸ºæ ¸å¿ƒæ€ï¼Œé¢‘ç¹çš„é˜»å¡å’Œå”¤é†’å¯¹
CPUæ¥è¯´æ˜¯ä¸€ä»¶è´Ÿæ‹…å¾ˆé‡çš„å·¥ä½œï¼ŒåŠ¿å¿…ä¼šç»™ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½å¸¦æ¥å¾ˆå¤§çš„å‹åŠ›ã€‚
åŒæ—¶æˆ‘ä»¬å‘ç°åœ¨è®¸å¤šåº”ç”¨ä¸Šé¢ï¼Œå¯¹è±¡é”çš„é”çŠ¶æ€åªä¼šæŒç»­å¾ˆçŸ­ä¸€æ®µæ—¶é—´ï¼Œä¸ºäº†è¿™
ä¸€æ®µå¾ˆçŸ­çš„æ—¶é—´é¢‘ç¹åœ°é˜»å¡å’Œå”¤é†’çº¿ç¨‹æ˜¯éå¸¸ä¸å€¼å¾—çš„ã€‚æ‰€ä»¥å¼•å…¥è‡ªæ—‹é”ã€‚
æ‰€è°“è‡ªæ—‹é”ï¼Œå°±æ˜¯è®©è¯¥çº¿ç¨‹ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œä¸ä¼šè¢«ç«‹å³æŒ‚èµ·ï¼Œçœ‹æŒæœ‰é”
çš„çº¿ç¨‹æ˜¯å¦ä¼šå¾ˆå¿«é‡Šæ”¾é”ã€‚æ€ä¹ˆç­‰å¾…å‘¢ï¼Ÿæ‰§è¡Œä¸€æ®µæ— æ„ä¹‰çš„å¾ªç¯å³å¯ï¼ˆè‡ªæ—‹ï¼‰ã€‚
è‡ªæ—‹ç­‰å¾…ä¸èƒ½æ›¿ä»£é˜»å¡ï¼Œè™½ç„¶å®ƒå¯ä»¥é¿å…çº¿ç¨‹åˆ‡æ¢å¸¦æ¥çš„å¼€é”€ï¼Œä½†æ˜¯å®ƒ
å ç”¨äº†å¤„ç†å™¨çš„æ—¶é—´ã€‚å¦‚æœæŒæœ‰é”çš„çº¿ç¨‹å¾ˆå¿«å°±é‡Šæ”¾äº†é”ï¼Œé‚£ä¹ˆè‡ªæ—‹çš„æ•ˆç‡å°±é</p>
<h5 id="å¸¸å¥½åä¹‹è‡ªæ—‹çš„çº¿ç¨‹å°±ä¼šç™½ç™½æ¶ˆè€—æ‰å¤„ç†çš„èµ„æºå®ƒä¸ä¼šåšä»»ä½•æœ‰æ„ä¹‰çš„å·¥">å¸¸å¥½ï¼Œåä¹‹ï¼Œè‡ªæ—‹çš„çº¿ç¨‹å°±ä¼šç™½ç™½æ¶ˆè€—æ‰å¤„ç†çš„èµ„æºï¼Œå®ƒä¸ä¼šåšä»»ä½•æœ‰æ„ä¹‰çš„å·¥</h5>
<h5 id="ä½œå…¸å‹çš„å ç€èŒ…å‘ä¸æ‹‰å±è¿™æ ·åè€Œä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æµªè´¹æ‰€ä»¥è¯´è‡ªæ—‹ç­‰å¾…">ä½œï¼Œå…¸å‹çš„å ç€èŒ…å‘ä¸æ‹‰å±ï¼Œè¿™æ ·åè€Œä¼šå¸¦æ¥æ€§èƒ½ä¸Šçš„æµªè´¹ã€‚æ‰€ä»¥è¯´ï¼Œè‡ªæ—‹ç­‰å¾…</h5>
<h5 id="çš„æ—¶é—´è‡ªæ—‹çš„æ¬¡æ•°å¿…é¡»è¦æœ‰ä¸€ä¸ªé™åº¦å¦‚æœè‡ªæ—‹è¶…è¿‡äº†å®šä¹‰çš„æ—¶é—´ä»ç„¶æ²¡æœ‰">çš„æ—¶é—´ï¼ˆè‡ªæ—‹çš„æ¬¡æ•°ï¼‰å¿…é¡»è¦æœ‰ä¸€ä¸ªé™åº¦ï¼Œå¦‚æœè‡ªæ—‹è¶…è¿‡äº†å®šä¹‰çš„æ—¶é—´ä»ç„¶æ²¡æœ‰</h5>
<h5 id="è·å–åˆ°é”åˆ™åº”è¯¥è¢«æŒ‚èµ·">è·å–åˆ°é”ï¼Œåˆ™åº”è¯¥è¢«æŒ‚èµ·ã€‚</h5>
<h5 id="è‡ªæ—‹é”åœ¨jdk-1-4-2-ä¸­å¼•å…¥é»˜è®¤å…³é—­ä½†æ˜¯å¯ä»¥ä½¿ç”¨">è‡ªæ—‹é”åœ¨JDK 1. 4. 2 ä¸­å¼•å…¥ï¼Œé»˜è®¤å…³é—­ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨</h5>
<ul>
<li>XX:+UseSpinningå¼€å¼€å¯ï¼Œåœ¨JDK 1. 6 ä¸­é»˜è®¤å¼€å¯ã€‚åŒæ—¶è‡ªæ—‹çš„é»˜è®¤æ¬¡æ•°ä¸º 10
æ¬¡ï¼Œå¯ä»¥é€šè¿‡å‚æ•°-XX:PreBlockSpinæ¥è°ƒæ•´ï¼›
å¦‚æœé€šè¿‡å‚æ•°-XX:preBlockSpinæ¥è°ƒæ•´è‡ªæ—‹é”çš„è‡ªæ—‹æ¬¡æ•°ï¼Œä¼šå¸¦æ¥è¯¸å¤š
ä¸ä¾¿ã€‚å‡å¦‚æˆ‘å°†å‚æ•°è°ƒæ•´ä¸º 10 ï¼Œä½†æ˜¯ç³»ç»Ÿå¾ˆå¤šçº¿ç¨‹éƒ½æ˜¯ç­‰ä½ åˆšåˆšé€€å‡ºçš„æ—¶å€™å°±
é‡Šæ”¾äº†é”ï¼ˆå‡å¦‚ä½ å¤šè‡ªæ—‹ä¸€ä¸¤æ¬¡å°±å¯ä»¥è·å–é”ï¼‰ï¼Œä½ æ˜¯ä¸æ˜¯å¾ˆå°´å°¬ã€‚äºæ˜¯JDK 1. 6
å¼•å…¥è‡ªé€‚åº”çš„è‡ªæ—‹é”ï¼Œè®©è™šæ‹Ÿæœºä¼šå˜å¾—è¶Šæ¥è¶Šèªæ˜ã€‚</li>
</ul>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>11 é€‚åº”è‡ªæ—‹é”</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>JDK 1. 6 å¼•å…¥äº†æ›´åŠ èªæ˜çš„è‡ªæ—‹é”ï¼Œå³è‡ªé€‚åº”è‡ªæ—‹é”ã€‚æ‰€è°“è‡ªé€‚åº”å°±æ„
å‘³ç€è‡ªæ—‹çš„æ¬¡æ•°ä¸å†æ˜¯å›ºå®šçš„ï¼Œå®ƒæ˜¯ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´åŠé”çš„æ‹¥
æœ‰è€…çš„çŠ¶æ€æ¥å†³å®šã€‚å®ƒæ€ä¹ˆåšå‘¢ï¼Ÿçº¿ç¨‹å¦‚æœè‡ªæ—‹æˆåŠŸäº†ï¼Œé‚£ä¹ˆä¸‹æ¬¡è‡ªæ—‹çš„æ¬¡æ•°ä¼š
æ›´åŠ å¤šï¼Œå› ä¸ºè™šæ‹Ÿæœºè®¤ä¸ºæ—¢ç„¶ä¸Šæ¬¡æˆåŠŸäº†ï¼Œé‚£ä¹ˆæ­¤æ¬¡è‡ªæ—‹ä¹Ÿå¾ˆæœ‰å¯èƒ½ä¼šå†æ¬¡æˆåŠŸï¼Œ
é‚£ä¹ˆå®ƒå°±ä¼šå…è®¸è‡ªæ—‹ç­‰å¾…æŒç»­çš„æ¬¡æ•°æ›´å¤šã€‚åä¹‹ï¼Œå¦‚æœå¯¹äºæŸä¸ªé”ï¼Œå¾ˆå°‘æœ‰è‡ªæ—‹
èƒ½å¤ŸæˆåŠŸçš„ï¼Œé‚£ä¹ˆåœ¨ä»¥åè¦æˆ–è€…è¿™ä¸ªé”çš„æ—¶å€™è‡ªæ—‹çš„æ¬¡æ•°ä¼šå‡å°‘ç”šè‡³çœç•¥æ‰è‡ªæ—‹
è¿‡ç¨‹ï¼Œä»¥å…æµªè´¹å¤„ç†å™¨èµ„æºã€‚
æœ‰äº†è‡ªé€‚åº”è‡ªæ—‹é”ï¼Œéšç€ç¨‹åºè¿è¡Œå’Œæ€§èƒ½ç›‘æ§ä¿¡æ¯çš„ä¸æ–­å®Œå–„ï¼Œè™šæ‹Ÿæœºå¯¹ç¨‹
åºé”çš„çŠ¶å†µé¢„æµ‹ä¼šè¶Šæ¥è¶Šå‡†ç¡®ï¼Œè™šæ‹Ÿæœºä¼šå˜å¾—è¶Šæ¥è¶Šèªæ˜ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>12 é”æ¶ˆé™¤</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>ä¸ºäº†ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œæ“ä½œæ—¶éœ€è¦å¯¹è¿™éƒ¨åˆ†æ“ä½œè¿›è¡ŒåŒæ­¥
æ§åˆ¶ï¼Œä½†æ˜¯åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼ŒJVMæ£€æµ‹åˆ°ä¸å¯èƒ½å­˜åœ¨å…±äº«æ•°æ®ç«äº‰ï¼Œè¿™æ˜¯JVMä¼š
å¯¹è¿™äº›åŒæ­¥é”è¿›è¡Œé”æ¶ˆé™¤ã€‚é”æ¶ˆé™¤çš„ä¾æ®æ˜¯é€ƒé€¸åˆ†æçš„æ•°æ®æ”¯æŒã€‚
å¦‚æœä¸å­˜åœ¨ç«äº‰ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦åŠ é”å‘¢ï¼Ÿæ‰€ä»¥é”æ¶ˆé™¤å¯ä»¥èŠ‚çœæ¯«æ— æ„ä¹‰
çš„è¯·æ±‚é”çš„æ—¶é—´ã€‚å˜é‡æ˜¯å¦é€ƒé€¸ï¼Œå¯¹äºè™šæ‹Ÿæœºæ¥è¯´éœ€è¦ä½¿ç”¨æ•°æ®æµåˆ†ææ¥ç¡®å®šï¼Œ
ä½†æ˜¯å¯¹äºæˆ‘ä»¬ç¨‹åºå‘˜æ¥è¯´è¿™è¿˜ä¸æ¸…æ¥šä¹ˆï¼Ÿæˆ‘ä»¬ä¼šåœ¨æ˜æ˜çŸ¥é“ä¸å­˜åœ¨æ•°æ®ç«äº‰çš„
ä»£ç å—å‰åŠ ä¸ŠåŒæ­¥å—ï¼Ÿä½†æ˜¯æœ‰æ—¶å€™ç¨‹åºå¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€æƒ³çš„é‚£æ ·ï¼Ÿæˆ‘ä»¬è™½ç„¶æ²¡æœ‰
æ˜¾ç¤ºä½¿ç”¨é”ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨ä¸€äº›JDKçš„å†…ç½®APIæ—¶ï¼Œå¦‚
StringBuffer.Vector.HashTableç­‰ï¼Œè¿™ä¸ªæ—¶å€™ä¼šå­˜åœ¨éšå½¢çš„åŠ é”æ“ä½œã€‚æ¯”å¦‚
StringBufferçš„append()æ–¹æ³•ï¼ŒVectorçš„add()æ–¹æ³•ï¼š</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>13 é”ç²—åŒ–</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>åœ¨ä½¿ç”¨åŒæ­¥é”çš„æ—¶å€™ï¼Œéœ€è¦è®©åŒæ­¥å—çš„ä½œç”¨èŒƒå›´å°½å¯èƒ½å°ï¼Œä»…åœ¨å…±äº«æ•°
æ®çš„å®é™…ä½œç”¨åŸŸä¸­æ‰è¿›è¡ŒåŒæ­¥ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ä½¿éœ€è¦åŒæ­¥çš„æ“ä½œé‡å°½å¯èƒ½
ç¼©å°ï¼Œå¦‚æœå­˜åœ¨é”ç«äº‰ï¼Œé‚£ä¹ˆç­‰å¾…é”çš„çº¿ç¨‹ä¹Ÿèƒ½å°½å¿«æ‹¿åˆ°é”ã€‚
åœ¨å¤§å¤šæ•°çš„æƒ…å†µä¸‹ï¼Œä¸Šè¿°è§‚ç‚¹æ˜¯æ­£ç¡®çš„ã€‚ä½†æ˜¯å¦‚æœä¸€ç³»åˆ—çš„è¿ç»­åŠ é”è§£
é”æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦çš„æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥å¼•å…¥é”ç²—åŒ–çš„æ¦‚å¿µã€‚
é”ç²—è¯æ¦‚å¿µæ¯”è¾ƒå¥½ç†è§£ï¼Œå°±æ˜¯å°†å¤šä¸ªè¿ç»­çš„åŠ é”.è§£é”æ“ä½œè¿æ¥åœ¨ä¸€èµ·ï¼Œ
æ‰©å±•æˆä¸€ä¸ªèŒƒå›´æ›´å¤§çš„é”ã€‚å¦‚ä¸Šé¢å®ä¾‹ï¼švectoræ¯æ¬¡addçš„æ—¶å€™éƒ½éœ€è¦åŠ é”æ“
ä½œï¼ŒJVMæ£€æµ‹åˆ°å¯¹åŒä¸€ä¸ªå¯¹è±¡ï¼ˆvectorï¼‰è¿ç»­åŠ é”.è§£é”æ“ä½œï¼Œä¼šåˆå¹¶ä¸€ä¸ªæ›´å¤§
èŒƒå›´çš„åŠ é”.è§£é”æ“ä½œï¼Œå³åŠ é”è§£é”æ“ä½œä¼šç§»åˆ°forå¾ªç¯ä¹‹å¤–ã€‚</p>
<ol start="11">
<li>
<ol start="4">
<li>
<ol start="7">
<li>14 åå‘é”
è½»é‡çº§é”çš„åŠ é”è§£é”æ“ä½œæ˜¯éœ€è¦ä¾èµ–å¤šæ¬¡CASåŸå­æŒ‡ä»¤çš„ã€‚è€Œåå‘é”åª
éœ€è¦æ£€æŸ¥æ˜¯å¦ä¸ºåå‘é”.é”æ ‡è¯†ä¸ºä»¥åŠThreadIDå³å¯ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦çš„CAS
æ“ä½œã€‚</li>
</ol>
</li>
</ol>
</li>
<li>
<ol start="4">
<li>
<ol start="7">
<li>15 è½»é‡çº§é”
å¼•å…¥è½»é‡çº§é”çš„ä¸»è¦ç›®çš„æ˜¯åœ¨æ²¡æœ‰å¤šçº¿ç¨‹ç«äº‰çš„å‰æä¸‹ï¼Œå‡å°‘ä¼ ç»Ÿçš„é‡
é‡çº§é”ä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—ã€‚å½“å…³é—­åå‘é”åŠŸèƒ½æˆ–è€…å¤šä¸ªçº¿ç¨‹ç«
äº‰åå‘é”å¯¼è‡´åå‘é”å‡çº§ä¸ºè½»é‡çº§é”ï¼Œåˆ™ä¼šå°è¯•è·å–è½»é‡çº§é”ã€‚è½»é‡çº§é”ä¸»è¦ä½¿
ç”¨CASè¿›è¡ŒåŸå­æ“ä½œã€‚
ä½†æ˜¯å¯¹äºè½»é‡çº§é”ï¼Œå…¶æ€§èƒ½æå‡çš„ä¾æ®æ˜¯â€œå¯¹äºç»å¤§éƒ¨åˆ†çš„é”ï¼Œåœ¨æ•´ä¸ª
ç”Ÿå‘½å‘¨æœŸå†…éƒ½æ˜¯ä¸ä¼šå­˜åœ¨ç«äº‰çš„â€ï¼Œå¦‚æœæ‰“ç ´è¿™ä¸ªä¾æ®åˆ™é™¤äº†äº’æ–¥çš„å¼€é”€å¤–ï¼Œè¿˜
æœ‰é¢å¤–çš„CASæ“ä½œï¼Œå› æ­¤åœ¨æœ‰å¤šçº¿ç¨‹ç«äº‰çš„æƒ…å†µä¸‹ï¼Œè½»é‡çº§é”æ¯”é‡é‡çº§é”æ›´æ…¢ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>
<ol start="4">
<li>
<ol start="7">
<li>16 é‡é‡é”
é‡é‡çº§é”é€šè¿‡å¯¹è±¡å†…éƒ¨çš„ç›‘è§†å™¨ï¼ˆmonitorï¼‰å®ç°ï¼Œå…¶ä¸­monitorçš„æœ¬
è´¨æ˜¯ä¾èµ–äºåº•å±‚æ“ä½œç³»ç»Ÿçš„MutexLockï¼ˆäº’æ–¥é”ï¼‰å®ç°ï¼Œæ“ä½œç³»ç»Ÿå®ç°çº¿ç¨‹ä¹‹
é—´çš„åˆ‡æ¢éœ€è¦ä»ç”¨æˆ·æ€åˆ°å†…æ ¸æ€çš„åˆ‡æ¢ï¼Œåˆ‡æ¢æˆæœ¬éå¸¸é«˜ã€‚</li>
</ol>
</li>
</ol>
</li>
</ol>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/java/">java</a>
        
            <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">é¢è¯•é¢˜</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/post/cacheconsistencyissues/">
        
        
            <div class="article-image">
                <img src="/post/cacheconsistencyissues/1.094bfee94778b5fc9ae8b37048553593_hu5e034b6e55d7fb3e70f8b9599cb4e80f_521165_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å¯¹è±¡ç¼“å­˜ï¼šç¼“å­˜ä¸€è‡´æ€§é—®é¢˜"
                        
                        data-hash="md5-CUv&#43;6Ud4tfya6LNwSFU1kw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å¯¹è±¡ç¼“å­˜ï¼šç¼“å­˜ä¸€è‡´æ€§é—®é¢˜</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/javacollectioncontainerinterviewquestions/">
        
        
            <div class="article-image">
                <img src="/post/javacollectioncontainerinterviewquestions/1.c3814bb71638f22312a61264c2f19514_hu453799ef81e36c9b33c0260d17039d5c_702958_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 02Javaé›†åˆå®¹å™¨é¢è¯•é¢˜"
                        
                        data-hash="md5-w4FLtxY48iMSphJkwvGVFA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">02Javaé›†åˆå®¹å™¨é¢è¯•é¢˜</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/javabasicinterviewquestions/">
        
        
            <div class="article-image">
                <img src="/post/javabasicinterviewquestions/1.ae1534f0d4bfabf22439a078d55b457e_huc00eae3e0c0cdf78883d3bab0896d007_546568_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 01JavaåŸºç¡€çŸ¥è¯†é¢è¯•é¢˜"
                        
                        data-hash="md5-rhU08NS/q/IkOaB41VtFfg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">01JavaåŸºç¡€çŸ¥è¯†é¢è¯•é¢˜</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/pagecachebythymelaefviewresolver/">
        
        
            <div class="article-image">
                <img src="/post/pagecachebythymelaefviewresolver/1.9e41d385e3016b1c7b8c513085bea608_hu1b7e29d306bb64b66f5e9fa19812dd6f_713543_250x150_fill_q75_box_smart1.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post é¡µé¢ç¼“å­˜ï¼šé€šè¿‡ThymeleafViewResolverå®ç°é¡µé¢ç¼“å­˜"
                        
                        data-hash="md5-nkHTheMBaxx7jFEwhb6mCA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">é¡µé¢ç¼“å­˜ï¼šé€šè¿‡ThymeleafViewResolverå®ç°é¡µé¢ç¼“å­˜</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/handlermethodargumentresolver/">
        
        
            <div class="article-image">
                <img src="/post/handlermethodargumentresolver/1.4cd00ce36727e1b2aef6c250c35f5743_huade970bab143261c9dc0e5174569794b_669800_250x150_fill_box_smart1_3.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post è‡ªå®šä¹‰å‚æ•°è§£æå™¨ï¼Œé€šè¿‡SpringMVCè‡ªåŠ¨æ³¨å…¥ï¼Œåˆ¤æ–­é¢‘ç¹éªŒè¯é—®é¢˜ï¼å¦‚ï¼šç”¨æˆ·æ˜¯å¦ç™»å½•é—®é¢˜"
                        
                        data-hash="md5-TNAM42cn4bKu9sJQw19XQw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">è‡ªå®šä¹‰å‚æ•°è§£æå™¨ï¼Œé€šè¿‡SpringMVCè‡ªåŠ¨æ³¨å…¥ï¼Œåˆ¤æ–­é¢‘ç¹éªŒè¯é—®é¢˜ï¼å¦‚ï¼šç”¨æˆ·æ˜¯å¦ç™»å½•é—®é¢˜</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2023 Cheney Site
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.17.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

<script
    src="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/js/ribbon.min.js"
    integrity="sha384-UEK8ZiP3VgFNP8KnKMKDmd4pAUAOJ59Y2Jo3ED2Z5qKQf6HLHovMxq7Beb9CLPUe"
    crossorigin="anonymous"
    size="300"
    alpha="0.6"
    zindex="-1"
    defer
></script>

<script
    src="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/js/nprogress.min.js"
    integrity="sha384-bHDlAEUFxsRI7JfULv3DTpL2IXbbgn4JHQJibgo5iiXSK6Iu8muwqHANhun74Cqg"
    crossorigin="anonymous"
></script>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/css/nprogress.css"
    integrity="sha384-KJyhr2syt5+4M9Pz5dipCvTrtvOmLk/olWVdfhAp858UCa64Ia5GFpTN7+G4BWpE"
    crossorigin="anonymous"
/>
<script>
    NProgress.start();
    document.addEventListener("readystatechange", () => {
        if (document.readyState === "interactive") NProgress.inc(0.8);
        if (document.readyState === "complete") NProgress.done();
    });
</script>
    </body>
</html>
